(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
'use strict';
var token = '%[a-f0-9]{2}';
var singleMatcher = new RegExp(token, 'gi');
var multiMatcher = new RegExp('(' + token + ')+', 'gi');

function decodeComponents(components, split) {
	try {
		// Try to decode the entire string first
		return decodeURIComponent(components.join(''));
	} catch (err) {
		// Do nothing
	}

	if (components.length === 1) {
		return components;
	}

	split = split || 1;

	// Split the array in 2 parts
	var left = components.slice(0, split);
	var right = components.slice(split);

	return Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));
}

function decode(input) {
	try {
		return decodeURIComponent(input);
	} catch (err) {
		var tokens = input.match(singleMatcher);

		for (var i = 1; i < tokens.length; i++) {
			input = decodeComponents(tokens, i).join('');

			tokens = input.match(singleMatcher);
		}

		return input;
	}
}

function customDecodeURIComponent(input) {
	// Keep track of all the replacements and prefill the map with the `BOM`
	var replaceMap = {
		'%FE%FF': '\uFFFD\uFFFD',
		'%FF%FE': '\uFFFD\uFFFD'
	};

	var match = multiMatcher.exec(input);
	while (match) {
		try {
			// Decode as big chunks as possible
			replaceMap[match[0]] = decodeURIComponent(match[0]);
		} catch (err) {
			var result = decode(match[0]);

			if (result !== match[0]) {
				replaceMap[match[0]] = result;
			}
		}

		match = multiMatcher.exec(input);
	}

	// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else
	replaceMap['%C2'] = '\uFFFD';

	var entries = Object.keys(replaceMap);

	for (var i = 0; i < entries.length; i++) {
		// Replace all decoded components
		var key = entries[i];
		input = input.replace(new RegExp(key, 'g'), replaceMap[key]);
	}

	return input;
}

module.exports = function (encodedURI) {
	if (typeof encodedURI !== 'string') {
		throw new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');
	}

	try {
		encodedURI = encodedURI.replace(/\+/g, ' ');

		// Try the built in decoder first
		return decodeURIComponent(encodedURI);
	} catch (err) {
		// Fallback to a more advanced decoder
		return customDecodeURIComponent(encodedURI);
	}
};

},{}],2:[function(require,module,exports){
"use strict"

function handleDrop(callback, event) {
  event.stopPropagation()
  event.preventDefault()
  callback(Array.prototype.slice.call(event.dataTransfer.files))
}

function killEvent(e) {
  e.stopPropagation()
  e.preventDefault()
  return false
}

function addDragDropListener(element, callback) {
  element.addEventListener("dragenter", killEvent, false)
  element.addEventListener("dragover", killEvent, false)
  element.addEventListener("drop", handleDrop.bind(undefined, callback), false)
}

module.exports = addDragDropListener
},{}],3:[function(require,module,exports){
'use strict';
const strictUriEncode = require('strict-uri-encode');
const decodeComponent = require('decode-uri-component');
const splitOnFirst = require('split-on-first');

function encoderForArrayFormat(options) {
	switch (options.arrayFormat) {
		case 'index':
			return key => (result, value) => {
				const index = result.length;
				if (value === undefined) {
					return result;
				}

				if (value === null) {
					return [...result, [encode(key, options), '[', index, ']'].join('')];
				}

				return [
					...result,
					[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')
				];
			};

		case 'bracket':
			return key => (result, value) => {
				if (value === undefined) {
					return result;
				}

				if (value === null) {
					return [...result, [encode(key, options), '[]'].join('')];
				}

				return [...result, [encode(key, options), '[]=', encode(value, options)].join('')];
			};

		case 'comma':
			return key => (result, value, index) => {
				if (value === null || value === undefined || value.length === 0) {
					return result;
				}

				if (index === 0) {
					return [[encode(key, options), '=', encode(value, options)].join('')];
				}

				return [[result, encode(value, options)].join(',')];
			};

		default:
			return key => (result, value) => {
				if (value === undefined) {
					return result;
				}

				if (value === null) {
					return [...result, encode(key, options)];
				}

				return [...result, [encode(key, options), '=', encode(value, options)].join('')];
			};
	}
}

function parserForArrayFormat(options) {
	let result;

	switch (options.arrayFormat) {
		case 'index':
			return (key, value, accumulator) => {
				result = /\[(\d*)\]$/.exec(key);

				key = key.replace(/\[\d*\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				}

				if (accumulator[key] === undefined) {
					accumulator[key] = {};
				}

				accumulator[key][result[1]] = value;
			};

		case 'bracket':
			return (key, value, accumulator) => {
				result = /(\[\])$/.exec(key);
				key = key.replace(/\[\]$/, '');

				if (!result) {
					accumulator[key] = value;
					return;
				}

				if (accumulator[key] === undefined) {
					accumulator[key] = [value];
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};

		case 'comma':
			return (key, value, accumulator) => {
				const isArray = typeof value === 'string' && value.split('').indexOf(',') > -1;
				const newValue = isArray ? value.split(',') : value;
				accumulator[key] = newValue;
			};

		default:
			return (key, value, accumulator) => {
				if (accumulator[key] === undefined) {
					accumulator[key] = value;
					return;
				}

				accumulator[key] = [].concat(accumulator[key], value);
			};
	}
}

function encode(value, options) {
	if (options.encode) {
		return options.strict ? strictUriEncode(value) : encodeURIComponent(value);
	}

	return value;
}

function decode(value, options) {
	if (options.decode) {
		return decodeComponent(value);
	}

	return value;
}

function keysSorter(input) {
	if (Array.isArray(input)) {
		return input.sort();
	}

	if (typeof input === 'object') {
		return keysSorter(Object.keys(input))
			.sort((a, b) => Number(a) - Number(b))
			.map(key => input[key]);
	}

	return input;
}

function removeHash(input) {
	const hashStart = input.indexOf('#');
	if (hashStart !== -1) {
		input = input.slice(0, hashStart);
	}

	return input;
}

function extract(input) {
	input = removeHash(input);
	const queryStart = input.indexOf('?');
	if (queryStart === -1) {
		return '';
	}

	return input.slice(queryStart + 1);
}

function parse(input, options) {
	options = Object.assign({
		decode: true,
		sort: true,
		arrayFormat: 'none',
		parseNumbers: false,
		parseBooleans: false
	}, options);

	const formatter = parserForArrayFormat(options);

	// Create an object with no prototype
	const ret = Object.create(null);

	if (typeof input !== 'string') {
		return ret;
	}

	input = input.trim().replace(/^[?#&]/, '');

	if (!input) {
		return ret;
	}

	for (const param of input.split('&')) {
		let [key, value] = splitOnFirst(param.replace(/\+/g, ' '), '=');

		// Missing `=` should be `null`:
		// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters
		value = value === undefined ? null : decode(value, options);

		if (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {
			value = Number(value);
		} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {
			value = value.toLowerCase() === 'true';
		}

		formatter(decode(key, options), value, ret);
	}

	if (options.sort === false) {
		return ret;
	}

	return (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {
		const value = ret[key];
		if (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {
			// Sort object keys, not values
			result[key] = keysSorter(value);
		} else {
			result[key] = value;
		}

		return result;
	}, Object.create(null));
}

exports.extract = extract;
exports.parse = parse;

exports.stringify = (object, options) => {
	if (!object) {
		return '';
	}

	options = Object.assign({
		encode: true,
		strict: true,
		arrayFormat: 'none'
	}, options);

	const formatter = encoderForArrayFormat(options);
	const keys = Object.keys(object);

	if (options.sort !== false) {
		keys.sort(options.sort);
	}

	return keys.map(key => {
		const value = object[key];

		if (value === undefined) {
			return '';
		}

		if (value === null) {
			return encode(key, options);
		}

		if (Array.isArray(value)) {
			return value
				.reduce(formatter(key), [])
				.join('&');
		}

		return encode(key, options) + '=' + encode(value, options);
	}).filter(x => x.length > 0).join('&');
};

exports.parseUrl = (input, options) => {
	return {
		url: removeHash(input).split('?')[0] || '',
		query: parse(extract(input), options)
	};
};

},{"decode-uri-component":1,"split-on-first":4,"strict-uri-encode":5}],4:[function(require,module,exports){
'use strict';

module.exports = (string, separator) => {
	if (!(typeof string === 'string' && typeof separator === 'string')) {
		throw new TypeError('Expected the arguments to be of type `string`');
	}

	if (separator === '') {
		return [string];
	}

	const separatorIndex = string.indexOf(separator);

	if (separatorIndex === -1) {
		return [string];
	}

	return [
		string.slice(0, separatorIndex),
		string.slice(separatorIndex + separator.length)
	];
};

},{}],5:[function(require,module,exports){
'use strict';
module.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);

},{}],6:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var internal = require('../internal');

/*
Adapted from https://github.com/mattdesl
Distributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md
*/
function backInOut(t) {
    const s = 1.70158 * 1.525;
    if ((t *= 2) < 1)
        return 0.5 * (t * t * ((s + 1) * t - s));
    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);
}
function backIn(t) {
    const s = 1.70158;
    return t * t * ((s + 1) * t - s);
}
function backOut(t) {
    const s = 1.70158;
    return --t * t * ((s + 1) * t + s) + 1;
}
function bounceOut(t) {
    const a = 4.0 / 11.0;
    const b = 8.0 / 11.0;
    const c = 9.0 / 10.0;
    const ca = 4356.0 / 361.0;
    const cb = 35442.0 / 1805.0;
    const cc = 16061.0 / 1805.0;
    const t2 = t * t;
    return t < a
        ? 7.5625 * t2
        : t < b
            ? 9.075 * t2 - 9.9 * t + 3.4
            : t < c
                ? ca * t2 - cb * t + cc
                : 10.8 * t * t - 20.52 * t + 10.72;
}
function bounceInOut(t) {
    return t < 0.5
        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))
        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;
}
function bounceIn(t) {
    return 1.0 - bounceOut(1.0 - t);
}
function circInOut(t) {
    if ((t *= 2) < 1)
        return -0.5 * (Math.sqrt(1 - t * t) - 1);
    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);
}
function circIn(t) {
    return 1.0 - Math.sqrt(1.0 - t * t);
}
function circOut(t) {
    return Math.sqrt(1 - --t * t);
}
function cubicInOut(t) {
    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;
}
function cubicIn(t) {
    return t * t * t;
}
function cubicOut(t) {
    const f = t - 1.0;
    return f * f * f + 1.0;
}
function elasticInOut(t) {
    return t < 0.5
        ? 0.5 *
            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *
            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))
        : 0.5 *
            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *
            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +
            1.0;
}
function elasticIn(t) {
    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));
}
function elasticOut(t) {
    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);
}
function expoInOut(t) {
    return t === 0.0 || t === 1.0
        ? t
        : t < 0.5
            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)
            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;
}
function expoIn(t) {
    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));
}
function expoOut(t) {
    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);
}
function quadInOut(t) {
    t /= 0.5;
    if (t < 1)
        return 0.5 * t * t;
    t--;
    return -0.5 * (t * (t - 2) - 1);
}
function quadIn(t) {
    return t * t;
}
function quadOut(t) {
    return -t * (t - 2.0);
}
function quartInOut(t) {
    return t < 0.5
        ? +8.0 * Math.pow(t, 4.0)
        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;
}
function quartIn(t) {
    return Math.pow(t, 4.0);
}
function quartOut(t) {
    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;
}
function quintInOut(t) {
    if ((t *= 2) < 1)
        return 0.5 * t * t * t * t * t;
    return 0.5 * ((t -= 2) * t * t * t * t + 2);
}
function quintIn(t) {
    return t * t * t * t * t;
}
function quintOut(t) {
    return --t * t * t * t * t + 1;
}
function sineInOut(t) {
    return -0.5 * (Math.cos(Math.PI * t) - 1);
}
function sineIn(t) {
    const v = Math.cos(t * Math.PI * 0.5);
    if (Math.abs(v) < 1e-14)
        return 1;
    else
        return 1 - v;
}
function sineOut(t) {
    return Math.sin((t * Math.PI) / 2);
}

Object.defineProperty(exports, 'linear', {
	enumerable: true,
	get: function () {
		return internal.identity;
	}
});
exports.backIn = backIn;
exports.backInOut = backInOut;
exports.backOut = backOut;
exports.bounceIn = bounceIn;
exports.bounceInOut = bounceInOut;
exports.bounceOut = bounceOut;
exports.circIn = circIn;
exports.circInOut = circInOut;
exports.circOut = circOut;
exports.cubicIn = cubicIn;
exports.cubicInOut = cubicInOut;
exports.cubicOut = cubicOut;
exports.elasticIn = elasticIn;
exports.elasticInOut = elasticInOut;
exports.elasticOut = elasticOut;
exports.expoIn = expoIn;
exports.expoInOut = expoInOut;
exports.expoOut = expoOut;
exports.quadIn = quadIn;
exports.quadInOut = quadInOut;
exports.quadOut = quadOut;
exports.quartIn = quartIn;
exports.quartInOut = quartInOut;
exports.quartOut = quartOut;
exports.quintIn = quintIn;
exports.quintInOut = quintInOut;
exports.quintOut = quintOut;
exports.sineIn = sineIn;
exports.sineInOut = sineInOut;
exports.sineOut = sineOut;

},{"../internal":8}],7:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var internal = require('./internal');



Object.defineProperty(exports, 'afterUpdate', {
	enumerable: true,
	get: function () {
		return internal.afterUpdate;
	}
});
Object.defineProperty(exports, 'beforeUpdate', {
	enumerable: true,
	get: function () {
		return internal.beforeUpdate;
	}
});
Object.defineProperty(exports, 'createEventDispatcher', {
	enumerable: true,
	get: function () {
		return internal.createEventDispatcher;
	}
});
Object.defineProperty(exports, 'getContext', {
	enumerable: true,
	get: function () {
		return internal.getContext;
	}
});
Object.defineProperty(exports, 'onDestroy', {
	enumerable: true,
	get: function () {
		return internal.onDestroy;
	}
});
Object.defineProperty(exports, 'onMount', {
	enumerable: true,
	get: function () {
		return internal.onMount;
	}
});
Object.defineProperty(exports, 'setContext', {
	enumerable: true,
	get: function () {
		return internal.setContext;
	}
});
Object.defineProperty(exports, 'tick', {
	enumerable: true,
	get: function () {
		return internal.tick;
	}
});

},{"./internal":8}],8:[function(require,module,exports){
(function (global){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

function noop() { }
const identity = x => x;
function assign(tar, src) {
    // @ts-ignore
    for (const k in src)
        tar[k] = src[k];
    return tar;
}
function is_promise(value) {
    return value && typeof value === 'object' && typeof value.then === 'function';
}
function add_location(element, file, line, column, char) {
    element.__svelte_meta = {
        loc: { file, line, column, char }
    };
}
function run(fn) {
    return fn();
}
function blank_object() {
    return Object.create(null);
}
function run_all(fns) {
    fns.forEach(run);
}
function is_function(thing) {
    return typeof thing === 'function';
}
function safe_not_equal(a, b) {
    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');
}
function not_equal(a, b) {
    return a != a ? b == b : a !== b;
}
function validate_store(store, name) {
    if (!store || typeof store.subscribe !== 'function') {
        throw new Error(`'${name}' is not a store with a 'subscribe' method`);
    }
}
function subscribe(store, callback) {
    const unsub = store.subscribe(callback);
    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;
}
function get_store_value(store) {
    let value;
    subscribe(store, _ => value = _)();
    return value;
}
function component_subscribe(component, store, callback) {
    component.$$.on_destroy.push(subscribe(store, callback));
}
function create_slot(definition, ctx, fn) {
    if (definition) {
        const slot_ctx = get_slot_context(definition, ctx, fn);
        return definition[0](slot_ctx);
    }
}
function get_slot_context(definition, ctx, fn) {
    return definition[1]
        ? assign({}, assign(ctx.$$scope.ctx, definition[1](fn ? fn(ctx) : {})))
        : ctx.$$scope.ctx;
}
function get_slot_changes(definition, ctx, changed, fn) {
    return definition[1]
        ? assign({}, assign(ctx.$$scope.changed || {}, definition[1](fn ? fn(changed) : {})))
        : ctx.$$scope.changed || {};
}
function exclude_internal_props(props) {
    const result = {};
    for (const k in props)
        if (k[0] !== '$')
            result[k] = props[k];
    return result;
}
function once(fn) {
    let ran = false;
    return function (...args) {
        if (ran)
            return;
        ran = true;
        fn.call(this, ...args);
    };
}
function null_to_empty(value) {
    return value == null ? '' : value;
}

const is_client = typeof window !== 'undefined';
exports.now = is_client
    ? () => window.performance.now()
    : () => Date.now();
exports.raf = is_client ? cb => requestAnimationFrame(cb) : noop;
// used internally for testing
function set_now(fn) {
    exports.now = fn;
}
function set_raf(fn) {
    exports.raf = fn;
}

const tasks = new Set();
let running = false;
function run_tasks() {
    tasks.forEach(task => {
        if (!task[0](exports.now())) {
            tasks.delete(task);
            task[1]();
        }
    });
    running = tasks.size > 0;
    if (running)
        exports.raf(run_tasks);
}
function clear_loops() {
    // for testing...
    tasks.forEach(task => tasks.delete(task));
    running = false;
}
function loop(fn) {
    let task;
    if (!running) {
        running = true;
        exports.raf(run_tasks);
    }
    return {
        promise: new Promise(fulfil => {
            tasks.add(task = [fn, fulfil]);
        }),
        abort() {
            tasks.delete(task);
        }
    };
}

function append(target, node) {
    target.appendChild(node);
}
function insert(target, node, anchor) {
    target.insertBefore(node, anchor || null);
}
function detach(node) {
    node.parentNode.removeChild(node);
}
function destroy_each(iterations, detaching) {
    for (let i = 0; i < iterations.length; i += 1) {
        if (iterations[i])
            iterations[i].d(detaching);
    }
}
function element(name) {
    return document.createElement(name);
}
function object_without_properties(obj, exclude) {
    // eslint-disable-next-line @typescript-eslint/no-object-literal-type-assertion
    const target = {};
    for (const k in obj) {
        if (Object.prototype.hasOwnProperty.call(obj, k)
            // @ts-ignore
            && exclude.indexOf(k) === -1) {
            // @ts-ignore
            target[k] = obj[k];
        }
    }
    return target;
}
function svg_element(name) {
    return document.createElementNS('http://www.w3.org/2000/svg', name);
}
function text(data) {
    return document.createTextNode(data);
}
function space() {
    return text(' ');
}
function empty() {
    return text('');
}
function listen(node, event, handler, options) {
    node.addEventListener(event, handler, options);
    return () => node.removeEventListener(event, handler, options);
}
function prevent_default(fn) {
    return function (event) {
        event.preventDefault();
        // @ts-ignore
        return fn.call(this, event);
    };
}
function stop_propagation(fn) {
    return function (event) {
        event.stopPropagation();
        // @ts-ignore
        return fn.call(this, event);
    };
}
function attr(node, attribute, value) {
    if (value == null)
        node.removeAttribute(attribute);
    else
        node.setAttribute(attribute, value);
}
function set_attributes(node, attributes) {
    for (const key in attributes) {
        if (key === 'style') {
            node.style.cssText = attributes[key];
        }
        else if (key in node) {
            node[key] = attributes[key];
        }
        else {
            attr(node, key, attributes[key]);
        }
    }
}
function set_custom_element_data(node, prop, value) {
    if (prop in node) {
        node[prop] = value;
    }
    else {
        attr(node, prop, value);
    }
}
function xlink_attr(node, attribute, value) {
    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);
}
function get_binding_group_value(group) {
    const value = [];
    for (let i = 0; i < group.length; i += 1) {
        if (group[i].checked)
            value.push(group[i].__value);
    }
    return value;
}
function to_number(value) {
    return value === '' ? undefined : +value;
}
function time_ranges_to_array(ranges) {
    const array = [];
    for (let i = 0; i < ranges.length; i += 1) {
        array.push({ start: ranges.start(i), end: ranges.end(i) });
    }
    return array;
}
function children(element) {
    return Array.from(element.childNodes);
}
function claim_element(nodes, name, attributes, svg) {
    for (let i = 0; i < nodes.length; i += 1) {
        const node = nodes[i];
        if (node.nodeName === name) {
            for (let j = 0; j < node.attributes.length; j += 1) {
                const attribute = node.attributes[j];
                if (!attributes[attribute.name])
                    node.removeAttribute(attribute.name);
            }
            return nodes.splice(i, 1)[0]; // TODO strip unwanted attributes
        }
    }
    return svg ? svg_element(name) : element(name);
}
function claim_text(nodes, data) {
    for (let i = 0; i < nodes.length; i += 1) {
        const node = nodes[i];
        if (node.nodeType === 3) {
            node.data = data;
            return nodes.splice(i, 1)[0];
        }
    }
    return text(data);
}
function set_data(text, data) {
    data = '' + data;
    if (text.data !== data)
        text.data = data;
}
function set_input_type(input, type) {
    try {
        input.type = type;
    }
    catch (e) {
        // do nothing
    }
}
function set_style(node, key, value) {
    node.style.setProperty(key, value);
}
function select_option(select, value) {
    for (let i = 0; i < select.options.length; i += 1) {
        const option = select.options[i];
        if (option.__value === value) {
            option.selected = true;
            return;
        }
    }
}
function select_options(select, value) {
    for (let i = 0; i < select.options.length; i += 1) {
        const option = select.options[i];
        option.selected = ~value.indexOf(option.__value);
    }
}
function select_value(select) {
    const selected_option = select.querySelector(':checked') || select.options[0];
    return selected_option && selected_option.__value;
}
function select_multiple_value(select) {
    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);
}
function add_resize_listener(element, fn) {
    if (getComputedStyle(element).position === 'static') {
        element.style.position = 'relative';
    }
    const object = document.createElement('object');
    object.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; pointer-events: none; z-index: -1;');
    object.type = 'text/html';
    object.tabIndex = -1;
    let win;
    object.onload = () => {
        win = object.contentDocument.defaultView;
        win.addEventListener('resize', fn);
    };
    if (/Trident/.test(navigator.userAgent)) {
        element.appendChild(object);
        object.data = 'about:blank';
    }
    else {
        object.data = 'about:blank';
        element.appendChild(object);
    }
    return {
        cancel: () => {
            win && win.removeEventListener && win.removeEventListener('resize', fn);
            element.removeChild(object);
        }
    };
}
function toggle_class(element, name, toggle) {
    element.classList[toggle ? 'add' : 'remove'](name);
}
function custom_event(type, detail) {
    const e = document.createEvent('CustomEvent');
    e.initCustomEvent(type, false, false, detail);
    return e;
}
class HtmlTag {
    constructor(html, anchor = null) {
        this.e = element('div');
        this.a = anchor;
        this.u(html);
    }
    m(target, anchor = null) {
        for (let i = 0; i < this.n.length; i += 1) {
            insert(target, this.n[i], anchor);
        }
        this.t = target;
    }
    u(html) {
        this.e.innerHTML = html;
        this.n = Array.from(this.e.childNodes);
    }
    p(html) {
        this.d();
        this.u(html);
        this.m(this.t, this.a);
    }
    d() {
        this.n.forEach(detach);
    }
}

let stylesheet;
let active = 0;
let current_rules = {};
// https://github.com/darkskyapp/string-hash/blob/master/index.js
function hash(str) {
    let hash = 5381;
    let i = str.length;
    while (i--)
        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);
    return hash >>> 0;
}
function create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {
    const step = 16.666 / duration;
    let keyframes = '{\n';
    for (let p = 0; p <= 1; p += step) {
        const t = a + (b - a) * ease(p);
        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\n`;
    }
    const rule = keyframes + `100% {${fn(b, 1 - b)}}\n}`;
    const name = `__svelte_${hash(rule)}_${uid}`;
    if (!current_rules[name]) {
        if (!stylesheet) {
            const style = element('style');
            document.head.appendChild(style);
            stylesheet = style.sheet;
        }
        current_rules[name] = true;
        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);
    }
    const animation = node.style.animation || '';
    node.style.animation = `${animation ? `${animation}, ` : ``}${name} ${duration}ms linear ${delay}ms 1 both`;
    active += 1;
    return name;
}
function delete_rule(node, name) {
    node.style.animation = (node.style.animation || '')
        .split(', ')
        .filter(name
        ? anim => anim.indexOf(name) < 0 // remove specific animation
        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations
    )
        .join(', ');
    if (name && !--active)
        clear_rules();
}
function clear_rules() {
    exports.raf(() => {
        if (active)
            return;
        let i = stylesheet.cssRules.length;
        while (i--)
            stylesheet.deleteRule(i);
        current_rules = {};
    });
}

function create_animation(node, from, fn, params) {
    if (!from)
        return noop;
    const to = node.getBoundingClientRect();
    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)
        return noop;
    const { delay = 0, duration = 300, easing = identity, 
    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?
    start: start_time = exports.now() + delay, 
    // @ts-ignore todo:
    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);
    let running = true;
    let started = false;
    let name;
    function start() {
        if (css) {
            name = create_rule(node, 0, 1, duration, delay, easing, css);
        }
        if (!delay) {
            started = true;
        }
    }
    function stop() {
        if (css)
            delete_rule(node, name);
        running = false;
    }
    loop(now => {
        if (!started && now >= start_time) {
            started = true;
        }
        if (started && now >= end) {
            tick(1, 0);
            stop();
        }
        if (!running) {
            return false;
        }
        if (started) {
            const p = now - start_time;
            const t = 0 + 1 * easing(p / duration);
            tick(t, 1 - t);
        }
        return true;
    });
    start();
    tick(0, 1);
    return stop;
}
function fix_position(node) {
    const style = getComputedStyle(node);
    if (style.position !== 'absolute' && style.position !== 'fixed') {
        const { width, height } = style;
        const a = node.getBoundingClientRect();
        node.style.position = 'absolute';
        node.style.width = width;
        node.style.height = height;
        add_transform(node, a);
    }
}
function add_transform(node, a) {
    const b = node.getBoundingClientRect();
    if (a.left !== b.left || a.top !== b.top) {
        const style = getComputedStyle(node);
        const transform = style.transform === 'none' ? '' : style.transform;
        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;
    }
}

function set_current_component(component) {
    exports.current_component = component;
}
function get_current_component() {
    if (!exports.current_component)
        throw new Error(`Function called outside component initialization`);
    return exports.current_component;
}
function beforeUpdate(fn) {
    get_current_component().$$.before_update.push(fn);
}
function onMount(fn) {
    get_current_component().$$.on_mount.push(fn);
}
function afterUpdate(fn) {
    get_current_component().$$.after_update.push(fn);
}
function onDestroy(fn) {
    get_current_component().$$.on_destroy.push(fn);
}
function createEventDispatcher() {
    const component = exports.current_component;
    return (type, detail) => {
        const callbacks = component.$$.callbacks[type];
        if (callbacks) {
            // TODO are there situations where events could be dispatched
            // in a server (non-DOM) environment?
            const event = custom_event(type, detail);
            callbacks.slice().forEach(fn => {
                fn.call(component, event);
            });
        }
    };
}
function setContext(key, context) {
    get_current_component().$$.context.set(key, context);
}
function getContext(key) {
    return get_current_component().$$.context.get(key);
}
// TODO figure out if we still want to support
// shorthand events, or if we want to implement
// a real bubbling mechanism
function bubble(component, event) {
    const callbacks = component.$$.callbacks[event.type];
    if (callbacks) {
        callbacks.slice().forEach(fn => fn(event));
    }
}

const dirty_components = [];
const intros = { enabled: false };
const binding_callbacks = [];
const render_callbacks = [];
const flush_callbacks = [];
const resolved_promise = Promise.resolve();
let update_scheduled = false;
function schedule_update() {
    if (!update_scheduled) {
        update_scheduled = true;
        resolved_promise.then(flush);
    }
}
function tick() {
    schedule_update();
    return resolved_promise;
}
function add_render_callback(fn) {
    render_callbacks.push(fn);
}
function add_flush_callback(fn) {
    flush_callbacks.push(fn);
}
function flush() {
    const seen_callbacks = new Set();
    do {
        // first, call beforeUpdate functions
        // and update components
        while (dirty_components.length) {
            const component = dirty_components.shift();
            set_current_component(component);
            update(component.$$);
        }
        while (binding_callbacks.length)
            binding_callbacks.pop()();
        // then, once components are updated, call
        // afterUpdate functions. This may cause
        // subsequent updates...
        for (let i = 0; i < render_callbacks.length; i += 1) {
            const callback = render_callbacks[i];
            if (!seen_callbacks.has(callback)) {
                callback();
                // ...so guard against infinite loops
                seen_callbacks.add(callback);
            }
        }
        render_callbacks.length = 0;
    } while (dirty_components.length);
    while (flush_callbacks.length) {
        flush_callbacks.pop()();
    }
    update_scheduled = false;
}
function update($$) {
    if ($$.fragment) {
        $$.update($$.dirty);
        run_all($$.before_update);
        $$.fragment.p($$.dirty, $$.ctx);
        $$.dirty = null;
        $$.after_update.forEach(add_render_callback);
    }
}

let promise;
function wait() {
    if (!promise) {
        promise = Promise.resolve();
        promise.then(() => {
            promise = null;
        });
    }
    return promise;
}
function dispatch(node, direction, kind) {
    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));
}
const outroing = new Set();
let outros;
function group_outros() {
    outros = {
        r: 0,
        c: [],
        p: outros // parent group
    };
}
function check_outros() {
    if (!outros.r) {
        run_all(outros.c);
    }
    outros = outros.p;
}
function transition_in(block, local) {
    if (block && block.i) {
        outroing.delete(block);
        block.i(local);
    }
}
function transition_out(block, local, detach, callback) {
    if (block && block.o) {
        if (outroing.has(block))
            return;
        outroing.add(block);
        outros.c.push(() => {
            outroing.delete(block);
            if (callback) {
                if (detach)
                    block.d(1);
                callback();
            }
        });
        block.o(local);
    }
}
const null_transition = { duration: 0 };
function create_in_transition(node, fn, params) {
    let config = fn(node, params);
    let running = false;
    let animation_name;
    let task;
    let uid = 0;
    function cleanup() {
        if (animation_name)
            delete_rule(node, animation_name);
    }
    function go() {
        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;
        if (css)
            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);
        tick(0, 1);
        const start_time = exports.now() + delay;
        const end_time = start_time + duration;
        if (task)
            task.abort();
        running = true;
        add_render_callback(() => dispatch(node, true, 'start'));
        task = loop(now => {
            if (running) {
                if (now >= end_time) {
                    tick(1, 0);
                    dispatch(node, true, 'end');
                    cleanup();
                    return running = false;
                }
                if (now >= start_time) {
                    const t = easing((now - start_time) / duration);
                    tick(t, 1 - t);
                }
            }
            return running;
        });
    }
    let started = false;
    return {
        start() {
            if (started)
                return;
            delete_rule(node);
            if (is_function(config)) {
                config = config();
                wait().then(go);
            }
            else {
                go();
            }
        },
        invalidate() {
            started = false;
        },
        end() {
            if (running) {
                cleanup();
                running = false;
            }
        }
    };
}
function create_out_transition(node, fn, params) {
    let config = fn(node, params);
    let running = true;
    let animation_name;
    const group = outros;
    group.r += 1;
    function go() {
        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;
        if (css)
            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);
        const start_time = exports.now() + delay;
        const end_time = start_time + duration;
        add_render_callback(() => dispatch(node, false, 'start'));
        loop(now => {
            if (running) {
                if (now >= end_time) {
                    tick(0, 1);
                    dispatch(node, false, 'end');
                    if (!--group.r) {
                        // this will result in `end()` being called,
                        // so we don't need to clean up here
                        run_all(group.c);
                    }
                    return false;
                }
                if (now >= start_time) {
                    const t = easing((now - start_time) / duration);
                    tick(1 - t, t);
                }
            }
            return running;
        });
    }
    if (is_function(config)) {
        wait().then(() => {
            // @ts-ignore
            config = config();
            go();
        });
    }
    else {
        go();
    }
    return {
        end(reset) {
            if (reset && config.tick) {
                config.tick(1, 0);
            }
            if (running) {
                if (animation_name)
                    delete_rule(node, animation_name);
                running = false;
            }
        }
    };
}
function create_bidirectional_transition(node, fn, params, intro) {
    let config = fn(node, params);
    let t = intro ? 0 : 1;
    let running_program = null;
    let pending_program = null;
    let animation_name = null;
    function clear_animation() {
        if (animation_name)
            delete_rule(node, animation_name);
    }
    function init(program, duration) {
        const d = program.b - t;
        duration *= Math.abs(d);
        return {
            a: t,
            b: program.b,
            d,
            duration,
            start: program.start,
            end: program.start + duration,
            group: program.group
        };
    }
    function go(b) {
        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;
        const program = {
            start: exports.now() + delay,
            b
        };
        if (!b) {
            // @ts-ignore todo: improve typings
            program.group = outros;
            outros.r += 1;
        }
        if (running_program) {
            pending_program = program;
        }
        else {
            // if this is an intro, and there's a delay, we need to do
            // an initial tick and/or apply CSS animation immediately
            if (css) {
                clear_animation();
                animation_name = create_rule(node, t, b, duration, delay, easing, css);
            }
            if (b)
                tick(0, 1);
            running_program = init(program, duration);
            add_render_callback(() => dispatch(node, b, 'start'));
            loop(now => {
                if (pending_program && now > pending_program.start) {
                    running_program = init(pending_program, duration);
                    pending_program = null;
                    dispatch(node, running_program.b, 'start');
                    if (css) {
                        clear_animation();
                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);
                    }
                }
                if (running_program) {
                    if (now >= running_program.end) {
                        tick(t = running_program.b, 1 - t);
                        dispatch(node, running_program.b, 'end');
                        if (!pending_program) {
                            // we're done
                            if (running_program.b) {
                                // intro — we can tidy up immediately
                                clear_animation();
                            }
                            else {
                                // outro — needs to be coordinated
                                if (!--running_program.group.r)
                                    run_all(running_program.group.c);
                            }
                        }
                        running_program = null;
                    }
                    else if (now >= running_program.start) {
                        const p = now - running_program.start;
                        t = running_program.a + running_program.d * easing(p / running_program.duration);
                        tick(t, 1 - t);
                    }
                }
                return !!(running_program || pending_program);
            });
        }
    }
    return {
        run(b) {
            if (is_function(config)) {
                wait().then(() => {
                    // @ts-ignore
                    config = config();
                    go(b);
                });
            }
            else {
                go(b);
            }
        },
        end() {
            clear_animation();
            running_program = pending_program = null;
        }
    };
}

function handle_promise(promise, info) {
    const token = info.token = {};
    function update(type, index, key, value) {
        if (info.token !== token)
            return;
        info.resolved = key && { [key]: value };
        const child_ctx = assign(assign({}, info.ctx), info.resolved);
        const block = type && (info.current = type)(child_ctx);
        if (info.block) {
            if (info.blocks) {
                info.blocks.forEach((block, i) => {
                    if (i !== index && block) {
                        group_outros();
                        transition_out(block, 1, 1, () => {
                            info.blocks[i] = null;
                        });
                        check_outros();
                    }
                });
            }
            else {
                info.block.d(1);
            }
            block.c();
            transition_in(block, 1);
            block.m(info.mount(), info.anchor);
            flush();
        }
        info.block = block;
        if (info.blocks)
            info.blocks[index] = block;
    }
    if (is_promise(promise)) {
        promise.then(value => {
            update(info.then, 1, info.value, value);
        }, error => {
            update(info.catch, 2, info.error, error);
        });
        // if we previously had a then/catch block, destroy it
        if (info.current !== info.pending) {
            update(info.pending, 0);
            return true;
        }
    }
    else {
        if (info.current !== info.then) {
            update(info.then, 1, info.value, promise);
            return true;
        }
        info.resolved = { [info.value]: promise };
    }
}

const globals = (typeof window !== 'undefined' ? window : global);

function destroy_block(block, lookup) {
    block.d(1);
    lookup.delete(block.key);
}
function outro_and_destroy_block(block, lookup) {
    transition_out(block, 1, 1, () => {
        lookup.delete(block.key);
    });
}
function fix_and_destroy_block(block, lookup) {
    block.f();
    destroy_block(block, lookup);
}
function fix_and_outro_and_destroy_block(block, lookup) {
    block.f();
    outro_and_destroy_block(block, lookup);
}
function update_keyed_each(old_blocks, changed, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {
    let o = old_blocks.length;
    let n = list.length;
    let i = o;
    const old_indexes = {};
    while (i--)
        old_indexes[old_blocks[i].key] = i;
    const new_blocks = [];
    const new_lookup = new Map();
    const deltas = new Map();
    i = n;
    while (i--) {
        const child_ctx = get_context(ctx, list, i);
        const key = get_key(child_ctx);
        let block = lookup.get(key);
        if (!block) {
            block = create_each_block(key, child_ctx);
            block.c();
        }
        else if (dynamic) {
            block.p(changed, child_ctx);
        }
        new_lookup.set(key, new_blocks[i] = block);
        if (key in old_indexes)
            deltas.set(key, Math.abs(i - old_indexes[key]));
    }
    const will_move = new Set();
    const did_move = new Set();
    function insert(block) {
        transition_in(block, 1);
        block.m(node, next);
        lookup.set(block.key, block);
        next = block.first;
        n--;
    }
    while (o && n) {
        const new_block = new_blocks[n - 1];
        const old_block = old_blocks[o - 1];
        const new_key = new_block.key;
        const old_key = old_block.key;
        if (new_block === old_block) {
            // do nothing
            next = new_block.first;
            o--;
            n--;
        }
        else if (!new_lookup.has(old_key)) {
            // remove old block
            destroy(old_block, lookup);
            o--;
        }
        else if (!lookup.has(new_key) || will_move.has(new_key)) {
            insert(new_block);
        }
        else if (did_move.has(old_key)) {
            o--;
        }
        else if (deltas.get(new_key) > deltas.get(old_key)) {
            did_move.add(new_key);
            insert(new_block);
        }
        else {
            will_move.add(old_key);
            o--;
        }
    }
    while (o--) {
        const old_block = old_blocks[o];
        if (!new_lookup.has(old_block.key))
            destroy(old_block, lookup);
    }
    while (n)
        insert(new_blocks[n - 1]);
    return new_blocks;
}
function measure(blocks) {
    const rects = {};
    let i = blocks.length;
    while (i--)
        rects[blocks[i].key] = blocks[i].node.getBoundingClientRect();
    return rects;
}

function get_spread_update(levels, updates) {
    const update = {};
    const to_null_out = {};
    const accounted_for = { $$scope: 1 };
    let i = levels.length;
    while (i--) {
        const o = levels[i];
        const n = updates[i];
        if (n) {
            for (const key in o) {
                if (!(key in n))
                    to_null_out[key] = 1;
            }
            for (const key in n) {
                if (!accounted_for[key]) {
                    update[key] = n[key];
                    accounted_for[key] = 1;
                }
            }
            levels[i] = n;
        }
        else {
            for (const key in o) {
                accounted_for[key] = 1;
            }
        }
    }
    for (const key in to_null_out) {
        if (!(key in update))
            update[key] = undefined;
    }
    return update;
}

const invalid_attribute_name_character = /[\s'">/=\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u;
// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2
// https://infra.spec.whatwg.org/#noncharacter
function spread(args) {
    const attributes = Object.assign({}, ...args);
    let str = '';
    Object.keys(attributes).forEach(name => {
        if (invalid_attribute_name_character.test(name))
            return;
        const value = attributes[name];
        if (value === undefined)
            return;
        if (value === true)
            str += " " + name;
        const escaped = String(value)
            .replace(/"/g, '&#34;')
            .replace(/'/g, '&#39;');
        str += " " + name + "=" + JSON.stringify(escaped);
    });
    return str;
}
const escaped = {
    '"': '&quot;',
    "'": '&#39;',
    '&': '&amp;',
    '<': '&lt;',
    '>': '&gt;'
};
function escape(html) {
    return String(html).replace(/["'&<>]/g, match => escaped[match]);
}
function each(items, fn) {
    let str = '';
    for (let i = 0; i < items.length; i += 1) {
        str += fn(items[i], i);
    }
    return str;
}
const missing_component = {
    $$render: () => ''
};
function validate_component(component, name) {
    if (!component || !component.$$render) {
        if (name === 'svelte:component')
            name += ' this={...}';
        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);
    }
    return component;
}
function debug(file, line, column, values) {
    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console
    console.log(values); // eslint-disable-line no-console
    return '';
}
let on_destroy;
function create_ssr_component(fn) {
    function $$render(result, props, bindings, slots) {
        const parent_component = exports.current_component;
        const $$ = {
            on_destroy,
            context: new Map(parent_component ? parent_component.$$.context : []),
            // these will be immediately discarded
            on_mount: [],
            before_update: [],
            after_update: [],
            callbacks: blank_object()
        };
        set_current_component({ $$ });
        const html = fn(result, props, bindings, slots);
        set_current_component(parent_component);
        return html;
    }
    return {
        render: (props = {}, options = {}) => {
            on_destroy = [];
            const result = { head: '', css: new Set() };
            const html = $$render(result, props, {}, options);
            run_all(on_destroy);
            return {
                html,
                css: {
                    code: Array.from(result.css).map(css => css.code).join('\n'),
                    map: null // TODO
                },
                head: result.head
            };
        },
        $$render
    };
}
function add_attribute(name, value, boolean) {
    if (value == null || (boolean && !value))
        return '';
    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `"${value}"`}`}`;
}
function add_classes(classes) {
    return classes ? ` class="${classes}"` : ``;
}

function bind(component, name, callback) {
    if (component.$$.props.indexOf(name) === -1)
        return;
    component.$$.bound[name] = callback;
    callback(component.$$.ctx[name]);
}
function mount_component(component, target, anchor) {
    const { fragment, on_mount, on_destroy, after_update } = component.$$;
    fragment.m(target, anchor);
    // onMount happens before the initial afterUpdate
    add_render_callback(() => {
        const new_on_destroy = on_mount.map(run).filter(is_function);
        if (on_destroy) {
            on_destroy.push(...new_on_destroy);
        }
        else {
            // Edge case - component was destroyed immediately,
            // most likely as a result of a binding initialising
            run_all(new_on_destroy);
        }
        component.$$.on_mount = [];
    });
    after_update.forEach(add_render_callback);
}
function destroy_component(component, detaching) {
    if (component.$$.fragment) {
        run_all(component.$$.on_destroy);
        component.$$.fragment.d(detaching);
        // TODO null out other refs, including component.$$ (but need to
        // preserve final state?)
        component.$$.on_destroy = component.$$.fragment = null;
        component.$$.ctx = {};
    }
}
function make_dirty(component, key) {
    if (!component.$$.dirty) {
        dirty_components.push(component);
        schedule_update();
        component.$$.dirty = blank_object();
    }
    component.$$.dirty[key] = true;
}
function init(component, options, instance, create_fragment, not_equal, prop_names) {
    const parent_component = exports.current_component;
    set_current_component(component);
    const props = options.props || {};
    const $$ = component.$$ = {
        fragment: null,
        ctx: null,
        // state
        props: prop_names,
        update: noop,
        not_equal,
        bound: blank_object(),
        // lifecycle
        on_mount: [],
        on_destroy: [],
        before_update: [],
        after_update: [],
        context: new Map(parent_component ? parent_component.$$.context : []),
        // everything else
        callbacks: blank_object(),
        dirty: null
    };
    let ready = false;
    $$.ctx = instance
        ? instance(component, props, (key, value) => {
            if ($$.ctx && not_equal($$.ctx[key], $$.ctx[key] = value)) {
                if ($$.bound[key])
                    $$.bound[key](value);
                if (ready)
                    make_dirty(component, key);
            }
        })
        : props;
    $$.update();
    ready = true;
    run_all($$.before_update);
    $$.fragment = create_fragment($$.ctx);
    if (options.target) {
        if (options.hydrate) {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            $$.fragment.l(children(options.target));
        }
        else {
            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
            $$.fragment.c();
        }
        if (options.intro)
            transition_in(component.$$.fragment);
        mount_component(component, options.target, options.anchor);
        flush();
    }
    set_current_component(parent_component);
}
if (typeof HTMLElement !== 'undefined') {
    exports.SvelteElement = class extends HTMLElement {
        constructor() {
            super();
            this.attachShadow({ mode: 'open' });
        }
        connectedCallback() {
            // @ts-ignore todo: improve typings
            for (const key in this.$$.slotted) {
                // @ts-ignore todo: improve typings
                this.appendChild(this.$$.slotted[key]);
            }
        }
        attributeChangedCallback(attr, _oldValue, newValue) {
            this[attr] = newValue;
        }
        $destroy() {
            destroy_component(this, 1);
            this.$destroy = noop;
        }
        $on(type, callback) {
            // TODO should this delegate to addEventListener?
            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));
            callbacks.push(callback);
            return () => {
                const index = callbacks.indexOf(callback);
                if (index !== -1)
                    callbacks.splice(index, 1);
            };
        }
        $set() {
            // overridden by instance, if it has props
        }
    };
}
class SvelteComponent {
    $destroy() {
        destroy_component(this, 1);
        this.$destroy = noop;
    }
    $on(type, callback) {
        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));
        callbacks.push(callback);
        return () => {
            const index = callbacks.indexOf(callback);
            if (index !== -1)
                callbacks.splice(index, 1);
        };
    }
    $set() {
        // overridden by instance, if it has props
    }
}
class SvelteComponentDev extends SvelteComponent {
    constructor(options) {
        if (!options || (!options.target && !options.$$inline)) {
            throw new Error(`'target' is a required option`);
        }
        super();
    }
    $destroy() {
        super.$destroy();
        this.$destroy = () => {
            console.warn(`Component was already destroyed`); // eslint-disable-line no-console
        };
    }
}

exports.HtmlTag = HtmlTag;
exports.SvelteComponent = SvelteComponent;
exports.SvelteComponentDev = SvelteComponentDev;
exports.add_attribute = add_attribute;
exports.add_classes = add_classes;
exports.add_flush_callback = add_flush_callback;
exports.add_location = add_location;
exports.add_render_callback = add_render_callback;
exports.add_resize_listener = add_resize_listener;
exports.add_transform = add_transform;
exports.afterUpdate = afterUpdate;
exports.append = append;
exports.assign = assign;
exports.attr = attr;
exports.beforeUpdate = beforeUpdate;
exports.bind = bind;
exports.binding_callbacks = binding_callbacks;
exports.blank_object = blank_object;
exports.bubble = bubble;
exports.check_outros = check_outros;
exports.children = children;
exports.claim_element = claim_element;
exports.claim_text = claim_text;
exports.clear_loops = clear_loops;
exports.component_subscribe = component_subscribe;
exports.createEventDispatcher = createEventDispatcher;
exports.create_animation = create_animation;
exports.create_bidirectional_transition = create_bidirectional_transition;
exports.create_in_transition = create_in_transition;
exports.create_out_transition = create_out_transition;
exports.create_slot = create_slot;
exports.create_ssr_component = create_ssr_component;
exports.custom_event = custom_event;
exports.debug = debug;
exports.destroy_block = destroy_block;
exports.destroy_component = destroy_component;
exports.destroy_each = destroy_each;
exports.detach = detach;
exports.dirty_components = dirty_components;
exports.each = each;
exports.element = element;
exports.empty = empty;
exports.escape = escape;
exports.escaped = escaped;
exports.exclude_internal_props = exclude_internal_props;
exports.fix_and_destroy_block = fix_and_destroy_block;
exports.fix_and_outro_and_destroy_block = fix_and_outro_and_destroy_block;
exports.fix_position = fix_position;
exports.flush = flush;
exports.getContext = getContext;
exports.get_binding_group_value = get_binding_group_value;
exports.get_slot_changes = get_slot_changes;
exports.get_slot_context = get_slot_context;
exports.get_spread_update = get_spread_update;
exports.get_store_value = get_store_value;
exports.globals = globals;
exports.group_outros = group_outros;
exports.handle_promise = handle_promise;
exports.identity = identity;
exports.init = init;
exports.insert = insert;
exports.intros = intros;
exports.invalid_attribute_name_character = invalid_attribute_name_character;
exports.is_client = is_client;
exports.is_function = is_function;
exports.is_promise = is_promise;
exports.listen = listen;
exports.loop = loop;
exports.measure = measure;
exports.missing_component = missing_component;
exports.mount_component = mount_component;
exports.noop = noop;
exports.not_equal = not_equal;
exports.null_to_empty = null_to_empty;
exports.object_without_properties = object_without_properties;
exports.onDestroy = onDestroy;
exports.onMount = onMount;
exports.once = once;
exports.outro_and_destroy_block = outro_and_destroy_block;
exports.prevent_default = prevent_default;
exports.run = run;
exports.run_all = run_all;
exports.safe_not_equal = safe_not_equal;
exports.schedule_update = schedule_update;
exports.select_multiple_value = select_multiple_value;
exports.select_option = select_option;
exports.select_options = select_options;
exports.select_value = select_value;
exports.setContext = setContext;
exports.set_attributes = set_attributes;
exports.set_current_component = set_current_component;
exports.set_custom_element_data = set_custom_element_data;
exports.set_data = set_data;
exports.set_input_type = set_input_type;
exports.set_now = set_now;
exports.set_raf = set_raf;
exports.set_style = set_style;
exports.space = space;
exports.spread = spread;
exports.stop_propagation = stop_propagation;
exports.subscribe = subscribe;
exports.svg_element = svg_element;
exports.text = text;
exports.tick = tick;
exports.time_ranges_to_array = time_ranges_to_array;
exports.to_number = to_number;
exports.toggle_class = toggle_class;
exports.transition_in = transition_in;
exports.transition_out = transition_out;
exports.update_keyed_each = update_keyed_each;
exports.validate_component = validate_component;
exports.validate_store = validate_store;
exports.xlink_attr = xlink_attr;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],9:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var internal = require('../internal');

const subscriber_queue = [];
/**
 * Creates a `Readable` store that allows reading by subscription.
 * @param value initial value
 * @param {StartStopNotifier}start start and stop notifications for subscriptions
 */
function readable(value, start) {
    return {
        subscribe: writable(value, start).subscribe,
    };
}
/**
 * Create a `Writable` store that allows both updating and reading by subscription.
 * @param {*=}value initial value
 * @param {StartStopNotifier=}start start and stop notifications for subscriptions
 */
function writable(value, start = internal.noop) {
    let stop;
    const subscribers = [];
    function set(new_value) {
        if (internal.safe_not_equal(value, new_value)) {
            value = new_value;
            if (stop) { // store is ready
                const run_queue = !subscriber_queue.length;
                for (let i = 0; i < subscribers.length; i += 1) {
                    const s = subscribers[i];
                    s[1]();
                    subscriber_queue.push(s, value);
                }
                if (run_queue) {
                    for (let i = 0; i < subscriber_queue.length; i += 2) {
                        subscriber_queue[i][0](subscriber_queue[i + 1]);
                    }
                    subscriber_queue.length = 0;
                }
            }
        }
    }
    function update(fn) {
        set(fn(value));
    }
    function subscribe(run, invalidate = internal.noop) {
        const subscriber = [run, invalidate];
        subscribers.push(subscriber);
        if (subscribers.length === 1) {
            stop = start(set) || internal.noop;
        }
        run(value);
        return () => {
            const index = subscribers.indexOf(subscriber);
            if (index !== -1) {
                subscribers.splice(index, 1);
            }
            if (subscribers.length === 0) {
                stop();
                stop = null;
            }
        };
    }
    return { set, update, subscribe };
}
/**
 * Derived value store by synchronizing one or more readable stores and
 * applying an aggregation function over its input values.
 * @param {Stores} stores input stores
 * @param {function(Stores=, function(*)=):*}fn function callback that aggregates the values
 * @param {*=}initial_value when used asynchronously
 */
function derived(stores, fn, initial_value) {
    const single = !Array.isArray(stores);
    const stores_array = single
        ? [stores]
        : stores;
    const auto = fn.length < 2;
    return readable(initial_value, (set) => {
        let inited = false;
        const values = [];
        let pending = 0;
        let cleanup = internal.noop;
        const sync = () => {
            if (pending) {
                return;
            }
            cleanup();
            const result = fn(single ? values[0] : values, set);
            if (auto) {
                set(result);
            }
            else {
                cleanup = internal.is_function(result) ? result : internal.noop;
            }
        };
        const unsubscribers = stores_array.map((store, i) => store.subscribe((value) => {
            values[i] = value;
            pending &= ~(1 << i);
            if (inited) {
                sync();
            }
        }, () => {
            pending |= (1 << i);
        }));
        inited = true;
        sync();
        return function stop() {
            internal.run_all(unsubscribers);
            cleanup();
        };
    });
}

Object.defineProperty(exports, 'get', {
	enumerable: true,
	get: function () {
		return internal.get_store_value;
	}
});
exports.derived = derived;
exports.readable = readable;
exports.writable = writable;

},{"../internal":8}],10:[function(require,module,exports){
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var easing = require('../easing');
var internal = require('../internal');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */

function __rest(s, e) {
    var t = {};
    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)
        t[p] = s[p];
    if (s != null && typeof Object.getOwnPropertySymbols === "function")
        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {
            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))
                t[p[i]] = s[p[i]];
        }
    return t;
}

function fade(node, { delay = 0, duration = 400 }) {
    const o = +getComputedStyle(node).opacity;
    return {
        delay,
        duration,
        css: t => `opacity: ${t * o}`
    };
}
function fly(node, { delay = 0, duration = 400, easing: easing$1 = easing.cubicOut, x = 0, y = 0, opacity = 0 }) {
    const style = getComputedStyle(node);
    const target_opacity = +style.opacity;
    const transform = style.transform === 'none' ? '' : style.transform;
    const od = target_opacity * (1 - opacity);
    return {
        delay,
        duration,
        easing: easing$1,
        css: (t, u) => `
			transform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);
			opacity: ${target_opacity - (od * u)}`
    };
}
function slide(node, { delay = 0, duration = 400, easing: easing$1 = easing.cubicOut }) {
    const style = getComputedStyle(node);
    const opacity = +style.opacity;
    const height = parseFloat(style.height);
    const padding_top = parseFloat(style.paddingTop);
    const padding_bottom = parseFloat(style.paddingBottom);
    const margin_top = parseFloat(style.marginTop);
    const margin_bottom = parseFloat(style.marginBottom);
    const border_top_width = parseFloat(style.borderTopWidth);
    const border_bottom_width = parseFloat(style.borderBottomWidth);
    return {
        delay,
        duration,
        easing: easing$1,
        css: t => `overflow: hidden;` +
            `opacity: ${Math.min(t * 20, 1) * opacity};` +
            `height: ${t * height}px;` +
            `padding-top: ${t * padding_top}px;` +
            `padding-bottom: ${t * padding_bottom}px;` +
            `margin-top: ${t * margin_top}px;` +
            `margin-bottom: ${t * margin_bottom}px;` +
            `border-top-width: ${t * border_top_width}px;` +
            `border-bottom-width: ${t * border_bottom_width}px;`
    };
}
function scale(node, { delay = 0, duration = 400, easing: easing$1 = easing.cubicOut, start = 0, opacity = 0 }) {
    const style = getComputedStyle(node);
    const target_opacity = +style.opacity;
    const transform = style.transform === 'none' ? '' : style.transform;
    const sd = 1 - start;
    const od = target_opacity * (1 - opacity);
    return {
        delay,
        duration,
        easing: easing$1,
        css: (_t, u) => `
			transform: ${transform} scale(${1 - (sd * u)});
			opacity: ${target_opacity - (od * u)}
		`
    };
}
function draw(node, { delay = 0, speed, duration, easing: easing$1 = easing.cubicInOut }) {
    const len = node.getTotalLength();
    if (duration === undefined) {
        if (speed === undefined) {
            duration = 800;
        }
        else {
            duration = len / speed;
        }
    }
    else if (typeof duration === 'function') {
        duration = duration(len);
    }
    return {
        delay,
        duration,
        easing: easing$1,
        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`
    };
}
function crossfade(_a) {
    var { fallback } = _a, defaults = __rest(_a, ["fallback"]);
    const to_receive = new Map();
    const to_send = new Map();
    function crossfade(from, node, params) {
        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing: easing$1 = easing.cubicOut } = internal.assign(internal.assign({}, defaults), params);
        const to = node.getBoundingClientRect();
        const dx = from.left - to.left;
        const dy = from.top - to.top;
        const dw = from.width / to.width;
        const dh = from.height / to.height;
        const d = Math.sqrt(dx * dx + dy * dy);
        const style = getComputedStyle(node);
        const transform = style.transform === 'none' ? '' : style.transform;
        const opacity = +style.opacity;
        return {
            delay,
            duration: internal.is_function(duration) ? duration(d) : duration,
            easing: easing$1,
            css: (t, u) => `
				opacity: ${t * opacity};
				transform-origin: top left;
				transform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});
			`
        };
    }
    function transition(items, counterparts, intro) {
        return (node, params) => {
            items.set(params.key, {
                rect: node.getBoundingClientRect()
            });
            return () => {
                if (counterparts.has(params.key)) {
                    const { rect } = counterparts.get(params.key);
                    counterparts.delete(params.key);
                    return crossfade(rect, node, params);
                }
                // if the node is disappearing altogether
                // (i.e. wasn't claimed by the other list)
                // then we need to supply an outro
                items.delete(params.key);
                return fallback && fallback(node, params, intro);
            };
        };
    }
    return [
        transition(to_send, to_receive, false),
        transition(to_receive, to_send, true)
    ];
}

exports.crossfade = crossfade;
exports.draw = draw;
exports.fade = fade;
exports.fly = fly;
exports.scale = scale;
exports.slide = slide;

},{"../easing":6,"../internal":8}],11:[function(require,module,exports){
var timeago = function(){};

timeago.prototype.simple = function(date_time) {
    // today date and time in milliseconds 
    var today = Date.now();
    var dateParse = Date.parse(date_time);
    
    //We will perform some test - if there is error, we will throw error to console and exit, no change will be on the data.
    try {
        // We need to check if we able to parse the Date (if the result is NaN, this is an issue)
        if(dateParse !== dateParse) throw "timeago-simple: Please check date and time format! Unable to parse the date & time: " + date_time;
    }
    catch(err) {
        console.error(err);
        return (date_time);
    }
    
    if((dateParse - today) < 0) {
		return pastCalc(date_time);
	} else {
		return futureCalc(date_time);
	}
};


// General help functions for time calculations
function pastCalc(timeData){

    // today date and time in milliseconds 
    var today = Date.now();
        
    // parsing post date and time into milliseconds format
    timeData = Date.parse(timeData);

    var seconds = (today - timeData) / 1000;
    var minutes = (seconds / 60);
    var hours = (seconds / 3600);
    if(seconds < 60 && minutes < 1) {
        return (seconds === 1 ? Math.round(seconds) + " second ago" : Math.round(seconds) + " seconds ago");
    }
    if(minutes < 60 && hours < 1) {
        return (minutes === 1 ? Math.round(minutes) + " minute ago" : Math.round(minutes) + " minutes ago");
    }
    if(hours > 24){
        var days = hours / 24;
        if (days > 30) {
            var month = days / 30;
            if (month > 12) {
                var years = month / 12;
                if (years > 0) {
                    return (years === 1 ? Math.ceil(years) + " year ago" : Math.ceil(years) + " years ago");
                }
            }
            return (Math.round(month) + " month ago");
        }
        return (days === 1 ? Math.round(days) + " day ago" : Math.round(days) + " days ago");
    } else {
        return (hours === 1 ? Math.round(hours) + " hour ago" : Math.round(hours) + " hours ago");
    }
        
}

function futureCalc(timeData){

    // today date and time in milliseconds 
    var today = Date.now();
     
    // parsing post date and time into milliseconds format
    timeData = Date.parse(timeData);
    var seconds = (timeData - today) / 1000;
    var minutes = (seconds / 60);
    var hours = (seconds / 3600);
    if(seconds < 60 && minutes < 1) {
        return (seconds === 1 ? "in " + Math.round(seconds) + " second" : "in " + Math.round(seconds) + " seconds");
    }
    if(minutes < 60 && hours < 1) {
        return (minutes === 1 ? "in " + Math.round(minutes) + " minute" : "in " + Math.round(minutes) + " minutes");
    }
    if(hours > 24){
        var days = hours / 24;
        if (days > 30) {
            var month = days / 30;
            if (month > 12) {
                var years = month / 12;
                if (years > 0) {
                    return (years === 1 ? "in " + Math.ceil(years) + " year" : "in " + Math.ceil(years) + " years"); 
                }
            }
           return ("in " + Math.round(month) + " month"); 
        }
        return (days === 1 ? "in " + Math.round(days) + " day" : "in " + Math.round(days) + " days");
    } else {
        return (hours === 1 ? "in " + Math.round(hours) + " hour" : "in " + Math.round(hours) + " hours");
    }
}

// Future calculation
timeago.prototype.future = function(timeData) {
    console.warn("timeago-simple: .future function is depricated! Please use .simple for both past and future dates.");
    // today date and time in milliseconds 
    var today = Date.now();

    //We will perform some test - if there is error, we will throw error to console and exit, no change will be on the data.
    try {
        // We need to check if we able to parse the Date (if the result is NaN, this is an issue)
        if(Date.parse(timeData) !== Date.parse(timeData)) throw "timeago-simple: Please check date and time format! Unable to parse the date & time: " + timeData;
        // Need to check if it's really future date to parse
        if((Date.parse(timeData) - today) < 0) throw "timeago-simple: Looks like it's more relevant case for timeago.simple"; 
    }
    catch(err) {
        console.error(err);
        return (timeData);
    }
  
    // parsing post date and time into milliseconds format
    timeData = Date.parse(timeData);
    var seconds = (timeData - today) / 1000;
    var minutes = (seconds / 60);
    var hours = (seconds / 3600);
    /* istanbul ignore if */
    if(seconds < 60 && minutes < 1) {
        return (seconds === 1 ? "in " + Math.round(seconds) + " second" : "in " + Math.round(seconds) + " seconds");
    }
    /* istanbul ignore if */
    if(minutes < 60 && hours < 1) {
    	return (minutes === 1 ? "in " + Math.round(minutes) + " minute" : "in " + Math.round(minutes) + " minutes");
    }
    /* istanbul ignore if */
    if(hours > 24){
        var days = hours / 24;
        if (days > 30) {
            var month = days / 30;
            if (month > 12) {
                var years = month / 12;
                if (years > 0) {
                    return (years === 1 ? "in " + Math.ceil(years) + " year" : "in " + Math.ceil(years) + " years");
                }
            }
	        return ("in " + Math.round(month) + " month");
        }
        return (days === 1 ? "in " + Math.round(days) + " day" : "in " + Math.round(days) + " days");
    }
    return (hours === 1 ? "in " + Math.round(hours) + " hour" : "in " + Math.round(hours) + " hours");
};


module.exports = new timeago();
},{}],12:[function(require,module,exports){
/* Navigation.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	component_subscribe,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	prevent_default,
	run_all,
	safe_not_equal,
	space,
	stop_propagation,
	text,
	validate_store
} = require("svelte/internal");

const file = "Navigation.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1avaaxb-style';
	style.textContent = ".blocker.svelte-1avaaxb{height:70px;display:block}.above.svelte-1avaaxb{z-index:99999;width:100;padding:5px;position:fixed}.current.svelte-1avaaxb{border:none;background:none;border-bottom:solid 2px rgb(2, 146, 50);outline:none}.throw-things-to-the-right.svelte-1avaaxb{width:100%;text-align:right}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTmF2aWdhdGlvbi5zdmVsdGUiLCJzb3VyY2VzIjpbIk5hdmlnYXRpb24uc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XHJcbiAgY29uc3Qge1xyXG4gICAgY29ubmVjdGVkLFxyXG4gICAgbmF2aWdhdGUsXHJcbiAgICByb3V0ZUxvY2F0aW9uLFxyXG4gICAgaW50ZXJjZXB0XHJcbiAgfSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpO1xyXG5cclxuICBsZXQgYXZhdGFyID0gXCIvaW1hZ2VzL2ljb24ucG5nXCI7XHJcblxyXG4gIGxldCBxdWVyeSA9IFwiXCI7XHJcblxyXG4gICQ6IGlmICgkY29ubmVjdGVkKSB7XHJcbiAgICBzc2IuYXZhdGFyKHNzYi5mZWVkKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICBhdmF0YXIgPSBgaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC8ke2RhdGEuaW1hZ2V9YDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZ29TZXR0aW5ncyA9IGV2ID0+IG5hdmlnYXRlKFwiL3NldHRpbmdzXCIpO1xyXG4gIGNvbnN0IGdvQ29tcG9zZSA9ICgpID0+IG5hdmlnYXRlKFwiL2NvbXBvc2UvcG9zdFwiKTtcclxuICBjb25zdCBnb0NvbXBvc2VCbG9nID0gKCkgPT4gbmF2aWdhdGUoXCIvY29tcG9zZS9ibG9nXCIpO1xyXG4gIGNvbnN0IGdvUHVibGljID0gKCkgPT4gbmF2aWdhdGUoXCIvcHVibGljXCIpO1xyXG4gIGNvbnN0IGdvQ2hhbm5lbHMgPSAoKSA9PiBuYXZpZ2F0ZShcIi9jaGFubmVsc1wiKTtcclxuICBjb25zdCBnb01lbnRpb25zID0gKCkgPT4gbmF2aWdhdGUoXCIvbWVudGlvbnNcIik7XHJcblxyXG4gIGNvbnN0IGdvU2VhcmNoID0gKCkgPT4ge1xyXG4gICAgbGV0IGMgPSBxdWVyeVswXTtcclxuICAgIGlmIChjID09PSBcIiNcIiB8fCBjID09PSBcIkBcIiB8fCBjID09PSBcIiZcIikge1xyXG4gICAgICBuYXZpZ2F0ZShcIi9pbnRlcmNlcHRcIiwgeyBxdWVyeSB9KTtcclxuICAgICAgaW50ZXJjZXB0KCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuYXZpZ2F0ZShcIi9zZWFyY2hcIiwgeyBxdWVyeSB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBvcGVuU2lkZWJhciA9IGFzeW5jIGV2ID0+IHtcclxuICAgIGxldCBsb2MgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuICAgIGJyb3dzZXIuc2lkZWJhckFjdGlvbi5zZXRQYW5lbCh7IHBhbmVsOiBsb2MgfSk7XHJcbiAgICBicm93c2VyLnNpZGViYXJBY3Rpb24ub3BlbigpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNsb3NlU2lkZWJhciA9IGFzeW5jIGV2ID0+IHtcclxuICAgIGxldCBsb2MgPSBhd2FpdCBicm93c2VyLnNpZGViYXJBY3Rpb24uZ2V0UGFuZWwoe30pO1xyXG4gICAgYXdhaXQgYnJvd3Nlci50YWJzLmNyZWF0ZSh7IHVybDogbG9jIH0pO1xyXG4gICAgYXdhaXQgYnJvd3Nlci5zaWRlYmFyQWN0aW9uLmNsb3NlKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3Blbk15UHJvZmlsZSA9IGV2ID0+IHtcclxuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAoc3NiLmZlZWQpIHtcclxuICAgICAgbmF2aWdhdGUoXCIvcHJvZmlsZVwiLCB7IGZlZWQ6IHNzYi5mZWVkIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG4gIC5ibG9ja2VyIHtcclxuICAgIGhlaWdodDogNzBweDtcclxuICAgIGRpc3BsYXk6IGJsb2NrO1xyXG4gIH1cclxuXHJcbiAgLmFib3ZlIHtcclxuICAgIHotaW5kZXg6IDk5OTk5O1xyXG4gICAgd2lkdGg6IDEwMDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIHBvc2l0aW9uOiBmaXhlZDtcclxuICB9XHJcblxyXG4gIC5jdXJyZW50IHtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJhY2tncm91bmQ6IG5vbmU7XHJcbiAgICBib3JkZXItYm90dG9tOiBzb2xpZCAycHggcmdiKDIsIDE0NiwgNTApO1xyXG4gICAgb3V0bGluZTogbm9uZTtcclxuICB9XHJcblxyXG4gIC50aHJvdy10aGluZ3MtdG8tdGhlLXJpZ2h0IHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG5cclxuPGhlYWRlciBjbGFzcz1cIm5hdmJhclwiPlxyXG4gIDxzZWN0aW9uIGNsYXNzPVwibmF2YmFyLXNlY3Rpb24gaGlkZS1zbVwiPlxyXG4gICAgPGEgaHJlZj1cIiMvc2lkZWJhclwiIGNsYXNzPVwiYnRuIGJ0bi1saW5rXCIgb246Y2xpY2s9e29wZW5TaWRlYmFyfT5cclxuICAgICAgPGkgY2xhc3M9XCJpY29uIGljb24tbWludXMgdGV4dC1ibGFja1wiIC8+XHJcbiAgICA8L2E+XHJcbiAgICA8YSBocmVmPVwiIy9wcm9maWxlXCIgY2xhc3M9XCJuYXZiYXItYnJhbmQgbXItMiBwLTFcIiBvbjpjbGljaz17b3Blbk15UHJvZmlsZX0+XHJcbiAgICAgIDxmaWd1cmUgY2xhc3M9XCJhdmF0YXIgYXZhdGFyLWxnXCI+XHJcbiAgICAgICAgPGltZyBzcmM9e2F2YXRhcn0gYWx0PVwiTFwiIC8+XHJcbiAgICAgICAgPGkgY2xhc3M9XCJhdmF0YXItcHJlc2VuY2UgeyRjb25uZWN0ZWQgPyAnb25saW5lJyA6ICdvZmZsaW5lJ31cIiAvPlxyXG4gICAgICA8L2ZpZ3VyZT5cclxuICAgIDwvYT5cclxuICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93blwiPlxyXG4gICAgICA8YSBocmVmPVwiIy9jb21wb3NlXCIgY2xhc3M9XCJidG4gYnRuLWxpbmsgZHJvcGRvd24tdG9nZ2xlXCIgdGFiaW5kZXg9XCIwXCI+XHJcbiAgICAgICAgQ29tcG9zZVxyXG4gICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLWNhcmV0XCIgLz5cclxuICAgICAgPC9hPlxyXG4gICAgICA8dWwgY2xhc3M9XCJtZW51XCI+XHJcbiAgICAgICAgPGxpIGNsYXNzPVwibWVudS1pdGVtXCI+XHJcbiAgICAgICAgICA8YVxyXG4gICAgICAgICAgICBocmVmPVwiIy9jb21wb3NlL3Bvc3RcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGlua1wiXHJcbiAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbnxwcmV2ZW50RGVmYXVsdD17Z29Db21wb3NlfT5cclxuICAgICAgICAgICAgTmV3IFBvc3RcclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICAgIDxsaSBjbGFzcz1cIm1lbnUtaXRlbVwiPlxyXG4gICAgICAgICAgPGFcclxuICAgICAgICAgICAgaHJlZj1cIiMvY29tcG9zZS9ibG9nXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmtcIlxyXG4gICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvQ29tcG9zZUJsb2d9PlxyXG4gICAgICAgICAgICBOZXcgQmxvZyBQb3N0XHJcbiAgICAgICAgICA8L2E+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgPC91bD5cclxuICAgIDwvZGl2PlxyXG4gICAgPGFcclxuICAgICAgaHJlZj1cIiMvcHVibGljXCJcclxuICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmtcIlxyXG4gICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvUHVibGljfT5cclxuICAgICAgUHVibGljXHJcbiAgICA8L2E+XHJcbiAgICA8YVxyXG4gICAgICBocmVmPVwiIy9tZW50aW9uc1wiXHJcbiAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rXCJcclxuICAgICAgb246Y2xpY2t8c3RvcFByb3BhZ2F0aW9ufHByZXZlbnREZWZhdWx0PXtnb01lbnRpb25zfT5cclxuICAgICAgTWVudGlvbnNcclxuICAgIDwvYT5cclxuICAgIDxhXHJcbiAgICAgIGhyZWY9XCIjL2NoYW5uZWxzXCJcclxuICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmtcIlxyXG4gICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvQ2hhbm5lbHN9PlxyXG4gICAgICBDaGFubmVsc1xyXG4gICAgPC9hPlxyXG4gICAgPGEgaHJlZj1cIiMvc2V0dGluZ3NcIiBjbGFzcz1cImJ0biBidG4tbGlua1wiIG9uOmNsaWNrPXtnb1NldHRpbmdzfT5TZXR0aW5nczwvYT5cclxuICAgIDxhIGhyZWY9XCIvZG9jcy9pbmRleC5odG1sXCIgY2xhc3M9XCJidG4gYnRuLWxpbmtcIj5IZWxwPC9hPlxyXG4gIDwvc2VjdGlvbj5cclxuICA8c2VjdGlvbiBjbGFzcz1cIm5hdmJhci1jZW50ZXJcIiAvPlxyXG4gIDxzZWN0aW9uIGNsYXNzPVwibmF2YmFyLXNlY3Rpb24gaGlkZS1zbVwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInRocm93LXRoaW5ncy10by10aGUtcmlnaHRcIj5cclxuICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWdyb3VwIGlucHV0LWlubGluZVwiPlxyXG4gICAgICAgIDxpbnB1dFxyXG4gICAgICAgICAgY2xhc3M9XCJmb3JtLWlucHV0XCJcclxuICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgIGJpbmQ6dmFsdWU9e3F1ZXJ5fVxyXG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJJJ20gc2xvdywgYmUgZ2VudGxlXCIgLz5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGlucHV0LWdyb3VwLWJ0blwiIG9uOmNsaWNrPXtnb1NlYXJjaH0+XHJcbiAgICAgICAgICBTZWFyY2hcclxuICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L3NlY3Rpb24+XHJcbiAgPHNlY3Rpb24gY2xhc3M9XCJuYXZiYXItc2VjdGlvbiBzaG93LXNtIGJnLWdyYXkgYWJvdmVcIj5cclxuICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWxpbmtcIiBvbjpjbGljaz17KCkgPT4gaGlzdG9yeS5iYWNrKCl9PlxyXG4gICAgICA8aSBjbGFzcz1cImljb24gaWNvbi1iYWNrXCIgLz5cclxuICAgIDwvYnV0dG9uPlxyXG4gICAgPGEgaHJlZj1cIi4uLlwiIGNsYXNzPVwibmF2YmFyLWJyYW5kIG1yLTIgcC0xXCI+XHJcbiAgICAgIDxmaWd1cmUgY2xhc3M9XCJhdmF0YXJcIj5cclxuICAgICAgICA8aW1nIHNyYz17YXZhdGFyfSBhbHQ9XCJMXCIgLz5cclxuICAgICAgICA8aSBjbGFzcz1cImF2YXRhci1wcmVzZW5jZSB7JGNvbm5lY3RlZCA/ICdvbmxpbmUnIDogJ29mZmxpbmUnfVwiIC8+XHJcbiAgICAgIDwvZmlndXJlPlxyXG4gICAgPC9hPlxyXG4gICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duIGZsb2F0LXJpZ2h0XCI+XHJcbiAgICAgIDxhXHJcbiAgICAgICAgaHJlZj1cIj9cIlxyXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiXHJcbiAgICAgICAgdGFiaW5kZXg9XCIwXCJcclxuICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9eygpID0+ICcnfT5cclxuICAgICAgICBNZW51XHJcbiAgICAgICAgPGkgY2xhc3M9XCJpY29uIGljb24tY2FyZXRcIiAvPlxyXG4gICAgICA8L2E+XHJcbiAgICAgIDwhLS0gbWVudSBjb21wb25lbnQgLS0+XHJcbiAgICAgIDx1bCBjbGFzcz1cIm1lbnVcIj5cclxuICAgICAgICA8bGkgY2xhc3M9XCJtZW51LWl0ZW1cIj5cclxuICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgIGhyZWY9XCIjL2NvbXBvc2VcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGlua1wiXHJcbiAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbnxwcmV2ZW50RGVmYXVsdD17Z29Db21wb3NlfT5cclxuICAgICAgICAgICAgQ29tcG9zZVxyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgICAgPGxpIGNsYXNzPVwibWVudS1pdGVtXCI+XHJcbiAgICAgICAgICA8YVxyXG4gICAgICAgICAgICBocmVmPVwiIy9wdWJsaWNcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGlua1wiXHJcbiAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbnxwcmV2ZW50RGVmYXVsdD17Z29QdWJsaWN9PlxyXG4gICAgICAgICAgICBQdWJsaWNcclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICAgIDxsaSBjbGFzcz1cIm1lbnUtaXRlbVwiPlxyXG4gICAgICAgICAgPGFcclxuICAgICAgICAgICAgaHJlZj1cIiMvY2hhbm5lbHNcIlxyXG4gICAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGlua1wiXHJcbiAgICAgICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbnxwcmV2ZW50RGVmYXVsdD17Z29DaGFubmVsc30+XHJcbiAgICAgICAgICAgIENoYW5uZWxzXHJcbiAgICAgICAgICA8L2E+XHJcbiAgICAgICAgPC9saT5cclxuICAgICAgICA8bGkgY2xhc3M9XCJtZW51LWl0ZW1cIj5cclxuICAgICAgICAgIDxhXHJcbiAgICAgICAgICAgIGhyZWY9XCIjL21lbnRpb25zXCJcclxuICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmtcIlxyXG4gICAgICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvTWVudGlvbnN9PlxyXG4gICAgICAgICAgICBNZW50aW9uc1xyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgICAgPGxpIGNsYXNzPVwibWVudS1pdGVtXCI+XHJcbiAgICAgICAgICA8YSBocmVmPVwiIy9zZXR0aW5nc1wiIGNsYXNzPVwiYnRuIGJ0bi1saW5rXCIgb246Y2xpY2s9e2dvU2V0dGluZ3N9PlxyXG4gICAgICAgICAgICBTZXR0aW5nc1xyXG4gICAgICAgICAgPC9hPlxyXG4gICAgICAgIDwvbGk+XHJcbiAgICAgICAgPGxpIGNsYXNzPVwibWVudS1pdGVtXCI+XHJcbiAgICAgICAgICA8YSBocmVmPVwiL2RvY3MvaW5kZXguaHRtbFwiIGNsYXNzPVwiYnRuIGJ0bi1saW5rXCI+SGVscDwvYT5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICAgIDxsaSBjbGFzcz1cIm1lbnUtaXRlbVwiPlxyXG4gICAgICAgICAgPGEgaHJlZj1cIiMvc2lkZWJhclwiIGNsYXNzPVwiYnRuIGJ0bi1saW5rXCIgb246Y2xpY2s9e2Nsb3NlU2lkZWJhcn0+XHJcbiAgICAgICAgICAgIE9wZW4gYXMgYSBUYWJcclxuICAgICAgICAgIDwvYT5cclxuICAgICAgICA8L2xpPlxyXG4gICAgICA8L3VsPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9zZWN0aW9uPlxyXG4gIDxkaXYgY2xhc3M9XCJibG9ja2VyIHNob3ctc21cIiAvPlxyXG48L2hlYWRlcj5cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBERSxRQUFRLGVBQUMsQ0FBQyxBQUNSLE1BQU0sQ0FBRSxJQUFJLENBQ1osT0FBTyxDQUFFLEtBQUssQUFDaEIsQ0FBQyxBQUVELE1BQU0sZUFBQyxDQUFDLEFBQ04sT0FBTyxDQUFFLEtBQUssQ0FDZCxLQUFLLENBQUUsR0FBRyxDQUNWLE9BQU8sQ0FBRSxHQUFHLENBQ1osUUFBUSxDQUFFLEtBQUssQUFDakIsQ0FBQyxBQUVELFFBQVEsZUFBQyxDQUFDLEFBQ1IsTUFBTSxDQUFFLElBQUksQ0FDWixVQUFVLENBQUUsSUFBSSxDQUNoQixhQUFhLENBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUN4QyxPQUFPLENBQUUsSUFBSSxBQUNmLENBQUMsQUFFRCwwQkFBMEIsZUFBQyxDQUFDLEFBQzFCLEtBQUssQ0FBRSxJQUFJLENBQ1gsVUFBVSxDQUFFLEtBQUssQUFDbkIsQ0FBQyJ9 */";
	append(document.head, style);
}

function create_fragment(ctx) {
	var header, section0, a0, i0, t0, a1, figure0, img0, t1, i1, i1_class_value, t2, div0, a2, t3, i2, t4, ul0, li0, a3, t6, li1, a4, t8, a5, t10, a6, t12, a7, t14, a8, t16, a9, t18, section1, t19, section2, div2, div1, input, t20, button0, t22, section3, button1, i3, t23, a10, figure1, img1, t24, i4, i4_class_value, t25, div3, a11, t26, i5, t27, ul1, li2, a12, t29, li3, a13, t31, li4, a14, t33, li5, a15, t35, li6, a16, t37, li7, a17, t39, li8, a18, t41, div4, dispose;

	return {
		c: function create() {
			header = element("header");
			section0 = element("section");
			a0 = element("a");
			i0 = element("i");
			t0 = space();
			a1 = element("a");
			figure0 = element("figure");
			img0 = element("img");
			t1 = space();
			i1 = element("i");
			t2 = space();
			div0 = element("div");
			a2 = element("a");
			t3 = text("Compose\r\n        ");
			i2 = element("i");
			t4 = space();
			ul0 = element("ul");
			li0 = element("li");
			a3 = element("a");
			a3.textContent = "New Post";
			t6 = space();
			li1 = element("li");
			a4 = element("a");
			a4.textContent = "New Blog Post";
			t8 = space();
			a5 = element("a");
			a5.textContent = "Public";
			t10 = space();
			a6 = element("a");
			a6.textContent = "Mentions";
			t12 = space();
			a7 = element("a");
			a7.textContent = "Channels";
			t14 = space();
			a8 = element("a");
			a8.textContent = "Settings";
			t16 = space();
			a9 = element("a");
			a9.textContent = "Help";
			t18 = space();
			section1 = element("section");
			t19 = space();
			section2 = element("section");
			div2 = element("div");
			div1 = element("div");
			input = element("input");
			t20 = space();
			button0 = element("button");
			button0.textContent = "Search";
			t22 = space();
			section3 = element("section");
			button1 = element("button");
			i3 = element("i");
			t23 = space();
			a10 = element("a");
			figure1 = element("figure");
			img1 = element("img");
			t24 = space();
			i4 = element("i");
			t25 = space();
			div3 = element("div");
			a11 = element("a");
			t26 = text("Menu\r\n        ");
			i5 = element("i");
			t27 = space();
			ul1 = element("ul");
			li2 = element("li");
			a12 = element("a");
			a12.textContent = "Compose";
			t29 = space();
			li3 = element("li");
			a13 = element("a");
			a13.textContent = "Public";
			t31 = space();
			li4 = element("li");
			a14 = element("a");
			a14.textContent = "Channels";
			t33 = space();
			li5 = element("li");
			a15 = element("a");
			a15.textContent = "Mentions";
			t35 = space();
			li6 = element("li");
			a16 = element("a");
			a16.textContent = "Settings";
			t37 = space();
			li7 = element("li");
			a17 = element("a");
			a17.textContent = "Help";
			t39 = space();
			li8 = element("li");
			a18 = element("a");
			a18.textContent = "Open as a Tab";
			t41 = space();
			div4 = element("div");
			attr(i0, "class", "icon icon-minus text-black");
			add_location(i0, file, 86, 6, 1946);
			attr(a0, "href", "#/sidebar");
			attr(a0, "class", "btn btn-link");
			add_location(a0, file, 85, 4, 1874);
			attr(img0, "src", ctx.avatar);
			attr(img0, "alt", "L");
			add_location(img0, file, 90, 8, 2128);
			attr(i1, "class", i1_class_value = "avatar-presence " + (ctx.$connected ? 'online' : 'offline') + " svelte-1avaaxb");
			add_location(i1, file, 91, 8, 2166);
			attr(figure0, "class", "avatar avatar-lg");
			add_location(figure0, file, 89, 6, 2085);
			attr(a1, "href", "#/profile");
			attr(a1, "class", "navbar-brand mr-2 p-1");
			add_location(a1, file, 88, 4, 2002);
			attr(i2, "class", "icon icon-caret");
			add_location(i2, file, 97, 8, 2391);
			attr(a2, "href", "#/compose");
			attr(a2, "class", "btn btn-link dropdown-toggle");
			attr(a2, "tabindex", "0");
			add_location(a2, file, 95, 6, 2294);
			attr(a3, "href", "#/compose/post");
			attr(a3, "class", "btn btn-link");
			add_location(a3, file, 101, 10, 2501);
			attr(li0, "class", "menu-item");
			add_location(li0, file, 100, 8, 2467);
			attr(a4, "href", "#/compose/blog");
			attr(a4, "class", "btn btn-link");
			add_location(a4, file, 109, 10, 2735);
			attr(li1, "class", "menu-item");
			add_location(li1, file, 108, 8, 2701);
			attr(ul0, "class", "menu");
			add_location(ul0, file, 99, 6, 2440);
			attr(div0, "class", "dropdown");
			add_location(div0, file, 94, 4, 2264);
			attr(a5, "href", "#/public");
			attr(a5, "class", "btn btn-link");
			add_location(a5, file, 118, 4, 2965);
			attr(a6, "href", "#/mentions");
			attr(a6, "class", "btn btn-link");
			add_location(a6, file, 124, 4, 3107);
			attr(a7, "href", "#/channels");
			attr(a7, "class", "btn btn-link");
			add_location(a7, file, 130, 4, 3255);
			attr(a8, "href", "#/settings");
			attr(a8, "class", "btn btn-link");
			add_location(a8, file, 136, 4, 3403);
			attr(a9, "href", "/docs/index.html");
			attr(a9, "class", "btn btn-link");
			add_location(a9, file, 137, 4, 3485);
			attr(section0, "class", "navbar-section hide-sm");
			add_location(section0, file, 84, 2, 1828);
			attr(section1, "class", "navbar-center");
			add_location(section1, file, 139, 2, 3559);
			attr(input, "class", "form-input");
			attr(input, "type", "text");
			attr(input, "placeholder", "I'm slow, be gentle");
			add_location(input, file, 143, 8, 3737);
			attr(button0, "class", "btn btn-primary input-group-btn");
			add_location(button0, file, 148, 8, 3884);
			attr(div1, "class", "input-group input-inline");
			add_location(div1, file, 142, 6, 3689);
			attr(div2, "class", "throw-things-to-the-right svelte-1avaaxb");
			add_location(div2, file, 141, 4, 3642);
			attr(section2, "class", "navbar-section hide-sm");
			add_location(section2, file, 140, 2, 3596);
			attr(i3, "class", "icon icon-back");
			add_location(i3, file, 156, 6, 4162);
			attr(button1, "class", "btn btn-link");
			add_location(button1, file, 155, 4, 4093);
			attr(img1, "src", ctx.avatar);
			attr(img1, "alt", "L");
			add_location(img1, file, 160, 8, 4296);
			attr(i4, "class", i4_class_value = "avatar-presence " + (ctx.$connected ? 'online' : 'offline') + " svelte-1avaaxb");
			add_location(i4, file, 161, 8, 4334);
			attr(figure1, "class", "avatar");
			add_location(figure1, file, 159, 6, 4263);
			attr(a10, "href", "...");
			attr(a10, "class", "navbar-brand mr-2 p-1");
			add_location(a10, file, 158, 4, 4211);
			attr(i5, "class", "icon icon-caret");
			add_location(i5, file, 171, 8, 4647);
			attr(a11, "href", "?");
			attr(a11, "class", "btn btn-link dropdown-toggle");
			attr(a11, "tabindex", "0");
			add_location(a11, file, 165, 6, 4474);
			attr(a12, "href", "#/compose");
			attr(a12, "class", "btn btn-link");
			add_location(a12, file, 176, 10, 4788);
			attr(li2, "class", "menu-item");
			add_location(li2, file, 175, 8, 4754);
			attr(a13, "href", "#/public");
			attr(a13, "class", "btn btn-link");
			add_location(a13, file, 184, 10, 5016);
			attr(li3, "class", "menu-item");
			add_location(li3, file, 183, 8, 4982);
			attr(a14, "href", "#/channels");
			attr(a14, "class", "btn btn-link");
			add_location(a14, file, 192, 10, 5241);
			attr(li4, "class", "menu-item");
			add_location(li4, file, 191, 8, 5207);
			attr(a15, "href", "#/mentions");
			attr(a15, "class", "btn btn-link");
			add_location(a15, file, 200, 10, 5472);
			attr(li5, "class", "menu-item");
			add_location(li5, file, 199, 8, 5438);
			attr(a16, "href", "#/settings");
			attr(a16, "class", "btn btn-link");
			add_location(a16, file, 208, 10, 5703);
			attr(li6, "class", "menu-item");
			add_location(li6, file, 207, 8, 5669);
			attr(a17, "href", "/docs/index.html");
			attr(a17, "class", "btn btn-link");
			add_location(a17, file, 213, 10, 5864);
			attr(li7, "class", "menu-item");
			add_location(li7, file, 212, 8, 5830);
			attr(a18, "href", "#/sidebar");
			attr(a18, "class", "btn btn-link");
			add_location(a18, file, 216, 10, 5979);
			attr(li8, "class", "menu-item");
			add_location(li8, file, 215, 8, 5945);
			attr(ul1, "class", "menu");
			add_location(ul1, file, 174, 6, 4727);
			attr(div3, "class", "dropdown float-right");
			add_location(div3, file, 164, 4, 4432);
			attr(section3, "class", "navbar-section show-sm bg-gray above svelte-1avaaxb");
			add_location(section3, file, 154, 2, 4033);
			attr(div4, "class", "blocker show-sm svelte-1avaaxb");
			add_location(div4, file, 223, 2, 6145);
			attr(header, "class", "navbar");
			add_location(header, file, 83, 0, 1801);

			dispose = [
				listen(a0, "click", ctx.openSidebar),
				listen(a1, "click", ctx.openMyProfile),
				listen(a3, "click", stop_propagation(prevent_default(ctx.goCompose))),
				listen(a4, "click", stop_propagation(prevent_default(ctx.goComposeBlog))),
				listen(a5, "click", stop_propagation(prevent_default(ctx.goPublic))),
				listen(a6, "click", stop_propagation(prevent_default(ctx.goMentions))),
				listen(a7, "click", stop_propagation(prevent_default(ctx.goChannels))),
				listen(a8, "click", ctx.goSettings),
				listen(input, "input", ctx.input_input_handler),
				listen(button0, "click", ctx.goSearch),
				listen(button1, "click", click_handler),
				listen(a11, "click", stop_propagation(prevent_default(click_handler_1))),
				listen(a12, "click", stop_propagation(prevent_default(ctx.goCompose))),
				listen(a13, "click", stop_propagation(prevent_default(ctx.goPublic))),
				listen(a14, "click", stop_propagation(prevent_default(ctx.goChannels))),
				listen(a15, "click", stop_propagation(prevent_default(ctx.goMentions))),
				listen(a16, "click", ctx.goSettings),
				listen(a18, "click", ctx.closeSidebar)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, header, anchor);
			append(header, section0);
			append(section0, a0);
			append(a0, i0);
			append(section0, t0);
			append(section0, a1);
			append(a1, figure0);
			append(figure0, img0);
			append(figure0, t1);
			append(figure0, i1);
			append(section0, t2);
			append(section0, div0);
			append(div0, a2);
			append(a2, t3);
			append(a2, i2);
			append(div0, t4);
			append(div0, ul0);
			append(ul0, li0);
			append(li0, a3);
			append(ul0, t6);
			append(ul0, li1);
			append(li1, a4);
			append(section0, t8);
			append(section0, a5);
			append(section0, t10);
			append(section0, a6);
			append(section0, t12);
			append(section0, a7);
			append(section0, t14);
			append(section0, a8);
			append(section0, t16);
			append(section0, a9);
			append(header, t18);
			append(header, section1);
			append(header, t19);
			append(header, section2);
			append(section2, div2);
			append(div2, div1);
			append(div1, input);

			input.value = ctx.query;

			append(div1, t20);
			append(div1, button0);
			append(header, t22);
			append(header, section3);
			append(section3, button1);
			append(button1, i3);
			append(section3, t23);
			append(section3, a10);
			append(a10, figure1);
			append(figure1, img1);
			append(figure1, t24);
			append(figure1, i4);
			append(section3, t25);
			append(section3, div3);
			append(div3, a11);
			append(a11, t26);
			append(a11, i5);
			append(div3, t27);
			append(div3, ul1);
			append(ul1, li2);
			append(li2, a12);
			append(ul1, t29);
			append(ul1, li3);
			append(li3, a13);
			append(ul1, t31);
			append(ul1, li4);
			append(li4, a14);
			append(ul1, t33);
			append(ul1, li5);
			append(li5, a15);
			append(ul1, t35);
			append(ul1, li6);
			append(li6, a16);
			append(ul1, t37);
			append(ul1, li7);
			append(li7, a17);
			append(ul1, t39);
			append(ul1, li8);
			append(li8, a18);
			append(header, t41);
			append(header, div4);
		},

		p: function update(changed, ctx) {
			if (changed.avatar) {
				attr(img0, "src", ctx.avatar);
			}

			if ((changed.$connected) && i1_class_value !== (i1_class_value = "avatar-presence " + (ctx.$connected ? 'online' : 'offline') + " svelte-1avaaxb")) {
				attr(i1, "class", i1_class_value);
			}

			if (changed.query && (input.value !== ctx.query)) input.value = ctx.query;

			if (changed.avatar) {
				attr(img1, "src", ctx.avatar);
			}

			if ((changed.$connected) && i4_class_value !== (i4_class_value = "avatar-presence " + (ctx.$connected ? 'online' : 'offline') + " svelte-1avaaxb")) {
				attr(i4, "class", i4_class_value);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(header);
			}

			run_all(dispose);
		}
	};
}

function click_handler() {
	return history.back();
}

function click_handler_1() {
	return '';
}

function instance($$self, $$props, $$invalidate) {
	let $connected;

	const {
    connected,
    navigate,
    routeLocation,
    intercept
  } = require("./utils.js"); validate_store(connected, 'connected'); component_subscribe($$self, connected, $$value => { $connected = $$value; $$invalidate('$connected', $connected) });

  let avatar = "/images/icon.png";

  let query = "";

  const goSettings = ev => navigate("/settings");
  const goCompose = () => navigate("/compose/post");
  const goComposeBlog = () => navigate("/compose/blog");
  const goPublic = () => navigate("/public");
  const goChannels = () => navigate("/channels");
  const goMentions = () => navigate("/mentions");

  const goSearch = () => {
    let c = query[0];
    if (c === "#" || c === "@" || c === "&") {
      navigate("/intercept", { query });
      intercept();
    } else {
      navigate("/search", { query });
    }
  };

  const openSidebar = async ev => {
    let loc = window.location.href;
    browser.sidebarAction.setPanel({ panel: loc });
    browser.sidebarAction.open();
  };

  const closeSidebar = async ev => {
    let loc = await browser.sidebarAction.getPanel({});
    await browser.tabs.create({ url: loc });
    await browser.sidebarAction.close();
  };

  const openMyProfile = ev => {
    ev.stopPropagation();
    ev.preventDefault();

    if (ssb.feed) {
      navigate("/profile", { feed: ssb.feed });
    }
  };

	function input_input_handler() {
		query = this.value;
		$$invalidate('query', query);
	}

	$$self.$$.update = ($$dirty = { $connected: 1 }) => {
		if ($$dirty.$connected) { if ($connected) {
        ssb.avatar(ssb.feed).then(data => {
          $$invalidate('avatar', avatar = `http://localhost:8989/blobs/get/${data.image}`);
        });
      } }
	};

	return {
		connected,
		avatar,
		query,
		goSettings,
		goCompose,
		goComposeBlog,
		goPublic,
		goChannels,
		goMentions,
		goSearch,
		openSidebar,
		closeSidebar,
		openMyProfile,
		$connected,
		input_input_handler
	};
}

class Navigation extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-1avaaxb-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Navigation;

},{"./utils.js":30,"svelte/internal":8}],13:[function(require,module,exports){
/* Patchfox.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	check_outros,
	component_subscribe,
	destroy_component,
	detach,
	element,
	globals,
	group_outros,
	init,
	insert,
	listen,
	mount_component,
	run_all,
	safe_not_equal,
	space,
	toggle_class,
	transition_in,
	transition_out,
	validate_store
} = require("svelte/internal");

const { window: window_1 } = globals;

const file = "Patchfox.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-64hhw0-style';
	style.textContent = ".reduced-line-length.svelte-64hhw0{max-width:840px;margin:auto}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUGF0Y2hmb3guc3ZlbHRlIiwic291cmNlcyI6WyJQYXRjaGZveC5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cclxuICBjb25zdCB7IG9uTW91bnQsIG9uRGVzdHJveSB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcclxuICBjb25zdCB7XHJcbiAgICBjb25uZWN0ZWQsXHJcbiAgICByb3V0ZSxcclxuICAgIG5hdmlnYXRlLFxyXG4gICAgY3VycmVudFZpZXcsXHJcbiAgICBjb25uZWN0LFxyXG4gICAgcmVjb25uZWN0LFxyXG4gICAgcm91dGVMb2NhdGlvbixcclxuICAgIGtlZXBQaW5naW5nLFxyXG4gICAgbG9hZENhY2hlcyxcclxuICB9ID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XHJcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi9wcmVmcy5qc1wiKTtcclxuICBjb25zdCBOYXZpZ2F0aW9uID0gcmVxdWlyZShcIi4vTmF2aWdhdGlvbi5zdmVsdGVcIik7XHJcblxyXG4gIGxldCB1c2VTaG9ydENvbHVtbiA9IGdldFByZWYoXCJjb2x1bW5TaXplXCIsIFwic2hvcnRcIikgPT0gXCJzaG9ydFwiO1xyXG4gIGNvbnNvbGUubG9nKFwiY29sdW1uU2l6ZVwiLCB1c2VTaG9ydENvbHVtbik7XHJcblxyXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgY29ubmVjdCgpO1xyXG4gICAgICBhd2FpdCBsb2FkQ2FjaGVzKCk7XHJcblxyXG4gICAgICBrZWVwUGluZ2luZygpO1xyXG4gICAgfSBjYXRjaCAobikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiY29ubmVjdCBlcnJvclwiLCBuKTtcclxuICAgICAgc3dpdGNoIChuKSB7XHJcbiAgICAgICAgY2FzZSBcIkNhbid0IGNvbm5lY3QgdG8gc2JvdFwiOlxyXG4gICAgICAgICAgLy8gbmVlZCB0byBiZSBhYmxlIHRvIGdvIHRvIHNldHRpbmdzIGV2ZW4gdGhvdWdoIG5vIGNvbm5lY3Rpb24gaXNcclxuICAgICAgICAgIC8vIGVzdGFibGlzaGVkLlxyXG4gICAgICAgICAgaWYgKCRyb3V0ZUxvY2F0aW9uICE9PSBcIi9zZXR0aW5nc1wiKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiL2RvY3MvaW5kZXguaHRtbCMvdHJvdWJsZXNob290aW5nL25vLWNvbm5lY3Rpb25cIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBuYXZpZ2F0ZShcIi9lcnJvclwiLCB7IGVycm9yOiBuIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgcG9wU3RhdGUgPSBldmVudCA9PiB7XHJcbiAgICBpZiAoZXZlbnQuc3RhdGUgIT09IG51bGwpIHtcclxuICAgICAgY29uc29sZS5kaXIoXCJwb3BcIiwgZXZlbnQuc3RhdGUpO1xyXG4gICAgICBsZXQgeyBsb2NhdGlvbiwgZGF0YSB9ID0gZXZlbnQuc3RhdGU7XHJcbiAgICAgIHJvdXRlLnNldCh7IGxvY2F0aW9uLCBkYXRhIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVuY2F1Z2h0RXhjZXB0aW9uID0gZXZlbnQgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlVuY2F1Z2h0IGV4Y2VwdGlvblwiLCBldmVudCk7XHJcbiAgICBuYXZpZ2F0ZShcIi9lcnJvclwiLCB7IGVycm9yOiBldmVudC5tZXNzYWdlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhc2hDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICBjb25zb2xlLmRpcihcImhhc2ggY2hhbmdlXCIsIGV2ZW50KTtcclxuICB9O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICAucmVkdWNlZC1saW5lLWxlbmd0aCB7XHJcbiAgICBtYXgtd2lkdGg6IDg0MHB4O1xyXG4gICAgbWFyZ2luOiBhdXRvO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxzdmVsdGU6d2luZG93XHJcbiAgb246cG9wc3RhdGU9e3BvcFN0YXRlfVxyXG4gIG9uOmVycm9yPXtoYW5kbGVVbmNhdWdodEV4Y2VwdGlvbn1cclxuICBvbjpoYXNoY2hhbmdlPXtoYXNoQ2hhbmdlfSAvPlxyXG5cclxuPGRpdiBjbGFzcz1cImNvbnRhaW5lciBiZy1ncmF5XCI+XHJcbiAgPE5hdmlnYXRpb24gLz5cclxuICA8ZGl2IGNsYXNzPVwiY29sdW1uc1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbHVtblwiIGNsYXNzOnJlZHVjZWQtbGluZS1sZW5ndGg9e3VzZVNob3J0Q29sdW1ufT5cclxuICAgICAgPHN2ZWx0ZTpjb21wb25lbnQgdGhpcz17JGN1cnJlbnRWaWV3fSAvPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBNkRFLG9CQUFvQixjQUFDLENBQUMsQUFDcEIsU0FBUyxDQUFFLEtBQUssQ0FDaEIsTUFBTSxDQUFFLElBQUksQUFDZCxDQUFDIn0= */";
	append(document.head, style);
}

function create_fragment(ctx) {
	var div2, t, div1, div0, current, dispose;

	var navigation = new ctx.Navigation({ $$inline: true });

	var switch_value = ctx.$currentView;

	function switch_props(ctx) {
		return { $$inline: true };
	}

	if (switch_value) {
		var switch_instance = new switch_value(switch_props(ctx));
	}

	return {
		c: function create() {
			div2 = element("div");
			navigation.$$.fragment.c();
			t = space();
			div1 = element("div");
			div0 = element("div");
			if (switch_instance) switch_instance.$$.fragment.c();
			attr(div0, "class", "column svelte-64hhw0");
			toggle_class(div0, "reduced-line-length", ctx.useShortColumn);
			add_location(div0, file, 75, 4, 1807);
			attr(div1, "class", "columns");
			add_location(div1, file, 74, 2, 1780);
			attr(div2, "class", "container bg-gray");
			add_location(div2, file, 72, 0, 1727);

			dispose = [
				listen(window_1, "popstate", ctx.popState),
				listen(window_1, "error", ctx.handleUncaughtException),
				listen(window_1, "hashchange", ctx.hashChange)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div2, anchor);
			mount_component(navigation, div2, null);
			append(div2, t);
			append(div2, div1);
			append(div1, div0);

			if (switch_instance) {
				mount_component(switch_instance, div0, null);
			}

			current = true;
		},

		p: function update(changed, ctx) {
			if (switch_value !== (switch_value = ctx.$currentView)) {
				if (switch_instance) {
					group_outros();
					const old_component = switch_instance;
					transition_out(old_component.$$.fragment, 1, 0, () => {
						destroy_component(old_component, 1);
					});
					check_outros();
				}

				if (switch_value) {
					switch_instance = new switch_value(switch_props(ctx));

					switch_instance.$$.fragment.c();
					transition_in(switch_instance.$$.fragment, 1);
					mount_component(switch_instance, div0, null);
				} else {
					switch_instance = null;
				}
			}

			if (changed.useShortColumn) {
				toggle_class(div0, "reduced-line-length", ctx.useShortColumn);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(navigation.$$.fragment, local);

			if (switch_instance) transition_in(switch_instance.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(navigation.$$.fragment, local);
			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div2);
			}

			destroy_component(navigation);

			if (switch_instance) destroy_component(switch_instance);
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeLocation, $currentView;

	const { onMount, onDestroy } = require("svelte");
  const {
    connected,
    route,
    navigate,
    currentView,
    connect,
    reconnect,
    routeLocation,
    keepPinging,
    loadCaches,
  } = require("./utils.js"); validate_store(currentView, 'currentView'); component_subscribe($$self, currentView, $$value => { $currentView = $$value; $$invalidate('$currentView', $currentView) }); validate_store(routeLocation, 'routeLocation'); component_subscribe($$self, routeLocation, $$value => { $routeLocation = $$value; $$invalidate('$routeLocation', $routeLocation) });
  const { getPref } = require("./prefs.js");
  const Navigation = require("./Navigation.svelte");

  let useShortColumn = getPref("columnSize", "short") == "short";
  console.log("columnSize", useShortColumn);

  onMount(async () => {
    try {
      await connect();
      await loadCaches();

      keepPinging();
    } catch (n) {
      console.error("connect error", n);
      switch (n) {
        case "Can't connect to sbot":
          // need to be able to go to settings even though no connection is
          // established.
          if ($routeLocation !== "/settings") {
            window.location = "/docs/index.html#/troubleshooting/no-connection";
          }
          break;
        default:
          navigate("/error", { error: n });
          break;
      }
    }
  });

  const popState = event => {
    if (event.state !== null) {
      console.dir("pop", event.state);
      let { location, data } = event.state;
      route.set({ location, data });
    }
  };

  const handleUncaughtException = event => {
    console.error("Uncaught exception", event);
    navigate("/error", { error: event.message });
  };

  const hashChange = event => {
    console.dir("hash change", event);
  };

	return {
		currentView,
		routeLocation,
		Navigation,
		useShortColumn,
		popState,
		handleUncaughtException,
		hashChange,
		$currentView
	};
}

class Patchfox extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-64hhw0-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Patchfox;

},{"./Navigation.svelte":12,"./prefs.js":28,"./utils.js":30,"svelte":7,"svelte/internal":8}],14:[function(require,module,exports){
const { getPref, setPref } = require("./prefs.js")

const getFilters = () => getPref("filters", [])

const addFilter = (filter) => {
    let currentFilters = getFilters()

    currentFilters.push(filter)

    setPref("filters", currentFilters)
}

const deleteFilter = (filter) => {
    let currentFilters = getFilters()

    setPref("filters", currentFilters.filter(f => f !== filter))
}

const isMessageBlured = (msg) => {
    let currentFilters = getFilters().filter(f => f.action == "blur")
    if (currentFilters.length > 0) {
        let res = currentFilters.map((f) => isMessageFiltered(msg, f, "blur"))
        return !res.some(r => r)
    } else {
        return false
    }
}


const isMessageHidden = (msg) => {
    let currentFilters = getFilters().filter(f => f.action == "hide")
    if (currentFilters.length > 0) {
        let res = currentFilters.map((f) => isMessageFiltered(msg, f, "hide"))
        return res.some(r => r)
    } else {
        return true // true because it is used by a pull.filter()
    }
}

const isMessageFiltered = (msg, filter, action) => {
    let filterResults = []
    if (filter.action !== action) {
        return true
    }

    if (filter.expires) {
        let expirationDate = new Date(filter.expires)
        let today = new Date()

        if (today > expirationDate) {
            return true
        }
    }

    if (filter.feed) {
        if (filter.feed == msg.value.author) {
            console.log("filtered due to feed")
            filterResults.push(true)
        } else {
            filterResults.push(false)
        }
    }

    if (filter.channel) {
        console.log("filtered due to channel")
        if (msg.value.content.channel && filter.channel == msg.value.content.channel) {
            filterResults.push(true)
        } else {
            filterResults.push(false)
        }
    }

    if (filter.keywords.length > 0 && msg.value.content.type == "post" && msg.value.content.text) {
        let keywords = filter.keywords
        let content = msg.value.content.text.toLowerCase()

        let res = keywords.map(k => content.includes(k.toLowerCase())).some(r => r)
        if (res) console.log("filtered due to keywords")
        filterResults.push(res)
    }

    console.log("res", !filterResults.some(n => n == true))
    return !filterResults.some(n => n == true)
}

module.exports = {
    getFilters,
    isMessageBlured,
    isMessageFiltered,
    isMessageHidden,
    addFilter,
    deleteFilter
}
},{"./prefs.js":28}],15:[function(require,module,exports){
const Patchfox = require("./Patchfox.svelte");

const {
    navigate,
    intercept,
} =  require("./utils.js");

const { loadConfiguration } = require("./prefs.js")

const main = async () => {
    window.ssb = false;

    intercept()

    try {
        await loadConfiguration()

    } catch (n) {
        console.error("initialization error", n)
        switch (n) {
            case "Configuration is missing":
                navigate("/settings")
                break
            default:
                navigate("/error", { error: n })
                break
        }

    }

    const patchfox = new Patchfox({
        target: document.body
    });
}

main()
},{"./Patchfox.svelte":13,"./prefs.js":28,"./utils.js":30}],16:[function(require,module,exports){
/* AboutMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	empty,
	init,
	insert,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const file = "AboutMsg.svelte";

// (52:2) {:else}
function create_else_block_1(ctx) {
	var div, t0, t1;

	return {
		c: function create() {
			div = element("div");
			t0 = text(ctx.person);
			t1 = text(" is doing something related to a gathering but gatherings are not\r\n      supported yet, sorry.");
			attr(div, "class", "toast");
			add_location(div, file, 52, 4, 1454);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
		},

		p: function update(changed, ctx) {
			if (changed.person) {
				set_data(t0, ctx.person);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (35:2) {#if isThisAboutFeeds}
function create_if_block(ctx) {
	var t0, t1, t2, t3, a, a_href_value, t4, if_block1_anchor;

	function select_block_type_1(ctx) {
		if (ctx.image) return create_if_block_2;
		return create_else_block;
	}

	var current_block_type = select_block_type_1(ctx);
	var if_block0 = current_block_type(ctx);

	var if_block1 = (ctx.msg.value.content.description) && create_if_block_1(ctx);

	return {
		c: function create() {
			t0 = text(ctx.person);
			t1 = space();
			t2 = text(ctx.verb);
			t3 = space();
			a = element("a");
			if_block0.c();
			t4 = space();
			if (if_block1) if_block1.c();
			if_block1_anchor = empty();
			attr(a, "href", a_href_value = "?feed=" + ctx.otherLink + "#/profile");
			add_location(a, file, 36, 4, 1002);
		},

		m: function mount(target, anchor) {
			insert(target, t0, anchor);
			insert(target, t1, anchor);
			insert(target, t2, anchor);
			insert(target, t3, anchor);
			insert(target, a, anchor);
			if_block0.m(a, null);
			insert(target, t4, anchor);
			if (if_block1) if_block1.m(target, anchor);
			insert(target, if_block1_anchor, anchor);
		},

		p: function update(changed, ctx) {
			if (changed.person) {
				set_data(t0, ctx.person);
			}

			if (changed.verb) {
				set_data(t2, ctx.verb);
			}

			if (current_block_type === (current_block_type = select_block_type_1(ctx)) && if_block0) {
				if_block0.p(changed, ctx);
			} else {
				if_block0.d(1);
				if_block0 = current_block_type(ctx);
				if (if_block0) {
					if_block0.c();
					if_block0.m(a, null);
				}
			}

			if (ctx.msg.value.content.description) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_1(ctx);
					if_block1.c();
					if_block1.m(if_block1_anchor.parentNode, if_block1_anchor);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(t0);
				detach(t1);
				detach(t2);
				detach(t3);
				detach(a);
			}

			if_block0.d();

			if (detaching) {
				detach(t4);
			}

			if (if_block1) if_block1.d(detaching);

			if (detaching) {
				detach(if_block1_anchor);
			}
		}
	};
}

// (43:6) {:else}
function create_else_block(ctx) {
	var span, t;

	return {
		c: function create() {
			span = element("span");
			t = text(ctx.otherName);
			attr(span, "class", "chip");
			add_location(span, file, 43, 8, 1223);
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, t);
		},

		p: function update(changed, ctx) {
			if (changed.otherName) {
				set_data(t, ctx.otherName);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}
		}
	};
}

// (38:6) {#if image}
function create_if_block_2(ctx) {
	var div, img, t0, t1;

	return {
		c: function create() {
			div = element("div");
			img = element("img");
			t0 = space();
			t1 = text(ctx.otherName);
			attr(img, "src", ctx.image);
			attr(img, "class", "avatar avatar-sm");
			attr(img, "alt", ctx.otherName);
			add_location(img, file, 39, 10, 1098);
			attr(div, "class", "chip");
			add_location(div, file, 38, 8, 1068);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, img);
			append(div, t0);
			append(div, t1);
		},

		p: function update(changed, ctx) {
			if (changed.otherName) {
				attr(img, "alt", ctx.otherName);
				set_data(t1, ctx.otherName);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (47:4) {#if msg.value.content.description}
function create_if_block_1(ctx) {
	var blockquote, raw_value = ctx.ssb.markdown(ctx.msg.value.content.description);

	return {
		c: function create() {
			blockquote = element("blockquote");
			add_location(blockquote, file, 47, 6, 1332);
		},

		m: function mount(target, anchor) {
			insert(target, blockquote, anchor);
			blockquote.innerHTML = raw_value;
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && raw_value !== (raw_value = ctx.ssb.markdown(ctx.msg.value.content.description))) {
				blockquote.innerHTML = raw_value;
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(blockquote);
			}
		}
	};
}

function create_fragment(ctx) {
	var div;

	function select_block_type(ctx) {
		if (ctx.isThisAboutFeeds) return create_if_block;
		return create_else_block_1;
	}

	var current_block_type = select_block_type(ctx);
	var if_block = current_block_type(ctx);

	return {
		c: function create() {
			div = element("div");
			if_block.c();
			attr(div, "class", "card-body");
			add_location(div, file, 33, 0, 926);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			if_block.m(div, null);
		},

		p: function update(changed, ctx) {
			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
				if_block.p(changed, ctx);
			} else {
				if_block.d(1);
				if_block = current_block_type(ctx);
				if (if_block) {
					if_block.c();
					if_block.m(div, null);
				}
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			if_block.d();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let { msg } = $$props;

  let person = msg.value.author;
  let otherLink = encodeURIComponent(msg.value.content.about);
  let otherName = msg.value.content.name || msg.value.content.about;
  let isThisAboutFeeds = true;
  let verb =
    msg.value.content.about === msg.value.author
      ? "self-identifies"
      : "identifies";

  ssb.avatar(msg.value.author).then(data => { const $$result = (person = data.name); $$invalidate('person', person); return $$result; });

  if (otherName === msg.value.content.about) {
    ssb.avatar(msg.value.content.about).then(data => { const $$result = (otherName = data.name); $$invalidate('otherName', otherName); return $$result; });
  }

  let image = msg.value.content.image
    ? `http://localhost:8989/blobs/get/${encodeURIComponent(
        msg.value.content.image
      )}`
    : false;

  if (msg.value.content.description) {
    $$invalidate('verb', verb += " with description");
  }

  if (msg.value.content.about.startsWith("%")) {
    $$invalidate('isThisAboutFeeds', isThisAboutFeeds = false); // this appear to be a gathering
  }

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<AboutMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		msg,
		person,
		otherLink,
		otherName,
		isThisAboutFeeds,
		verb,
		image,
		ssb
	};
}

class AboutMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console.warn("<AboutMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<AboutMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<AboutMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = AboutMsg;

},{"svelte/internal":8}],17:[function(require,module,exports){
/* BlogMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	HtmlTag,
	SvelteComponentDev,
	add_location,
	append,
	attr,
	component_subscribe,
	detach,
	element,
	globals,
	init,
	insert,
	listen,
	noop,
	prevent_default,
	run_all,
	safe_not_equal,
	set_data,
	space,
	text,
	toggle_class,
	validate_store
} = require("svelte/internal");

const { console: console_1 } = globals;

const file = "BlogMsg.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1awna56-style';
	style.textContent = "\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQmxvZ01zZy5zdmVsdGUiLCJzb3VyY2VzIjpbIkJsb2dNc2cuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gIGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlTG9jYXRpb24gfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTtcblxuICBleHBvcnQgbGV0IG1zZztcblxuICBsZXQgY29udGVudCA9IG1zZy52YWx1ZS5jb250ZW50O1xuXG4gIGxldCBzdW1tYXJ5ID0gc3NiLm1hcmtkb3duKGNvbnRlbnQuc3VtbWFyeSk7XG4gIGxldCB0aHVtYm5haWwgPSBjb250ZW50LnRodW1ibmFpbCB8fCBmYWxzZTtcbiAgbGV0IHRpdGxlID0gY29udGVudC50aXRsZSB8fCBmYWxzZTtcbiAgbGV0IHNob3dCbG9ncG9zdCA9IGZhbHNlO1xuICBsZXQgbG9hZGluZyA9IGZhbHNlO1xuICBsZXQgdG9hc3QgPSBmYWxzZTtcbiAgbGV0IHRvYXN0TXNnID0gXCJcIjtcbiAgbGV0IHBvc3QgPSBzdW1tYXJ5O1xuICBsZXQgaGFzQ29udGVudFdhcm5pbmcgPSBjb250ZW50LmNvbnRlbnRXYXJuaW5nICYmIGNvbnRlbnQuY29udGVudFdhcm5pbmcubGVuZ3RoID4gMDtcblxuICBsZXQgbGlrZWQgPSBmYWxzZTtcblxuICBzc2Iudm90ZXMobXNnLmtleSkudGhlbihtcyA9PiB7XG4gICAgbXMuZm9yRWFjaChtID0+IHtcbiAgICAgIGxldCBhdXRob3IgPSBtLnZhbHVlLmF1dGhvcjtcbiAgICAgIGlmICgoYXV0aG9yID09PSBzc2IuZmVlZCAmJiBtLnZhbHVlLmNvbnRlbnQudm90ZS52YWx1ZSA9PT0gMSkpIHtcbiAgICAgICAgbGlrZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBsaWtlQ2hhbmdlZCA9IGV2ID0+IHtcbiAgICBsZXQgdiA9IGV2LnRhcmdldC5jaGVja2VkO1xuICAgIGlmICh2KSB7XG4gICAgICBzc2JcbiAgICAgICAgLmxpa2UobXNnLmtleSlcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJsaWtlZFwiLCBtc2cua2V5KSlcbiAgICAgICAgLmNhdGNoKCgpID0+IChsaWtlZCA9IGZhbHNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNzYlxuICAgICAgICAudW5saWtlKG1zZy5rZXkpXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwidW5saWtlZFwiLCBtc2cua2V5KSlcbiAgICAgICAgLmNhdGNoKCgpID0+IChsaWtlZCA9IHRydWUpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGlzcGxheUJsb2dQb3N0ID0gZXYgPT4ge1xuICAgIGxvYWRpbmcgPSB0cnVlO1xuICAgIGNvbnNvbGUubG9nKFwibG9hZGluZyBibG9ncG9zdFwiLCBjb250ZW50LmJsb2cpO1xuXG4gICAgc3NiXG4gICAgICAuZ2V0QmxvYihjb250ZW50LmJsb2cpXG4gICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgcG9zdCA9IHNzYi5tYXJrZG93bihkYXRhKTtcbiAgICAgICAgc2hvd0Jsb2dwb3N0ID0gdHJ1ZTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNhbid0IGxvYWQgYmxvZyBwb3N0XCIsIGVycik7XG4gICAgICAgIHRvYXN0ID0gdHJ1ZTtcbiAgICAgICAgdG9hc3RNc2cgPSBlcnI7XG4gICAgICB9KTtcbiAgfTtcblxuICBjb25zdCByZXBseSA9IGV2ID0+IHtcbiAgICBsZXQgcm9vdElkID0gbXNnLnZhbHVlLmNvbnRlbnQucm9vdCB8fCBtc2cua2V5O1xuICAgIGxldCBjaGFubmVsID0gbXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbDtcbiAgICBuYXZpZ2F0ZShcIi9jb21wb3NlXCIsIHsgcm9vdDogcm9vdElkLCBicmFuY2g6IG1zZy5rZXksIGNoYW5uZWwgfSk7XG4gIH07XG5cbiAgY29uc3QgZ29Sb290ID0gZXYgPT4ge1xuICAgIGxldCByb290SWQgPSBtc2cudmFsdWUuY29udGVudC5yb290IHx8IG1zZy5rZXk7XG4gICAgbmF2aWdhdGUoXCIvdGhyZWFkXCIsIHsgdGhyZWFkOiByb290SWQgfSk7XG4gIH07XG5cbiAgY29uc3QgZ29CcmFuY2ggPSBldiA9PiB7XG4gICAgbGV0IGJyYW5jaElkID0gbXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNoIHx8IG1zZy5rZXk7XG4gICAgbmF2aWdhdGUoXCIvdGhyZWFkXCIsIHsgdGhyZWFkOiBicmFuY2hJZCB9KTtcbiAgfTtcblxuICBpZiAoIWhhc0NvbnRlbnRXYXJuaW5nICYmICRyb3V0ZUxvY2F0aW9uID09PSBcIi90aHJlYWRcIikge1xuICAgIHNldFRpbWVvdXQoZGlzcGxheUJsb2dQb3N0LCAxMDApO1xuICB9XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuICBkaXYgaW1nLmlzLWltYWdlLWZyb20tYmxvYiB7XG4gICAgbWF4LXdpZHRoOiA5MCU7XG4gIH1cbjwvc3R5bGU+XG5cbnsjaWYgdGh1bWJuYWlsfVxuICA8ZGl2IGNsYXNzPVwiY2FyZC1pbWFnZVwiPlxuICAgIDxpbWdcbiAgICAgIHNyYz1cImh0dHA6Ly9sb2NhbGhvc3Q6ODk4OS9ibG9icy9nZXQve2VuY29kZVVSSUNvbXBvbmVudCh0aHVtYm5haWwpfVwiXG4gICAgICBjbGFzcz1cImltZy1yZXNwb25zaXZlXCJcbiAgICAgIGFsdD17dGl0bGV9IC8+XG4gIDwvZGl2Plxuey9pZn1cbjxkaXYgY2xhc3M9XCJjYXJkLWJvZHlcIj5cbiAgeyNpZiB0aXRsZX1cbiAgICA8aDEgY2xhc3M9XCJjYXJkLXRpdGxlIGg1XCI+e3RpdGxlfTwvaDE+XG4gIHsvaWZ9XG5cbiAgeyNpZiB0b2FzdH1cbiAgICA8ZGl2IGNsYXNzPVwidG9hc3QgdG9hc3QtZXJyb3JcIj5DYW4ndCBsb2FkIGJsb2dwb3N0OiB7dG9hc3RNc2d9PC9kaXY+XG4gIHsvaWZ9XG4gIHsjaWYgaGFzQ29udGVudFdhcm5pbmd9XG4gICAgPGRpdiBjbGFzcz1cInRvYXN0IHRvYXN0LXByaW1hcnlcIj5cbiAgICAgIDxwPlxuICAgICAgICA8Yj5Db250ZW50IFdhcm5pbmc6PC9iPlxuICAgICAgICB7bXNnLnZhbHVlLmNvbnRlbnQuY29udGVudFdhcm5pbmd9XG4gICAgICA8L3A+XG4gICAgPC9kaXY+XG4gIHsvaWZ9XG4gIHsjaWYgc2hvd0Jsb2dwb3N0fVxuICAgIHtAaHRtbCBwb3N0fVxuICB7OmVsc2V9XG4gICAge0BodG1sIHN1bW1hcnl9XG4gIHsvaWZ9XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuICA8ZGl2IGNsYXNzPVwiY29sdW1ucyBjb2wtZ2FwbGVzc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLTZcIj5cbiAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tc3dpdGNoIGQtaW5saW5lXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBvbjpjaGFuZ2U9e2xpa2VDaGFuZ2VkfSBjaGVja2VkPXtsaWtlZH0gLz5cbiAgICAgICAgPGkgY2xhc3M9XCJmb3JtLWljb25cIiAvPlxuICAgICAgICBMaWtlXG4gICAgICA8L2xhYmVsPlxuICAgICAgeyNpZiBtc2cudmFsdWUuY29udGVudC5yb290fVxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj1cIj90aHJlYWQ9e2VuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5yb290KX0jL3RocmVhZFwiXG4gICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17Z29Sb290fT5cbiAgICAgICAgICAgIChyb290KVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgey9pZn1cbiAgICAgIHsjaWYgbXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNofVxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj1cIj90aHJlYWQ9e2VuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5icmFuY2gpfSMvdGhyZWFkXCJcbiAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXtnb0JyYW5jaH0+XG4gICAgICAgICAgICAoaW4gcmVwbHkgdG8pXG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3NwYW4+XG4gICAgICB7L2lmfVxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLTYgdGV4dC1yaWdodFwiPlxuICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG9uOmNsaWNrPXtyZXBseX0+UmVwbHk8L2J1dHRvbj5cbiAgICAgIHsjaWYgIXNob3dCbG9ncG9zdH1cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCJcbiAgICAgICAgICBjbGFzczpsb2NhdGluZz17bG9hZGluZ31cbiAgICAgICAgICBvbjpjbGljaz17ZGlzcGxheUJsb2dQb3N0fT5cbiAgICAgICAgICBSZWFkIEJsb2dwb3N0XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgezplbHNlfVxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgIGNsYXNzOmxvY2F0aW5nPXtsb2FkaW5nfVxuICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAoc2hvd0Jsb2dwb3N0ID0gZmFsc2UpfT5cbiAgICAgICAgICBDbG9zZSBCbG9ncG9zdFxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIHsvaWZ9XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuXG48L2Rpdj5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0= */";
	append(document.head, style);
}

// (88:0) {#if thumbnail}
function create_if_block_7(ctx) {
	var div, img, img_src_value;

	return {
		c: function create() {
			div = element("div");
			img = element("img");
			attr(img, "src", img_src_value = "http://localhost:8989/blobs/get/" + encodeURIComponent(ctx.thumbnail));
			attr(img, "class", "img-responsive");
			attr(img, "alt", ctx.title);
			add_location(img, file, 89, 4, 2106);
			attr(div, "class", "card-image");
			add_location(div, file, 88, 2, 2077);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, img);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (97:2) {#if title}
function create_if_block_6(ctx) {
	var h1, t;

	return {
		c: function create() {
			h1 = element("h1");
			t = text(ctx.title);
			attr(h1, "class", "card-title h5");
			add_location(h1, file, 97, 4, 2294);
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			append(h1, t);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
			}
		}
	};
}

// (101:2) {#if toast}
function create_if_block_5(ctx) {
	var div, t0, t1;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Can't load blogpost: ");
			t1 = text(ctx.toastMsg);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 101, 4, 2360);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
		},

		p: function update(changed, ctx) {
			if (changed.toastMsg) {
				set_data(t1, ctx.toastMsg);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (104:2) {#if hasContentWarning}
function create_if_block_4(ctx) {
	var div, p, b, t1, t2_value = ctx.msg.value.content.contentWarning, t2;

	return {
		c: function create() {
			div = element("div");
			p = element("p");
			b = element("b");
			b.textContent = "Content Warning:";
			t1 = space();
			t2 = text(t2_value);
			add_location(b, file, 106, 8, 2519);
			add_location(p, file, 105, 6, 2507);
			attr(div, "class", "toast toast-primary");
			add_location(div, file, 104, 4, 2467);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, p);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && t2_value !== (t2_value = ctx.msg.value.content.contentWarning)) {
				set_data(t2, t2_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (114:2) {:else}
function create_else_block_1(ctx) {
	var html_tag;

	return {
		c: function create() {
			html_tag = new HtmlTag(ctx.summary, null);
		},

		m: function mount(target, anchor) {
			html_tag.m(target, anchor);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				html_tag.d();
			}
		}
	};
}

// (112:2) {#if showBlogpost}
function create_if_block_3(ctx) {
	var html_tag;

	return {
		c: function create() {
			html_tag = new HtmlTag(ctx.post, null);
		},

		m: function mount(target, anchor) {
			html_tag.m(target, anchor);
		},

		p: function update(changed, ctx) {
			if (changed.post) {
				html_tag.p(ctx.post);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				html_tag.d();
			}
		}
	};
}

// (126:6) {#if msg.value.content.root}
function create_if_block_2(ctx) {
	var span, a, t, a_href_value, dispose;

	return {
		c: function create() {
			span = element("span");
			a = element("a");
			t = text("(root)");
			attr(a, "href", a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.root) + "#/thread");
			add_location(a, file, 127, 10, 3029);
			add_location(span, file, 126, 8, 3012);
			dispose = listen(a, "click", prevent_default(ctx.goRoot));
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, a);
			append(a, t);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && a_href_value !== (a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.root) + "#/thread")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}

			dispose();
		}
	};
}

// (135:6) {#if msg.value.content.branch}
function create_if_block_1(ctx) {
	var span, a, t, a_href_value, dispose;

	return {
		c: function create() {
			span = element("span");
			a = element("a");
			t = text("(in reply to)");
			attr(a, "href", a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.branch) + "#/thread");
			add_location(a, file, 136, 10, 3282);
			add_location(span, file, 135, 8, 3265);
			dispose = listen(a, "click", prevent_default(ctx.goBranch));
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, a);
			append(a, t);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && a_href_value !== (a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.branch) + "#/thread")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}

			dispose();
		}
	};
}

// (154:6) {:else}
function create_else_block(ctx) {
	var button, dispose;

	return {
		c: function create() {
			button = element("button");
			button.textContent = "Close Blogpost";
			attr(button, "class", "btn btn-primary");
			toggle_class(button, "locating", ctx.loading);
			add_location(button, file, 154, 8, 3808);
			dispose = listen(button, "click", ctx.click_handler);
		},

		m: function mount(target, anchor) {
			insert(target, button, anchor);
		},

		p: function update(changed, ctx) {
			if (changed.loading) {
				toggle_class(button, "locating", ctx.loading);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(button);
			}

			dispose();
		}
	};
}

// (147:6) {#if !showBlogpost}
function create_if_block(ctx) {
	var button, dispose;

	return {
		c: function create() {
			button = element("button");
			button.textContent = "Read Blogpost";
			attr(button, "class", "btn btn-primary");
			toggle_class(button, "locating", ctx.loading);
			add_location(button, file, 147, 8, 3629);
			dispose = listen(button, "click", ctx.displayBlogPost);
		},

		m: function mount(target, anchor) {
			insert(target, button, anchor);
		},

		p: function update(changed, ctx) {
			if (changed.loading) {
				toggle_class(button, "locating", ctx.loading);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(button);
			}

			dispose();
		}
	};
}

function create_fragment(ctx) {
	var t0, div0, t1, t2, t3, t4, div4, div3, div1, label, input, t5, i, t6, t7, t8, t9, div2, button, t11, dispose;

	var if_block0 = (ctx.thumbnail) && create_if_block_7(ctx);

	var if_block1 = (ctx.title) && create_if_block_6(ctx);

	var if_block2 = (ctx.toast) && create_if_block_5(ctx);

	var if_block3 = (ctx.hasContentWarning) && create_if_block_4(ctx);

	function select_block_type(ctx) {
		if (ctx.showBlogpost) return create_if_block_3;
		return create_else_block_1;
	}

	var current_block_type = select_block_type(ctx);
	var if_block4 = current_block_type(ctx);

	var if_block5 = (ctx.msg.value.content.root) && create_if_block_2(ctx);

	var if_block6 = (ctx.msg.value.content.branch) && create_if_block_1(ctx);

	function select_block_type_1(ctx) {
		if (!ctx.showBlogpost) return create_if_block;
		return create_else_block;
	}

	var current_block_type_1 = select_block_type_1(ctx);
	var if_block7 = current_block_type_1(ctx);

	return {
		c: function create() {
			if (if_block0) if_block0.c();
			t0 = space();
			div0 = element("div");
			if (if_block1) if_block1.c();
			t1 = space();
			if (if_block2) if_block2.c();
			t2 = space();
			if (if_block3) if_block3.c();
			t3 = space();
			if_block4.c();
			t4 = space();
			div4 = element("div");
			div3 = element("div");
			div1 = element("div");
			label = element("label");
			input = element("input");
			t5 = space();
			i = element("i");
			t6 = text("\n        Like");
			t7 = space();
			if (if_block5) if_block5.c();
			t8 = space();
			if (if_block6) if_block6.c();
			t9 = space();
			div2 = element("div");
			button = element("button");
			button.textContent = "Reply";
			t11 = space();
			if_block7.c();
			attr(div0, "class", "card-body");
			add_location(div0, file, 95, 0, 2252);
			attr(input, "type", "checkbox");
			input.checked = ctx.liked;
			add_location(input, file, 121, 8, 2843);
			attr(i, "class", "form-icon");
			add_location(i, file, 122, 8, 2917);
			attr(label, "class", "form-switch d-inline");
			add_location(label, file, 120, 6, 2798);
			attr(div1, "class", "column col-6");
			add_location(div1, file, 119, 4, 2765);
			attr(button, "class", "btn");
			add_location(button, file, 145, 6, 3543);
			attr(div2, "class", "column col-6 text-right");
			add_location(div2, file, 144, 4, 3499);
			attr(div3, "class", "columns col-gapless");
			add_location(div3, file, 118, 2, 2727);
			attr(div4, "class", "card-footer");
			add_location(div4, file, 117, 0, 2699);

			dispose = [
				listen(input, "change", ctx.likeChanged),
				listen(button, "click", ctx.reply)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			if (if_block0) if_block0.m(target, anchor);
			insert(target, t0, anchor);
			insert(target, div0, anchor);
			if (if_block1) if_block1.m(div0, null);
			append(div0, t1);
			if (if_block2) if_block2.m(div0, null);
			append(div0, t2);
			if (if_block3) if_block3.m(div0, null);
			append(div0, t3);
			if_block4.m(div0, null);
			insert(target, t4, anchor);
			insert(target, div4, anchor);
			append(div4, div3);
			append(div3, div1);
			append(div1, label);
			append(label, input);
			append(label, t5);
			append(label, i);
			append(label, t6);
			append(div1, t7);
			if (if_block5) if_block5.m(div1, null);
			append(div1, t8);
			if (if_block6) if_block6.m(div1, null);
			append(div3, t9);
			append(div3, div2);
			append(div2, button);
			append(div2, t11);
			if_block7.m(div2, null);
		},

		p: function update(changed, ctx) {
			if (ctx.thumbnail) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_7(ctx);
					if_block0.c();
					if_block0.m(t0.parentNode, t0);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.title) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_6(ctx);
					if_block1.c();
					if_block1.m(div0, t1);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (ctx.toast) {
				if (if_block2) {
					if_block2.p(changed, ctx);
				} else {
					if_block2 = create_if_block_5(ctx);
					if_block2.c();
					if_block2.m(div0, t2);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (ctx.hasContentWarning) {
				if (if_block3) {
					if_block3.p(changed, ctx);
				} else {
					if_block3 = create_if_block_4(ctx);
					if_block3.c();
					if_block3.m(div0, t3);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}

			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block4) {
				if_block4.p(changed, ctx);
			} else {
				if_block4.d(1);
				if_block4 = current_block_type(ctx);
				if (if_block4) {
					if_block4.c();
					if_block4.m(div0, null);
				}
			}

			if (changed.liked) {
				input.checked = ctx.liked;
			}

			if (ctx.msg.value.content.root) {
				if (if_block5) {
					if_block5.p(changed, ctx);
				} else {
					if_block5 = create_if_block_2(ctx);
					if_block5.c();
					if_block5.m(div1, t8);
				}
			} else if (if_block5) {
				if_block5.d(1);
				if_block5 = null;
			}

			if (ctx.msg.value.content.branch) {
				if (if_block6) {
					if_block6.p(changed, ctx);
				} else {
					if_block6 = create_if_block_1(ctx);
					if_block6.c();
					if_block6.m(div1, null);
				}
			} else if (if_block6) {
				if_block6.d(1);
				if_block6 = null;
			}

			if (current_block_type_1 === (current_block_type_1 = select_block_type_1(ctx)) && if_block7) {
				if_block7.p(changed, ctx);
			} else {
				if_block7.d(1);
				if_block7 = current_block_type_1(ctx);
				if (if_block7) {
					if_block7.c();
					if_block7.m(div2, null);
				}
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (if_block0) if_block0.d(detaching);

			if (detaching) {
				detach(t0);
				detach(div0);
			}

			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();
			if_block4.d();

			if (detaching) {
				detach(t4);
				detach(div4);
			}

			if (if_block5) if_block5.d();
			if (if_block6) if_block6.d();
			if_block7.d();
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeLocation;

	const { navigate, routeLocation } = require("../utils.js"); validate_store(routeLocation, 'routeLocation'); component_subscribe($$self, routeLocation, $$value => { $routeLocation = $$value; $$invalidate('$routeLocation', $routeLocation) });

  let { msg } = $$props;

  let content = msg.value.content;

  let summary = ssb.markdown(content.summary);
  let thumbnail = content.thumbnail || false;
  let title = content.title || false;
  let showBlogpost = false;
  let loading = false;
  let toast = false;
  let toastMsg = "";
  let post = summary;
  let hasContentWarning = content.contentWarning && content.contentWarning.length > 0;

  let liked = false;

  ssb.votes(msg.key).then(ms => {
    ms.forEach(m => {
      let author = m.value.author;
      if ((author === ssb.feed && m.value.content.vote.value === 1)) {
        $$invalidate('liked', liked = true);
      }
    });
  });

  const likeChanged = ev => {
    let v = ev.target.checked;
    if (v) {
      ssb
        .like(msg.key)
        .then(() => console.log("liked", msg.key))
        .catch(() => { const $$result = (liked = false); $$invalidate('liked', liked); return $$result; });
    } else {
      ssb
        .unlike(msg.key)
        .then(() => console.log("unliked", msg.key))
        .catch(() => { const $$result = (liked = true); $$invalidate('liked', liked); return $$result; });
    }
  };

  const displayBlogPost = ev => {
    $$invalidate('loading', loading = true);
    console.log("loading blogpost", content.blog);

    ssb
      .getBlob(content.blog)
      .then(data => {
        $$invalidate('post', post = ssb.markdown(data));
        $$invalidate('showBlogpost', showBlogpost = true);
      })
      .catch(err => {
        console.error("can't load blog post", err);
        $$invalidate('toast', toast = true);
        $$invalidate('toastMsg', toastMsg = err);
      });
  };

  const reply = ev => {
    let rootId = msg.value.content.root || msg.key;
    let channel = msg.value.content.channel;
    navigate("/compose", { root: rootId, branch: msg.key, channel });
  };

  const goRoot = ev => {
    let rootId = msg.value.content.root || msg.key;
    navigate("/thread", { thread: rootId });
  };

  const goBranch = ev => {
    let branchId = msg.value.content.branch || msg.key;
    navigate("/thread", { thread: branchId });
  };

  if (!hasContentWarning && $routeLocation === "/thread") {
    setTimeout(displayBlogPost, 100);
  }

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console_1.warn(`<BlogMsg> was created with unknown prop '${key}'`);
	});

	function click_handler() {
		const $$result = (showBlogpost = false);
		$$invalidate('showBlogpost', showBlogpost);
		return $$result;
	}

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		routeLocation,
		msg,
		summary,
		thumbnail,
		title,
		showBlogpost,
		loading,
		toast,
		toastMsg,
		post,
		hasContentWarning,
		liked,
		likeChanged,
		displayBlogPost,
		reply,
		goRoot,
		goBranch,
		click_handler
	};
}

class BlogMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-1awna56-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console_1.warn("<BlogMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<BlogMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<BlogMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = BlogMsg;

},{"../utils.js":30,"svelte/internal":8}],18:[function(require,module,exports){
/* ChannelMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const file = "ChannelMsg.svelte";

function create_fragment(ctx) {
	var div, t0, t1, t2, t3, a, t4, t5, a_href_value, dispose;

	return {
		c: function create() {
			div = element("div");
			t0 = text(ctx.person);
			t1 = space();
			t2 = text(ctx.verb);
			t3 = space();
			a = element("a");
			t4 = text("#");
			t5 = text(ctx.channel);
			attr(a, "href", a_href_value = "?channel=" + ctx.channel + "#/channel");
			add_location(a, file, 20, 2, 543);
			attr(div, "class", "card-body");
			add_location(div, file, 18, 0, 496);
			dispose = listen(a, "click", ctx.goChannel);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
			append(div, t2);
			append(div, t3);
			append(div, a);
			append(a, t4);
			append(a, t5);
		},

		p: function update(changed, ctx) {
			if (changed.person) {
				set_data(t0, ctx.person);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			dispose();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { navigate } = require("../utils.js");

  let { msg } = $$props;

  let person = msg.value.author;
  let verb = msg.value.content.subscribed ? "subscribed" : "unsubscribed";
  let channel = encodeURIComponent(msg.value.content.channel);

  ssb.avatar(msg.value.author).then(data => { const $$result = (person = data.name); $$invalidate('person', person); return $$result; });

   const goChannel = ev => {
    ev.stopPropagation();
    ev.preventDefault();
    navigate("/channel", { channel: msg.value.content.channel });
  };

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<ChannelMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return { msg, person, verb, channel, goChannel };
}

class ChannelMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console.warn("<ChannelMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<ChannelMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<ChannelMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = ChannelMsg;

},{"../utils.js":30,"svelte/internal":8}],19:[function(require,module,exports){
/* ContactMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	globals,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const { console: console_1 } = globals;

const file = "ContactMsg.svelte";

function create_fragment(ctx) {
	var div, t0, t1, t2, t3, a, t4, a_href_value, dispose;

	return {
		c: function create() {
			div = element("div");
			t0 = text(ctx.person);
			t1 = space();
			t2 = text(ctx.verb);
			t3 = space();
			a = element("a");
			t4 = text(ctx.otherPersonName);
			attr(a, "href", a_href_value = "?feed=" + ctx.otherPersonFeed + "#/profile");
			add_location(a, file, 31, 2, 797);
			attr(div, "class", "card-body");
			add_location(div, file, 29, 0, 750);
			dispose = listen(a, "click", ctx.goProfile);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
			append(div, t2);
			append(div, t3);
			append(div, a);
			append(a, t4);
		},

		p: function update(changed, ctx) {
			if (changed.person) {
				set_data(t0, ctx.person);
			}

			if (changed.verb) {
				set_data(t2, ctx.verb);
			}

			if (changed.otherPersonName) {
				set_data(t4, ctx.otherPersonName);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			dispose();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { navigate } = require("../utils.js");

  let { msg } = $$props;

  let person = msg.value.author;
  let otherPersonFeed = encodeURIComponent(msg.value.content.contact);
  let otherPersonName = otherPersonFeed;
  let verb = msg.value.content.following ? "followed" : "unfollowed";

  if (msg.value.content.blocking) {
    $$invalidate('verb', verb = "blocked");
  }

  ssb.avatar(msg.value.author).then(data => { const $$result = (person = data.name); $$invalidate('person', person); return $$result; });
  ssb
    .avatar(msg.value.content.contact)
    .then(data => {
      $$invalidate('otherPersonName', otherPersonName = data.name);
    })
    .catch(n => console.log(n));

  const goProfile = ev => {
    ev.stopPropagation();
    ev.preventDefault();
    navigate("/profile", { feed: msg.value.content.contact });
  };

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console_1.warn(`<ContactMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		msg,
		person,
		otherPersonFeed,
		otherPersonName,
		verb,
		goProfile
	};
}

class ContactMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console_1.warn("<ContactMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<ContactMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<ContactMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = ContactMsg;

},{"../utils.js":30,"svelte/internal":8}],20:[function(require,module,exports){
/* GenericMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	noop,
	safe_not_equal,
	text
} = require("svelte/internal");

const file = "GenericMsg.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-mp70wj-style';
	style.textContent = "pre.code.svelte-mp70wj{overflow:scroll}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiR2VuZXJpY01zZy5zdmVsdGUiLCJzb3VyY2VzIjpbIkdlbmVyaWNNc2cuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XHJcbiAgZXhwb3J0IGxldCBtc2c7XHJcblxyXG4gIGxldCByYXdDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKTtcclxuPC9zY3JpcHQ+XHJcbjxzdHlsZT5cclxucHJlLmNvZGUge1xyXG4gICAgb3ZlcmZsb3c6IHNjcm9sbDtcclxufVxyXG48L3N0eWxlPlxyXG5cclxuPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxyXG4gIDxwcmUgY2xhc3M9XCJjb2RlXCI+XHJcbiAgICA8Y29kZT4ge3Jhd0NvbnRlbnR9IDwvY29kZT5cclxuICA8L3ByZT5cclxuPC9kaXY+XHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFNQSxHQUFHLEtBQUssY0FBQyxDQUFDLEFBQ04sUUFBUSxDQUFFLE1BQU0sQUFDcEIsQ0FBQyJ9 */";
	append(document.head, style);
}

function create_fragment(ctx) {
	var div, pre, code, t;

	return {
		c: function create() {
			div = element("div");
			pre = element("pre");
			code = element("code");
			t = text(ctx.rawContent);
			add_location(code, file, 13, 4, 202);
			attr(pre, "class", "code svelte-mp70wj");
			add_location(pre, file, 12, 2, 178);
			attr(div, "class", "card-body");
			add_location(div, file, 11, 0, 151);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, pre);
			append(pre, code);
			append(code, t);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let { msg } = $$props;

  let rawContent = JSON.stringify(msg, null, 2);

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<GenericMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return { msg, rawContent };
}

class GenericMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-mp70wj-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console.warn("<GenericMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<GenericMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<GenericMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = GenericMsg;

},{"svelte/internal":8}],21:[function(require,module,exports){
/* MessageRenderer.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	check_outros,
	destroy_component,
	detach,
	element,
	empty,
	globals,
	group_outros,
	init,
	insert,
	listen,
	mount_component,
	noop,
	prevent_default,
	run_all,
	safe_not_equal,
	set_data,
	space,
	text,
	toggle_class,
	transition_in,
	transition_out
} = require("svelte/internal");

const { console: console_1 } = globals;

const file = "MessageRenderer.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1jn1wek-style';
	style.textContent = ".blured.svelte-1jn1wek img.svelte-1jn1wek{filter:blur(20px) !important}.blured.svelte-1jn1wek{border:solid 2px red}.feed-display.svelte-1jn1wek{cursor:pointer}.channel-display.svelte-1jn1wek{cursor:pointer}.menu-right.svelte-1jn1wek{right:0px;left:unset;min-width:300px}.private.svelte-1jn1wek{border:solid 2px orange}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVzc2FnZVJlbmRlcmVyLnN2ZWx0ZSIsInNvdXJjZXMiOlsiTWVzc2FnZVJlbmRlcmVyLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8c2NyaXB0PlxyXG4gIGNvbnN0IFBvc3RNc2cgPSByZXF1aXJlKFwiLi9Qb3N0TXNnLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBHZW5lcmljTXNnID0gcmVxdWlyZShcIi4vR2VuZXJpY01zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgVm90ZU1zZyA9IHJlcXVpcmUoXCIuL1ZvdGVNc2cuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IFByaXZhdGVNc2cgPSByZXF1aXJlKFwiLi9Qcml2YXRlTXNnLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBDb250YWN0TXNnID0gcmVxdWlyZShcIi4vQ29udGFjdE1zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgQ2hhbm5lbE1zZyA9IHJlcXVpcmUoXCIuL0NoYW5uZWxNc2cuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IEFib3V0TXNnID0gcmVxdWlyZShcIi4vQWJvdXRNc2cuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IFB1Yk1zZyA9IHJlcXVpcmUoXCIuL1B1Yk1zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgQmxvZ01zZyA9IHJlcXVpcmUoXCIuL0Jsb2dNc2cuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IEF2YXRhckNoaXAgPSByZXF1aXJlKFwiLi4vcGFydHMvQXZhdGFyQ2hpcC5zdmVsdGVcIik7XHJcbiAgY29uc3Qge3RpbWVzdGFtcH0gPSByZXF1aXJlKFwiLi4vcGFydHMvdGltZXN0YW1wLmpzXCIpO1xyXG4gIGNvbnN0IHsgbmF2aWdhdGUgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTtcclxuICBjb25zdCB7IGlzTWVzc2FnZUJsdXJlZCB9ID0gcmVxdWlyZShcIi4uL2FidXNlUHJldmVudGlvbi5qc1wiKTtcclxuXHJcbiAgZXhwb3J0IGxldCBtc2c7XHJcblxyXG4gIGxldCB0eXBlO1xyXG4gIGxldCBmZWVkID0gbXNnLnZhbHVlLmF1dGhvcjtcclxuICBsZXQgc2hvd1JhdyA9IGZhbHNlO1xyXG4gIGxldCByYXdDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKTtcclxuICBsZXQgZHJvcGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICBsZXQgcHJpdmF0ZU1zZ0ZvcllvdSA9IGZhbHNlO1xyXG5cclxuICBsZXQgbWVzc2FnZVR5cGVzID0ge1xyXG4gICAgXCIqXCI6IEdlbmVyaWNNc2csXHJcbiAgICBwb3N0OiBQb3N0TXNnLFxyXG4gICAgdm90ZTogVm90ZU1zZyxcclxuICAgIHByaXZhdGU6IFByaXZhdGVNc2csXHJcbiAgICBjb250YWN0OiBDb250YWN0TXNnLFxyXG4gICAgY2hhbm5lbDogQ2hhbm5lbE1zZyxcclxuICAgIGFib3V0OiBBYm91dE1zZyxcclxuICAgIHB1YjogUHViTXNnLFxyXG4gICAgYmxvZzogQmxvZ01zZ1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFJlbmRlcmVyO1xyXG5cclxuICBpZiAodHlwZW9mIG1zZy52YWx1ZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICB0eXBlID0gXCJwcml2YXRlXCI7XHJcbiAgfSBlbHNlIHtcclxuICAgIHR5cGUgPSBtc2cudmFsdWUuY29udGVudC50eXBlO1xyXG4gIH1cclxuXHJcbiAgaWYgKG1zZy52YWx1ZS5wcml2YXRlKSB7XHJcbiAgICBwcml2YXRlTXNnRm9yWW91ID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGlmIChtZXNzYWdlVHlwZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcclxuICAgIHNlbGVjdGVkUmVuZGVyZXIgPSBtZXNzYWdlVHlwZXNbdHlwZV07XHJcbiAgfSBlbHNlIHtcclxuICAgIHNlbGVjdGVkUmVuZGVyZXIgPSBtZXNzYWdlVHlwZXNbXCIqXCJdO1xyXG4gIH1cclxuXHJcbiAgbGV0IGltYWdlID0gXCJpbWFnZXMvaWNvbi5wbmdcIjtcclxuICBsZXQgbmFtZSA9IGZlZWQ7XHJcbiAgbGV0IGJsdXJlZCA9IGlzTWVzc2FnZUJsdXJlZChtc2cpO1xyXG5cclxuICBzc2IuYXZhdGFyKGZlZWQpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICBpZiAoZGF0YS5pbWFnZSAhPT0gbnVsbCkge1xyXG4gICAgICBpbWFnZSA9IGBodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0LyR7ZGF0YS5pbWFnZX1gO1xyXG4gICAgfVxyXG4gICAgbmFtZSA9IGRhdGEubmFtZTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgdG9nZ2xlUmF3TWVzc2FnZSA9ICgpID0+IHtcclxuICAgIHNob3dSYXcgPSAhc2hvd1JhdztcclxuICAgIGRyb3Bkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY29weVBlcm1hbGluayA9ICgpID0+IHtcclxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmRcclxuICAgICAgLndyaXRlVGV4dChgc3NiOiR7bXNnLmtleX1gKVxyXG4gICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcInBlcm1hbGluayBjb3BpZWRcIikpXHJcbiAgICAgIC5jYXRjaChlcnIgPT4gY29uc29sZS5lcnJvcihcImNhbid0IGNvcHkgcGVybWFsaW5rXCIsIGVycikpO1xyXG5cclxuICAgIGRyb3Bkb3duQWN0aXZlID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY29weUhhc2ggPSAoKSA9PiB7XHJcbiAgICBuYXZpZ2F0b3IuY2xpcGJvYXJkXHJcbiAgICAgIC53cml0ZVRleHQoYCR7bXNnLmtleX1gKVxyXG4gICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcImhhc2ggY29waWVkXCIpKVxyXG4gICAgICAuY2F0Y2goZXJyID0+IGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBjb3B5IGhhc2hcIiwgZXJyKSk7XHJcblxyXG4gICAgZHJvcGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnb1Byb2ZpbGUgPSBldiA9PiB7XHJcbiAgICBpZiAoZXYuY3RybEtleSkge1xyXG4gICAgICB3aW5kb3cub3BlbihgP2ZlZWQ9JHtlbmNvZGVVUklDb21wb25lbnQoZmVlZCl9Iy9wcm9maWxlYCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuYXZpZ2F0ZShcIi9wcm9maWxlXCIsIHsgZmVlZCB9KTtcclxuICAgIH1cclxuICB9O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICAuYmx1cmVkIGltZyB7XHJcbiAgICBmaWx0ZXI6IGJsdXIoMjBweCkgIWltcG9ydGFudDtcclxuICB9XHJcblxyXG4gIC5ibHVyZWQge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAycHggcmVkO1xyXG4gIH1cclxuICAucmF3LWNvbnRlbnQge1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICB9XHJcblxyXG4gIC5mZWVkLWRpc3BsYXkge1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gIH1cclxuXHJcbiAgLmNoYW5uZWwtZGlzcGxheSB7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgfVxyXG5cclxuICAubWVudS1yaWdodCB7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgbGVmdDogdW5zZXQ7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gIH1cclxuXHJcbiAgLnByaXZhdGUge1xyXG4gICAgYm9yZGVyOiBzb2xpZCAycHggb3JhbmdlO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgY2xhc3M9XCJjYXJkIG0tMlwiIGNsYXNzOnByaXZhdGU9e3ByaXZhdGVNc2dGb3JZb3V9IGNsYXNzOmJsdXJlZD5cclxuICA8ZGl2IGNsYXNzPVwiY2FyZC1oZWFkZXJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJmbG9hdC1sZWZ0XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLXRpdGxlXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRpbGUgdGlsZS1jZW50ZXJlZCBmZWVkLWRpc3BsYXlcIiBvbjpjbGljaz17Z29Qcm9maWxlfT5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aWxlLWljb25cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImV4YW1wbGUtdGlsZS1pY29uXCI+XHJcbiAgICAgICAgICAgICAgPGltZyBzcmM9e2ltYWdlfSBjbGFzcz1cImF2YXRhciBhdmF0YXItbGdcIiBhbHQ9e2ZlZWR9IC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidGlsZS1jb250ZW50XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0aWxlLXRpdGxlXCI+e25hbWV9PC9kaXY+XHJcbiAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cInRpbGUtc3VidGl0bGUgdGV4dC1ncmF5XCI+XHJcbiAgICAgICAgICAgICAgIHt0aW1lc3RhbXAobXNnLnZhbHVlLnRpbWVzdGFtcCl9XHJcbiAgICAgICAgICAgIDwvc21hbGw+XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICAgIHsjaWYgcHJpdmF0ZU1zZ0ZvcllvdX1cclxuICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbFwiPlBSSVZBVEU8L3NwYW4+XHJcbiAgICB7L2lmfVxyXG4gICAgPGRpdiBjbGFzcz1cImZsb2F0LXJpZ2h0XCI+XHJcbiAgICAgIDxzcGFuXHJcbiAgICAgICAgY2xhc3M9XCJ0ZXh0LWdyYXkgY2hhbm5lbC1kaXNwbGF5XCJcclxuICAgICAgICBvbjpjbGljaz17KCkgPT4gbmF2aWdhdGUoJy9jaGFubmVsJywge1xyXG4gICAgICAgICAgICBjaGFubmVsOiBtc2cudmFsdWUuY29udGVudC5jaGFubmVsXHJcbiAgICAgICAgICB9KX0+XHJcbiAgICAgICAgeyNpZiBtc2cudmFsdWUuY29udGVudC5jaGFubmVsfSN7bXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbH17L2lmfVxyXG4gICAgICA8L3NwYW4+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93blwiPlxyXG4gICAgICAgIDxzcGFuXHJcbiAgICAgICAgICBjbGFzcz1cImJ0biBidG4tbGluayBkcm9wZG93bi10b2dnbGVcIlxyXG4gICAgICAgICAgdGFiaW5kZXg9XCIwXCJcclxuICAgICAgICAgIGNsYXNzOmFjdGl2ZT17ZHJvcGRvd25BY3RpdmV9XHJcbiAgICAgICAgICBvbjpjbGljaz17KCkgPT4gKGRyb3Bkb3duQWN0aXZlID0gIWRyb3Bkb3duQWN0aXZlKX0+XHJcbiAgICAgICAgICA8aSBjbGFzcz1cImljb24gaWNvbi1tb3JlLXZlcnRcIiAvPlxyXG4gICAgICAgIDwvc3Bhbj5cclxuICAgICAgICA8dWwgY2xhc3M9XCJtZW51IG1lbnUtcmlnaHRcIj5cclxuICAgICAgICAgIDxsaSBjbGFzcz1cIm1lbnUtaXRlbVwiPlxyXG5cclxuICAgICAgICAgICAgPGFcclxuICAgICAgICAgICAgICBocmVmPVwiP3RocmVhZD17ZW5jb2RlVVJJQ29tcG9uZW50KG1zZy5rZXkpfSMvdGhyZWFkXCJcclxuICAgICAgICAgICAgICB0YXJnZXQ9XCJfYmxhbmtcIj5cclxuICAgICAgICAgICAgICA8aSBjbGFzcz1cImljb24gaWNvbi1zaGFyZVwiIC8+XHJcbiAgICAgICAgICAgICAgT3BlbiBpbiBuZXcgdGFiXHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICA8bGkgY2xhc3M9XCJtZW51LWl0ZW1cIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17Y29weVBlcm1hbGlua30+XHJcbiAgICAgICAgICAgICAgPGkgY2xhc3M9XCJpY29uIGljb24tY29weVwiIC8+XHJcbiAgICAgICAgICAgICAgQ29weSBwZXJtYWxpbmsgdG8gY2xpcGJvYXJkXHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICA8bGkgY2xhc3M9XCJtZW51LWl0ZW1cIj5cclxuICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17Y29weUhhc2h9PlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLWNvcHlcIiAvPlxyXG4gICAgICAgICAgICAgIENvcHkgbWVzc2FnZSBpZCB0byBjbGlwYm9hcmRcclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgPC9saT5cclxuICAgICAgICAgIDxsaSBjbGFzcz1cImRpdmlkZXJcIiBkYXRhLWNvbnRlbnQ9XCJGT1IgVEhFIENVUklPVVNcIiAvPlxyXG4gICAgICAgICAgPGxpIGNsYXNzPVwibWVudS1pdGVtXCI+XHJcbiAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgb246Y2xpY2t8cHJldmVudERlZmF1bHQ9e3RvZ2dsZVJhd01lc3NhZ2V9PlxyXG4gICAgICAgICAgICAgIDxpIGNsYXNzPVwiaWNvbiBpY29uLW1lc3NhZ2VcIiAvPlxyXG4gICAgICAgICAgICAgIHsjaWYgIXNob3dSYXd9U2hvdyByYXcgbWVzc2FnZXs6ZWxzZX1DbG9zZSByYXcgbWVzc2FnZXsvaWZ9XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgPC91bD5cclxuICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuICA8L2Rpdj5cclxuICB7I2lmICFzaG93UmF3fVxyXG4gICAgPHN2ZWx0ZTpjb21wb25lbnQgdGhpcz17c2VsZWN0ZWRSZW5kZXJlcn0ge21zZ30gLz5cclxuICB7OmVsc2V9XHJcbiAgICA8ZGl2IGNsYXNzPVwiY2FyZC1ib2R5XCI+XHJcbiAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5zXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbiBjb2wtOVwiPlxyXG4gICAgICAgICAgPHByZSBjbGFzcz1cImNvZGVcIj5cclxuICAgICAgICAgICAgPGNvZGU+e3Jhd0NvbnRlbnR9PC9jb2RlPlxyXG4gICAgICAgICAgPC9wcmU+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbHVtbiBjb2wtM1wiPlxyXG4gICAgICAgICAgPHA+XHJcbiAgICAgICAgICAgIFRoaXMgaXMgYSBtZXNzYWdlIG9mIHR5cGVcclxuICAgICAgICAgICAgPGVtPnt0eXBlfTwvZW0+XHJcbiAgICAgICAgICAgIC5cclxuICAgICAgICAgIDwvcD5cclxuICAgICAgICAgIDxwPlxyXG4gICAgICAgICAgICBUbyBsZWFybiBtb3JlIGFib3V0IGl0LCBnbyB0b1xyXG4gICAgICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiL2RvY3MvaW5kZXguaHRtbCMvbWVzc2FnZV90eXBlcy97dHlwZX1cIj5cclxuICAgICAgICAgICAgICB0aGUgZG9jdW1lbnRhdGlvbiBhYm91dCBtZXNzYWdlcyB3aXRoIHR5cGUge3R5cGV9XHJcbiAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgLlxyXG4gICAgICAgICAgPC9wPlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG4gIHsvaWZ9XHJcbjwvZGl2PlxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBa0dFLHNCQUFPLENBQUMsR0FBRyxlQUFDLENBQUMsQUFDWCxNQUFNLENBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQyxVQUFVLEFBQy9CLENBQUMsQUFFRCxPQUFPLGVBQUMsQ0FBQyxBQUNQLE1BQU0sQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsQUFDdkIsQ0FBQyxBQUtELGFBQWEsZUFBQyxDQUFDLEFBQ2IsTUFBTSxDQUFFLE9BQU8sQUFDakIsQ0FBQyxBQUVELGdCQUFnQixlQUFDLENBQUMsQUFDaEIsTUFBTSxDQUFFLE9BQU8sQUFDakIsQ0FBQyxBQUVELFdBQVcsZUFBQyxDQUFDLEFBQ1gsS0FBSyxDQUFFLEdBQUcsQ0FDVixJQUFJLENBQUUsS0FBSyxDQUNYLFNBQVMsQ0FBRSxLQUFLLEFBQ2xCLENBQUMsQUFFRCxRQUFRLGVBQUMsQ0FBQyxBQUNSLE1BQU0sQ0FBRSxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sQUFDMUIsQ0FBQyJ9 */";
	append(document.head, style);
}

// (148:4) {#if privateMsgForYou}
function create_if_block_3(ctx) {
	var span;

	return {
		c: function create() {
			span = element("span");
			span.textContent = "PRIVATE";
			attr(span, "class", "label");
			add_location(span, file, 148, 6, 3678);
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}
		}
	};
}

// (157:8) {#if msg.value.content.channel}
function create_if_block_2(ctx) {
	var t0, t1_value = ctx.msg.value.content.channel, t1;

	return {
		c: function create() {
			t0 = text("#");
			t1 = text(t1_value);
		},

		m: function mount(target, anchor) {
			insert(target, t0, anchor);
			insert(target, t1, anchor);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && t1_value !== (t1_value = ctx.msg.value.content.channel)) {
				set_data(t1, t1_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(t0);
				detach(t1);
			}
		}
	};
}

// (193:44) {:else}
function create_else_block_1(ctx) {
	var t;

	return {
		c: function create() {
			t = text("Close raw message");
		},

		m: function mount(target, anchor) {
			insert(target, t, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(t);
			}
		}
	};
}

// (193:14) {#if !showRaw}
function create_if_block_1(ctx) {
	var t;

	return {
		c: function create() {
			t = text("Show raw message");
		},

		m: function mount(target, anchor) {
			insert(target, t, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(t);
			}
		}
	};
}

// (202:2) {:else}
function create_else_block(ctx) {
	var div3, div2, div0, pre, code, t0, t1, div1, p0, t2, em, t3, t4, t5, p1, t6, a, t7, t8, a_href_value, t9;

	return {
		c: function create() {
			div3 = element("div");
			div2 = element("div");
			div0 = element("div");
			pre = element("pre");
			code = element("code");
			t0 = text(ctx.rawContent);
			t1 = space();
			div1 = element("div");
			p0 = element("p");
			t2 = text("This is a message of type\r\n            ");
			em = element("em");
			t3 = text(ctx.type);
			t4 = text("\r\n            .");
			t5 = space();
			p1 = element("p");
			t6 = text("To learn more about it, go to\r\n            ");
			a = element("a");
			t7 = text("the documentation about messages with type ");
			t8 = text(ctx.type);
			t9 = text("\r\n            .");
			add_location(code, file, 206, 12, 5635);
			attr(pre, "class", "code");
			add_location(pre, file, 205, 10, 5603);
			attr(div0, "class", "column col-9");
			add_location(div0, file, 204, 8, 5565);
			add_location(em, file, 212, 12, 5798);
			add_location(p0, file, 210, 10, 5742);
			attr(a, "target", "_blank");
			attr(a, "href", a_href_value = "/docs/index.html#/message_types/" + ctx.type);
			add_location(a, file, 217, 12, 5916);
			add_location(p1, file, 215, 10, 5856);
			attr(div1, "class", "column col-3");
			add_location(div1, file, 209, 8, 5704);
			attr(div2, "class", "columns");
			add_location(div2, file, 203, 6, 5534);
			attr(div3, "class", "card-body");
			add_location(div3, file, 202, 4, 5503);
		},

		m: function mount(target, anchor) {
			insert(target, div3, anchor);
			append(div3, div2);
			append(div2, div0);
			append(div0, pre);
			append(pre, code);
			append(code, t0);
			append(div2, t1);
			append(div2, div1);
			append(div1, p0);
			append(p0, t2);
			append(p0, em);
			append(em, t3);
			append(p0, t4);
			append(div1, t5);
			append(div1, p1);
			append(p1, t6);
			append(p1, a);
			append(a, t7);
			append(a, t8);
			append(p1, t9);
		},

		p: function update(changed, ctx) {
			if (changed.type) {
				set_data(t3, ctx.type);
				set_data(t8, ctx.type);
			}

			if ((changed.type) && a_href_value !== (a_href_value = "/docs/index.html#/message_types/" + ctx.type)) {
				attr(a, "href", a_href_value);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div3);
			}
		}
	};
}

// (200:2) {#if !showRaw}
function create_if_block(ctx) {
	var switch_instance_anchor, current;

	var switch_value = ctx.selectedRenderer;

	function switch_props(ctx) {
		return {
			props: { msg: ctx.msg },
			$$inline: true
		};
	}

	if (switch_value) {
		var switch_instance = new switch_value(switch_props(ctx));
	}

	return {
		c: function create() {
			if (switch_instance) switch_instance.$$.fragment.c();
			switch_instance_anchor = empty();
		},

		m: function mount(target, anchor) {
			if (switch_instance) {
				mount_component(switch_instance, target, anchor);
			}

			insert(target, switch_instance_anchor, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var switch_instance_changes = {};
			if (changed.msg) switch_instance_changes.msg = ctx.msg;

			if (switch_value !== (switch_value = ctx.selectedRenderer)) {
				if (switch_instance) {
					group_outros();
					const old_component = switch_instance;
					transition_out(old_component.$$.fragment, 1, 0, () => {
						destroy_component(old_component, 1);
					});
					check_outros();
				}

				if (switch_value) {
					switch_instance = new switch_value(switch_props(ctx));

					switch_instance.$$.fragment.c();
					transition_in(switch_instance.$$.fragment, 1);
					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
				} else {
					switch_instance = null;
				}
			}

			else if (switch_value) {
				switch_instance.$set(switch_instance_changes);
			}
		},

		i: function intro(local) {
			if (current) return;
			if (switch_instance) transition_in(switch_instance.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(switch_instance_anchor);
			}

			if (switch_instance) destroy_component(switch_instance, detaching);
		}
	};
}

function create_fragment(ctx) {
	var div10, div9, div6, div5, div4, div1, div0, img, t0, div3, div2, t1, t2, small, t3_value = ctx.timestamp(ctx.msg.value.timestamp), t3, t4, t5, div8, span0, t6, div7, span1, i0, t7, ul, li0, a0, i1, t8, a0_href_value, t9, li1, a1, i2, t10, t11, li2, a2, i3, t12, t13, li3, t14, li4, a3, i4, t15, t16, current_block_type_index, if_block3, current, dispose;

	var if_block0 = (ctx.privateMsgForYou) && create_if_block_3(ctx);

	var if_block1 = (ctx.msg.value.content.channel) && create_if_block_2(ctx);

	function select_block_type(ctx) {
		if (!ctx.showRaw) return create_if_block_1;
		return create_else_block_1;
	}

	var current_block_type = select_block_type(ctx);
	var if_block2 = current_block_type(ctx);

	var if_block_creators = [
		create_if_block,
		create_else_block
	];

	var if_blocks = [];

	function select_block_type_1(ctx) {
		if (!ctx.showRaw) return 0;
		return 1;
	}

	current_block_type_index = select_block_type_1(ctx);
	if_block3 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

	return {
		c: function create() {
			div10 = element("div");
			div9 = element("div");
			div6 = element("div");
			div5 = element("div");
			div4 = element("div");
			div1 = element("div");
			div0 = element("div");
			img = element("img");
			t0 = space();
			div3 = element("div");
			div2 = element("div");
			t1 = text(ctx.name);
			t2 = space();
			small = element("small");
			t3 = text(t3_value);
			t4 = space();
			if (if_block0) if_block0.c();
			t5 = space();
			div8 = element("div");
			span0 = element("span");
			if (if_block1) if_block1.c();
			t6 = space();
			div7 = element("div");
			span1 = element("span");
			i0 = element("i");
			t7 = space();
			ul = element("ul");
			li0 = element("li");
			a0 = element("a");
			i1 = element("i");
			t8 = text("\r\n              Open in new tab");
			t9 = space();
			li1 = element("li");
			a1 = element("a");
			i2 = element("i");
			t10 = text("\r\n              Copy permalink to clipboard");
			t11 = space();
			li2 = element("li");
			a2 = element("a");
			i3 = element("i");
			t12 = text("\r\n              Copy message id to clipboard");
			t13 = space();
			li3 = element("li");
			t14 = space();
			li4 = element("li");
			a3 = element("a");
			i4 = element("i");
			t15 = space();
			if_block2.c();
			t16 = space();
			if_block3.c();
			attr(img, "src", ctx.image);
			attr(img, "class", "avatar avatar-lg svelte-1jn1wek");
			attr(img, "alt", ctx.feed);
			add_location(img, file, 135, 14, 3277);
			attr(div0, "class", "example-tile-icon");
			add_location(div0, file, 134, 12, 3230);
			attr(div1, "class", "tile-icon");
			add_location(div1, file, 133, 10, 3193);
			attr(div2, "class", "tile-title");
			add_location(div2, file, 139, 12, 3422);
			attr(small, "class", "tile-subtitle text-gray");
			add_location(small, file, 140, 12, 3472);
			attr(div3, "class", "tile-content");
			add_location(div3, file, 138, 10, 3382);
			attr(div4, "class", "tile tile-centered feed-display svelte-1jn1wek");
			add_location(div4, file, 132, 8, 3115);
			attr(div5, "class", "card-title");
			add_location(div5, file, 131, 6, 3081);
			attr(div6, "class", "float-left");
			add_location(div6, file, 130, 4, 3049);
			attr(span0, "class", "text-gray channel-display svelte-1jn1wek");
			add_location(span0, file, 151, 6, 3762);
			attr(i0, "class", "icon icon-more-vert");
			add_location(i0, file, 164, 10, 4245);
			attr(span1, "class", "btn btn-link dropdown-toggle");
			attr(span1, "tabindex", "0");
			toggle_class(span1, "active", ctx.dropdownActive);
			add_location(span1, file, 159, 8, 4051);
			attr(i1, "class", "icon icon-share");
			add_location(i1, file, 172, 14, 4501);
			attr(a0, "href", a0_href_value = "?thread=" + ctx.encodeURIComponent(ctx.msg.key) + "#/thread");
			attr(a0, "target", "_blank");
			add_location(a0, file, 169, 12, 4383);
			attr(li0, "class", "menu-item");
			add_location(li0, file, 167, 10, 4345);
			attr(i2, "class", "icon icon-copy");
			add_location(i2, file, 178, 14, 4712);
			attr(a1, "href", "#");
			add_location(a1, file, 177, 12, 4644);
			attr(li1, "class", "menu-item");
			add_location(li1, file, 176, 10, 4608);
			attr(i3, "class", "icon icon-copy");
			add_location(i3, file, 184, 14, 4929);
			attr(a2, "href", "#");
			add_location(a2, file, 183, 12, 4866);
			attr(li2, "class", "menu-item");
			add_location(li2, file, 182, 10, 4830);
			attr(li3, "class", "divider");
			attr(li3, "data-content", "FOR THE CURIOUS");
			add_location(li3, file, 188, 10, 5048);
			attr(i4, "class", "icon icon-message");
			add_location(i4, file, 191, 14, 5220);
			attr(a3, "href", "#");
			add_location(a3, file, 190, 12, 5149);
			attr(li4, "class", "menu-item");
			add_location(li4, file, 189, 10, 5113);
			attr(ul, "class", "menu menu-right svelte-1jn1wek");
			add_location(ul, file, 166, 8, 4305);
			attr(div7, "class", "dropdown");
			add_location(div7, file, 158, 6, 4019);
			attr(div8, "class", "float-right");
			add_location(div8, file, 150, 4, 3729);
			attr(div9, "class", "card-header");
			add_location(div9, file, 129, 2, 3018);
			attr(div10, "class", "card m-2 svelte-1jn1wek");
			toggle_class(div10, "private", ctx.privateMsgForYou);
			toggle_class(div10, "blured", ctx.blured);
			add_location(div10, file, 128, 0, 2946);

			dispose = [
				listen(div4, "click", ctx.goProfile),
				listen(span0, "click", ctx.click_handler),
				listen(span1, "click", ctx.click_handler_1),
				listen(a1, "click", prevent_default(ctx.copyPermalink)),
				listen(a2, "click", prevent_default(ctx.copyHash)),
				listen(a3, "click", prevent_default(ctx.toggleRawMessage))
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div10, anchor);
			append(div10, div9);
			append(div9, div6);
			append(div6, div5);
			append(div5, div4);
			append(div4, div1);
			append(div1, div0);
			append(div0, img);
			append(div4, t0);
			append(div4, div3);
			append(div3, div2);
			append(div2, t1);
			append(div3, t2);
			append(div3, small);
			append(small, t3);
			append(div9, t4);
			if (if_block0) if_block0.m(div9, null);
			append(div9, t5);
			append(div9, div8);
			append(div8, span0);
			if (if_block1) if_block1.m(span0, null);
			append(div8, t6);
			append(div8, div7);
			append(div7, span1);
			append(span1, i0);
			append(div7, t7);
			append(div7, ul);
			append(ul, li0);
			append(li0, a0);
			append(a0, i1);
			append(a0, t8);
			append(ul, t9);
			append(ul, li1);
			append(li1, a1);
			append(a1, i2);
			append(a1, t10);
			append(ul, t11);
			append(ul, li2);
			append(li2, a2);
			append(a2, i3);
			append(a2, t12);
			append(ul, t13);
			append(ul, li3);
			append(ul, t14);
			append(ul, li4);
			append(li4, a3);
			append(a3, i4);
			append(a3, t15);
			if_block2.m(a3, null);
			append(div10, t16);
			if_blocks[current_block_type_index].m(div10, null);
			current = true;
		},

		p: function update(changed, ctx) {
			if (!current || changed.image) {
				attr(img, "src", ctx.image);
			}

			if (!current || changed.name) {
				set_data(t1, ctx.name);
			}

			if ((!current || changed.msg) && t3_value !== (t3_value = ctx.timestamp(ctx.msg.value.timestamp))) {
				set_data(t3, t3_value);
			}

			if (ctx.privateMsgForYou) {
				if (!if_block0) {
					if_block0 = create_if_block_3(ctx);
					if_block0.c();
					if_block0.m(div9, t5);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.msg.value.content.channel) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_2(ctx);
					if_block1.c();
					if_block1.m(span0, null);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (changed.dropdownActive) {
				toggle_class(span1, "active", ctx.dropdownActive);
			}

			if ((!current || changed.msg) && a0_href_value !== (a0_href_value = "?thread=" + ctx.encodeURIComponent(ctx.msg.key) + "#/thread")) {
				attr(a0, "href", a0_href_value);
			}

			if (current_block_type !== (current_block_type = select_block_type(ctx))) {
				if_block2.d(1);
				if_block2 = current_block_type(ctx);
				if (if_block2) {
					if_block2.c();
					if_block2.m(a3, null);
				}
			}

			var previous_block_index = current_block_type_index;
			current_block_type_index = select_block_type_1(ctx);
			if (current_block_type_index === previous_block_index) {
				if_blocks[current_block_type_index].p(changed, ctx);
			} else {
				group_outros();
				transition_out(if_blocks[previous_block_index], 1, 1, () => {
					if_blocks[previous_block_index] = null;
				});
				check_outros();

				if_block3 = if_blocks[current_block_type_index];
				if (!if_block3) {
					if_block3 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
					if_block3.c();
				}
				transition_in(if_block3, 1);
				if_block3.m(div10, null);
			}

			if (changed.privateMsgForYou) {
				toggle_class(div10, "private", ctx.privateMsgForYou);
			}

			if (changed.blured) {
				toggle_class(div10, "blured", ctx.blured);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block3);
			current = true;
		},

		o: function outro(local) {
			transition_out(if_block3);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div10);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if_block2.d();
			if_blocks[current_block_type_index].d();
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const PostMsg = require("./PostMsg.svelte");
  const GenericMsg = require("./GenericMsg.svelte");
  const VoteMsg = require("./VoteMsg.svelte");
  const PrivateMsg = require("./PrivateMsg.svelte");
  const ContactMsg = require("./ContactMsg.svelte");
  const ChannelMsg = require("./ChannelMsg.svelte");
  const AboutMsg = require("./AboutMsg.svelte");
  const PubMsg = require("./PubMsg.svelte");
  const BlogMsg = require("./BlogMsg.svelte");
  const AvatarChip = require("../parts/AvatarChip.svelte");
  const {timestamp} = require("../parts/timestamp.js");
  const { navigate } = require("../utils.js");
  const { isMessageBlured } = require("../abusePrevention.js");

  let { msg } = $$props;

  let type;
  let feed = msg.value.author;
  let showRaw = false;
  let rawContent = JSON.stringify(msg, null, 2);
  let dropdownActive = false;
  let privateMsgForYou = false;

  let messageTypes = {
    "*": GenericMsg,
    post: PostMsg,
    vote: VoteMsg,
    private: PrivateMsg,
    contact: ContactMsg,
    channel: ChannelMsg,
    about: AboutMsg,
    pub: PubMsg,
    blog: BlogMsg
  };

  let selectedRenderer;

  if (typeof msg.value.content === "string") {
    $$invalidate('type', type = "private");
  } else {
    $$invalidate('type', type = msg.value.content.type);
  }

  if (msg.value.private) {
    $$invalidate('privateMsgForYou', privateMsgForYou = true);
  }

  if (messageTypes.hasOwnProperty(type)) {
    $$invalidate('selectedRenderer', selectedRenderer = messageTypes[type]);
  } else {
    $$invalidate('selectedRenderer', selectedRenderer = messageTypes["*"]);
  }

  let image = "images/icon.png";
  let name = feed;
  let blured = isMessageBlured(msg);

  ssb.avatar(feed).then(data => {
    if (data.image !== null) {
      $$invalidate('image', image = `http://localhost:8989/blobs/get/${data.image}`);
    }
    $$invalidate('name', name = data.name);
  });

  const toggleRawMessage = () => {
    $$invalidate('showRaw', showRaw = !showRaw);
    $$invalidate('dropdownActive', dropdownActive = false);
  };

  const copyPermalink = () => {
    navigator.clipboard
      .writeText(`ssb:${msg.key}`)
      .then(() => console.log("permalink copied"))
      .catch(err => console.error("can't copy permalink", err));

    $$invalidate('dropdownActive', dropdownActive = false);
  };

  const copyHash = () => {
    navigator.clipboard
      .writeText(`${msg.key}`)
      .then(() => console.log("hash copied"))
      .catch(err => console.error("can't copy hash", err));

    $$invalidate('dropdownActive', dropdownActive = false);
  };

  const goProfile = ev => {
    if (ev.ctrlKey) {
      window.open(`?feed=${encodeURIComponent(feed)}#/profile`);
    } else {
      navigate("/profile", { feed });
    }
  };

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console_1.warn(`<MessageRenderer> was created with unknown prop '${key}'`);
	});

	function click_handler() {
		return navigate('/channel', {
	            channel: msg.value.content.channel
	          });
	}

	function click_handler_1() {
		const $$result = (dropdownActive = !dropdownActive);
		$$invalidate('dropdownActive', dropdownActive);
		return $$result;
	}

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		timestamp,
		navigate,
		msg,
		type,
		feed,
		showRaw,
		rawContent,
		dropdownActive,
		privateMsgForYou,
		selectedRenderer,
		image,
		name,
		blured,
		toggleRawMessage,
		copyPermalink,
		copyHash,
		goProfile,
		encodeURIComponent,
		click_handler,
		click_handler_1
	};
}

class MessageRenderer extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-1jn1wek-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console_1.warn("<MessageRenderer> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<MessageRenderer>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<MessageRenderer>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = MessageRenderer;

},{"../abusePrevention.js":14,"../parts/AvatarChip.svelte":26,"../parts/timestamp.js":27,"../utils.js":30,"./AboutMsg.svelte":16,"./BlogMsg.svelte":17,"./ChannelMsg.svelte":18,"./ContactMsg.svelte":19,"./GenericMsg.svelte":20,"./PostMsg.svelte":22,"./PrivateMsg.svelte":23,"./PubMsg.svelte":24,"./VoteMsg.svelte":25,"svelte/internal":8}],22:[function(require,module,exports){
/* PostMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	HtmlTag,
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	globals,
	init,
	insert,
	listen,
	noop,
	prevent_default,
	run_all,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const { console: console_1 } = globals;

const file = "PostMsg.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-10kjcnj-style';
	style.textContent = ".card-body.svelte-10kjcnj{overflow-wrap:break-word}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUG9zdE1zZy5zdmVsdGUiLCJzb3VyY2VzIjpbIlBvc3RNc2cuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gIGNvbnN0IHsgbmF2aWdhdGUgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTtcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vcHJlZnMuanNcIilcblxuICBleHBvcnQgbGV0IG1zZztcbiAgbGV0IGNvbnRlbnRXYXJuaW5nc0V4cGFuZEJ5RGVmYXVsdCA9IGdldFByZWYoXCJjb250ZW50LXdhcm5pbmdzLWV4cGFuZFwiLCBcImNvbGxhcHNlZFwiKVxuICBsZXQgY29udGVudCA9IHNzYi5tYXJrZG93bihtc2cudmFsdWUuY29udGVudC50ZXh0KTtcbiAgbGV0IGxpa2VkID0gZmFsc2U7XG4gIGxldCBoYXNDb250ZW50V2FybmluZyA9IG1zZy52YWx1ZS5jb250ZW50LmNvbnRlbnRXYXJuaW5nIHx8IGZhbHNlO1xuICBsZXQgc2hvd0NvbnRlbnRXYXJuaW5nID0gY29udGVudFdhcm5pbmdzRXhwYW5kQnlEZWZhdWx0ID09PSBcImNvbGxhcHNlZFwiO1xuXG4gIHNzYi52b3Rlcyhtc2cua2V5KS50aGVuKG1zID0+IHtcbiAgICBtcy5mb3JFYWNoKG0gPT4ge1xuICAgICAgbGV0IGF1dGhvciA9IG0udmFsdWUuYXV0aG9yO1xuICAgICAgaWYgKGF1dGhvciA9PT0gc3NiLmZlZWQgJiYgbS52YWx1ZS5jb250ZW50LnZvdGUudmFsdWUgPT09IDEpIHtcbiAgICAgICAgbGlrZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICBjb25zdCBsaWtlQ2hhbmdlZCA9IGV2ID0+IHtcbiAgICBsZXQgdiA9IGV2LnRhcmdldC5jaGVja2VkO1xuICAgIGlmICh2KSB7XG4gICAgICBzc2JcbiAgICAgICAgLmxpa2UobXNnLmtleSlcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJsaWtlZFwiLCBtc2cua2V5KSlcbiAgICAgICAgLmNhdGNoKCgpID0+IChsaWtlZCA9IGZhbHNlKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNzYlxuICAgICAgICAudW5saWtlKG1zZy5rZXkpXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwidW5saWtlZFwiLCBtc2cua2V5KSlcbiAgICAgICAgLmNhdGNoKCgpID0+IChsaWtlZCA9IHRydWUpKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgcmVwbHkgPSBldiA9PiB7XG4gICAgbGV0IHJvb3QgPSBtc2cudmFsdWUuY29udGVudC5yb290IHx8IG1zZy5rZXk7XG4gICAgbGV0IGNoYW5uZWwgPSBtc2cudmFsdWUuY29udGVudC5jaGFubmVsO1xuICAgIGxldCByZXBseWZlZWQgPSBtc2cudmFsdWUuYXV0aG9yO1xuICAgIG5hdmlnYXRlKFwiL2NvbXBvc2VcIiwgeyByb290LCBicmFuY2g6IG1zZy5rZXksIGNoYW5uZWwsIHJlcGx5ZmVlZCB9KTtcbiAgfTtcblxuICBjb25zdCBmb3JrID0gZXYgPT4ge1xuICAgIGxldCBvcmlnaW5hbFJvb3QgPSBtc2cudmFsdWUuY29udGVudC5yb290IHx8IG1zZy5rZXk7XG4gICAgbGV0IGNoYW5uZWwgPSBtc2cudmFsdWUuY29udGVudC5jaGFubmVsO1xuICAgIGxldCByZXBseWZlZWQgPSBtc2cudmFsdWUuYXV0aG9yO1xuICAgIG5hdmlnYXRlKFwiL2NvbXBvc2VcIiwge1xuICAgICAgcm9vdDogbXNnLmtleSxcbiAgICAgIGJyYW5jaDogbXNnLmtleSxcbiAgICAgIGZvcms6IG9yaWdpbmFsUm9vdCxcbiAgICAgIGNoYW5uZWwsXG4gICAgICByZXBseWZlZWRcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnb1Jvb3QgPSBldiA9PiB7XG4gICAgbGV0IHJvb3RJZCA9IG1zZy52YWx1ZS5jb250ZW50LnJvb3QgfHwgbXNnLmtleTtcbiAgICBuYXZpZ2F0ZShcIi90aHJlYWRcIiwgeyB0aHJlYWQ6IHJvb3RJZCB9KTtcbiAgfTtcblxuICBjb25zdCBnb0JyYW5jaCA9IGV2ID0+IHtcbiAgICBsZXQgYnJhbmNoSWQgPSBtc2cudmFsdWUuY29udGVudC5icmFuY2ggfHwgbXNnLmtleTtcbiAgICBuYXZpZ2F0ZShcIi90aHJlYWRcIiwgeyB0aHJlYWQ6IGJyYW5jaElkIH0pO1xuICB9O1xuPC9zY3JpcHQ+XG5cbjxzdHlsZT5cbiAgZGl2IGltZy5pcy1pbWFnZS1mcm9tLWJsb2Ige1xuICAgIG1heC13aWR0aDogOTAlO1xuICB9XG5cbiAgLmNhcmQtYm9keSB7XG4gICAgb3ZlcmZsb3ctd3JhcDogYnJlYWstd29yZDtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICB7I2lmIGhhc0NvbnRlbnRXYXJuaW5nICYmIHNob3dDb250ZW50V2FybmluZ31cbiAgICA8cD57bXNnLnZhbHVlLmNvbnRlbnQuY29udGVudFdhcm5pbmd9PC9wPlxuICAgIDxidXR0b25cbiAgICAgIGNsYXNzPVwiYnRuXCJcbiAgICAgIG9uOmNsaWNrPXsoKSA9PiAoc2hvd0NvbnRlbnRXYXJuaW5nID0gIXNob3dDb250ZW50V2FybmluZyl9PlxuICAgICAgU2hvdyBNZXNzYWdlXG4gICAgPC9idXR0b24+XG4gIHs6ZWxzZX1cbiAgICB7I2lmIGhhc0NvbnRlbnRXYXJuaW5nfVxuICAgICAgPGRpdiBjbGFzcz1cInRvYXN0IHRvYXN0LXByaW1hcnlcIj5cbiAgICAgICAgPHA+XG4gICAgICAgICAgPGI+Q29udGVudCBXYXJuaW5nOjwvYj5cbiAgICAgICAgICB7bXNnLnZhbHVlLmNvbnRlbnQuY29udGVudFdhcm5pbmd9XG4gICAgICAgICAgPGJ1dHRvblxuICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXNtIGZsb2F0LXJpZ2h0XCJcbiAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAoc2hvd0NvbnRlbnRXYXJuaW5nID0gIXNob3dDb250ZW50V2FybmluZyl9PlxuICAgICAgICAgICAgSGlkZSBNZXNzYWdlXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG4gICAge0BodG1sIGNvbnRlbnR9XG4gIHsvaWZ9XG48L2Rpdj5cbjxkaXYgY2xhc3M9XCJjYXJkLWZvb3RlclwiPlxuICA8ZGl2IGNsYXNzPVwiY29sdW1ucyBjb2wtZ2FwbGVzc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLTZcIj5cbiAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tc3dpdGNoIGQtaW5saW5lXCI+XG4gICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBvbjpjaGFuZ2U9e2xpa2VDaGFuZ2VkfSBjaGVja2VkPXtsaWtlZH0gLz5cbiAgICAgICAgPGkgY2xhc3M9XCJmb3JtLWljb25cIiAvPlxuICAgICAgICBMaWtlXG4gICAgICA8L2xhYmVsPlxuICAgICAgeyNpZiBtc2cudmFsdWUuY29udGVudC5yb290fVxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj1cIj90aHJlYWQ9e2VuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5yb290KX0jL3RocmVhZFwiXG4gICAgICAgICAgICBvbjpjbGlja3xwcmV2ZW50RGVmYXVsdD17Z29Sb290fT5cbiAgICAgICAgICAgIChyb290KVxuICAgICAgICAgIDwvYT5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgey9pZn1cbiAgICAgIHsjaWYgbXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNofVxuICAgICAgICA8c3Bhbj5cbiAgICAgICAgICA8YVxuICAgICAgICAgICAgaHJlZj1cIj90aHJlYWQ9e2VuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5icmFuY2gpfSMvdGhyZWFkXCJcbiAgICAgICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXtnb0JyYW5jaH0+XG4gICAgICAgICAgICAoaW4gcmVwbHkgdG8pXG4gICAgICAgICAgPC9hPlxuICAgICAgICA8L3NwYW4+XG4gICAgICB7L2lmfVxuICAgIDwvZGl2PlxuXG4gICAgeyNpZiAhbXNnLnZhbHVlLnByaXZhdGV9XG4gICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uIGNvbC02IHRleHQtcmlnaHRcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG9uOmNsaWNrPXtmb3JrfT5Gb3JrPC9idXR0b24+XG5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG9uOmNsaWNrPXtyZXBseX0+UmVwbHk8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIHsvaWZ9XG4gIDwvZGl2PlxuXG48L2Rpdj5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF1RUUsVUFBVSxlQUFDLENBQUMsQUFDVixhQUFhLENBQUUsVUFBVSxBQUMzQixDQUFDIn0= */";
	append(document.head, style);
}

// (85:2) {:else}
function create_else_block(ctx) {
	var t, html_tag;

	var if_block = (ctx.hasContentWarning) && create_if_block_4(ctx);

	return {
		c: function create() {
			if (if_block) if_block.c();
			t = space();
			html_tag = new HtmlTag(ctx.content, null);
		},

		m: function mount(target, anchor) {
			if (if_block) if_block.m(target, anchor);
			insert(target, t, anchor);
			html_tag.m(target, anchor);
		},

		p: function update(changed, ctx) {
			if (ctx.hasContentWarning) {
				if (if_block) {
					if_block.p(changed, ctx);
				} else {
					if_block = create_if_block_4(ctx);
					if_block.c();
					if_block.m(t.parentNode, t);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}
		},

		d: function destroy(detaching) {
			if (if_block) if_block.d(detaching);

			if (detaching) {
				detach(t);
				html_tag.d();
			}
		}
	};
}

// (78:2) {#if hasContentWarning && showContentWarning}
function create_if_block_3(ctx) {
	var p, t0_value = ctx.msg.value.content.contentWarning, t0, t1, button, dispose;

	return {
		c: function create() {
			p = element("p");
			t0 = text(t0_value);
			t1 = space();
			button = element("button");
			button.textContent = "Show Message";
			add_location(p, file, 78, 4, 1996);
			attr(button, "class", "btn");
			add_location(button, file, 79, 4, 2042);
			dispose = listen(button, "click", ctx.click_handler);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, t0);
			insert(target, t1, anchor);
			insert(target, button, anchor);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && t0_value !== (t0_value = ctx.msg.value.content.contentWarning)) {
				set_data(t0, t0_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
				detach(t1);
				detach(button);
			}

			dispose();
		}
	};
}

// (86:4) {#if hasContentWarning}
function create_if_block_4(ctx) {
	var div, p, b, t1, t2_value = ctx.msg.value.content.contentWarning, t2, t3, button, dispose;

	return {
		c: function create() {
			div = element("div");
			p = element("p");
			b = element("b");
			b.textContent = "Content Warning:";
			t1 = space();
			t2 = text(t2_value);
			t3 = space();
			button = element("button");
			button.textContent = "Hide Message";
			add_location(b, file, 88, 10, 2268);
			attr(button, "class", "btn btn-sm float-right");
			add_location(button, file, 90, 10, 2347);
			add_location(p, file, 87, 8, 2254);
			attr(div, "class", "toast toast-primary");
			add_location(div, file, 86, 6, 2212);
			dispose = listen(button, "click", ctx.click_handler_1);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, p);
			append(p, b);
			append(p, t1);
			append(p, t2);
			append(p, t3);
			append(p, button);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && t2_value !== (t2_value = ctx.msg.value.content.contentWarning)) {
				set_data(t2, t2_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			dispose();
		}
	};
}

// (110:6) {#if msg.value.content.root}
function create_if_block_2(ctx) {
	var span, a, t, a_href_value, dispose;

	return {
		c: function create() {
			span = element("span");
			a = element("a");
			t = text("(root)");
			attr(a, "href", a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.root) + "#/thread");
			add_location(a, file, 111, 10, 2917);
			add_location(span, file, 110, 8, 2900);
			dispose = listen(a, "click", prevent_default(ctx.goRoot));
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, a);
			append(a, t);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && a_href_value !== (a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.root) + "#/thread")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}

			dispose();
		}
	};
}

// (119:6) {#if msg.value.content.branch}
function create_if_block_1(ctx) {
	var span, a, t, a_href_value, dispose;

	return {
		c: function create() {
			span = element("span");
			a = element("a");
			t = text("(in reply to)");
			attr(a, "href", a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.branch) + "#/thread");
			add_location(a, file, 120, 10, 3170);
			add_location(span, file, 119, 8, 3153);
			dispose = listen(a, "click", prevent_default(ctx.goBranch));
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, a);
			append(a, t);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && a_href_value !== (a_href_value = "?thread=" + encodeURIComponent(ctx.msg.value.content.branch) + "#/thread")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}

			dispose();
		}
	};
}

// (130:4) {#if !msg.value.private}
function create_if_block(ctx) {
	var div, button0, t_1, button1, dispose;

	return {
		c: function create() {
			div = element("div");
			button0 = element("button");
			button0.textContent = "Fork";
			t_1 = space();
			button1 = element("button");
			button1.textContent = "Reply";
			attr(button0, "class", "btn");
			add_location(button0, file, 131, 8, 3465);
			attr(button1, "class", "btn");
			add_location(button1, file, 133, 8, 3524);
			attr(div, "class", "column col-6 text-right");
			add_location(div, file, 130, 6, 3419);

			dispose = [
				listen(button0, "click", ctx.fork),
				listen(button1, "click", ctx.reply)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, button0);
			append(div, t_1);
			append(div, button1);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			run_all(dispose);
		}
	};
}

function create_fragment(ctx) {
	var div0, t0, div3, div2, div1, label, input, t1, i, t2, t3, t4, t5, dispose;

	function select_block_type(ctx) {
		if (ctx.hasContentWarning && ctx.showContentWarning) return create_if_block_3;
		return create_else_block;
	}

	var current_block_type = select_block_type(ctx);
	var if_block0 = current_block_type(ctx);

	var if_block1 = (ctx.msg.value.content.root) && create_if_block_2(ctx);

	var if_block2 = (ctx.msg.value.content.branch) && create_if_block_1(ctx);

	var if_block3 = (!ctx.msg.value.private) && create_if_block(ctx);

	return {
		c: function create() {
			div0 = element("div");
			if_block0.c();
			t0 = space();
			div3 = element("div");
			div2 = element("div");
			div1 = element("div");
			label = element("label");
			input = element("input");
			t1 = space();
			i = element("i");
			t2 = text("\n        Like");
			t3 = space();
			if (if_block1) if_block1.c();
			t4 = space();
			if (if_block2) if_block2.c();
			t5 = space();
			if (if_block3) if_block3.c();
			attr(div0, "class", "card-body svelte-10kjcnj");
			add_location(div0, file, 76, 0, 1920);
			attr(input, "type", "checkbox");
			input.checked = ctx.liked;
			add_location(input, file, 105, 8, 2731);
			attr(i, "class", "form-icon");
			add_location(i, file, 106, 8, 2805);
			attr(label, "class", "form-switch d-inline");
			add_location(label, file, 104, 6, 2686);
			attr(div1, "class", "column col-6");
			add_location(div1, file, 103, 4, 2653);
			attr(div2, "class", "columns col-gapless");
			add_location(div2, file, 102, 2, 2615);
			attr(div3, "class", "card-footer");
			add_location(div3, file, 101, 0, 2587);
			dispose = listen(input, "change", ctx.likeChanged);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div0, anchor);
			if_block0.m(div0, null);
			insert(target, t0, anchor);
			insert(target, div3, anchor);
			append(div3, div2);
			append(div2, div1);
			append(div1, label);
			append(label, input);
			append(label, t1);
			append(label, i);
			append(label, t2);
			append(div1, t3);
			if (if_block1) if_block1.m(div1, null);
			append(div1, t4);
			if (if_block2) if_block2.m(div1, null);
			append(div2, t5);
			if (if_block3) if_block3.m(div2, null);
		},

		p: function update(changed, ctx) {
			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block0) {
				if_block0.p(changed, ctx);
			} else {
				if_block0.d(1);
				if_block0 = current_block_type(ctx);
				if (if_block0) {
					if_block0.c();
					if_block0.m(div0, null);
				}
			}

			if (changed.liked) {
				input.checked = ctx.liked;
			}

			if (ctx.msg.value.content.root) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_2(ctx);
					if_block1.c();
					if_block1.m(div1, t4);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (ctx.msg.value.content.branch) {
				if (if_block2) {
					if_block2.p(changed, ctx);
				} else {
					if_block2 = create_if_block_1(ctx);
					if_block2.c();
					if_block2.m(div1, null);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (!ctx.msg.value.private) {
				if (!if_block3) {
					if_block3 = create_if_block(ctx);
					if_block3.c();
					if_block3.m(div2, null);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div0);
			}

			if_block0.d();

			if (detaching) {
				detach(t0);
				detach(div3);
			}

			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();
			dispose();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { navigate } = require("../utils.js");
  const { getPref } = require("../prefs.js")

  let { msg } = $$props;
  let contentWarningsExpandByDefault = getPref("content-warnings-expand", "collapsed")
  let content = ssb.markdown(msg.value.content.text);
  let liked = false;
  let hasContentWarning = msg.value.content.contentWarning || false;
  let showContentWarning = contentWarningsExpandByDefault === "collapsed";

  ssb.votes(msg.key).then(ms => {
    ms.forEach(m => {
      let author = m.value.author;
      if (author === ssb.feed && m.value.content.vote.value === 1) {
        $$invalidate('liked', liked = true);
      }
    });
  });

  const likeChanged = ev => {
    let v = ev.target.checked;
    if (v) {
      ssb
        .like(msg.key)
        .then(() => console.log("liked", msg.key))
        .catch(() => { const $$result = (liked = false); $$invalidate('liked', liked); return $$result; });
    } else {
      ssb
        .unlike(msg.key)
        .then(() => console.log("unliked", msg.key))
        .catch(() => { const $$result = (liked = true); $$invalidate('liked', liked); return $$result; });
    }
  };

  const reply = ev => {
    let root = msg.value.content.root || msg.key;
    let channel = msg.value.content.channel;
    let replyfeed = msg.value.author;
    navigate("/compose", { root, branch: msg.key, channel, replyfeed });
  };

  const fork = ev => {
    let originalRoot = msg.value.content.root || msg.key;
    let channel = msg.value.content.channel;
    let replyfeed = msg.value.author;
    navigate("/compose", {
      root: msg.key,
      branch: msg.key,
      fork: originalRoot,
      channel,
      replyfeed
    });
  };

  const goRoot = ev => {
    let rootId = msg.value.content.root || msg.key;
    navigate("/thread", { thread: rootId });
  };

  const goBranch = ev => {
    let branchId = msg.value.content.branch || msg.key;
    navigate("/thread", { thread: branchId });
  };

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console_1.warn(`<PostMsg> was created with unknown prop '${key}'`);
	});

	function click_handler() {
		const $$result = (showContentWarning = !showContentWarning);
		$$invalidate('showContentWarning', showContentWarning);
		return $$result;
	}

	function click_handler_1() {
		const $$result = (showContentWarning = !showContentWarning);
		$$invalidate('showContentWarning', showContentWarning);
		return $$result;
	}

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		msg,
		content,
		liked,
		hasContentWarning,
		showContentWarning,
		likeChanged,
		reply,
		fork,
		goRoot,
		goBranch,
		click_handler,
		click_handler_1
	};
}

class PostMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-10kjcnj-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console_1.warn("<PostMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<PostMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<PostMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = PostMsg;

},{"../prefs.js":28,"../utils.js":30,"svelte/internal":8}],23:[function(require,module,exports){
/* PrivateMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	noop,
	safe_not_equal
} = require("svelte/internal");

const file = "PrivateMsg.svelte";

function create_fragment(ctx) {
	var div, p;

	return {
		c: function create() {
			div = element("div");
			p = element("p");
			p.textContent = "🔒 PRIVATE";
			add_location(p, file, 5, 0, 67);
			attr(div, "class", "card-body");
			add_location(div, file, 4, 0, 42);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, p);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let { msg } = $$props;

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<PrivateMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return { msg };
}

class PrivateMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console.warn("<PrivateMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<PrivateMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<PrivateMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = PrivateMsg;

},{"svelte/internal":8}],24:[function(require,module,exports){
/* PubMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	set_data,
	text
} = require("svelte/internal");

const file = "PubMsg.svelte";

function create_fragment(ctx) {
	var div, t0, t1, a, t2, t3, t4, a_href_value, dispose;

	return {
		c: function create() {
			div = element("div");
			t0 = text(ctx.person);
			t1 = text(" announced pub\r\n  ");
			a = element("a");
			t2 = text(ctx.host);
			t3 = text(":");
			t4 = text(ctx.port);
			attr(a, "href", a_href_value = "/index.html?feed=" + ctx.encodedid + "#/profile");
			add_location(a, file, 22, 2, 574);
			attr(div, "class", "card-body");
			add_location(div, file, 20, 0, 520);
			dispose = listen(a, "click", ctx.goProfile);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
			append(div, a);
			append(a, t2);
			append(a, t3);
			append(a, t4);
		},

		p: function update(changed, ctx) {
			if (changed.person) {
				set_data(t0, ctx.person);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			dispose();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { navigate } = require("../utils.js");

  let { msg } = $$props;

  let encodedid = encodeURIComponent(msg.value.content.address.key);
  let person = msg.value.author;
  let host = msg.value.content.address.host
  let port = msg.value.content.address.port

  ssb.avatar(msg.value.author).then(data => { const $$result = (person = data.name); $$invalidate('person', person); return $$result; });

  
  const goProfile = ev => {
    ev.stopPropagation();
    ev.preventDefault();
    navigate("/profile", { feed: msg.value.content.address.key });
  };

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<PubMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		msg,
		encodedid,
		person,
		host,
		port,
		goProfile
	};
}

class PubMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console.warn("<PubMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<PubMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<PubMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = PubMsg;

},{"../utils.js":30,"svelte/internal":8}],25:[function(require,module,exports){
/* VoteMsg.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const file = "VoteMsg.svelte";

function create_fragment(ctx) {
	var div, t0, t1, t2, t3, a, t4, a_href_value, dispose;

	return {
		c: function create() {
			div = element("div");
			t0 = text(ctx.person);
			t1 = space();
			t2 = text(ctx.expression);
			t3 = space();
			a = element("a");
			t4 = text(ctx.label);
			attr(a, "href", a_href_value = "/index.html?thread=" + ctx.encodedid + "#/thread");
			add_location(a, file, 29, 2, 752);
			attr(div, "class", "card-body");
			add_location(div, file, 27, 0, 699);
			dispose = listen(a, "click", ctx.goThread);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
			append(div, t2);
			append(div, t3);
			append(div, a);
			append(a, t4);
		},

		p: function update(changed, ctx) {
			if (changed.person) {
				set_data(t0, ctx.person);
			}

			if (changed.label) {
				set_data(t4, ctx.label);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			dispose();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { navigate } = require("../utils.js");
  let { msg } = $$props;

  let expression = msg.value.content.vote.expression || "liked";
  let msgid = msg.value.content.vote.link;
  let encodedid = encodeURIComponent(msgid);
  let label = msgid;
  let person = msg.value.author;

  ssb.blurbFromMsg(msgid, 100).then(blurb => {
    $$invalidate('label', label = blurb);
  });

  ssb.avatar(msg.value.author).then(data => { const $$result = (person = data.name); $$invalidate('person', person); return $$result; });

  const goThread = ev => {
    ev.stopPropagation();
    ev.preventDefault();
    if (ev.ctrlKey) {
      window.open(`?thread=${encodeURIComponent(msgid)}#/thread`);
    } else {
      navigate("/thread", { thread: msgid });
    }
  };

	const writable_props = ['msg'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<VoteMsg> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('msg' in $$props) $$invalidate('msg', msg = $$props.msg);
	};

	return {
		msg,
		expression,
		encodedid,
		label,
		person,
		goThread
	};
}

class VoteMsg extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["msg"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.msg === undefined && !('msg' in props)) {
			console.warn("<VoteMsg> was created without expected prop 'msg'");
		}
	}

	get msg() {
		throw new Error("<VoteMsg>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set msg(value) {
		throw new Error("<VoteMsg>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = VoteMsg;

},{"../utils.js":30,"svelte/internal":8}],26:[function(require,module,exports){
/* AvatarChip.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	empty,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const file = "AvatarChip.svelte";

// (29:0) {:else}
function create_else_block(ctx) {
	var span, t, dispose;

	return {
		c: function create() {
			span = element("span");
			t = text(ctx.name);
			attr(span, "class", "chip");
			add_location(span, file, 29, 2, 600);
			dispose = listen(span, "click", ctx.avatarClick);
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, t);
		},

		p: function update(changed, ctx) {
			if (changed.name) {
				set_data(t, ctx.name);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}

			dispose();
		}
	};
}

// (24:0) {#if image}
function create_if_block(ctx) {
	var div, img, t0, t1, dispose;

	return {
		c: function create() {
			div = element("div");
			img = element("img");
			t0 = space();
			t1 = text(ctx.name);
			attr(img, "src", ctx.image);
			attr(img, "class", "avatar avatar-sm");
			add_location(img, file, 25, 4, 520);
			attr(div, "class", "chip");
			add_location(div, file, 24, 2, 473);
			dispose = listen(div, "click", ctx.avatarClick);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, img);
			append(div, t0);
			append(div, t1);
		},

		p: function update(changed, ctx) {
			if (changed.image) {
				attr(img, "src", ctx.image);
			}

			if (changed.name) {
				set_data(t1, ctx.name);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			dispose();
		}
	};
}

function create_fragment(ctx) {
	var if_block_anchor;

	function select_block_type(ctx) {
		if (ctx.image) return create_if_block;
		return create_else_block;
	}

	var current_block_type = select_block_type(ctx);
	var if_block = current_block_type(ctx);

	return {
		c: function create() {
			if_block.c();
			if_block_anchor = empty();
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			if_block.m(target, anchor);
			insert(target, if_block_anchor, anchor);
		},

		p: function update(changed, ctx) {
			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
				if_block.p(changed, ctx);
			} else {
				if_block.d(1);
				if_block = current_block_type(ctx);
				if (if_block) {
					if_block.c();
					if_block.m(if_block_anchor.parentNode, if_block_anchor);
				}
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if_block.d(detaching);

			if (detaching) {
				detach(if_block_anchor);
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { createEventDispatcher } = require("svelte");
  let { feed } = $$props;

  let image = false;
  let name = feed;
  const dispatch = createEventDispatcher();

  ssb.avatar(feed).then(data => {
    if (data.image !== null) {
      $$invalidate('image', image = `http://localhost:8989/blobs/get/${data.image}`);
    }
    $$invalidate('name', name = data.name);
  });

  function avatarClick() {
    dispatch("avatarClick", {
      feed,
      name
    });
  }

	const writable_props = ['feed'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<AvatarChip> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('feed' in $$props) $$invalidate('feed', feed = $$props.feed);
	};

	return { feed, image, name, avatarClick };
}

class AvatarChip extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["feed"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.feed === undefined && !('feed' in props)) {
			console.warn("<AvatarChip> was created without expected prop 'feed'");
		}
	}

	get feed() {
		throw new Error("<AvatarChip>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set feed(value) {
		throw new Error("<AvatarChip>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = AvatarChip;

},{"svelte":7,"svelte/internal":8}],27:[function(require,module,exports){
const timeago = require("timeago-simple")

const timestamp = t => {

    return timeago.simple(new Date(t))
}

module.exports = {timestamp}
},{"timeago-simple":11}],28:[function(require,module,exports){
let savedData = {}

const loadConfiguration = async () => {
    console.log("Loading configuration...")
    try {
        let data = await browser.storage.local.get()

        if (data.hasOwnProperty("keys")) {
            savedData = data
        } else {
            throw "Configuration is missing"
        }
    } catch (n) {
        throw "Configuration is missing"
    }
}

const getPref = (key, defaultValue) => {
    if (savedData.preferences) {
        if (savedData.preferences.hasOwnProperty(key)) {
            return savedData.preferences[key]
        }
    }
    return defaultValue
}


const setConnectionConfiguration = ({ keys, remote, manifest }) => {
    savedData.keys = keys
    savedData.remote = remote
    savedData.manifest = manifest

    browser.storage.local.set(savedData)

}

const setPref = (key, value) => {
    savedData.preferences = savedData.preferences || {}
    savedData.preferences[key] = value

    browser.storage.local.set(savedData)
}

const savedKeys = () => {
    return savedData.keys
}

module.exports = {
    loadConfiguration,
    setPref,
    getPref,
    setConnectionConfiguration,
    savedKeys
}
},{}],29:[function(require,module,exports){
/**
 * SSB
 *
 * TL;DR: SSB API for Patchfox using Hermiebox.
 *
 * OBJECTIVE:
 * The SSB is in flux right now. There are many approaches being played with which might
 * affect how this WebExtension connect to sbot. Some of the experiments being tried out are:
 *
 * - lessbot/nobot: each app maintain its own database and index but post through a shared sbot.
 * - graphql: export a GraphQL server which offers SSB features.
 * - json-rpc: export a JSON-RPC server offering SSB features.
 *
 * This driver folder will contain the various adapters to use these modes of connection as they
 * become available. For now, we'll use hermiebox.
 *
 * **Important: Each driver should export the exact same API to Patchfox**. This way we can
 * switch drivers without having to refactor the add-on.
 *
 * HOW IT WORKS:
 * Hermiebox is a browserified fat package of common NodeJS modules from our community and also
 * few highlevel API methods for common tasks. It uses WebSockets to connect to a running sbot
 * using muxrpc and shs stuff, so it needs your `secret` to be available.
 * 
 * ATTENTION:
 * This is a legacy from when Patchfox was vanilla JS. I'm gonna need to refactor this a lot
 * 
 * TODO: Refactor to use `ssb-query`
 */


const { getPref } = require("./prefs.js")
const { isMessageHidden } = require("./abusePrevention.js")

const pull = hermiebox.modules.pullStream
const sort = hermiebox.modules.ssbSort

let sbot = false

let avatarCache = {}
let msgCache = {}

class SSB {

    log(pMsg, pVal = "") {
        console.log(`[SSB API] - ${pMsg}`, pVal)
    }

    async connect(pKeys) {
        var server = await hermiebox.api.connect(pKeys)
        this.log("you are", server.id)
        this.feed = server.id
        sbot = server
    }

    filterLimit() {
        let limit = getPref("limit", 10)
        return pull.take(limit)
    }

    filterWithUserFilters() {
        return pull.filter(m => isMessageHidden(m))
    }

    filterTypes() {
        let knownMessageTypes = {
            "post": "showTypePost",
            "about": "showTypeAbout",
            "vote": "showTypeVote",
            "contact": "showTypeContact",
            "pub": "showTypePub",
            "blog": "showTypeBlog",
            "channel": "showTypeChannel"
        }

        let showUnknown = false

        if (showUnknown) {
            return pull.filter(() => true);
        }

        return pull.filter(msg => {
            let type = msg.value.content.type

            if (typeof type == "string" && knownMessageTypes[type]) {
                return getPref(knownMessageTypes[type], true)
            }
            return getPref("showTypeUnknown", false)
        })
    }



    public(opts) {
        return new Promise((resolve, reject) => {

            opts = opts || {}
            opts.reverse = opts.reverse || true

            console.log("opts", opts)

            pull(
                sbot.createFeedStream(opts),
                pull.filter(msg => msg && msg.value && msg.value.content),
                this.filterTypes(),
                this.filterWithUserFilters(),
                this.filterLimit(),
                pull.collect((err, msgs) => {
                    console.log("msgs", msgs)
                    if (err) {
                        reject(err)
                    }

                    resolve(msgs)
                })
            )
        })
    }

    thread(id) {
        return new Promise((resolve, reject) => {
            sbot.get(id, (err, value) => {
                if (err) return cb(err)
                var rootMsg = { key: id, value: value }
                pull(
                    sbot.backlinks && sbot.backlinks.read ? sbot.backlinks.read({
                        query: [
                            {
                                $filter: {
                                    dest: id,
                                    value: {
                                        content: {

                                            root: id
                                        }
                                    }
                                }
                            }
                        ]
                    }) : pull(
                        sbot.links({ dest: id, values: true, rel: 'root' }),
                        pull.filter(function (msg) {
                            var c = msg && msg.value && msg.value.content
                            return c && c.type === 'post' && c.root === id
                        }),
                        pull.unique('key')
                    ),
                    this.filterTypes(),
                    this.filterWithUserFilters(),
                    this.filterLimit(),
                    pull.collect((err, msgs) => {
                        if (err) reject(err)
                        resolve(sort([rootMsg].concat(msgs)))
                    })
                )
            })
        })
    }

    mentions(feed, lt) {
        return new Promise((resolve, reject) => {
            const createBacklinkStream = id => {
                var filterQuery = {
                    $filter: {
                        dest: id
                    }
                };

                if (lt) {
                    filterQuery.$filter.value = { timestamp: { $lt: lt } };
                }

                return sbot.backlinks.read({
                    query: [filterQuery],
                    index: "DTA", // use asserted timestamps
                    reverse: true,
                });
            };

            const uniqueRoots = msg => {
                return pull.filter(msg => {
                    let msgKey = msg.key;
                    if (msg.value.content.type !== "post") {
                        return true;
                    }
                    let rootKey = msg.value.content.root || false;
                    if (rootKey) {
                        if (msgs.some(m => m.value.content.root === rootKey)) {
                            return false;
                        }
                    }
                    return true;
                });
            };

            const mentionUser = msg => {
                return pull.filter(msg => {
                    if (msg.value.content.type !== "post") {
                        return true;
                    }
                    let mentions = msg.value.content.mentions || [];
                    if (mentions.some(m => m.link == sbot.id)) {
                        return true;
                    }
                    return false;
                });
            };

            pull(
                createBacklinkStream(sbot.id),
                this.filterTypes(),
                this.filterWithUserFilters(),
                this.filterLimit(),
                pull.collect((err, msgs) => {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msgs)
                    }
                })
            );
        })
    }

    search(query, lt) {
        return new Promise((resolve, reject) => {
            let q = query.toLowerCase();
            let limit = parseInt(getPref("limit", 10))
            pull(
                pull(sbot => sbot.search.query({ q, limit })),
                this.filterTypes(),
                this.filterWithUserFilters(),
                this.filterLimit(),
                pull.collect((err, msgs) => {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msgs)
                    }
                })
            );
        })
    }

    searchWithCallback(query, cb) {
        const matchesQuery = searchFilter(query.split(" "))
        const opts = { reverse: true, live: true, private: true }

        function searchFilter(terms) {
            return function (msg) {
                if (msg.sync) return true
                const c = msg && msg.value && msg.value.content
                return c && (
                    msg.key === terms[0] || andSearch(terms.map(function (term) {
                        return new RegExp('\\b' + term + '\\b', 'i')
                    }), [c.text, c.name, c.title])
                )
            }
        }

        function andSearch(terms, inputs) {
            for (let i = 0; i < terms.length; i++) {
                let match = false
                for (let j = 0; j < inputs.length; j++) {
                    if (terms[i].test(inputs[j])) match = true
                }
                // if a term was not matched by anything, filter this one
                if (!match) return false
            }
            return true
        }

        return new Promise((resolve, reject) => {
            if (sbot) {
                try {
                    let q = query.toLowerCase();
                    pull(
                        sbot.createLogStream(opts),
                        pull.filter(matchesQuery),
                        this.filterTypes(),
                        this.filterWithUserFilters(),
                        this.filterLimit(),
                        pull.drain((msg) => {
                            if (!msg.sync) {
                                cb(msg)
                            }
                        }, () => resolve())
                    );
                } catch (e) {
                    reject(e)
                }
            } else {
                reject("no sbot")
            }
        })
    }

    async profile(feedid) {
        try {
            var user = await hermiebox.api.profile(feedid)
            return user

        } catch (n) {
            console.error(n)
            return false
        }
    }

    async get(msgid) {
        var msg = await hermiebox.api.get(msgid)
        return msg
    }

    async setAvatarCache(feed, data) {
        let s = {}
        s[`avatar-${feed}`] = data
        return browser.storage.local.set(s)
    }

    async getCachedAvatar(feed) {
        return browser.storage.local.get(`avatar-${feed}`)
    }

    async avatar(feed) {
        const getAvatarAux = async feed => {
            let avatar = await hermiebox.api.avatar(feed)
            // await this.setAvatarCache(feed, avatar)
            avatarCache[feed] = avatar
            localStorage.setItem(`profile-${feed}`, JSON.stringify(avatar))
            return avatar
        }

        if (avatarCache[feed]) {
            setTimeout(() => getAvatarAux(feed), 300) // update cache...
            return avatarCache[feed]
        }
        try {
            return getAvatarAux(feed)
        } catch (n) {
            throw n
        }

    }

    async loadCaches() {
        console.time("avatar cache")
        let allSavedData = { ...localStorage }
        delete allSavedData["/.ssb/secret"]
        let keys = Object.keys(allSavedData)
        keys.forEach(k => {
            let key = k.replace("profile-", "")
            avatarCache[key] = JSON.parse(allSavedData[k])
        })

        console.timeEnd("avatar cache")
        console.log(`cached ${Object.keys(avatarCache).length} users`)

    }

    async blurbFromMsg(msgid, howManyChars) {
        let retVal = msgid

        try {
            if (msgCache[msgid]) {
                return msgCache[msgid]
            }
            let data = await ssb.get(msgid)

            if (data.content.type == "post") {
                retVal = this.plainTextFromMarkdown(data.content.text.slice(0, howManyChars) + "...")
            }
            msgCache[msgid] = retVal
            return retVal
        } catch (n) {
            return retVal
        }
    }
    plainTextFromMarkdown(text) {
        // TODO: this doesn't belong here
        let html = this.markdown(text)
        let div = document.createElement("div")
        div.innerHTML = html
        return div.innerText
    }

    markdown(text) {

        function replaceMsgID(match, id, offset, string) {
            let eid = encodeURIComponent(`%${id}`);

            return `<a class="thread-link" href="?thread=${eid}#/thread`;
        }

        function replaceChannel(match, id, offset, string) {
            let eid = encodeURIComponent(id);

            return `<a class="channel-link" href="?channel=${eid}#/channel`;
        }


        function replaceFeedID(match, id, offset, string) {
            let eid = encodeURIComponent(`@${id}`);
            return "<a class=\"profile-link\" href=\"?feed=" + eid + "#/profile";
        }


        function replaceImageLinks(match, id, offset, string) {
            return "<a class=\"image-link\" target=\"_blank\" href=\"http://localhost:8989/blobs/get/&" + encodeURIComponent(id);
        }


        function replaceImages(match, id, offset, string) {
            return "<img class=\"is-image-from-blob\" src=\"http://localhost:8989/blobs/get/&" + encodeURIComponent(id);
        }

        function replaceVideos(match, id, offset, string) {
            return "<video controls class=\"is-video-from-blob\" src=\"http://localhost:8989/blobs/get/&" + encodeURIComponent(id);
        }

        function replaceAudios(match, id, offset, string) {
            return "<audio controls class=\"is-audio-from-blob\" src=\"http://localhost:8989/blobs/get/&" + encodeURIComponent(id);
        }

        let opts = {
            toUrl: ref => {
                return ref
            }
        }
        let html = hermiebox.modules.ssbMarkdown.block(text, opts)
        html = html
            .replace(/<pre>/gi, "<pre class=\"code\">")
            .replace(/<a href="#([^"]*)/gi, replaceChannel)
            .replace(/<a href="@([^"]*)/gi, replaceFeedID)
            .replace(/target="_blank"/gi, "")
            .replace(/<a href="%([^"]*)/gi, replaceMsgID)
            .replace(/<img src="&([^"]*)/gi, replaceImages)
            .replace(/<video controls src="&([^"]*)/gi, replaceVideos)
            .replace(/<audio controls src="&([^"]*)/gi, replaceAudios)
            .replace(/<a href="&([^"]*)/gi, replaceImageLinks)

        return html
    }

    ref() {
        return hermiebox.modules.ssbRef
    }

    getTimestamp(msg) {
        const arrivalTimestamp = msg.timestamp;
        const declaredTimestamp = msg.value.timestamp;
        return Math.min(arrivalTimestamp, declaredTimestamp);
    }

    getRootMsgId(msg) {
        if (msg && msg.value && msg.value.content) {
            const root = msg.value.content.root;
            if (hermiebox.modules.ssbRef.isMsgId(root)) {
                return root;
            }
        }
    }

    newPost(data) {
        return new Promise((resolve, reject) => {
            let msgToPost = { type: "post", text: data.text }

            const commonFields = [
                "root",
                "branch",
                "channel",
                "fork",
                "contentWarning"
            ]

            commonFields.forEach(f => {
                if (typeof data[f] !== "undefined") {
                    msgToPost[f] = data[f]
                }
            })

            msgToPost.mentions = hermiebox.modules.ssbMentions(msgToPost.text) || []

            if (msgToPost.contentWarning && msgToPost.contentWarning.length > 0) {
                let moreMentions = hermiebox.modules.ssbMentions(msgToPost.contentWarning)
                msgToPost.mentions = msgToPost.mentions.concat(moreMentions)
            }

            msgToPost.mentions = msgToPost.mentions.filter(n => n) // prevent null elements...

            const sbot = hermiebox.sbot || false

            console.log("post", msgToPost)

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            } else {
                reject("There is no sbot connection")
            }
        })
    }

    newBlogPost(data) {
        return new Promise((resolve, reject) => {
            let msgToPost = { type: "blog" }
            let blogContent = data.content

            const commonFields = [
                "channel",
                "contentWarning",
                "thumbnail",
                "title",
                "summary"
            ]

            commonFields.forEach(f => {
                if (typeof data[f] !== "undefined" && data[f].length > 0) {
                    msgToPost[f] = data[f]
                }
            })

            msgToPost.mentions = hermiebox.modules.ssbMentions(blogContent) || []

            if (msgToPost.contentWarning && msgToPost.contentWarning.length > 0) {
                let moreMentions = hermiebox.modules.ssbMentions(msgToPost.contentWarning)
                msgToPost.mentions = msgToPost.mentions.concat(moreMentions)
            }

            msgToPost.mentions = msgToPost.mentions.filter(n => n) // prevent null elements...

            const sbot = hermiebox.sbot || false

            if (sbot) {
                pull(
                    pull.values([blogContent]),
                    sbot.blobs.add(function (err, hash) {
                        // 'hash' is the hash-id of the blob
                        if (err) {
                            reject("could not create blog post blob: " + err)
                        } else {
                            msgToPost.blog = hash;

                            console.log("blog post", msgToPost)

                            sbot.publish(msgToPost, function (err, msg) {
                                if (err) {
                                    reject(err)
                                } else {
                                    resolve(msg)
                                }
                            })
                        }
                    })
                );


            } else {
                reject("There is no sbot connection")
            }
        })
    }


    getBlob(blobid) {
        return hermiebox.api.getBlob(blobid)
    }

    votes(msgid) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot

            if (sbot) {
                pull(
                    sbot.links({ dest: msgid, rel: "vote", values: true }),
                    pull.collect((err, msgs) => {
                        if (err) {
                            reject(err)
                        } else {
                            resolve(msgs)
                        }
                    })
                )
            }
        })
    }

    like(msgid) {
        return new Promise((resolve, reject) => {

            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "vote",
                "vote": {
                    "link": msgid,
                    "value": 1,
                    "expression": "Like"
                }
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    unlike(msgid) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "vote",
                "vote": {
                    "link": msgid,
                    "value": 0,
                    "expression": "Unlike"
                }
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    channels() {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false

            if (sbot) {
                console.log("querying channels")
                pull(
                    sbot.query.read({
                        query: [
                            { "$filter": { "value": { "content": { "channel": { "$is": "string" }, "type": "post" } } } },
                            {
                                "$reduce": {
                                    "channel": ["value", "content", "channel"],
                                    "count": { "$count": true },
                                    "timestamp": { "$max": ["value", "timestamp"] }
                                }
                            },
                            { "$sort": [["timestamp"], ["count"]] }
                        ],
                        limit: 20
                    }),
                    pull.collect(function (err, data) {
                        console.log("channels", data)
                        if (err) {
                            reject(err)
                        } else {
                            resolve(data)
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }

    channel(channel, opts) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false
            let query = {
                "$filter": {
                    value: {
                        content: { channel }
                    }
                },
                "$sort": [["value", "timestamp"]]

            }

            if (opts.lt) {
                query.$filter.value.timestamp = { $lt: opts.lt }
            }

            if (sbot) {
                pull(
                    sbot.query.read({
                        query: [
                            query
                        ],
                        reverse: true
                    }),
                    this.filterTypes(),
                    this.filterWithUserFilters(),
                    this.filterLimit(),
                    pull.collect(function (err, data) {
                        if (err) {
                            reject(err)
                        } else {
                            resolve(data)
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }

    channelSubscribe(channel) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "channel",
                "channel": channel,
                "subscribed": true
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    channelUnsubscribe(channel) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "channel",
                "channel": channel,
                "subscribed": false
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    channelSubscribed(channel, feed) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false

            if (sbot) {
                if (!feed) {
                    feed = sbot.id
                }

                let query = {
                    "$filter": {
                        value: {
                            author: feed,
                            content: {
                                type: "channel",
                                channel
                            }
                        }
                    }
                }


                pull(
                    sbot.query.read({
                        query: [
                            query
                        ],
                        reverse: true
                    }),
                    pull.collect(function (err, data) {
                        if (err) {
                            reject(err)
                        } else {
                            if (data.length > 0) {
                                resolve(data[0].value.content.subscribed || false)
                            } else {
                                resolve(false)
                            }
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }

    subscribedChannels(channel, feed) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false

            if (sbot) {
                if (!feed) {
                    feed = sbot.id
                }

                let query = {
                    "$filter": {
                        value: {
                            author: feed,
                            content: {
                                type: "channel"
                            }
                        }
                    },
                    "$map": {
                        channel: ["value", "content", "channel"],
                        subscribed: ["value", "content", "subscribed"]
                    },
                    "$sort": [["value", "timestamp"]]
                }


                pull(
                    sbot.query.read({
                        query: [
                            query
                        ],
                        reverse: true
                    }),
                    pull.collect(function (err, data) {
                        if (err) {
                            reject(err)
                        } else {
                            resolve(data)
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }

    follow(feed) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "contact",
                "contact": feed,
                "following": true
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    unfollow(feed) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "contact",
                "contact": feed,
                "following": false
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    block(feed) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "contact",
                "contact": feed,
                "blocking": true
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    unblock(feed) {
        return new Promise((resolve, reject) => {
            const sbot = hermiebox.sbot || false

            const msgToPost = {
                "type": "contact",
                "contact": feed,
                "blocking": false
            }

            if (sbot) {
                sbot.publish(msgToPost, function (err, msg) {
                    if (err) {
                        reject(err)
                    } else {
                        resolve(msg)
                    }
                })
            }
        })
    }

    following(feed, byWhom) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false

            if (sbot) {
                if (!byWhom) {
                    byWhom = sbot.id
                }

                let query = {
                    "$filter": {
                        value: {
                            author: byWhom,
                            content: {
                                type: "contact",
                                contact: feed,
                                following: { $is: "boolean" }
                            }
                        }
                    }
                }


                pull(
                    sbot.query.read({
                        query: [
                            query
                        ],
                        reverse: true
                    }),
                    pull.collect(function (err, data) {
                        if (err) {
                            reject(err)
                        } else {
                            if (data.length > 0) {
                                resolve(data[0].value.content.following || false)
                            } else {
                                resolve(false)
                            }
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }

    blocking(feed, byWhom) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false

            if (sbot) {
                if (!byWhom) {
                    byWhom = sbot.id
                }

                let query = {
                    "$filter": {
                        value: {
                            author: byWhom,
                            content: {
                                type: "contact",
                                contact: feed,
                                blocking: { $is: "boolean" }
                            }
                        }
                    }
                }


                pull(
                    sbot.query.read({
                        query: [
                            query
                        ],
                        reverse: true
                    }),
                    pull.collect(function (err, data) {
                        if (err) {
                            reject(err)
                        } else {
                            if (data.length > 0) {
                                resolve(data[0].value.content.blocking || false)
                            } else {
                                resolve(false)
                            }
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }

    query(filter, reverse, map, reduce) {
        return new Promise((resolve, reject) => {
            if (sbot) {

                let query = {
                    "$filter": filter
                }

                if (map) {
                    query.$map = map
                }

                if (reduce) {
                    query.$reduce = reduce
                }

                if (typeof reverse == "undefined") {
                    reverse = true
                }

                pull(
                    sbot.query.read({
                        query: [
                            query
                        ],
                        reverse: reverse
                    }),
                    this.filterTypes(),
                    this.filterLimit(),
                    pull.collect((err, data) => {
                        if (err) {
                            reject(err)
                        } else {
                            resolve(data)
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }


    friendship(source, dest) {
        return new Promise((resolve, reject) => {
            let pull = hermiebox.modules.pullStream
            let sbot = hermiebox.sbot || false

            if (sbot) {
                let query = {
                    "$filter": {
                        value: {
                            author: source,
                            content: {
                                type: "contact"
                            }
                        }
                    }
                }


                pull(
                    sbot.query.read({
                        query: [
                            query
                        ]
                    }),
                    pull.collect((err,data) => {
                        if (err) {
                            reject(err)
                        } else {
                            resolve(data)
                        }
                    })
                )
            } else {
                reject("no sbot")
            }
        })
    }
}

module.exports.SSB = SSB

},{"./abusePrevention.js":14,"./prefs.js":28}],30:[function(require,module,exports){
const { writable, derived } = require("svelte/store")
const { SSB } = require("./ssb")
const { savedKeys } = require("./prefs.js")

const queryString = require("query-string")
const Public = require("./views/Public.svelte")
const Default = require("./views/Default.svelte")
const Compose = require("./views/compose/Compose.svelte")
const ComposeBlog = require("./views/compose/blog/ComposeBlog.svelte")
const Thread = require("./views/Thread.svelte")
const Profile = require("./views/profile/Profile.svelte")
const ErrorView = require("./views/ErrorView.svelte")
const Channels = require("./views/Channels.svelte")
const Channel = require("./views/Channel.svelte")
const Mentions = require("./views/Mentions.svelte")
const Settings = require("./views/settings/Settings.svelte")
const Search = require("./views/Search.svelte");

const parseLocation = () => {
  let data = queryString.parse(window.location.search)
  let loc = window.location.hash.slice(1).replace("?", "")
  return { data, location: loc }
};

const intercept = () => {
  let r = parseLocation()
  if (r.location == "/intercept" && r.data.query) {
    let hash = r.data.query.replace("ssb:", "")
    let sigil = hash[0]
    switch (sigil) {
      case "%":
        window.location = `/index.html?thread=${encodeURIComponent(hash)}#/thread`
        break
      case "&":
        window.location = `http://localhost:8989/blobs/get/${hash}`
        break
      case "@":
        window.location = `/index.html?feed=${encodeURIComponent(hash)}#/profile`
        break
      case "#":
        window.location = `/index.html?channel=${hash.replace("#", "")}#/channel`
        break
    }
  }
}

const connected = writable(false);

// maybe in the future, migrate routing system to:
// https://github.com/ItalyPaleAle/svelte-spa-router
const route = writable(parseLocation());
const routeParams = derived(route, $route => $route.data)
const routeLocation = derived(route, $route => $route.location)

const navigate = (location, data) => {
  data = data || {}
  route.set({ location, data });
  let dataAsQuery = queryString.stringify(data);
  let url = `/index.html?${dataAsQuery}#${location}`;
  console.log("navigate url", url)
  history.pushState({ location, data }, `Patchfox - ${location}`, `/index.html?${dataAsQuery}#${location}`);
  console.log(`Navigate ${location}`, data);
};


const routes = {
  "/thread": Thread,
  "/public": Public,
  "/compose/post": Compose,
  "/compose/blog": ComposeBlog,
  "/compose": Compose,
  "/profile": Profile,
  "/error": ErrorView,
  "/channels": Channels,
  "/channel": Channel,
  "/settings": Settings,
  "/mentions": Mentions,
  "/search": Search,
  "*": Default
};



const currentView = derived([connected, route], ([$connected, $route]) => {
  let r = $route.location
  if ($connected) {
    if (routes.hasOwnProperty(r)) {
      return routes[r];
    } else {
      console.log("didn't find", r);
      return routes["*"];
    }
  } else {
    if (r === "/settings") {
      return Settings
    } else {
      return routes["*"];
    }
  }


});


/// connection stuff

const configurationMissing = () => {
  console.log("config missing");
  window.location = "/docs/index.html#/troubleshooting/no-configuration";
};

const cantConnect = () => {
  console.log("config missing");
  window.location = "/docs/index.html#/troubleshooting/no-connection";
};

const connect = async () => {
  console.log("Connecting to sbot...")
  window.ssb = new SSB();

  try {
    await ssb.connect(savedKeys())
    connected.set(true);
  } catch (err) {
    console.error("can't connect", err);
    connected.set(false)
    throw "Can't connect to sbot"
  }
}

const reconnect = () => {
  return new Promise((resolve, reject) => {
    const tryConnect = (data) => {
      window.ssb = new SSB();

      ssb
        .connect(data.keys)
        .then(data => {
          console.log("connected");
          connected.set(true);
          resolve()
        })
        .catch(err => {
          console.error("can't reconnect", err);
          reject(err);
        });
    }

    browser.storage.local
      .get()
      .then(tryConnect, reject);
  })
}

const loadCaches = async () => {
  await ssb.loadCaches();
}

const keepPinging = () => {
  let interval = setInterval(() => {
    if (hermiebox.sbot) {
      hermiebox.sbot.whoami((err, v) => {
        if (err) {
          console.error("can't call whoami", err);
          reconnect().catch(n => {
            console.error("can't reconnect");
            clearInterval(interval);
            navigate("/error", { error: n });
          });
        }
      });
    }
  }, 5000);
}

module.exports = {
  connected,
  parseLocation,
  routeParams,
  intercept,
  connect,
  route,
  routeParams,
  routeLocation,
  navigate,
  currentView,
  reconnect,
  keepPinging,
  loadCaches
}
},{"./prefs.js":28,"./ssb":29,"./views/Channel.svelte":31,"./views/Channels.svelte":32,"./views/Default.svelte":33,"./views/ErrorView.svelte":34,"./views/Mentions.svelte":35,"./views/Public.svelte":36,"./views/Search.svelte":37,"./views/Thread.svelte":38,"./views/compose/Compose.svelte":39,"./views/compose/blog/ComposeBlog.svelte":40,"./views/profile/Profile.svelte":44,"./views/settings/Settings.svelte":52,"query-string":3,"svelte/store":9}],31:[function(require,module,exports){
/* Channel.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	assign,
	attr,
	check_outros,
	component_subscribe,
	destroy_component,
	detach,
	element,
	empty,
	globals,
	group_outros,
	handle_promise,
	init,
	insert,
	listen,
	mount_component,
	noop,
	outro_and_destroy_block,
	prevent_default,
	run_all,
	safe_not_equal,
	space,
	stop_propagation,
	text,
	transition_in,
	transition_out,
	update_keyed_each,
	validate_store
} = require("svelte/internal");

const { Object: Object_1, document: document_1 } = globals;

const file = "Channel.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-kdiu44-style';
	style.textContent = "\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhbm5lbC5zdmVsdGUiLCJzb3VyY2VzIjpbIkNoYW5uZWwuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XHJcbiAgY29uc3QgTWVzc2FnZVJlbmRlcmVyID0gcmVxdWlyZShcIi4uL21lc3NhZ2VUeXBlcy9NZXNzYWdlUmVuZGVyZXIuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlUGFyYW1zIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMuanNcIik7XHJcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vcHJlZnMuanNcIik7XHJcbiAgY29uc3QgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSA9IHJlcXVpcmUoXCJzdmVsdGVcIik7XHJcblxyXG4gIGxldCBtc2dzID0gZmFsc2U7XHJcbiAgbGV0IGVycm9yID0gJHJvdXRlUGFyYW1zLmVycm9yIHx8IGZhbHNlO1xyXG4gIGxldCBjaGFubmVsID0gJHJvdXRlUGFyYW1zLmNoYW5uZWwgfHwgZmFsc2U7XHJcbiAgbGV0IHN1YnNjcmliZWQgPSBmYWxzZTtcclxuICBsZXQgcHJvbWlzZTtcclxuXHJcbiAgaWYgKCFjaGFubmVsKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImNhbid0IG5hdmlnYXRlIHRvIHVubmFtZWQgY2hhbm5lbCwgZ29pbmcgYmFjayB0byBwdWJsaWNcIik7XHJcbiAgICBsb2NhdGlvbiA9IFwiaW5kZXguaHRtbCMvcHVibGljXCI7IC8vIGZvcmNlIHJlbG9hZC5cclxuICB9XHJcblxyXG4gIGxldCBvcHRzID0ge1xyXG4gICAgbGltaXQ6ICRyb3V0ZVBhcmFtcy5saW1pdCB8fCBnZXRQcmVmKFwibGltaXRcIiwgMTApLFxyXG4gICAgcmV2ZXJzZTogdHJ1ZVxyXG4gIH07XHJcblxyXG4gIHNzYi5jaGFubmVsU3Vic2NyaWJlZChjaGFubmVsKS50aGVuKHMgPT4gKHN1YnNjcmliZWQgPSBzKSk7XHJcblxyXG4gIC8vIHRvZG86IG1vdmUgYmFjayBpbnRvIHVzaW5nIHN0b3Jlcy5cclxuICAkOiB7XHJcbiAgICBPYmplY3QuYXNzaWduKG9wdHMsICRyb3V0ZVBhcmFtcyk7XHJcblxyXG4gICAgZG9jdW1lbnQudGl0bGUgPSBgUGF0Y2hmb3ggLSAjJHtjaGFubmVsfWA7XHJcblxyXG4gICAgaWYgKG9wdHMuaGFzT3duUHJvcGVydHkoXCJsdFwiKSkge1xyXG4gICAgICBvcHRzLmx0ID0gcGFyc2VJbnQob3B0cy5sdCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKG9wdHMuaGFzT3duUHJvcGVydHkoXCJsaW1pdFwiKSkge1xyXG4gICAgICBvcHRzLmxpbWl0ID0gcGFyc2VJbnQob3B0cy5saW1pdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHJvbWlzZSA9IHNzYlxyXG4gICAgICAuY2hhbm5lbChjaGFubmVsLCBvcHRzKVxyXG4gICAgICAudGhlbihtcyA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJtc2dcIiwgbXMpO1xyXG4gICAgICAgIG1zZ3MgPSBtcztcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaChuID0+IHtcclxuICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiZXJycnJvb29vb3JcIiwgbik7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHN1YnNjcmlwdGlvbkNoYW5nZWQgPSBldiA9PiB7XHJcbiAgICBsZXQgdiA9IGV2LnRhcmdldC5jaGVja2VkO1xyXG4gICAgaWYgKHYpIHtcclxuICAgICAgc3NiLmNoYW5uZWxTdWJzY3JpYmUoY2hhbm5lbCkuY2F0Y2goKCkgPT4gKHN1YnNjcmliZWQgPSBmYWxzZSkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3NiLmNoYW5uZWxVbnN1YnNjcmliZShjaGFubmVsKS5jYXRjaCgoKSA9PiAoc3Vic2NyaWJlZCA9IHRydWUpKTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnb05leHQgPSAoKSA9PiB7XHJcbiAgICBsZXQgbHQgPSBtc2dzW21zZ3MubGVuZ3RoIC0gMV0udmFsdWUudGltZXN0YW1wO1xyXG4gICAgbXNncyA9IFtdO1xyXG4gICAgbmF2aWdhdGUoXCIvY2hhbm5lbFwiLCB7XHJcbiAgICAgIGNoYW5uZWwsXHJcbiAgICAgIGx0XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGdvUHJldmlvdXMgPSAoKSA9PiB7XHJcbiAgICBoaXN0b3J5LmJhY2soKTtcclxuICB9O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICAubWVudS1yaWdodCB7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgbGVmdDogdW5zZXQ7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICA8ZGl2IGNsYXNzPVwiY29sdW1uc1wiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbHVtblwiPlxyXG4gICAgICA8aDQ+Q2hhbm5lbDogI3tjaGFubmVsfTwvaDQ+XHJcbiAgICA8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cclxuICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1zd2l0Y2ggZmxvYXQtcmlnaHRcIj5cclxuICAgICAgICA8aW5wdXRcclxuICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiXHJcbiAgICAgICAgICBvbjpjaGFuZ2U9e3N1YnNjcmlwdGlvbkNoYW5nZWR9XHJcbiAgICAgICAgICBiaW5kOmNoZWNrZWQ9e3N1YnNjcmliZWR9IC8+XHJcbiAgICAgICAgPGkgY2xhc3M9XCJmb3JtLWljb25cIiAvPlxyXG4gICAgICAgIFN1YnNjcmliZVxyXG4gICAgICA8L2xhYmVsPlxyXG4gICAgICA8YnV0dG9uXHJcbiAgICAgICAgY2xhc3M9XCJidG4gYnRuLWxpbmsgZmxvYXQtcmlnaHRcIlxyXG4gICAgICAgIGhyZWY9XCI/Y2hhbm5lbD17Y2hhbm5lbH0jL2NvbXBvc2VcIlxyXG4gICAgICAgIG9uOmNsaWNrfHByZXZlbnREZWZhdWx0PXsoKSA9PiBuYXZpZ2F0ZSgnL2NvbXBvc2UnLCB7IGNoYW5uZWwgfSl9PlxyXG4gICAgICAgIE5ldyBQb3N0XHJcbiAgICAgIDwvYnV0dG9uPlxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG57I2lmIGVycm9yfVxyXG4gIDxkaXYgY2xhc3M9XCJ0b2FzdCB0b2FzdC1lcnJvclwiPkVycm9yOiB7ZXJyb3J9PC9kaXY+XHJcbnsvaWZ9XHJcbnsjYXdhaXQgcHJvbWlzZX1cclxuICA8ZGl2IGNsYXNzPVwibG9hZGluZyBsb2FkaW5nLWxnXCIgLz5cclxuezp0aGVufVxyXG4gIHsjZWFjaCBtc2dzIGFzIG1zZyAobXNnLmtleSl9XHJcbiAgICA8TWVzc2FnZVJlbmRlcmVyIHttc2d9IC8+XHJcbiAgezplbHNlfVxyXG4gICAgPHA+Tm8gbWVzc2FnZXMuPC9wPlxyXG4gIHsvZWFjaH1cclxuICA8dWwgY2xhc3M9XCJwYWdpbmF0aW9uXCI+XHJcbiAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gcGFnZS1wcmV2aW91c1wiPlxyXG4gICAgICA8YSBocmVmPVwiIy9wdWJsaWNcIiBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvUHJldmlvdXN9PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYWdlLWl0ZW0tc3VidGl0bGVcIj5QcmV2aW91czwvZGl2PlxyXG4gICAgICA8L2E+XHJcbiAgICA8L2xpPlxyXG4gICAgPGxpIGNsYXNzPVwicGFnZS1pdGVtIHBhZ2UtbmV4dFwiPlxyXG4gICAgICA8YSBocmVmPVwiIy9wdWJsaWNcIiBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvTmV4dH0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2UtaXRlbS1zdWJ0aXRsZVwiPk5leHQ8L2Rpdj5cclxuICAgICAgPC9hPlxyXG4gICAgPC9saT5cclxuICA8L3VsPlxyXG57L2F3YWl0fSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0= */";
	append(document_1.head, style);
}

function get_each_context(ctx, list, i) {
	const child_ctx = Object_1.create(ctx);
	child_ctx.msg = list[i];
	return child_ctx;
}

// (106:0) {#if error}
function create_if_block(ctx) {
	var div, t0, t1;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Error: ");
			t1 = text(ctx.error);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 106, 2, 2572);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (1:0) <script>    const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");    const { navigate, routeParams }
function create_catch_block(ctx) {
	return {
		c: noop,
		m: noop,
		p: noop,
		i: noop,
		o: noop,
		d: noop
	};
}

// (111:0) {:then}
function create_then_block(ctx) {
	var each_blocks = [], each_1_lookup = new Map(), t0, ul, li0, a0, div0, t2, li1, a1, div1, current, dispose;

	var each_value = ctx.msgs;

	const get_key = ctx => ctx.msg.key;

	for (var i = 0; i < each_value.length; i += 1) {
		let child_ctx = get_each_context(ctx, each_value, i);
		let key = get_key(child_ctx);
		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
	}

	var each_1_else = null;

	if (!each_value.length) {
		each_1_else = create_else_block(ctx);
		each_1_else.c();
	}

	return {
		c: function create() {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].c();

			t0 = space();
			ul = element("ul");
			li0 = element("li");
			a0 = element("a");
			div0 = element("div");
			div0.textContent = "Previous";
			t2 = space();
			li1 = element("li");
			a1 = element("a");
			div1 = element("div");
			div1.textContent = "Next";
			attr(div0, "class", "page-item-subtitle");
			add_location(div0, file, 119, 8, 2965);
			attr(a0, "href", "#/public");
			add_location(a0, file, 118, 6, 2883);
			attr(li0, "class", "page-item page-previous");
			add_location(li0, file, 117, 4, 2839);
			attr(div1, "class", "page-item-subtitle");
			add_location(div1, file, 124, 8, 3158);
			attr(a1, "href", "#/public");
			add_location(a1, file, 123, 6, 3080);
			attr(li1, "class", "page-item page-next");
			add_location(li1, file, 122, 4, 3040);
			attr(ul, "class", "pagination");
			add_location(ul, file, 116, 2, 2810);

			dispose = [
				listen(a0, "click", stop_propagation(prevent_default(ctx.goPrevious))),
				listen(a1, "click", stop_propagation(prevent_default(ctx.goNext)))
			];
		},

		m: function mount(target, anchor) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].m(target, anchor);

			if (each_1_else) {
				each_1_else.m(target, anchor);
			}

			insert(target, t0, anchor);
			insert(target, ul, anchor);
			append(ul, li0);
			append(li0, a0);
			append(a0, div0);
			append(ul, t2);
			append(ul, li1);
			append(li1, a1);
			append(a1, div1);
			current = true;
		},

		p: function update(changed, ctx) {
			const each_value = ctx.msgs;

			group_outros();
			each_blocks = update_keyed_each(each_blocks, changed, get_key, 1, ctx, each_value, each_1_lookup, t0.parentNode, outro_and_destroy_block, create_each_block, t0, get_each_context);
			check_outros();

			if (each_value.length) {
				if (each_1_else) {
					each_1_else.d(1);
					each_1_else = null;
				}
			} else if (!each_1_else) {
				each_1_else = create_else_block(ctx);
				each_1_else.c();
				each_1_else.m(t0.parentNode, t0);
			}
		},

		i: function intro(local) {
			if (current) return;
			for (var i = 0; i < each_value.length; i += 1) transition_in(each_blocks[i]);

			current = true;
		},

		o: function outro(local) {
			for (i = 0; i < each_blocks.length; i += 1) transition_out(each_blocks[i]);

			current = false;
		},

		d: function destroy(detaching) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].d(detaching);

			if (each_1_else) each_1_else.d(detaching);

			if (detaching) {
				detach(t0);
				detach(ul);
			}

			run_all(dispose);
		}
	};
}

// (114:2) {:else}
function create_else_block(ctx) {
	var p;

	return {
		c: function create() {
			p = element("p");
			p.textContent = "No messages.";
			add_location(p, file, 114, 4, 2776);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (112:2) {#each msgs as msg (msg.key)}
function create_each_block(key_1, ctx) {
	var first, current;

	var messagerenderer = new ctx.MessageRenderer({
		props: { msg: ctx.msg },
		$$inline: true
	});

	return {
		key: key_1,

		first: null,

		c: function create() {
			first = empty();
			messagerenderer.$$.fragment.c();
			this.first = first;
		},

		m: function mount(target, anchor) {
			insert(target, first, anchor);
			mount_component(messagerenderer, target, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var messagerenderer_changes = {};
			if (changed.msgs) messagerenderer_changes.msg = ctx.msg;
			messagerenderer.$set(messagerenderer_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(messagerenderer.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(messagerenderer.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(first);
			}

			destroy_component(messagerenderer, detaching);
		}
	};
}

// (109:16)     <div class="loading loading-lg" />  {:then}
function create_pending_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading loading-lg");
			add_location(div, file, 109, 2, 2652);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function create_fragment(ctx) {
	var div3, div2, div0, h4, t0, t1, t2, div1, label, input, t3, i, t4, t5, button, t6, button_href_value, t7, t8, await_block_anchor, promise_1, current, dispose;

	var if_block = (ctx.error) && create_if_block(ctx);

	let info = {
		ctx,
		current: null,
		token: null,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 'null',
		error: 'null',
		blocks: [,,,]
	};

	handle_promise(promise_1 = ctx.promise, info);

	return {
		c: function create() {
			div3 = element("div");
			div2 = element("div");
			div0 = element("div");
			h4 = element("h4");
			t0 = text("Channel: #");
			t1 = text(ctx.channel);
			t2 = space();
			div1 = element("div");
			label = element("label");
			input = element("input");
			t3 = space();
			i = element("i");
			t4 = text("\r\n        Subscribe");
			t5 = space();
			button = element("button");
			t6 = text("New Post");
			t7 = space();
			if (if_block) if_block.c();
			t8 = space();
			await_block_anchor = empty();

			info.block.c();
			add_location(h4, file, 85, 6, 2006);
			attr(div0, "class", "column");
			add_location(div0, file, 84, 4, 1978);
			attr(input, "type", "checkbox");
			add_location(input, file, 89, 8, 2129);
			attr(i, "class", "form-icon");
			add_location(i, file, 93, 8, 2255);
			attr(label, "class", "form-switch float-right");
			add_location(label, file, 88, 6, 2080);
			attr(button, "class", "btn btn-link float-right");
			attr(button, "href", button_href_value = "?channel=" + ctx.channel + "#/compose");
			add_location(button, file, 96, 6, 2321);
			attr(div1, "class", "column");
			add_location(div1, file, 87, 4, 2052);
			attr(div2, "class", "columns");
			add_location(div2, file, 83, 2, 1951);
			attr(div3, "class", "container");
			add_location(div3, file, 82, 0, 1924);

			dispose = [
				listen(input, "change", ctx.input_change_handler),
				listen(input, "change", ctx.subscriptionChanged),
				listen(button, "click", prevent_default(ctx.click_handler))
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div3, anchor);
			append(div3, div2);
			append(div2, div0);
			append(div0, h4);
			append(h4, t0);
			append(h4, t1);
			append(div2, t2);
			append(div2, div1);
			append(div1, label);
			append(label, input);

			input.checked = ctx.subscribed;

			append(label, t3);
			append(label, i);
			append(label, t4);
			append(div1, t5);
			append(div1, button);
			append(button, t6);
			insert(target, t7, anchor);
			if (if_block) if_block.m(target, anchor);
			insert(target, t8, anchor);
			insert(target, await_block_anchor, anchor);

			info.block.m(target, info.anchor = anchor);
			info.mount = () => await_block_anchor.parentNode;
			info.anchor = await_block_anchor;

			current = true;
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			if (changed.subscribed) input.checked = ctx.subscribed;

			if (ctx.error) {
				if (if_block) {
					if_block.p(changed, ctx);
				} else {
					if_block = create_if_block(ctx);
					if_block.c();
					if_block.m(t8.parentNode, t8);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}

			info.ctx = ctx;

			if (('promise' in changed) && promise_1 !== (promise_1 = ctx.promise) && handle_promise(promise_1, info)) {
				// nothing
			} else {
				info.block.p(changed, assign(assign({}, ctx), info.resolved));
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(info.block);
			current = true;
		},

		o: function outro(local) {
			for (let i_1 = 0; i_1 < 3; i_1 += 1) {
				const block = info.blocks[i_1];
				transition_out(block);
			}

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div3);
				detach(t7);
			}

			if (if_block) if_block.d(detaching);

			if (detaching) {
				detach(t8);
				detach(await_block_anchor);
			}

			info.block.d(detaching);
			info.token = null;
			info = null;

			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");
  const { navigate, routeParams } = require("../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  const { getPref } = require("../prefs.js");
  const { onMount, onDestroy } = require("svelte");

  let msgs = false;
  let error = $routeParams.error || false;
  let channel = $routeParams.channel || false;
  let subscribed = false;
  let promise;

  if (!channel) {
    console.log("can't navigate to unnamed channel, going back to public");
    location = "index.html#/public"; // force reload.
  }

  let opts = {
    limit: $routeParams.limit || getPref("limit", 10),
    reverse: true
  };

  ssb.channelSubscribed(channel).then(s => { const $$result = (subscribed = s); $$invalidate('subscribed', subscribed); return $$result; });

  const subscriptionChanged = ev => {
    let v = ev.target.checked;
    if (v) {
      ssb.channelSubscribe(channel).catch(() => { const $$result = (subscribed = false); $$invalidate('subscribed', subscribed); return $$result; });
    } else {
      ssb.channelUnsubscribe(channel).catch(() => { const $$result = (subscribed = true); $$invalidate('subscribed', subscribed); return $$result; });
    }
  };

  const goNext = () => {
    let lt = msgs[msgs.length - 1].value.timestamp;
    $$invalidate('msgs', msgs = []);
    navigate("/channel", {
      channel,
      lt
    });
  };
  const goPrevious = () => {
    history.back();
  };

	function input_change_handler() {
		subscribed = this.checked;
		$$invalidate('subscribed', subscribed);
	}

	function click_handler() {
		return navigate('/compose', { channel });
	}

	$$self.$$.update = ($$dirty = { opts: 1, $routeParams: 1, channel: 1, error: 1 }) => {
		if ($$dirty.opts || $$dirty.$routeParams || $$dirty.channel || $$dirty.error) { {
        Object.assign(opts, $routeParams);
    
        document.title = `Patchfox - #${channel}`;
    
        if (opts.hasOwnProperty("lt")) {
          opts.lt = parseInt(opts.lt); $$invalidate('opts', opts), $$invalidate('$routeParams', $routeParams), $$invalidate('channel', channel), $$invalidate('error', error);
        }
    
        if (opts.hasOwnProperty("limit")) {
          opts.limit = parseInt(opts.limit); $$invalidate('opts', opts), $$invalidate('$routeParams', $routeParams), $$invalidate('channel', channel), $$invalidate('error', error);
        }
    
        $$invalidate('promise', promise = ssb
          .channel(channel, opts)
          .then(ms => {
            console.log("msg", ms);
            $$invalidate('msgs', msgs = ms);
            window.scrollTo(0, 0);
          })
          .catch(n => {
            if (!error) {
              console.error("errrrooooor", n);
            }
          }));
      } }
	};

	return {
		MessageRenderer,
		navigate,
		routeParams,
		msgs,
		error,
		channel,
		subscribed,
		promise,
		subscriptionChanged,
		goNext,
		goPrevious,
		input_change_handler,
		click_handler
	};
}

class Channel extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document_1.getElementById("svelte-kdiu44-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Channel;

},{"../messageTypes/MessageRenderer.svelte":21,"../prefs.js":28,"../utils.js":30,"svelte":7,"svelte/internal":8}],32:[function(require,module,exports){
/* Channels.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	destroy_each,
	detach,
	element,
	empty,
	init,
	insert,
	listen,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");
const { navigate } = require("../utils.js");

const file = "Channels.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1or0a5q-style';
	style.textContent = ".channel.svelte-1or0a5q{cursor:pointer}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ2hhbm5lbHMuc3ZlbHRlIiwic291cmNlcyI6WyJDaGFubmVscy5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cclxuICAvLyBOT1RJQ0U6XHJcbiAgLy8gSSd2ZSByZW1vdmVkIHRoaXMgdmlldyBmcm9tIHRoZSBuYXZpZ2F0aW9uLlxyXG4gIC8vXHJcbiAgLy8gaXQgaXMgdG9vIHNsb3csIGl0IHRha2VzIGFib3V0IDYwIHNlY29uZHMgdG8gcXVlcnkuXHJcbiAgLy9cclxuXHJcbiAgaW1wb3J0IHsgbmF2aWdhdGUgfSBmcm9tIFwiLi4vdXRpbHMuanNcIjtcclxuXHJcbiAgbGV0IGFjdGl2ZUNoYW5uZWxzID0gW107XHJcbiAgbGV0IHN1YnNjcmliZWRDaGFubmVscyA9IFtdO1xyXG5cclxuICBsZXQgbG9hZGluZyA9IHRydWU7XHJcblxyXG4gIGxldCBwdWxsID0gaGVybWllYm94Lm1vZHVsZXMucHVsbFN0cmVhbTtcclxuICBsZXQgc2JvdCA9IGhlcm1pZWJveC5zYm90O1xyXG5cclxuICBjb25zdCBsb2FkU3Vic2NyaWJlZENoYW5uZWxzID0gKCkgPT4ge1xyXG4gICAgbGV0IHF1ZXJ5ID0ge1xyXG4gICAgICAkZmlsdGVyOiB7XHJcbiAgICAgICAgdmFsdWU6IHtcclxuICAgICAgICAgIGF1dGhvcjogc2JvdC5pZCxcclxuICAgICAgICAgIGNvbnRlbnQ6IHtcclxuICAgICAgICAgICAgdHlwZTogXCJjaGFubmVsXCJcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgICRzb3J0OiBbW1widmFsdWVcIiwgXCJ0aW1lc3RhbXBcIl1dXHJcbiAgICB9O1xyXG4gICAgcHVsbChcclxuICAgICAgc2JvdC5xdWVyeS5yZWFkKHtcclxuICAgICAgICBxdWVyeTogW3F1ZXJ5XSxcclxuICAgICAgICBsaXZlOiB0cnVlLFxyXG4gICAgICAgIHJldmVyc2U6IHRydWUsXHJcbiAgICAgICAgbGltaXQ6IDUwMFxyXG4gICAgICB9KSxcclxuICAgICAgLy9wdWxsLmZpbHRlcihjID0+IHtcclxuICAgICAgLy8gICFzdWJzY3JpYmVkQ2hhbm5lbHMuc29tZShzYyA9PiBzYy5jaGFubmVsID09IGMuY2hhbm5lbCk7XHJcbiAgICAgIC8vfSksXHJcbiAgICAgIHB1bGwuZHJhaW4oYyA9PiB7XHJcbiAgICAgICAgaWYgKGMuc3luYykge1xyXG4gICAgICAgICAgY29uc29sZS5sb2coXCJmaW5pc2hlZCBsb2FkaW5nXCIpO1xyXG4gICAgICAgICAgbG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICBpZiAoYy52YWx1ZS5jb250ZW50LnN1YnNjcmliZWQpIHtcclxuICAgICAgICAgICAgc3Vic2NyaWJlZENoYW5uZWxzLnB1c2goYy52YWx1ZS5jb250ZW50LmNoYW5uZWwpO1xyXG4gICAgICAgICAgICBzdWJzY3JpYmVkQ2hhbm5lbHMgPSBzdWJzY3JpYmVkQ2hhbm5lbHM7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBsb2FkU3Vic2NyaWJlZENoYW5uZWxzKCk7XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG4gIC5jaGFubmVsIHtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48aDQ+U3Vic2NyaWJlZCBDaGFubmVsczwvaDQ+XHJcblxyXG57I2lmIHN1YnNjcmliZWRDaGFubmVscy5sZW5ndGggPT0gMH1cclxuICA8ZGl2IGNsYXNzPVwibG9hZGluZ1wiIC8+XHJcblxyXG4gIDxwPlRoaXMgaXMgYSBjb21wbGV4IHF1ZXJ5LCBpdCBtaWdodCB0YWtlIGEgd2hpbGUuLi4gQ2hhbm5lbHMgd2lsbCBhcHBlYXIgYXMgd2UgZmluZCB0aGVtPC9wPlxyXG57OmVsc2V9XHJcbiAgeyNlYWNoIHN1YnNjcmliZWRDaGFubmVscyBhcyBjfVxyXG4gICAgPHNwYW5cclxuICAgICAgY2xhc3M9XCJjaGFubmVsIGxhYmVsIGxhYmVsLXNlY29uZGFyeSBtLTFcIlxyXG4gICAgICBvbjpjbGljaz17KCkgPT4gbmF2aWdhdGUoJy9jaGFubmVsJywgeyBjaGFubmVsOiBjIH0pfT5cclxuICAgICAgICN7Y31cclxuICAgIDwvc3Bhbj5cclxuICB7L2VhY2h9XHJcbnsvaWZ9XHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF5REUsUUFBUSxlQUFDLENBQUMsQUFDUixNQUFNLENBQUUsT0FBTyxBQUNqQixDQUFDIn0= */";
	append(document.head, style);
}

function get_each_context(ctx, list, i) {
	const child_ctx = Object.create(ctx);
	child_ctx.c = list[i];
	return child_ctx;
}

// (69:0) {:else}
function create_else_block(ctx) {
	var each_1_anchor;

	var each_value = ctx.subscribedChannels;

	var each_blocks = [];

	for (var i = 0; i < each_value.length; i += 1) {
		each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
	}

	return {
		c: function create() {
			for (var i = 0; i < each_blocks.length; i += 1) {
				each_blocks[i].c();
			}

			each_1_anchor = empty();
		},

		m: function mount(target, anchor) {
			for (var i = 0; i < each_blocks.length; i += 1) {
				each_blocks[i].m(target, anchor);
			}

			insert(target, each_1_anchor, anchor);
		},

		p: function update(changed, ctx) {
			if (changed.subscribedChannels) {
				each_value = ctx.subscribedChannels;

				for (var i = 0; i < each_value.length; i += 1) {
					const child_ctx = get_each_context(ctx, each_value, i);

					if (each_blocks[i]) {
						each_blocks[i].p(changed, child_ctx);
					} else {
						each_blocks[i] = create_each_block(child_ctx);
						each_blocks[i].c();
						each_blocks[i].m(each_1_anchor.parentNode, each_1_anchor);
					}
				}

				for (; i < each_blocks.length; i += 1) {
					each_blocks[i].d(1);
				}
				each_blocks.length = each_value.length;
			}
		},

		d: function destroy(detaching) {
			destroy_each(each_blocks, detaching);

			if (detaching) {
				detach(each_1_anchor);
			}
		}
	};
}

// (65:0) {#if subscribedChannels.length == 0}
function create_if_block(ctx) {
	var div, t, p;

	return {
		c: function create() {
			div = element("div");
			t = space();
			p = element("p");
			p.textContent = "This is a complex query, it might take a while... Channels will appear as we find them";
			attr(div, "class", "loading");
			add_location(div, file, 65, 2, 1383);
			add_location(p, file, 67, 2, 1412);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			insert(target, t, anchor);
			insert(target, p, anchor);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
				detach(t);
				detach(p);
			}
		}
	};
}

// (70:2) {#each subscribedChannels as c}
function create_each_block(ctx) {
	var span, t0, t1_value = ctx.c, t1, t2, dispose;

	function click_handler() {
		return ctx.click_handler(ctx);
	}

	return {
		c: function create() {
			span = element("span");
			t0 = text("#");
			t1 = text(t1_value);
			t2 = space();
			attr(span, "class", "channel label label-secondary m-1 svelte-1or0a5q");
			add_location(span, file, 70, 4, 1555);
			dispose = listen(span, "click", click_handler);
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
			append(span, t0);
			append(span, t1);
			append(span, t2);
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			if ((changed.subscribedChannels) && t1_value !== (t1_value = ctx.c)) {
				set_data(t1, t1_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}

			dispose();
		}
	};
}

function create_fragment(ctx) {
	var h4, t_1, if_block_anchor;

	function select_block_type(ctx) {
		if (ctx.subscribedChannels.length == 0) return create_if_block;
		return create_else_block;
	}

	var current_block_type = select_block_type(ctx);
	var if_block = current_block_type(ctx);

	return {
		c: function create() {
			h4 = element("h4");
			h4.textContent = "Subscribed Channels";
			t_1 = space();
			if_block.c();
			if_block_anchor = empty();
			add_location(h4, file, 62, 0, 1311);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h4, anchor);
			insert(target, t_1, anchor);
			if_block.m(target, anchor);
			insert(target, if_block_anchor, anchor);
		},

		p: function update(changed, ctx) {
			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
				if_block.p(changed, ctx);
			} else {
				if_block.d(1);
				if_block = current_block_type(ctx);
				if (if_block) {
					if_block.c();
					if_block.m(if_block_anchor.parentNode, if_block_anchor);
				}
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h4);
				detach(t_1);
			}

			if_block.d(detaching);

			if (detaching) {
				detach(if_block_anchor);
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let activeChannels = [];
  let subscribedChannels = [];

  let loading = true;

  let pull = hermiebox.modules.pullStream;
  let sbot = hermiebox.sbot;

  const loadSubscribedChannels = () => {
    let query = {
      $filter: {
        value: {
          author: sbot.id,
          content: {
            type: "channel"
          }
        }
      },
      $sort: [["value", "timestamp"]]
    };
    pull(
      sbot.query.read({
        query: [query],
        live: true,
        reverse: true,
        limit: 500
      }),
      //pull.filter(c => {
      //  !subscribedChannels.some(sc => sc.channel == c.channel);
      //}),
      pull.drain(c => {
        if (c.sync) {
          console.log("finished loading");
          loading = false;
        } else {
          if (c.value.content.subscribed) {
            subscribedChannels.push(c.value.content.channel);
            $$invalidate('subscribedChannels', subscribedChannels);
          }
        }
      })
    );
  };

  loadSubscribedChannels();

	function click_handler({ c }) {
		return navigate('/channel', { channel: c });
	}

	return { subscribedChannels, click_handler };
}

class Channels extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-1or0a5q-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Channels;

},{"../utils.js":30,"svelte/internal":8}],33:[function(require,module,exports){
/* Default.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	attr,
	detach,
	element,
	init,
	insert,
	noop,
	safe_not_equal
} = require("svelte/internal");

const file = "Default.svelte";

function create_fragment(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "empty");
			add_location(div, file, 0, 0, 0);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

class Default extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, null, create_fragment, safe_not_equal, []);
	}
}

module.exports = Default;

},{"svelte/internal":8}],34:[function(require,module,exports){
/* ErrorView.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	component_subscribe,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	prevent_default,
	safe_not_equal,
	set_data,
	space,
	stop_propagation,
	text,
	validate_store
} = require("svelte/internal");
const { navigate, routeParams, reconnect } = require("../utils.js");

const file = "ErrorView.svelte";

// (51:2) {#if toast}
function create_if_block_1(ctx) {
	var div, t, div_class_value;

	return {
		c: function create() {
			div = element("div");
			t = text(ctx.msg);
			attr(div, "class", div_class_value = "toast " + ctx.toastClass);
			add_location(div, file, 51, 4, 1208);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t);
		},

		p: function update(changed, ctx) {
			if (changed.msg) {
				set_data(t, ctx.msg);
			}

			if ((changed.toastClass) && div_class_value !== (div_class_value = "toast " + ctx.toastClass)) {
				attr(div, "class", div_class_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (60:4) {#if cta}
function create_if_block(ctx) {
	var li, a, t_value = ctx.cta.label, t, dispose;

	return {
		c: function create() {
			li = element("li");
			a = element("a");
			t = text(t_value);
			attr(a, "href", "#");
			add_location(a, file, 61, 8, 1434);
			add_location(li, file, 60, 6, 1420);
			dispose = listen(a, "click", stop_propagation(prevent_default(ctx.cta.action)));
		},

		m: function mount(target, anchor) {
			insert(target, li, anchor);
			append(li, a);
			append(a, t);
		},

		p: function update(changed, ctx) {
			if ((changed.cta) && t_value !== (t_value = ctx.cta.label)) {
				set_data(t, t_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(li);
			}

			dispose();
		}
	};
}

function create_fragment(ctx) {
	var div, h1, t1, t2, h4, t4, pre, code, t5, t6, p, t8, ul, t9, li0, a0, t11, li1, a1, t13;

	var if_block0 = (ctx.toast) && create_if_block_1(ctx);

	var if_block1 = (ctx.cta) && create_if_block(ctx);

	return {
		c: function create() {
			div = element("div");
			h1 = element("h1");
			h1.textContent = "😿 An Error Has Occurred, sorry 😭";
			t1 = space();
			if (if_block0) if_block0.c();
			t2 = space();
			h4 = element("h4");
			h4.textContent = "This is what we know about it";
			t4 = space();
			pre = element("pre");
			code = element("code");
			t5 = text(ctx.error);
			t6 = space();
			p = element("p");
			p.textContent = "You might want to:";
			t8 = space();
			ul = element("ul");
			if (if_block1) if_block1.c();
			t9 = space();
			li0 = element("li");
			a0 = element("a");
			a0.textContent = "Open our troubleshooting documentation.";
			t11 = space();
			li1 = element("li");
			a1 = element("a");
			a1.textContent = "Add an issue";
			t13 = text("\r\n      to the Patchfox repository.");
			add_location(h1, file, 49, 2, 1144);
			add_location(h4, file, 53, 2, 1264);
			add_location(code, file, 55, 4, 1330);
			attr(pre, "class", "code");
			add_location(pre, file, 54, 2, 1306);
			add_location(p, file, 57, 2, 1364);
			attr(a0, "href", "/docs/index.html#/troubleshooting/");
			attr(a0, "target", "_blank");
			add_location(a0, file, 67, 6, 1579);
			add_location(li0, file, 66, 4, 1567);
			attr(a1, "href", "https://github.com/soapdog/patchfox/issues");
			attr(a1, "target", "_blank");
			add_location(a1, file, 72, 6, 1730);
			add_location(li1, file, 71, 4, 1718);
			add_location(ul, file, 58, 2, 1393);
			attr(div, "class", "container");
			add_location(div, file, 48, 0, 1117);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, h1);
			append(div, t1);
			if (if_block0) if_block0.m(div, null);
			append(div, t2);
			append(div, h4);
			append(div, t4);
			append(div, pre);
			append(pre, code);
			append(code, t5);
			append(div, t6);
			append(div, p);
			append(div, t8);
			append(div, ul);
			if (if_block1) if_block1.m(ul, null);
			append(ul, t9);
			append(ul, li0);
			append(li0, a0);
			append(ul, t11);
			append(ul, li1);
			append(li1, a1);
			append(li1, t13);
		},

		p: function update(changed, ctx) {
			if (ctx.toast) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_1(ctx);
					if_block0.c();
					if_block0.m(div, t2);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (changed.error) {
				set_data(t5, ctx.error);
			}

			if (ctx.cta) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block(ctx);
					if_block1.c();
					if_block1.m(ul, t9);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	validate_store(routeParams, 'routeParams');
	component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams); });

	document.title = `Patchfox - Error`;

  let error = $routeParams.error;
  let errorObj = {};
  let toastClass = "";
  let toast = false;
  let msg;
  let cta = false;

  console.dir(error);
  if (typeof error == "object") {
    errorObj = error;
    $$invalidate('error', error = errorObj.message);
  }

  const tryReconnect = () => {
    $$invalidate('toast', toast = true);
    $$invalidate('toastClass', toastClass = "toast-warning");
    $$invalidate('msg', msg = "Attempting to reconnect to sbot...");
    reconnect()
      .then(() => {
        $$invalidate('toastClass', toastClass = "toast-success");
        $$invalidate('toast', toast = true);
        $$invalidate('msg', msg =
          "Connection to sbot reestablished. Try going to your public feed.");
      })
      .catch(n => {
        $$invalidate('toastClass', toastClass = "toast-error");
        $$invalidate('toast', toast = true);
        $$invalidate('msg', msg = "Couldn't reconnect. Try reloading the page.");
      });
  };

  let errorMapping = {
    "Error: stream is closed": {
      label: "Want to try to reconnect?",
      action: tryReconnect
    }
  };

  if (errorMapping.hasOwnProperty(error)) {
    $$invalidate('cta', cta = errorMapping[error]);
  }

	return { error, toastClass, toast, msg, cta };
}

class ErrorView extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = ErrorView;

},{"../utils.js":30,"svelte/internal":8}],35:[function(require,module,exports){
/* Mentions.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	check_outros,
	destroy_component,
	detach,
	element,
	empty,
	globals,
	group_outros,
	init,
	insert,
	listen,
	mount_component,
	noop,
	outro_and_destroy_block,
	prevent_default,
	run_all,
	safe_not_equal,
	space,
	stop_propagation,
	transition_in,
	transition_out,
	update_keyed_each
} = require("svelte/internal");

const { document: document_1 } = globals;

const file = "Mentions.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-kdiu44-style';
	style.textContent = "\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiTWVudGlvbnMuc3ZlbHRlIiwic291cmNlcyI6WyJNZW50aW9ucy5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cclxuICBjb25zdCBNZXNzYWdlUmVuZGVyZXIgPSByZXF1aXJlKFwiLi4vbWVzc2FnZVR5cGVzL01lc3NhZ2VSZW5kZXJlci5zdmVsdGVcIik7XHJcbiAgY29uc3QgeyBuYXZpZ2F0ZSwgcm91dGVQYXJhbXMgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTtcclxuICBjb25zdCB7IGdldFByZWYgfSA9IHJlcXVpcmUoXCIuLi9wcmVmcy5qc1wiKTtcclxuICBjb25zdCB7IG9uRGVzdHJveSwgb25Nb3VudCB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcclxuXHJcbiAgbGV0IG1zZ3MgPSBbXTtcclxuICBsZXQgdW5zdWI7XHJcblxyXG4gIGRvY3VtZW50LnRpdGxlID0gYFBhdGNoZm94IC0gTWVudGlvbnNgO1xyXG5cclxuICBsZXQgbHQgPSBmYWxzZTtcclxuXHJcbiAgY29uc3QgcHVsbCA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxTdHJlYW07XHJcbiAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90O1xyXG5cclxuICBjb25zdCBsb2FkTWVudGlvbnMgPSAoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZyhcIkxvYWRpbmcgbWVudGlvbnMuLi5cIiwgbHQpO1xyXG4gICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgbXNncyA9IFtdO1xyXG4gICAgc3NiLm1lbnRpb25zKHNzYi5mZWVkLCBsdCkudGhlbihtcyA9PiAobXNncyA9IG1zKSk7XHJcbiAgfTtcclxuXHJcbiAgb25EZXN0cm95KCgpID0+IHtcclxuICAgIHVuc3ViKCk7XHJcbiAgfSk7XHJcblxyXG4gIG9uTW91bnQoKCkgPT4ge1xyXG4gICAgdW5zdWIgPSByb3V0ZVBhcmFtcy5zdWJzY3JpYmUocGFyYW1zID0+IHtcclxuICAgICAgY29uc29sZS5sb2coXCJwYXJhbXMgY2hhbmdlZC5cIiwgbHQsIHBhcmFtcy5sdCk7XHJcbiAgICAgIGlmIChwYXJhbXMubHQpIHtcclxuICAgICAgICBsZXQgbmV3bHQgPSBwYXJzZUludChwYXJhbXMubHQpO1xyXG4gICAgICAgIGlmIChuZXdsdCAhPT0gbHQpIHtcclxuICAgICAgICAgIGx0ID0gbmV3bHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGx0ID0gZmFsc2U7XHJcbiAgICAgIH1cclxuICAgICAgbG9hZE1lbnRpb25zKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuPC9zY3JpcHQ+XHJcblxyXG48c3R5bGU+XHJcbiAgLm1lbnUtcmlnaHQge1xyXG4gICAgcmlnaHQ6IDBweDtcclxuICAgIGxlZnQ6IHVuc2V0O1xyXG4gICAgbWluLXdpZHRoOiAzMDBweDtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgPGRpdiBjbGFzcz1cImNvbHVtbnNcIj5cclxuICAgIDxoNCBjbGFzcz1cImNvbHVtblwiPk1lbnRpb25zPC9oND5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5cIiAvPlxyXG4gIDwvZGl2PlxyXG48L2Rpdj5cclxueyNpZiBtc2dzLmxlbmd0aCA9PT0gMH1cclxuICA8ZGl2IGNsYXNzPVwibG9hZGluZyBsb2FkaW5nLWxnXCIgLz5cclxuezplbHNlfVxyXG4gIHsjZWFjaCBtc2dzIGFzIG1zZyAobXNnLmtleSl9XHJcbiAgICA8TWVzc2FnZVJlbmRlcmVyIHttc2d9IC8+XHJcbiAgey9lYWNofVxyXG4gIDx1bCBjbGFzcz1cInBhZ2luYXRpb25cIj5cclxuICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbSBwYWdlLXByZXZpb3VzXCI+XHJcbiAgICAgIDxhXHJcbiAgICAgICAgaHJlZj1cIiMvcHVibGljXCJcclxuICAgICAgICBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9eygpID0+IGhpc3RvcnkuYmFjaygpfT5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFnZS1pdGVtLXN1YnRpdGxlXCI+UHJldmlvdXM8L2Rpdj5cclxuICAgICAgPC9hPlxyXG4gICAgPC9saT5cclxuICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbSBwYWdlLW5leHRcIj5cclxuICAgICAgPGFcclxuICAgICAgICBocmVmPVwiIy9wdWJsaWNcIlxyXG4gICAgICAgIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbnxwcmV2ZW50RGVmYXVsdD17KCkgPT4ge1xyXG4gICAgICAgICAgbmF2aWdhdGUoJy9tZW50aW9ucycsIHsgbHQ6IG1zZ3NbbXNncy5sZW5ndGggLSAxXS5ydHMgfSk7XHJcbiAgICAgICAgfX0+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInBhZ2UtaXRlbS1zdWJ0aXRsZVwiPk5leHQ8L2Rpdj5cclxuICAgICAgPC9hPlxyXG4gICAgPC9saT5cclxuICA8L3VsPlxyXG57L2lmfVxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiJ9 */";
	append(document_1.head, style);
}

function get_each_context(ctx, list, i) {
	const child_ctx = Object.create(ctx);
	child_ctx.msg = list[i];
	return child_ctx;
}

// (60:0) {:else}
function create_else_block(ctx) {
	var each_blocks = [], each_1_lookup = new Map(), t0, ul, li0, a0, div0, t2, li1, a1, div1, current, dispose;

	var each_value = ctx.msgs;

	const get_key = ctx => ctx.msg.key;

	for (var i = 0; i < each_value.length; i += 1) {
		let child_ctx = get_each_context(ctx, each_value, i);
		let key = get_key(child_ctx);
		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
	}

	return {
		c: function create() {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].c();

			t0 = space();
			ul = element("ul");
			li0 = element("li");
			a0 = element("a");
			div0 = element("div");
			div0.textContent = "Previous";
			t2 = space();
			li1 = element("li");
			a1 = element("a");
			div1 = element("div");
			div1.textContent = "Next";
			attr(div0, "class", "page-item-subtitle");
			add_location(div0, file, 68, 8, 1575);
			attr(a0, "href", "#/public");
			add_location(a0, file, 65, 6, 1465);
			attr(li0, "class", "page-item page-previous");
			add_location(li0, file, 64, 4, 1421);
			attr(div1, "class", "page-item-subtitle");
			add_location(div1, file, 77, 8, 1867);
			attr(a1, "href", "#/public");
			add_location(a1, file, 72, 6, 1690);
			attr(li1, "class", "page-item page-next");
			add_location(li1, file, 71, 4, 1650);
			attr(ul, "class", "pagination");
			add_location(ul, file, 63, 2, 1392);

			dispose = [
				listen(a0, "click", stop_propagation(prevent_default(click_handler))),
				listen(a1, "click", stop_propagation(prevent_default(ctx.click_handler_1)))
			];
		},

		m: function mount(target, anchor) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].m(target, anchor);

			insert(target, t0, anchor);
			insert(target, ul, anchor);
			append(ul, li0);
			append(li0, a0);
			append(a0, div0);
			append(ul, t2);
			append(ul, li1);
			append(li1, a1);
			append(a1, div1);
			current = true;
		},

		p: function update(changed, ctx) {
			const each_value = ctx.msgs;

			group_outros();
			each_blocks = update_keyed_each(each_blocks, changed, get_key, 1, ctx, each_value, each_1_lookup, t0.parentNode, outro_and_destroy_block, create_each_block, t0, get_each_context);
			check_outros();
		},

		i: function intro(local) {
			if (current) return;
			for (var i = 0; i < each_value.length; i += 1) transition_in(each_blocks[i]);

			current = true;
		},

		o: function outro(local) {
			for (i = 0; i < each_blocks.length; i += 1) transition_out(each_blocks[i]);

			current = false;
		},

		d: function destroy(detaching) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].d(detaching);

			if (detaching) {
				detach(t0);
				detach(ul);
			}

			run_all(dispose);
		}
	};
}

// (58:0) {#if msgs.length === 0}
function create_if_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading loading-lg");
			add_location(div, file, 58, 2, 1270);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (61:2) {#each msgs as msg (msg.key)}
function create_each_block(key_1, ctx) {
	var first, current;

	var messagerenderer = new ctx.MessageRenderer({
		props: { msg: ctx.msg },
		$$inline: true
	});

	return {
		key: key_1,

		first: null,

		c: function create() {
			first = empty();
			messagerenderer.$$.fragment.c();
			this.first = first;
		},

		m: function mount(target, anchor) {
			insert(target, first, anchor);
			mount_component(messagerenderer, target, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var messagerenderer_changes = {};
			if (changed.msgs) messagerenderer_changes.msg = ctx.msg;
			messagerenderer.$set(messagerenderer_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(messagerenderer.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(messagerenderer.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(first);
			}

			destroy_component(messagerenderer, detaching);
		}
	};
}

function create_fragment(ctx) {
	var div2, div1, h4, t1, div0, t2, current_block_type_index, if_block, if_block_anchor, current;

	var if_block_creators = [
		create_if_block,
		create_else_block
	];

	var if_blocks = [];

	function select_block_type(ctx) {
		if (ctx.msgs.length === 0) return 0;
		return 1;
	}

	current_block_type_index = select_block_type(ctx);
	if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

	return {
		c: function create() {
			div2 = element("div");
			div1 = element("div");
			h4 = element("h4");
			h4.textContent = "Mentions";
			t1 = space();
			div0 = element("div");
			t2 = space();
			if_block.c();
			if_block_anchor = empty();
			attr(h4, "class", "column");
			add_location(h4, file, 53, 4, 1163);
			attr(div0, "class", "column");
			add_location(div0, file, 54, 4, 1201);
			attr(div1, "class", "columns");
			add_location(div1, file, 52, 2, 1136);
			attr(div2, "class", "container");
			add_location(div2, file, 51, 0, 1109);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div2, anchor);
			append(div2, div1);
			append(div1, h4);
			append(div1, t1);
			append(div1, div0);
			insert(target, t2, anchor);
			if_blocks[current_block_type_index].m(target, anchor);
			insert(target, if_block_anchor, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var previous_block_index = current_block_type_index;
			current_block_type_index = select_block_type(ctx);
			if (current_block_type_index === previous_block_index) {
				if_blocks[current_block_type_index].p(changed, ctx);
			} else {
				group_outros();
				transition_out(if_blocks[previous_block_index], 1, 1, () => {
					if_blocks[previous_block_index] = null;
				});
				check_outros();

				if_block = if_blocks[current_block_type_index];
				if (!if_block) {
					if_block = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
					if_block.c();
				}
				transition_in(if_block, 1);
				if_block.m(if_block_anchor.parentNode, if_block_anchor);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block);
			current = true;
		},

		o: function outro(local) {
			transition_out(if_block);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div2);
				detach(t2);
			}

			if_blocks[current_block_type_index].d(detaching);

			if (detaching) {
				detach(if_block_anchor);
			}
		}
	};
}

function click_handler() {
	return history.back();
}

function instance($$self, $$props, $$invalidate) {
	const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");
  const { navigate, routeParams } = require("../utils.js");
  const { getPref } = require("../prefs.js");
  const { onDestroy, onMount } = require("svelte");

  let msgs = [];
  let unsub;

  document.title = `Patchfox - Mentions`;

  let lt = false;

  const pull = hermiebox.modules.pullStream;
  const sbot = hermiebox.sbot;

  const loadMentions = () => {
    console.log("Loading mentions...", lt);
    window.scrollTo(0, 0);
    $$invalidate('msgs', msgs = []);
    ssb.mentions(ssb.feed, lt).then(ms => { const $$result = (msgs = ms); $$invalidate('msgs', msgs); return $$result; });
  };

  onDestroy(() => {
    unsub();
  });

  onMount(() => {
    unsub = routeParams.subscribe(params => {
      console.log("params changed.", lt, params.lt);
      if (params.lt) {
        let newlt = parseInt(params.lt);
        if (newlt !== lt) {
          lt = newlt;
        }
      } else {
        lt = false;
      }
      loadMentions();
    });
  });

	function click_handler_1() {
	          navigate('/mentions', { lt: msgs[msgs.length - 1].rts });
	        }

	return {
		MessageRenderer,
		navigate,
		msgs,
		click_handler_1
	};
}

class Mentions extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document_1.getElementById("svelte-kdiu44-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Mentions;

},{"../messageTypes/MessageRenderer.svelte":21,"../prefs.js":28,"../utils.js":30,"svelte":7,"svelte/internal":8}],36:[function(require,module,exports){
/* Public.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	assign,
	attr,
	check_outros,
	component_subscribe,
	destroy_component,
	detach,
	element,
	empty,
	globals,
	group_outros,
	handle_promise,
	init,
	insert,
	listen,
	mount_component,
	noop,
	outro_and_destroy_block,
	prevent_default,
	run_all,
	safe_not_equal,
	space,
	stop_propagation,
	text,
	transition_in,
	transition_out,
	update_keyed_each,
	validate_store
} = require("svelte/internal");

const { Object: Object_1, document: document_1 } = globals;

const file = "Public.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-kdiu44-style';
	style.textContent = "\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHVibGljLnN2ZWx0ZSIsInNvdXJjZXMiOlsiUHVibGljLnN2ZWx0ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8c2NyaXB0PlxyXG4gIGNvbnN0IE1lc3NhZ2VSZW5kZXJlciA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlVHlwZXMvTWVzc2FnZVJlbmRlcmVyLnN2ZWx0ZVwiKTtcclxuICBjb25zdCB7IG5hdmlnYXRlLCByb3V0ZVBhcmFtcyB9ID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xyXG4gIGNvbnN0IHsgZ2V0UHJlZnMgfSA9IHJlcXVpcmUoXCIuLi9wcmVmcy5qc1wiKTtcclxuICBjb25zdCB7IG9uTW91bnQgfSA9IHJlcXVpcmUoXCJzdmVsdGVcIik7XHJcblxyXG4gIGxldCBtc2dzID0gZmFsc2U7XHJcbiAgbGV0IGVycm9yID0gJHJvdXRlUGFyYW1zLmVycm9yIHx8IGZhbHNlO1xyXG4gIGxldCBkcm9wZG93bkFjdGl2ZSA9IGZhbHNlO1xyXG4gIGxldCBwcm9taXNlO1xyXG5cclxuICBsZXQgb3B0cyA9IHt9O1xyXG5cclxuICAkOiB7XHJcbiAgICBPYmplY3QuYXNzaWduKG9wdHMsICRyb3V0ZVBhcmFtcyk7XHJcblxyXG4gICAgZG9jdW1lbnQudGl0bGUgPSBgUGF0Y2hmb3ggLSBQdWJsaWNgO1xyXG5cclxuICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KFwibHRcIikpIHtcclxuICAgICAgb3B0cy5sdCA9IHBhcnNlSW50KG9wdHMubHQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KFwibGltaXRcIikpIHtcclxuICAgICAgb3B0cy5saW1pdCA9IHBhcnNlSW50KG9wdHMubGltaXQpO1xyXG4gICAgfVxyXG5cclxuICAgIHByb21pc2UgPSBzc2JcclxuICAgICAgLnB1YmxpYyhvcHRzKVxyXG4gICAgICAudGhlbihtcyA9PiB7XHJcbiAgICAgICAgbXNncyA9IG1zO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICBkZWxldGUgb3B0cy5sdDtcclxuICAgICAgICBkZWxldGUgb3B0cy5saW1pdDtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKG4gPT4ge1xyXG4gICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJycm9vb29vclwiLCBuKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgZ29OZXh0ID0gKCkgPT4ge1xyXG4gICAgbGV0IGx0ID0gbXNnc1ttc2dzLmxlbmd0aCAtIDFdLnZhbHVlLnRpbWVzdGFtcDtcclxuICAgIG1zZ3MgPSBmYWxzZTtcclxuICAgIG5hdmlnYXRlKFwiL3B1YmxpY1wiLCB7XHJcbiAgICAgIGx0XHJcbiAgICB9KTtcclxuICB9O1xyXG4gIGNvbnN0IGdvUHJldmlvdXMgPSAoKSA9PiB7XHJcbiAgICBtc2dzID0gZmFsc2U7XHJcbiAgICBoaXN0b3J5LmJhY2soKTtcclxuICB9O1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICAubWVudS1yaWdodCB7XHJcbiAgICByaWdodDogMHB4O1xyXG4gICAgbGVmdDogdW5zZXQ7XHJcbiAgICBtaW4td2lkdGg6IDMwMHB4O1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgY2xhc3M9XCJjb250YWluZXJcIj5cclxuICA8ZGl2IGNsYXNzPVwiY29sdW1uc1wiPlxyXG4gICAgPGg0IGNsYXNzPVwiY29sdW1uXCI+UHVibGljIEZlZWQ8L2g0PlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbHVtblwiIC8+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG57I2lmIGVycm9yfVxyXG4gIDxkaXYgY2xhc3M9XCJ0b2FzdCB0b2FzdC1lcnJvclwiPkVycm9yOiB7ZXJyb3J9PC9kaXY+XHJcbnsvaWZ9XHJcbnsjYXdhaXQgcHJvbWlzZX1cclxuICA8ZGl2IGNsYXNzPVwibG9hZGluZyBsb2FkaW5nLWxnXCIgLz5cclxuezp0aGVufVxyXG4gIHsjaWYgbXNncy5sZW5ndGggPiAwfVxyXG4gICAgeyNlYWNoIG1zZ3MgYXMgbXNnIChtc2cua2V5KX1cclxuICAgICAgPE1lc3NhZ2VSZW5kZXJlciB7bXNnfSAvPlxyXG4gICAgey9lYWNofVxyXG4gICAgPHVsIGNsYXNzPVwicGFnaW5hdGlvblwiPlxyXG4gICAgICA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gcGFnZS1wcmV2aW91c1wiPlxyXG4gICAgICAgIDxhIGhyZWY9XCIjL3B1YmxpY1wiIG9uOmNsaWNrfHN0b3BQcm9wYWdhdGlvbnxwcmV2ZW50RGVmYXVsdD17Z29QcmV2aW91c30+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnZS1pdGVtLXN1YnRpdGxlXCI+UHJldmlvdXM8L2Rpdj5cclxuICAgICAgICA8L2E+XHJcbiAgICAgIDwvbGk+XHJcbiAgICAgIDxsaSBjbGFzcz1cInBhZ2UtaXRlbSBwYWdlLW5leHRcIj5cclxuICAgICAgICA8YSBocmVmPVwiIy9wdWJsaWNcIiBvbjpjbGlja3xzdG9wUHJvcGFnYXRpb258cHJldmVudERlZmF1bHQ9e2dvTmV4dH0+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFnZS1pdGVtLXN1YnRpdGxlXCI+TmV4dDwvZGl2PlxyXG4gICAgICAgIDwvYT5cclxuICAgICAgPC9saT5cclxuICAgIDwvdWw+XHJcbiAgey9pZn1cclxuey9hd2FpdH1cclxuIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiIifQ== */";
	append(document_1.head, style);
}

function get_each_context(ctx, list, i) {
	const child_ctx = Object_1.create(ctx);
	child_ctx.msg = list[i];
	return child_ctx;
}

// (69:0) {#if error}
function create_if_block_1(ctx) {
	var div, t0, t1;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Error: ");
			t1 = text(ctx.error);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 69, 2, 1430);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (1:0) <script>    const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");    const { navigate, routeParams }
function create_catch_block(ctx) {
	return {
		c: noop,
		m: noop,
		p: noop,
		i: noop,
		o: noop,
		d: noop
	};
}

// (74:0) {:then}
function create_then_block(ctx) {
	var if_block_anchor, current;

	var if_block = (ctx.msgs.length > 0) && create_if_block(ctx);

	return {
		c: function create() {
			if (if_block) if_block.c();
			if_block_anchor = empty();
		},

		m: function mount(target, anchor) {
			if (if_block) if_block.m(target, anchor);
			insert(target, if_block_anchor, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			if (ctx.msgs.length > 0) {
				if (if_block) {
					if_block.p(changed, ctx);
					transition_in(if_block, 1);
				} else {
					if_block = create_if_block(ctx);
					if_block.c();
					transition_in(if_block, 1);
					if_block.m(if_block_anchor.parentNode, if_block_anchor);
				}
			} else if (if_block) {
				group_outros();
				transition_out(if_block, 1, 1, () => {
					if_block = null;
				});
				check_outros();
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block);
			current = true;
		},

		o: function outro(local) {
			transition_out(if_block);
			current = false;
		},

		d: function destroy(detaching) {
			if (if_block) if_block.d(detaching);

			if (detaching) {
				detach(if_block_anchor);
			}
		}
	};
}

// (75:2) {#if msgs.length > 0}
function create_if_block(ctx) {
	var each_blocks = [], each_1_lookup = new Map(), t0, ul, li0, a0, div0, t2, li1, a1, div1, current, dispose;

	var each_value = ctx.msgs;

	const get_key = ctx => ctx.msg.key;

	for (var i = 0; i < each_value.length; i += 1) {
		let child_ctx = get_each_context(ctx, each_value, i);
		let key = get_key(child_ctx);
		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
	}

	return {
		c: function create() {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].c();

			t0 = space();
			ul = element("ul");
			li0 = element("li");
			a0 = element("a");
			div0 = element("div");
			div0.textContent = "Previous";
			t2 = space();
			li1 = element("li");
			a1 = element("a");
			div1 = element("div");
			div1.textContent = "Next";
			attr(div0, "class", "page-item-subtitle");
			add_location(div0, file, 81, 10, 1826);
			attr(a0, "href", "#/public");
			add_location(a0, file, 80, 8, 1742);
			attr(li0, "class", "page-item page-previous");
			add_location(li0, file, 79, 6, 1696);
			attr(div1, "class", "page-item-subtitle");
			add_location(div1, file, 86, 10, 2029);
			attr(a1, "href", "#/public");
			add_location(a1, file, 85, 8, 1949);
			attr(li1, "class", "page-item page-next");
			add_location(li1, file, 84, 6, 1907);
			attr(ul, "class", "pagination");
			add_location(ul, file, 78, 4, 1665);

			dispose = [
				listen(a0, "click", stop_propagation(prevent_default(ctx.goPrevious))),
				listen(a1, "click", stop_propagation(prevent_default(ctx.goNext)))
			];
		},

		m: function mount(target, anchor) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].m(target, anchor);

			insert(target, t0, anchor);
			insert(target, ul, anchor);
			append(ul, li0);
			append(li0, a0);
			append(a0, div0);
			append(ul, t2);
			append(ul, li1);
			append(li1, a1);
			append(a1, div1);
			current = true;
		},

		p: function update(changed, ctx) {
			const each_value = ctx.msgs;

			group_outros();
			each_blocks = update_keyed_each(each_blocks, changed, get_key, 1, ctx, each_value, each_1_lookup, t0.parentNode, outro_and_destroy_block, create_each_block, t0, get_each_context);
			check_outros();
		},

		i: function intro(local) {
			if (current) return;
			for (var i = 0; i < each_value.length; i += 1) transition_in(each_blocks[i]);

			current = true;
		},

		o: function outro(local) {
			for (i = 0; i < each_blocks.length; i += 1) transition_out(each_blocks[i]);

			current = false;
		},

		d: function destroy(detaching) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].d(detaching);

			if (detaching) {
				detach(t0);
				detach(ul);
			}

			run_all(dispose);
		}
	};
}

// (76:4) {#each msgs as msg (msg.key)}
function create_each_block(key_1, ctx) {
	var first, current;

	var messagerenderer = new ctx.MessageRenderer({
		props: { msg: ctx.msg },
		$$inline: true
	});

	return {
		key: key_1,

		first: null,

		c: function create() {
			first = empty();
			messagerenderer.$$.fragment.c();
			this.first = first;
		},

		m: function mount(target, anchor) {
			insert(target, first, anchor);
			mount_component(messagerenderer, target, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var messagerenderer_changes = {};
			if (changed.msgs) messagerenderer_changes.msg = ctx.msg;
			messagerenderer.$set(messagerenderer_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(messagerenderer.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(messagerenderer.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(first);
			}

			destroy_component(messagerenderer, detaching);
		}
	};
}

// (72:16)     <div class="loading loading-lg" />  {:then}
function create_pending_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading loading-lg");
			add_location(div, file, 72, 2, 1510);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function create_fragment(ctx) {
	var div2, div1, h4, t1, div0, t2, t3, await_block_anchor, promise_1, current;

	var if_block = (ctx.error) && create_if_block_1(ctx);

	let info = {
		ctx,
		current: null,
		token: null,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 'null',
		error: 'null',
		blocks: [,,,]
	};

	handle_promise(promise_1 = ctx.promise, info);

	return {
		c: function create() {
			div2 = element("div");
			div1 = element("div");
			h4 = element("h4");
			h4.textContent = "Public Feed";
			t1 = space();
			div0 = element("div");
			t2 = space();
			if (if_block) if_block.c();
			t3 = space();
			await_block_anchor = empty();

			info.block.c();
			attr(h4, "class", "column");
			add_location(h4, file, 64, 4, 1332);
			attr(div0, "class", "column");
			add_location(div0, file, 65, 4, 1373);
			attr(div1, "class", "columns");
			add_location(div1, file, 63, 2, 1305);
			attr(div2, "class", "container");
			add_location(div2, file, 62, 0, 1278);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div2, anchor);
			append(div2, div1);
			append(div1, h4);
			append(div1, t1);
			append(div1, div0);
			insert(target, t2, anchor);
			if (if_block) if_block.m(target, anchor);
			insert(target, t3, anchor);
			insert(target, await_block_anchor, anchor);

			info.block.m(target, info.anchor = anchor);
			info.mount = () => await_block_anchor.parentNode;
			info.anchor = await_block_anchor;

			current = true;
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			if (ctx.error) {
				if (if_block) {
					if_block.p(changed, ctx);
				} else {
					if_block = create_if_block_1(ctx);
					if_block.c();
					if_block.m(t3.parentNode, t3);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}

			info.ctx = ctx;

			if (('promise' in changed) && promise_1 !== (promise_1 = ctx.promise) && handle_promise(promise_1, info)) {
				// nothing
			} else {
				info.block.p(changed, assign(assign({}, ctx), info.resolved));
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(info.block);
			current = true;
		},

		o: function outro(local) {
			for (let i = 0; i < 3; i += 1) {
				const block = info.blocks[i];
				transition_out(block);
			}

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div2);
				detach(t2);
			}

			if (if_block) if_block.d(detaching);

			if (detaching) {
				detach(t3);
				detach(await_block_anchor);
			}

			info.block.d(detaching);
			info.token = null;
			info = null;
		}
	};
}

let dropdownActive = false;

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");
  const { navigate, routeParams } = require("../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  const { getPrefs } = require("../prefs.js");
  const { onMount } = require("svelte");

  let msgs = false;
  let error = $routeParams.error || false;
  let promise;

  let opts = {};

  const goNext = () => {
    let lt = msgs[msgs.length - 1].value.timestamp;
    $$invalidate('msgs', msgs = false);
    navigate("/public", {
      lt
    });
  };
  const goPrevious = () => {
    $$invalidate('msgs', msgs = false);
    history.back();
  };

	$$self.$$.update = ($$dirty = { opts: 1, $routeParams: 1, error: 1 }) => {
		if ($$dirty.opts || $$dirty.$routeParams || $$dirty.error) { {
        Object.assign(opts, $routeParams);
    
        document.title = `Patchfox - Public`;
    
        if (opts.hasOwnProperty("lt")) {
          opts.lt = parseInt(opts.lt); $$invalidate('opts', opts), $$invalidate('$routeParams', $routeParams), $$invalidate('error', error);
        }
    
        if (opts.hasOwnProperty("limit")) {
          opts.limit = parseInt(opts.limit); $$invalidate('opts', opts), $$invalidate('$routeParams', $routeParams), $$invalidate('error', error);
        }
    
        $$invalidate('promise', promise = ssb
          .public(opts)
          .then(ms => {
            $$invalidate('msgs', msgs = ms);
            window.scrollTo(0, 0);
            delete opts.lt;
            delete opts.limit;
          })
          .catch(n => {
            if (!error) {
              console.error("errrrooooor", n);
            }
          }));
      } }
	};

	return {
		MessageRenderer,
		routeParams,
		msgs,
		error,
		promise,
		goNext,
		goPrevious
	};
}

class Public extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document_1.getElementById("svelte-kdiu44-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Public;

},{"../messageTypes/MessageRenderer.svelte":21,"../prefs.js":28,"../utils.js":30,"svelte":7,"svelte/internal":8}],37:[function(require,module,exports){
/* Search.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	check_outros,
	component_subscribe,
	destroy_component,
	detach,
	element,
	empty,
	group_outros,
	handle_promise,
	init,
	insert,
	mount_component,
	noop,
	outro_and_destroy_block,
	safe_not_equal,
	set_data,
	space,
	text,
	transition_in,
	transition_out,
	update_keyed_each,
	validate_store
} = require("svelte/internal");

const file = "Search.svelte";

function get_each_context(ctx, list, i) {
	const child_ctx = Object.create(ctx);
	child_ctx.msg = list[i];
	return child_ctx;
}

// (43:0) {#if error}
function create_if_block(ctx) {
	var div, t0, t1, t2, t3;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Couldn't find results for query ");
			t1 = text(ctx.query);
			t2 = text(" : ");
			t3 = text(ctx.error);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 43, 2, 944);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
			append(div, t2);
			append(div, t3);
		},

		p: function update(changed, ctx) {
			if (changed.query) {
				set_data(t1, ctx.query);
			}

			if (changed.error) {
				set_data(t3, ctx.error);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (1:0) <script>    const { tick }
function create_catch_block(ctx) {
	return {
		c: noop,
		m: noop,
		d: noop
	};
}

// (1:0) <script>    const { tick }
function create_then_block(ctx) {
	return {
		c: noop,
		m: noop,
		d: noop
	};
}

// (48:16)     <div class="loading loading-lg" />  {/await}
function create_pending_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading loading-lg");
			add_location(div, file, 48, 2, 1069);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (51:0) {#each msgs as msg (msg.key)}
function create_each_block(key_1, ctx) {
	var first, current;

	var messagerenderer = new ctx.MessageRenderer({
		props: { msg: ctx.msg },
		$$inline: true
	});

	return {
		key: key_1,

		first: null,

		c: function create() {
			first = empty();
			messagerenderer.$$.fragment.c();
			this.first = first;
		},

		m: function mount(target, anchor) {
			insert(target, first, anchor);
			mount_component(messagerenderer, target, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var messagerenderer_changes = {};
			if (changed.msgs) messagerenderer_changes.msg = ctx.msg;
			messagerenderer.$set(messagerenderer_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(messagerenderer.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(messagerenderer.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(first);
			}

			destroy_component(messagerenderer, detaching);
		}
	};
}

function create_fragment(ctx) {
	var div, h4, t0, small, t1, t2, t3, promise_1, t4, each_blocks = [], each_1_lookup = new Map(), each_1_anchor, current;

	var if_block = (ctx.error) && create_if_block(ctx);

	let info = {
		ctx,
		current: null,
		token: null,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 'null',
		error: 'null'
	};

	handle_promise(promise_1 = ctx.promise, info);

	var each_value = ctx.msgs;

	const get_key = ctx => ctx.msg.key;

	for (var i = 0; i < each_value.length; i += 1) {
		let child_ctx = get_each_context(ctx, each_value, i);
		let key = get_key(child_ctx);
		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
	}

	return {
		c: function create() {
			div = element("div");
			h4 = element("h4");
			t0 = text("Search\r\n    ");
			small = element("small");
			t1 = text(ctx.query);
			t2 = space();
			if (if_block) if_block.c();
			t3 = space();

			info.block.c();

			t4 = space();

			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].c();

			each_1_anchor = empty();
			attr(small, "class", "label hide-sm");
			add_location(small, file, 39, 4, 866);
			add_location(h4, file, 37, 2, 844);
			attr(div, "class", "container");
			add_location(div, file, 36, 0, 817);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, h4);
			append(h4, t0);
			append(h4, small);
			append(small, t1);
			insert(target, t2, anchor);
			if (if_block) if_block.m(target, anchor);
			insert(target, t3, anchor);

			info.block.m(target, info.anchor = anchor);
			info.mount = () => t4.parentNode;
			info.anchor = t4;

			insert(target, t4, anchor);

			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].m(target, anchor);

			insert(target, each_1_anchor, anchor);
			current = true;
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			if (!current || changed.query) {
				set_data(t1, ctx.query);
			}

			if (ctx.error) {
				if (if_block) {
					if_block.p(changed, ctx);
				} else {
					if_block = create_if_block(ctx);
					if_block.c();
					if_block.m(t3.parentNode, t3);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}

			info.ctx = ctx;

			('promise' in changed) && promise_1 !== (promise_1 = ctx.promise) && handle_promise(promise_1, info)

			const each_value = ctx.msgs;

			group_outros();
			each_blocks = update_keyed_each(each_blocks, changed, get_key, 1, ctx, each_value, each_1_lookup, each_1_anchor.parentNode, outro_and_destroy_block, create_each_block, each_1_anchor, get_each_context);
			check_outros();
		},

		i: function intro(local) {
			if (current) return;
			for (var i = 0; i < each_value.length; i += 1) transition_in(each_blocks[i]);

			current = true;
		},

		o: function outro(local) {
			for (i = 0; i < each_blocks.length; i += 1) transition_out(each_blocks[i]);

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
				detach(t2);
			}

			if (if_block) if_block.d(detaching);

			if (detaching) {
				detach(t3);
			}

			info.block.d(detaching);
			info.token = null;
			info = null;

			if (detaching) {
				detach(t4);
			}

			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].d(detaching);

			if (detaching) {
				detach(each_1_anchor);
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const { tick } = require("svelte");
  const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");
  const { navigate, routeParams } = require("../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  let msgs = [];
  let error = false;
  let query;
  let promise;

	$$self.$$.update = ($$dirty = { query: 1, $routeParams: 1, msgs: 1 }) => {
		if ($$dirty.query || $$dirty.$routeParams || $$dirty.msgs) { {
        if (query !== $routeParams.query) {
          $$invalidate('query', query = $routeParams.query);
          $$invalidate('msgs', msgs = []);
          console.log("New search", query);
        }
    
        document.title = `Patchfox - search: ${query}`;
    
        const gotResult = async msg => {
          console.log("got a match", msg);
          msgs.push(msg);
          await tick();
          return true;
        };
    
        $$invalidate('promise', promise = ssb
          .searchWithCallback(query, gotResult)
          .then(() => {
          })
          .catch(n => {
            console.dir(n);
            $$invalidate('error', error = n.message);
          }));
      } }
	};

	return {
		MessageRenderer,
		routeParams,
		msgs,
		error,
		query,
		promise
	};
}

class Search extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Search;

},{"../messageTypes/MessageRenderer.svelte":21,"../utils.js":30,"svelte":7,"svelte/internal":8}],38:[function(require,module,exports){
/* Thread.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	check_outros,
	component_subscribe,
	destroy_component,
	detach,
	element,
	empty,
	group_outros,
	init,
	insert,
	mount_component,
	noop,
	outro_and_destroy_block,
	safe_not_equal,
	set_data,
	space,
	text,
	transition_in,
	transition_out,
	update_keyed_each,
	validate_store
} = require("svelte/internal");

const file = "Thread.svelte";

function get_each_context(ctx, list, i) {
	const child_ctx = Object.create(ctx);
	child_ctx.msg = list[i];
	return child_ctx;
}

// (57:0) {#if error}
function create_if_block_1(ctx) {
	var div, t0, a, t1, a_href_value, t2, t3;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Couldn't load thead\r\n    ");
			a = element("a");
			t1 = text(ctx.msgid);
			t2 = text("\r\n    : ");
			t3 = text(ctx.error);
			attr(a, "href", a_href_value = "?thread=" + ctx.msgid + "#/thread");
			add_location(a, file, 59, 4, 1366);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 57, 2, 1304);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, a);
			append(a, t1);
			append(div, t2);
			append(div, t3);
		},

		p: function update(changed, ctx) {
			if (changed.msgid) {
				set_data(t1, ctx.msgid);
			}

			if ((changed.msgid) && a_href_value !== (a_href_value = "?thread=" + ctx.msgid + "#/thread")) {
				attr(a, "href", a_href_value);
			}

			if (changed.error) {
				set_data(t3, ctx.error);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (66:0) {:else}
function create_else_block(ctx) {
	var each_blocks = [], each_1_lookup = new Map(), each_1_anchor, current;

	var each_value = ctx.msgs;

	const get_key = ctx => ctx.msg.key;

	for (var i = 0; i < each_value.length; i += 1) {
		let child_ctx = get_each_context(ctx, each_value, i);
		let key = get_key(child_ctx);
		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
	}

	return {
		c: function create() {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].c();

			each_1_anchor = empty();
		},

		m: function mount(target, anchor) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].m(target, anchor);

			insert(target, each_1_anchor, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			const each_value = ctx.msgs;

			group_outros();
			each_blocks = update_keyed_each(each_blocks, changed, get_key, 1, ctx, each_value, each_1_lookup, each_1_anchor.parentNode, outro_and_destroy_block, create_each_block, each_1_anchor, get_each_context);
			check_outros();
		},

		i: function intro(local) {
			if (current) return;
			for (var i = 0; i < each_value.length; i += 1) transition_in(each_blocks[i]);

			current = true;
		},

		o: function outro(local) {
			for (i = 0; i < each_blocks.length; i += 1) transition_out(each_blocks[i]);

			current = false;
		},

		d: function destroy(detaching) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].d(detaching);

			if (detaching) {
				detach(each_1_anchor);
			}
		}
	};
}

// (64:0) {#if !msgs && !error}
function create_if_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading loading-lg");
			add_location(div, file, 64, 2, 1470);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (67:2) {#each msgs as msg (msg.key)}
function create_each_block(key_1, ctx) {
	var first, current;

	var messagerenderer = new ctx.MessageRenderer({
		props: { msg: ctx.msg },
		$$inline: true
	});

	return {
		key: key_1,

		first: null,

		c: function create() {
			first = empty();
			messagerenderer.$$.fragment.c();
			this.first = first;
		},

		m: function mount(target, anchor) {
			insert(target, first, anchor);
			mount_component(messagerenderer, target, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var messagerenderer_changes = {};
			if (changed.msgs) messagerenderer_changes.msg = ctx.msg;
			messagerenderer.$set(messagerenderer_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(messagerenderer.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(messagerenderer.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(first);
			}

			destroy_component(messagerenderer, detaching);
		}
	};
}

function create_fragment(ctx) {
	var div, h4, t0, small, t1, t2, t3, current_block_type_index, if_block1, if_block1_anchor, current;

	var if_block0 = (ctx.error) && create_if_block_1(ctx);

	var if_block_creators = [
		create_if_block,
		create_else_block
	];

	var if_blocks = [];

	function select_block_type(ctx) {
		if (!ctx.msgs && !ctx.error) return 0;
		return 1;
	}

	current_block_type_index = select_block_type(ctx);
	if_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

	return {
		c: function create() {
			div = element("div");
			h4 = element("h4");
			t0 = text("Thread\r\n    ");
			small = element("small");
			t1 = text(ctx.msgid);
			t2 = space();
			if (if_block0) if_block0.c();
			t3 = space();
			if_block1.c();
			if_block1_anchor = empty();
			attr(small, "class", "label hide-sm");
			add_location(small, file, 53, 4, 1226);
			add_location(h4, file, 51, 2, 1204);
			attr(div, "class", "container");
			add_location(div, file, 50, 0, 1177);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, h4);
			append(h4, t0);
			append(h4, small);
			append(small, t1);
			insert(target, t2, anchor);
			if (if_block0) if_block0.m(target, anchor);
			insert(target, t3, anchor);
			if_blocks[current_block_type_index].m(target, anchor);
			insert(target, if_block1_anchor, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			if (!current || changed.msgid) {
				set_data(t1, ctx.msgid);
			}

			if (ctx.error) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_1(ctx);
					if_block0.c();
					if_block0.m(t3.parentNode, t3);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			var previous_block_index = current_block_type_index;
			current_block_type_index = select_block_type(ctx);
			if (current_block_type_index === previous_block_index) {
				if_blocks[current_block_type_index].p(changed, ctx);
			} else {
				group_outros();
				transition_out(if_blocks[previous_block_index], 1, 1, () => {
					if_blocks[previous_block_index] = null;
				});
				check_outros();

				if_block1 = if_blocks[current_block_type_index];
				if (!if_block1) {
					if_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
					if_block1.c();
				}
				transition_in(if_block1, 1);
				if_block1.m(if_block1_anchor.parentNode, if_block1_anchor);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block1);
			current = true;
		},

		o: function outro(local) {
			transition_out(if_block1);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
				detach(t2);
			}

			if (if_block0) if_block0.d(detaching);

			if (detaching) {
				detach(t3);
			}

			if_blocks[current_block_type_index].d(detaching);

			if (detaching) {
				detach(if_block1_anchor);
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const MessageRenderer = require("../messageTypes/MessageRenderer.svelte");
  const { navigate, routeParams } = require("../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  let msgs = false;
  let error = false;
  let msgid;

  console.log("hooks");
  window._SCHEME_HOOKS = {
    messages: {
      name: "messages",
      description: "The messages loaded on the current thread",
      minArguments: 0,
      maxArguments: 0,
      action: function() {
        return msgs;
      }
    },
    keys: {
      name: "keys",
      description: "A list with the keys of the loaded messages",
      minArguments: 0,
      maxArguments: 0,
      action: function() {
        return msgs.map(m => m.key);
      }
    }
  };

	$$self.$$.update = ($$dirty = { $routeParams: 1, msgid: 1 }) => {
		if ($$dirty.$routeParams || $$dirty.msgid) { {
        $$invalidate('msgid', msgid = $routeParams.thread);
        if (msgid.startsWith("ssb:")) {
          $$invalidate('msgid', msgid = msgid.replace("ssb:", ""));
        }
        document.title = `Patchfox - Thread: ${msgid}`;
    
        let promise = ssb
          .thread(msgid)
          .then(ms => {
            $$invalidate('msgs', msgs = ms);
            window.scrollTo(0, 0);
          })
          .catch(n => {
            console.dir(n);
            $$invalidate('error', error = n.message);
          });
      } }
	};

	return {
		MessageRenderer,
		routeParams,
		msgs,
		error,
		msgid
	};
}

class Thread extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Thread;

},{"../messageTypes/MessageRenderer.svelte":21,"../utils.js":30,"svelte/internal":8}],39:[function(require,module,exports){
/* Compose.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	HtmlTag,
	SvelteComponentDev,
	add_location,
	add_render_callback,
	append,
	attr,
	check_outros,
	component_subscribe,
	create_in_transition,
	create_out_transition,
	destroy_component,
	detach,
	element,
	empty,
	globals,
	group_outros,
	init,
	insert,
	listen,
	mount_component,
	noop,
	prevent_default,
	run_all,
	safe_not_equal,
	set_data,
	space,
	stop_propagation,
	text,
	toggle_class,
	transition_in,
	transition_out,
	validate_store
} = require("svelte/internal");

const { document: document_1 } = globals;

const file = "Compose.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1kmc4x-style';
	style.textContent = ".file-on-top.svelte-1kmc4x{border:solid 2px rgb(26, 192, 11)}input[type=\"file\"].svelte-1kmc4x{display:none}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcG9zZS5zdmVsdGUiLCJzb3VyY2VzIjpbIkNvbXBvc2Uuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XG4gIGNvbnN0IHsgb25Nb3VudCB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcbiAgY29uc3QgZHJvcCA9IHJlcXVpcmUoXCJkcmFnLWFuZC1kcm9wLWZpbGVzXCIpO1xuICBjb25zdCB7IHNsaWRlIH0gPSByZXF1aXJlKFwic3ZlbHRlL3RyYW5zaXRpb25cIik7XG4gIGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlUGFyYW1zLCByZWNvbm5lY3QgfSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy5qc1wiKTtcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vLi4vcHJlZnMuanNcIik7XG4gIGNvbnN0IEF2YXRhckNoaXAgPSByZXF1aXJlKFwiLi4vLi4vcGFydHMvQXZhdGFyQ2hpcC5zdmVsdGVcIik7XG5cbiAgbGV0IHNob3dQcmV2aWV3ID0gZmFsc2U7XG4gIGxldCBtc2cgPSBmYWxzZTtcbiAgbGV0IGVycm9yID0gZmFsc2U7XG4gIGxldCBwb3N0aW5nID0gZmFsc2U7XG5cbiAgbGV0IHJvb3QgPSAkcm91dGVQYXJhbXMucm9vdDtcbiAgbGV0IGJyYW5jaCA9ICRyb3V0ZVBhcmFtcy5icmFuY2g7XG4gIGxldCBjaGFubmVsID0gJHJvdXRlUGFyYW1zLmNoYW5uZWwgfHwgXCJcIjtcbiAgbGV0IGNvbnRlbnQgPSAkcm91dGVQYXJhbXMuY29udGVudCB8fCBcIlwiO1xuICBsZXQgcmVwbHlmZWVkID0gJHJvdXRlUGFyYW1zLnJlcGx5ZmVlZCB8fCBmYWxzZTtcbiAgbGV0IGZvcmsgPSAkcm91dGVQYXJhbXMuZm9yaztcbiAgbGV0IGZpbGVPblRvcCA9IGZhbHNlO1xuICBsZXQgcHVsbCA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxTdHJlYW07XG4gIGxldCBmaWxlUmVhZGVyID0gaGVybWllYm94Lm1vZHVsZXMucHVsbEZpbGVSZWFkZXI7XG4gIGxldCBzYm90ID0gaGVybWllYm94LnNib3Q7XG4gIGxldCBpcGZzRGFlbW9uUnVubmluZyA9IGZhbHNlO1xuICBsZXQgZGF0RGFlbW9uUnVubmluZyA9IGZhbHNlO1xuXG4gIGRvY3VtZW50LnRpdGxlID0gYFBhdGNoZm94IC0gY29tcG9zZWA7XG5cbiAgb25Nb3VudCgoKSA9PiB7XG4gICAgZXJyb3IgPSBmYWxzZTtcbiAgICBtc2cgPSBcIlwiO1xuXG4gICAgLy8gdGhpcyBjb2RlIGNvdWxkIGJlIGluIHNvbWUgYmV0dGVyL3NtYXJ0ZXIgcGxhY2UuXG4gICAgLy8gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndXJsJyk7IGZyb20gaW1hZ2VzIGluIHRoZSBicm93c2VyIHdpbmRvd1xuXG4gICAgZHJvcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIiksIGZpbGVzID0+IHJlYWRGaWxlQW5kQXR0YWNoKGZpbGVzKSk7XG4gICAgY2hlY2tJcGZzRGFlbW9uKCk7XG4gICAgY2hlY2tEYXREYWVtb24oKTtcbiAgfSk7XG5cbiAgY29uc3QgY2hlY2tJcGZzRGFlbW9uID0gKCkgPT4ge1xuICAgIGxldCBwb3J0ID0gZ2V0UHJlZihcImlwZnNQb3J0XCIsIDUwMDEpO1xuICAgIGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOiR7cG9ydH0vYXBpL3YwL2NvbmZpZy9zaG93YCkudGhlbihkYXRhID0+IHtcbiAgICAgIGlwZnNEYWVtb25SdW5uaW5nID0gdHJ1ZTtcbiAgICB9KTtcbiAgfTtcblxuICAgY29uc3QgY2hlY2tEYXREYWVtb24gPSAoKSA9PiB7XG4gICAgICBkYXREYWVtb25SdW5uaW5nID0gZmFsc2U7XG4gIH07XG5cbiAgY29uc3QgcmVhZEZpbGVBbmRBdHRhY2ggPSBmaWxlcyA9PiB7XG4gICAgZXJyb3IgPSBmYWxzZTtcbiAgICBtc2cgPSBcIlwiO1xuXG4gICAgaWYgKGZpbGVzLmxlbmd0aCA9PSAwKSB7XG4gICAgICBmaWxlT25Ub3AgPSBmYWxzZTtcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBmaWxlXCIpO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHZhciBmaXJzdCA9IGZpbGVzWzBdO1xuICAgIGNvbnNvbGUubG9nKGZpcnN0KTtcblxuICAgIGlmICghZmlyc3QudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2VcIikpIHtcbiAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICAgIG1zZyA9IGBZb3UgY2FuIG9ubHkgZHJhZyAmIGRyb3AgaW1hZ2UsIHRoaXMgZmlsZSBpcyBhICR7Zmlyc3QudHlwZX1gO1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChmaXJzdC5zaXplID49IDUwMDAwMDApIHtcbiAgICAgIGVycm9yID0gdHJ1ZTtcbiAgICAgIG1zZyA9IGBGaWxlIHRvbyBsYXJnZTogJHtNYXRoLmZsb29yKFxuICAgICAgICBmaXJzdC5zaXplIC8gMTA0ODU3NixcbiAgICAgICAgMlxuICAgICAgKX1tYiB3aGVuIG1heCBzaXplIGlzIDVtYmA7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVsbChcbiAgICAgIGZpbGVSZWFkZXIoZmlyc3QpLFxuICAgICAgc2JvdC5ibG9icy5hZGQoZnVuY3Rpb24oZXJyLCBoYXNoKSB7XG4gICAgICAgIC8vICdoYXNoJyBpcyB0aGUgaGFzaC1pZCBvZiB0aGUgYmxvYlxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgZXJyb3IgPSB0cnVlO1xuICAgICAgICAgIG1zZyA9IFwiQ291bGRuJ3QgYXR0YWNoIGZpbGU6IFwiICsgZXJyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnRlbnQgKz0gYCAhWyR7Zmlyc3QubmFtZX1dKCR7aGFzaH0pYDtcbiAgICAgICAgfVxuICAgICAgICBmaWxlT25Ub3AgPSBmYWxzZTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBwb3N0ID0gYXN5bmMgZXYgPT4ge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIXBvc3RpbmcpIHtcbiAgICAgIHBvc3RpbmcgPSB0cnVlO1xuXG4gICAgICBpZiAoY2hhbm5lbC5zdGFydHNXaXRoKFwiI1wiKSkge1xuICAgICAgICBjaGFubmVsID0gY2hhbm5lbC5zbGljZSgxKTtcbiAgICAgIH1cblxuICAgICAgdHJ5IHtcbiAgICAgICAgbXNnID0gYXdhaXQgc3NiLm5ld1Bvc3Qoe1xuICAgICAgICAgIHRleHQ6IGNvbnRlbnQsXG4gICAgICAgICAgY2hhbm5lbCxcbiAgICAgICAgICByb290LFxuICAgICAgICAgIGJyYW5jaCxcbiAgICAgICAgICBmb3JrLFxuICAgICAgICAgIGNvbnRlbnRXYXJuaW5nOiBjb250ZW50V2FybmluZy5sZW5ndGggPiAwID8gY29udGVudFdhcm5pbmcgOiB1bmRlZmluZWRcbiAgICAgICAgfSk7XG4gICAgICAgIHBvc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS5sb2coXCJwb3N0ZWRcIiwgbXNnKTtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICBlcnJvciA9IHRydWU7XG4gICAgICAgIG1zZyA9IGBDb3VsZG4ndCBwb3N0IHlvdXIgbWVzc2FnZTogJHtufWA7XG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcblxuICAgICAgICBpZiAobXNnLm1lc3NhZ2UgPT09IFwic3RyZWFtIGlzIGNsb3NlZFwiKSB7XG4gICAgICAgICAgbXNnICs9IFwiLiBXZSBsb3N0IGNvbm5lY3Rpb24gdG8gc2JvdC4gV2UnbGwgdHJ5IHRvIHJlc3RhYmxpc2ggaXQuLi5cIjtcblxuICAgICAgICAgIHJlY29ubmVjdCgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgIHNob3dQcmV2aWV3ID0gZmFsc2U7XG4gICAgICAgICAgICAgIHBvc3RpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgbXNnID0gXCJDb25uZWN0aW9uIHRvIHNib3QgcmVlc3RhYmxpc2hlZC4gVHJ5IHBvc3RpbmcgYWdhaW5cIjtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnNlYXJjaCA9IGA/cm9vdD0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICByb290XG4gICAgICAgICAgICAgICl9JmJyYW5jaD0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICBicmFuY2hcbiAgICAgICAgICAgICAgKX0mY29udGVudD0ke2VuY29kZVVSSUNvbXBvbmVudChcbiAgICAgICAgICAgICAgICBjb250ZW50XG4gICAgICAgICAgICAgICl9JmNoYW5uZWw9JHtlbmNvZGVVUklDb21wb25lbnQoY2hhbm5lbCl9YDtcbiAgICAgICAgICAgICAgbXNnID0gYFNvcnJ5LCBjb3VsZG4ndCByZWNvbm5lY3QgdG8gc2JvdDoke2Vycn0uIFRyeSByZWxvYWRpbmcgdGhlIHBhZ2UuIFlvdXIgY29udGVudCBoYXMgYmVlbiBzYXZlZCB0byB0aGUgVVJMYDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHByZXZpZXcgPSBldiA9PiB7XG4gICAgc2hvd1ByZXZpZXcgPSB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IHNhdmVUb1VSTCA9IGV2ID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24uc2VhcmNoID0gYD9yb290PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgcm9vdFxuICAgICl9JmJyYW5jaD0ke2VuY29kZVVSSUNvbXBvbmVudChicmFuY2gpfSZjb250ZW50PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgY29udGVudFxuICAgICl9JmNoYW5uZWw9JHtlbmNvZGVVUklDb21wb25lbnQoY2hhbm5lbCl9YDtcbiAgfTtcblxuICBjb25zdCBhdmF0YXJDbGljayA9IGV2ID0+IHtcbiAgICBsZXQgZmVlZCA9IGV2LmRldGFpbC5mZWVkO1xuICAgIGxldCBuYW1lID0gZXYuZGV0YWlsLm5hbWU7XG5cbiAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICBjb250ZW50ICs9IGAgWyR7bmFtZX1dKCR7ZmVlZH0pYDtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudCA9IGBbJHtuYW1lfV0oJHtmZWVkfSlgO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkcmFnT3ZlciA9IGV2ID0+IHtcbiAgICBmaWxlT25Ub3AgPSB0cnVlO1xuICB9O1xuXG4gIGNvbnN0IGRyYWdMZWF2ZSA9IGV2ID0+IHtcbiAgICBmaWxlT25Ub3AgPSBmYWxzZTtcbiAgfTtcblxuICBjb25zdCBhdHRhY2hGaWxlVHJpZ2dlciA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVJbnB1dFwiKS5jbGljaygpO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFjaEZpbGVJUEZTVHJpZ2dlciA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVJbnB1dElQRlNcIikuY2xpY2soKTtcbiAgfTtcblxuICBjb25zdCBhdHRhY2hGaWxlREFUVHJpZ2dlciA9ICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVJbnB1dERBVFwiKS5jbGljaygpO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFjaEZpbGUgPSBldiA9PiB7XG4gICAgY29uc3QgZmlsZXMgPSBldi50YXJnZXQuZmlsZXM7XG4gICAgcmVhZEZpbGVBbmRBdHRhY2goZmlsZXMpO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFjaEZpbGVJUEZTID0gZXYgPT4ge1xuICAgIGNvbnN0IGZpbGVzID0gZXYudGFyZ2V0LmZpbGVzO1xuICAgIHJlYWRGaWxlQW5kQXR0YWNoSVBGUyhmaWxlcyk7XG4gIH07XG5cbiAgY29uc3QgYXR0YWNoRmlsZURBVCA9IGV2ID0+IHtcbiAgICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcbiAgICByZWFkRmlsZUFuZEF0dGFjaERBVChmaWxlcyk7XG4gIH07XG5cbiAgY29uc3QgcmVhZEZpbGVBbmRBdHRhY2hJUEZTID0gYXN5bmMgZmlsZXMgPT4ge1xuICAgIGVycm9yID0gZmFsc2U7XG4gICAgbXNnID0gXCJcIjtcblxuICAgIHZhciBpcGZzID0gd2luZG93LklwZnNIdHRwQ2xpZW50KFwiMTI3LjAuMC4xXCIsIFwiNTAwMVwiKTtcbiAgICBjb25zdCByZXN1bHRzID0gYXdhaXQgaXBmcy5hZGQoZmlsZXNbMF0pO1xuXG4gICAgY29uc29sZS5sb2coXCJhZGRlZCB2aWEgSVBGU1wiLCByZXN1bHRzKTtcbiAgICBjb250ZW50ICs9IGAgWyR7cmVzdWx0c1swXS5wYXRofV0oaXBmczovLyR7cmVzdWx0c1swXS5oYXNofSlgO1xuICB9O1xuXG4gIGxldCBzaG93Q29udGVudFdhcm5pbmdGaWVsZCA9IGZhbHNlO1xuXG4gIGNvbnN0IHRvZ2dsZUNvbnRlbnRXYXJuaW5nID0gKCkgPT5cbiAgICAoc2hvd0NvbnRlbnRXYXJuaW5nRmllbGQgPSAhc2hvd0NvbnRlbnRXYXJuaW5nRmllbGQpO1xuXG4gIGxldCBjb250ZW50V2FybmluZyA9IFwiXCI7XG48L3NjcmlwdD5cblxuPHN0eWxlPlxuICAuZmlsZS1vbi10b3Age1xuICAgIGJvcmRlcjogc29saWQgMnB4IHJnYigyNiwgMTkyLCAxMSk7XG4gIH1cblxuICBpbnB1dFt0eXBlPVwiZmlsZVwiXSB7XG4gICAgZGlzcGxheTogbm9uZTtcbiAgfVxuPC9zdHlsZT5cblxuPGRpdiBjbGFzcz1cImNvbnRhaW5lclwiPlxuICA8ZGl2IGNsYXNzPVwiY29sdW1uc1wiPlxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cbiAgICAgIHsjaWYgZm9ya31cbiAgICAgICAgPGRpdiBjbGFzcz1cInRvYXN0IHRvYXN0LXdhcm5pbmdcIj5Zb3UgYXJlIGZvcmtpbmc6IHtmb3JrfTwvZGl2PlxuICAgICAgey9pZn1cbiAgICAgIHsjaWYgbXNnfVxuICAgICAgICB7I2lmIGVycm9yfVxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2FzdCB0b2FzdC1lcnJvclwiPnttc2d9PC9kaXY+XG4gICAgICAgIHs6ZWxzZX1cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9hc3QgdG9hc3Qtc3VjY2Vzc1wiPlxuICAgICAgICAgICAgWW91ciBtZXNzYWdlIGhhcyBiZWVuIHBvc3RlZC4gRG8geW91IHdhbnQgdG9cbiAgICAgICAgICAgIDxhXG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXG4gICAgICAgICAgICAgIGhyZWY9XCI/dGhyZWFkPXtlbmNvZGVVUklDb21wb25lbnQobXNnLmtleSl9Iy90aHJlYWRcIj5cbiAgICAgICAgICAgICAgQ2hlY2sgaXQgb3V0P1xuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICB7L2lmfVxuICAgICAgey9pZn1cbiAgICAgIHsjaWYgIXNob3dQcmV2aWV3fVxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiIGluOnNsaWRlIG91dDpzbGlkZT5cbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCIgZm9yPVwiY2hhbm5lbFwiPkNoYW5uZWw8L2xhYmVsPlxuICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWlucHV0XCJcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgIGlkPVwiY2hhbm5lbFwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cImNoYW5uZWxcIlxuICAgICAgICAgICAgYmluZDp2YWx1ZT17Y2hhbm5lbH0gLz5cblxuICAgICAgICAgIHsjaWYgYnJhbmNofVxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZm9ybS1sYWJlbFwiIGZvcj1cInJlcGx5LXRvXCI+SW4gcmVwbHkgdG88L2xhYmVsPlxuICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1pbnB1dFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgaWQ9XCJyZXBseS10b1wiXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiaW4gcmVwbHkgdG9cIlxuICAgICAgICAgICAgICBiaW5kOnZhbHVlPXticmFuY2h9IC8+XG4gICAgICAgICAgey9pZn1cblxuICAgICAgICAgIHsjaWYgcmVwbHlmZWVkfVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cbiAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgQ2xpY2sgdGhlIGF2YXRhciB0byBhZGQgYSBsaW5rIHRvIHRoZSBtZXNzYWdlOlxuICAgICAgICAgICAgICAgIDxBdmF0YXJDaGlwIGZlZWQ9e3JlcGx5ZmVlZH0gb246YXZhdGFyQ2xpY2s9e2F2YXRhckNsaWNrfSAvPlxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJjb250ZW50XCI+TWVzc2FnZTwvbGFiZWw+XG4gICAgICAgICAgPHRleHRhcmVhXG4gICAgICAgICAgICBjbGFzcz1cImZvcm0taW5wdXRcIlxuICAgICAgICAgICAgaWQ9XCJjb250ZW50XCJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiVHlwZSBpbiB5b3VyIHBvc3RcIlxuICAgICAgICAgICAgcm93cz1cIjEwXCJcbiAgICAgICAgICAgIG9uOmRyYWdvdmVyfHByZXZlbnREZWZhdWx0fHN0b3BQcm9wYWdhdGlvbj17ZHJhZ092ZXJ9XG4gICAgICAgICAgICBvbjpkcmFnbGVhdmV8cHJldmVudERlZmF1bHR8c3RvcFByb3BhZ2F0aW9uPXtkcmFnTGVhdmV9XG4gICAgICAgICAgICBjbGFzczpmaWxlLW9uLXRvcD17ZmlsZU9uVG9wfVxuICAgICAgICAgICAgYmluZDp2YWx1ZT17Y29udGVudH0gLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1ibG9jayBtLTJcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLWxpbmtcIiBvbjpjbGljaz17dG9nZ2xlQ29udGVudFdhcm5pbmd9PlxuICAgICAgICAgICAgICBDV1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICB7I2lmIHNob3dDb250ZW50V2FybmluZ0ZpZWxkfVxuICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cIjUwXCJcbiAgICAgICAgICAgICAgICBiaW5kOnZhbHVlPXtjb250ZW50V2FybmluZ31cbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaWJlIHlvdXIgY29udGVudCB3YXJuaW5nIChsZWF2ZSBlbXB0eSB0byBubyB1c2UgaXQpXCIgLz5cbiAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgb246aW5wdXQ9e2F0dGFjaEZpbGV9IGlkPVwiZmlsZUlucHV0XCIgLz5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgb246Y2xpY2s9e2F0dGFjaEZpbGVUcmlnZ2VyfT5BdHRhY2ggRmlsZTwvYnV0dG9uPlxuICAgICAgICAgIHsjaWYgZ2V0UHJlZihcInBsYXRmb3JtLWlwZnMtZW5hYmxlZFwiLCBcInllc1wiKSA9PT0gXCJ5ZXNcIiAmJiBpcGZzRGFlbW9uUnVubmluZ31cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG9uOmlucHV0PXthdHRhY2hGaWxlSVBGU30gaWQ9XCJmaWxlSW5wdXRJUEZTXCIgLz5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiBvbjpjbGljaz17YXR0YWNoRmlsZUlQRlNUcmlnZ2VyfT5cbiAgICAgICAgICAgICAgQXR0YWNoIEZpbGUgdXNpbmcgSVBGU1xuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgey9pZn1cbiAgICAgICAgICAgeyNpZiBnZXRQcmVmKFwicGxhdGZvcm0tZGF0LWVuYWJsZWRcIiwgXCJ5ZXNcIikgPT09IFwieWVzXCIgJiYgZGF0RGFlbW9uUnVubmluZ31cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG9uOmlucHV0PXthdHRhY2hGaWxlREFUfSBpZD1cImZpbGVJbnB1dERBVFwiIC8+XG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgb246Y2xpY2s9e2F0dGFjaEZpbGVEQVRUcmlnZ2VyfT5cbiAgICAgICAgICAgICAgQXR0YWNoIEZpbGUgdXNpbmcgRGF0XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICB7L2lmfVxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXByaW1hcnkgZmxvYXQtcmlnaHRcIiBvbjpjbGljaz17cHJldmlld30+XG4gICAgICAgICAgICBQcmV2aWV3XG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlfVxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uIGNvbC1tZC0xMlwiPlxuICAgICAgICAgIDxoMj5Qb3N0IHByZXZpZXc8L2gyPlxuICAgICAgICAgIHsjaWYgY2hhbm5lbCB8fCByb290IHx8IGJyYW5jaCB8fCBjb250ZW50V2FybmluZy5sZW5ndGggPiAwfVxuICAgICAgICAgICAgPGJsb2NrcXVvdGU+XG4gICAgICAgICAgICAgIHsjaWYgY2hhbm5lbH1cbiAgICAgICAgICAgICAgICA8cD5cbiAgICAgICAgICAgICAgICAgIDxiPkNoYW5uZWw6PC9iPlxuICAgICAgICAgICAgICAgICAge2NoYW5uZWwuc3RhcnRzV2l0aCgnIycpID8gY2hhbm5lbC5zbGljZSgxKSA6IGNoYW5uZWx9XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICB7L2lmfVxuICAgICAgICAgICAgICB7I2lmIHJvb3R9XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICA8Yj5Sb290OjwvYj5cbiAgICAgICAgICAgICAgICAgIHtyb290fVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgeyNpZiBicmFuY2h9XG4gICAgICAgICAgICAgICAgPHA+XG4gICAgICAgICAgICAgICAgICA8Yj5JbiBSZXBseSBUbzo8L2I+XG4gICAgICAgICAgICAgICAgICB7YnJhbmNofVxuICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgey9pZn1cbiAgICAgICAgICAgICAgeyNpZiBjb250ZW50V2FybmluZy5sZW5ndGggPiAwfVxuICAgICAgICAgICAgICAgIDxwPlxuICAgICAgICAgICAgICAgICAgPGI+Q29udGVudCBXYXJuaW5nOjwvYj5cbiAgICAgICAgICAgICAgICAgIHtjb250ZW50V2FybmluZ31cbiAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgIHsvaWZ9XG4gICAgICAgICAgICA8L2Jsb2NrcXVvdGU+XG4gICAgICAgICAgey9pZn1cbiAgICAgICAgICB7QGh0bWwgc3NiLm1hcmtkb3duKGNvbnRlbnQpfVxuXG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpdmlkZXJcIiAvPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sdW1uIGNvbC1tZC0xMiBjb2wtbGctMTBcIj5cbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsYWJlbCBsYWJlbC13YXJuaW5nXCI+XG4gICAgICAgICAgICAgICAgVGhpcyBtZXNzYWdlIHdpbGwgYmUgcHVibGljIGFuZCBjYW4ndCBiZSBlZGl0ZWQgb3IgZGVsZXRlZFxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLW1kLTEyIGNvbC1sZy0yXCI+XG4gICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiBvbjpjbGljaz17KCkgPT4gKHNob3dQcmV2aWV3ID0gZmFsc2UpfT5cbiAgICAgICAgICAgICAgICBHbyBCYWNrXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXByaW1hcnlcIlxuICAgICAgICAgICAgICAgIGNsYXNzOmxvYWRpbmc9e3Bvc3Rpbmd9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFlcnJvciAmJiB0eXBlb2YgbXNnLmtleSA9PSBcInN0cmluZ1wifVxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXtwb3N0fT5cbiAgICAgICAgICAgICAgICBQb3N0XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgey9pZn1cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG48L2Rpdj5cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFpT0UsWUFBWSxjQUFDLENBQUMsQUFDWixNQUFNLENBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxBQUNwQyxDQUFDLEFBRUQsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsY0FBQyxDQUFDLEFBQ2xCLE9BQU8sQ0FBRSxJQUFJLEFBQ2YsQ0FBQyJ9 */";
	append(document_1.head, style);
}

// (238:6) {#if fork}
function create_if_block_13(ctx) {
	var div, t0, t1;

	return {
		c: function create() {
			div = element("div");
			t0 = text("You are forking: ");
			t1 = text(ctx.fork);
			attr(div, "class", "toast toast-warning");
			add_location(div, file, 238, 8, 5901);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, t1);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (241:6) {#if msg}
function create_if_block_11(ctx) {
	var if_block_anchor;

	function select_block_type(ctx) {
		if (ctx.error) return create_if_block_12;
		return create_else_block_1;
	}

	var current_block_type = select_block_type(ctx);
	var if_block = current_block_type(ctx);

	return {
		c: function create() {
			if_block.c();
			if_block_anchor = empty();
		},

		m: function mount(target, anchor) {
			if_block.m(target, anchor);
			insert(target, if_block_anchor, anchor);
		},

		p: function update(changed, ctx) {
			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
				if_block.p(changed, ctx);
			} else {
				if_block.d(1);
				if_block = current_block_type(ctx);
				if (if_block) {
					if_block.c();
					if_block.m(if_block_anchor.parentNode, if_block_anchor);
				}
			}
		},

		d: function destroy(detaching) {
			if_block.d(detaching);

			if (detaching) {
				detach(if_block_anchor);
			}
		}
	};
}

// (244:8) {:else}
function create_else_block_1(ctx) {
	var div, t0, a, t1, a_href_value;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Your message has been posted. Do you want to\n            ");
			a = element("a");
			t1 = text("Check it out?");
			attr(a, "target", "_blank");
			attr(a, "href", a_href_value = "?thread=" + ctx.encodeURIComponent(ctx.msg.key) + "#/thread");
			add_location(a, file, 246, 12, 6194);
			attr(div, "class", "toast toast-success");
			add_location(div, file, 244, 10, 6091);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, a);
			append(a, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && a_href_value !== (a_href_value = "?thread=" + ctx.encodeURIComponent(ctx.msg.key) + "#/thread")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (242:8) {#if error}
function create_if_block_12(ctx) {
	var div, t;

	return {
		c: function create() {
			div = element("div");
			t = text(ctx.msg);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 242, 10, 6022);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t);
		},

		p: function update(changed, ctx) {
			if (changed.msg) {
				set_data(t, ctx.msg);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (323:6) {:else}
function create_else_block(ctx) {
	var div4, h2, t1, t2, html_tag, raw_value = ctx.ssb.markdown(ctx.content), t3, div0, t4, div3, div1, span, t6, div2, button0, t8, button1, t9, button1_disabled_value, dispose;

	var if_block = (ctx.channel || ctx.root || ctx.branch || ctx.contentWarning.length > 0) && create_if_block_6(ctx);

	return {
		c: function create() {
			div4 = element("div");
			h2 = element("h2");
			h2.textContent = "Post preview";
			t1 = space();
			if (if_block) if_block.c();
			t2 = space();
			t3 = space();
			div0 = element("div");
			t4 = space();
			div3 = element("div");
			div1 = element("div");
			span = element("span");
			span.textContent = "This message will be public and can't be edited or deleted";
			t6 = space();
			div2 = element("div");
			button0 = element("button");
			button0.textContent = "Go Back";
			t8 = space();
			button1 = element("button");
			t9 = text("Post");
			add_location(h2, file, 324, 10, 9070);
			html_tag = new HtmlTag(raw_value, t3);
			attr(div0, "class", "divider");
			add_location(div0, file, 355, 10, 9956);
			attr(span, "class", "label label-warning");
			add_location(span, file, 358, 14, 10079);
			attr(div1, "class", "column col-md-12 col-lg-10");
			add_location(div1, file, 357, 12, 10024);
			attr(button0, "class", "btn");
			add_location(button0, file, 363, 14, 10296);
			attr(button1, "class", "btn btn-primary");
			button1.disabled = button1_disabled_value = !ctx.error && typeof ctx.msg.key == "string";
			toggle_class(button1, "loading", ctx.posting);
			add_location(button1, file, 366, 14, 10418);
			attr(div2, "class", "column col-md-12 col-lg-2");
			add_location(div2, file, 362, 12, 10242);
			attr(div3, "class", "columns");
			add_location(div3, file, 356, 10, 9990);
			attr(div4, "class", "column col-md-12");
			add_location(div4, file, 323, 8, 9029);

			dispose = [
				listen(button0, "click", ctx.click_handler),
				listen(button1, "click", ctx.post)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div4, anchor);
			append(div4, h2);
			append(div4, t1);
			if (if_block) if_block.m(div4, null);
			append(div4, t2);
			html_tag.m(div4);
			append(div4, t3);
			append(div4, div0);
			append(div4, t4);
			append(div4, div3);
			append(div3, div1);
			append(div1, span);
			append(div3, t6);
			append(div3, div2);
			append(div2, button0);
			append(div2, t8);
			append(div2, button1);
			append(button1, t9);
		},

		p: function update(changed, ctx) {
			if (ctx.channel || ctx.root || ctx.branch || ctx.contentWarning.length > 0) {
				if (if_block) {
					if_block.p(changed, ctx);
				} else {
					if_block = create_if_block_6(ctx);
					if_block.c();
					if_block.m(div4, t2);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}

			if ((changed.content) && raw_value !== (raw_value = ctx.ssb.markdown(ctx.content))) {
				html_tag.p(raw_value);
			}

			if ((changed.error || changed.msg) && button1_disabled_value !== (button1_disabled_value = !ctx.error && typeof ctx.msg.key == "string")) {
				button1.disabled = button1_disabled_value;
			}

			if (changed.posting) {
				toggle_class(button1, "loading", ctx.posting);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div4);
			}

			if (if_block) if_block.d();
			run_all(dispose);
		}
	};
}

// (255:6) {#if !showPreview}
function create_if_block(ctx) {
	var div1, label0, t1, input0, t2, t3, t4, label1, t6, textarea, t7, div0, button0, t9, t10, input1, t11, button1, t13, t14, t15, button2, div1_intro, div1_outro, current, dispose;

	var if_block0 = (ctx.branch) && create_if_block_5(ctx);

	var if_block1 = (ctx.replyfeed) && create_if_block_4(ctx);

	var if_block2 = (ctx.showContentWarningField) && create_if_block_3(ctx);

	var if_block3 = (ctx.getPref("platform-ipfs-enabled", "yes") === "yes" && ctx.ipfsDaemonRunning) && create_if_block_2(ctx);

	var if_block4 = (ctx.getPref("platform-dat-enabled", "yes") === "yes" && ctx.datDaemonRunning) && create_if_block_1(ctx);

	return {
		c: function create() {
			div1 = element("div");
			label0 = element("label");
			label0.textContent = "Channel";
			t1 = space();
			input0 = element("input");
			t2 = space();
			if (if_block0) if_block0.c();
			t3 = space();
			if (if_block1) if_block1.c();
			t4 = space();
			label1 = element("label");
			label1.textContent = "Message";
			t6 = space();
			textarea = element("textarea");
			t7 = space();
			div0 = element("div");
			button0 = element("button");
			button0.textContent = "CW";
			t9 = space();
			if (if_block2) if_block2.c();
			t10 = space();
			input1 = element("input");
			t11 = space();
			button1 = element("button");
			button1.textContent = "Attach File";
			t13 = space();
			if (if_block3) if_block3.c();
			t14 = space();
			if (if_block4) if_block4.c();
			t15 = space();
			button2 = element("button");
			button2.textContent = "Preview";
			attr(label0, "class", "form-label");
			attr(label0, "for", "channel");
			add_location(label0, file, 256, 10, 6470);
			attr(input0, "class", "form-input");
			attr(input0, "type", "text");
			attr(input0, "id", "channel");
			attr(input0, "placeholder", "channel");
			add_location(input0, file, 257, 10, 6536);
			attr(label1, "class", "form-label");
			attr(label1, "for", "content");
			add_location(label1, file, 282, 10, 7275);
			attr(textarea, "class", "form-input svelte-1kmc4x");
			attr(textarea, "id", "content");
			attr(textarea, "placeholder", "Type in your post");
			attr(textarea, "rows", "10");
			toggle_class(textarea, "file-on-top", ctx.fileOnTop);
			add_location(textarea, file, 283, 10, 7341);
			attr(button0, "class", "btn btn-link");
			add_location(button0, file, 293, 12, 7733);
			attr(div0, "class", "d-block m-2");
			add_location(div0, file, 292, 10, 7695);
			attr(input1, "type", "file");
			attr(input1, "id", "fileInput");
			attr(input1, "class", "svelte-1kmc4x");
			add_location(input1, file, 304, 10, 8130);
			attr(button1, "class", "btn");
			add_location(button1, file, 305, 10, 8199);
			attr(button2, "class", "btn btn-primary float-right");
			add_location(button2, file, 318, 10, 8888);
			attr(div1, "class", "form-group");
			add_location(div1, file, 255, 8, 6416);

			dispose = [
				listen(input0, "input", ctx.input0_input_handler),
				listen(textarea, "input", ctx.textarea_input_handler),
				listen(textarea, "dragover", stop_propagation(prevent_default(ctx.dragOver))),
				listen(textarea, "dragleave", stop_propagation(prevent_default(ctx.dragLeave))),
				listen(button0, "click", ctx.toggleContentWarning),
				listen(input1, "input", ctx.attachFile),
				listen(button1, "click", ctx.attachFileTrigger),
				listen(button2, "click", ctx.preview)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div1, anchor);
			append(div1, label0);
			append(div1, t1);
			append(div1, input0);

			input0.value = ctx.channel;

			append(div1, t2);
			if (if_block0) if_block0.m(div1, null);
			append(div1, t3);
			if (if_block1) if_block1.m(div1, null);
			append(div1, t4);
			append(div1, label1);
			append(div1, t6);
			append(div1, textarea);

			textarea.value = ctx.content;

			append(div1, t7);
			append(div1, div0);
			append(div0, button0);
			append(div0, t9);
			if (if_block2) if_block2.m(div0, null);
			append(div1, t10);
			append(div1, input1);
			append(div1, t11);
			append(div1, button1);
			append(div1, t13);
			if (if_block3) if_block3.m(div1, null);
			append(div1, t14);
			if (if_block4) if_block4.m(div1, null);
			append(div1, t15);
			append(div1, button2);
			current = true;
		},

		p: function update(changed, ctx) {
			if (changed.channel && (input0.value !== ctx.channel)) input0.value = ctx.channel;

			if (ctx.branch) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_5(ctx);
					if_block0.c();
					if_block0.m(div1, t3);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.replyfeed) {
				if (if_block1) {
					if_block1.p(changed, ctx);
					transition_in(if_block1, 1);
				} else {
					if_block1 = create_if_block_4(ctx);
					if_block1.c();
					transition_in(if_block1, 1);
					if_block1.m(div1, t4);
				}
			} else if (if_block1) {
				group_outros();
				transition_out(if_block1, 1, 1, () => {
					if_block1 = null;
				});
				check_outros();
			}

			if (changed.content) textarea.value = ctx.content;

			if (changed.fileOnTop) {
				toggle_class(textarea, "file-on-top", ctx.fileOnTop);
			}

			if (ctx.showContentWarningField) {
				if (if_block2) {
					if_block2.p(changed, ctx);
				} else {
					if_block2 = create_if_block_3(ctx);
					if_block2.c();
					if_block2.m(div0, null);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (ctx.getPref("platform-ipfs-enabled", "yes") === "yes" && ctx.ipfsDaemonRunning) {
				if (!if_block3) {
					if_block3 = create_if_block_2(ctx);
					if_block3.c();
					if_block3.m(div1, t14);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}

			if (ctx.getPref("platform-dat-enabled", "yes") === "yes" && ctx.datDaemonRunning) {
				if (!if_block4) {
					if_block4 = create_if_block_1(ctx);
					if_block4.c();
					if_block4.m(div1, t15);
				}
			} else if (if_block4) {
				if_block4.d(1);
				if_block4 = null;
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block1);

			add_render_callback(() => {
				if (div1_outro) div1_outro.end(1);
				if (!div1_intro) div1_intro = create_in_transition(div1, ctx.slide, {});
				div1_intro.start();
			});

			current = true;
		},

		o: function outro(local) {
			transition_out(if_block1);
			if (div1_intro) div1_intro.invalidate();

			div1_outro = create_out_transition(div1, ctx.slide, {});

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div1);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();
			if (if_block4) if_block4.d();

			if (detaching) {
				if (div1_outro) div1_outro.end();
			}

			run_all(dispose);
		}
	};
}

// (326:10) {#if channel || root || branch || contentWarning.length > 0}
function create_if_block_6(ctx) {
	var blockquote, t0, t1, t2;

	var if_block0 = (ctx.channel) && create_if_block_10(ctx);

	var if_block1 = (ctx.root) && create_if_block_9(ctx);

	var if_block2 = (ctx.branch) && create_if_block_8(ctx);

	var if_block3 = (ctx.contentWarning.length > 0) && create_if_block_7(ctx);

	return {
		c: function create() {
			blockquote = element("blockquote");
			if (if_block0) if_block0.c();
			t0 = space();
			if (if_block1) if_block1.c();
			t1 = space();
			if (if_block2) if_block2.c();
			t2 = space();
			if (if_block3) if_block3.c();
			add_location(blockquote, file, 326, 12, 9175);
		},

		m: function mount(target, anchor) {
			insert(target, blockquote, anchor);
			if (if_block0) if_block0.m(blockquote, null);
			append(blockquote, t0);
			if (if_block1) if_block1.m(blockquote, null);
			append(blockquote, t1);
			if (if_block2) if_block2.m(blockquote, null);
			append(blockquote, t2);
			if (if_block3) if_block3.m(blockquote, null);
		},

		p: function update(changed, ctx) {
			if (ctx.channel) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_10(ctx);
					if_block0.c();
					if_block0.m(blockquote, t0);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.root) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_9(ctx);
					if_block1.c();
					if_block1.m(blockquote, t1);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (ctx.branch) {
				if (if_block2) {
					if_block2.p(changed, ctx);
				} else {
					if_block2 = create_if_block_8(ctx);
					if_block2.c();
					if_block2.m(blockquote, t2);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (ctx.contentWarning.length > 0) {
				if (if_block3) {
					if_block3.p(changed, ctx);
				} else {
					if_block3 = create_if_block_7(ctx);
					if_block3.c();
					if_block3.m(blockquote, null);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(blockquote);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();
		}
	};
}

// (328:14) {#if channel}
function create_if_block_10(ctx) {
	var p, b, t1, t2_value = ctx.channel.startsWith('#') ? ctx.channel.slice(1) : ctx.channel, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Channel:";
			t1 = space();
			t2 = text(t2_value);
			add_location(b, file, 329, 18, 9254);
			add_location(p, file, 328, 16, 9232);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if ((changed.channel) && t2_value !== (t2_value = ctx.channel.startsWith('#') ? ctx.channel.slice(1) : ctx.channel)) {
				set_data(t2, t2_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (334:14) {#if root}
function create_if_block_9(ctx) {
	var p, b, t1, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Root:";
			t1 = space();
			t2 = text(ctx.root);
			add_location(b, file, 335, 18, 9447);
			add_location(p, file, 334, 16, 9425);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (340:14) {#if branch}
function create_if_block_8(ctx) {
	var p, b, t1, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "In Reply To:";
			t1 = space();
			t2 = text(ctx.branch);
			add_location(b, file, 341, 18, 9591);
			add_location(p, file, 340, 16, 9569);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if (changed.branch) {
				set_data(t2, ctx.branch);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (346:14) {#if contentWarning.length > 0}
function create_if_block_7(ctx) {
	var p, b, t1, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Content Warning:";
			t1 = space();
			t2 = text(ctx.contentWarning);
			add_location(b, file, 347, 18, 9763);
			add_location(p, file, 346, 16, 9741);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if (changed.contentWarning) {
				set_data(t2, ctx.contentWarning);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (265:10) {#if branch}
function create_if_block_5(ctx) {
	var label, t_1, input, dispose;

	return {
		c: function create() {
			label = element("label");
			label.textContent = "In reply to";
			t_1 = space();
			input = element("input");
			attr(label, "class", "form-label");
			attr(label, "for", "reply-to");
			add_location(label, file, 265, 12, 6729);
			attr(input, "class", "form-input");
			attr(input, "type", "text");
			attr(input, "id", "reply-to");
			attr(input, "placeholder", "in reply to");
			add_location(input, file, 266, 12, 6802);
			dispose = listen(input, "input", ctx.input_input_handler);
		},

		m: function mount(target, anchor) {
			insert(target, label, anchor);
			insert(target, t_1, anchor);
			insert(target, input, anchor);

			input.value = ctx.branch;
		},

		p: function update(changed, ctx) {
			if (changed.branch && (input.value !== ctx.branch)) input.value = ctx.branch;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(label);
				detach(t_1);
				detach(input);
			}

			dispose();
		}
	};
}

// (275:10) {#if replyfeed}
function create_if_block_4(ctx) {
	var div, span, t, current;

	var avatarchip = new ctx.AvatarChip({
		props: { feed: ctx.replyfeed },
		$$inline: true
	});
	avatarchip.$on("avatarClick", ctx.avatarClick);

	return {
		c: function create() {
			div = element("div");
			span = element("span");
			t = text("Click the avatar to add a link to the message:\n                ");
			avatarchip.$$.fragment.c();
			add_location(span, file, 276, 14, 7061);
			attr(div, "class", "mt-2");
			add_location(div, file, 275, 12, 7028);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, span);
			append(span, t);
			mount_component(avatarchip, span, null);
			current = true;
		},

		p: function update(changed, ctx) {
			var avatarchip_changes = {};
			if (changed.replyfeed) avatarchip_changes.feed = ctx.replyfeed;
			avatarchip.$set(avatarchip_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(avatarchip.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(avatarchip.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			destroy_component(avatarchip);
		}
	};
}

// (297:12) {#if showContentWarningField}
function create_if_block_3(ctx) {
	var input, dispose;

	return {
		c: function create() {
			input = element("input");
			attr(input, "type", "text");
			attr(input, "size", "50");
			attr(input, "placeholder", "Describe your content warning (leave empty to no use it)");
			add_location(input, file, 297, 14, 7890);
			dispose = listen(input, "input", ctx.input_input_handler_1);
		},

		m: function mount(target, anchor) {
			insert(target, input, anchor);

			input.value = ctx.contentWarning;
		},

		p: function update(changed, ctx) {
			if (changed.contentWarning && (input.value !== ctx.contentWarning)) input.value = ctx.contentWarning;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(input);
			}

			dispose();
		}
	};
}

// (307:10) {#if getPref("platform-ipfs-enabled", "yes") === "yes" && ipfsDaemonRunning}
function create_if_block_2(ctx) {
	var input, t, button, dispose;

	return {
		c: function create() {
			input = element("input");
			t = space();
			button = element("button");
			button.textContent = "Attach File using IPFS";
			attr(input, "type", "file");
			attr(input, "id", "fileInputIPFS");
			attr(input, "class", "svelte-1kmc4x");
			add_location(input, file, 307, 12, 8368);
			attr(button, "class", "btn");
			add_location(button, file, 308, 12, 8447);

			dispose = [
				listen(input, "input", ctx.attachFileIPFS),
				listen(button, "click", ctx.attachFileIPFSTrigger)
			];
		},

		m: function mount(target, anchor) {
			insert(target, input, anchor);
			insert(target, t, anchor);
			insert(target, button, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(input);
				detach(t);
				detach(button);
			}

			run_all(dispose);
		}
	};
}

// (313:11) {#if getPref("platform-dat-enabled", "yes") === "yes" && datDaemonRunning}
function create_if_block_1(ctx) {
	var input, t, button, dispose;

	return {
		c: function create() {
			input = element("input");
			t = space();
			button = element("button");
			button.textContent = "Attach File using Dat";
			attr(input, "type", "file");
			attr(input, "id", "fileInputDAT");
			attr(input, "class", "svelte-1kmc4x");
			add_location(input, file, 313, 12, 8674);
			attr(button, "class", "btn");
			add_location(button, file, 314, 12, 8751);

			dispose = [
				listen(input, "input", ctx.attachFileDAT),
				listen(button, "click", ctx.attachFileDATTrigger)
			];
		},

		m: function mount(target, anchor) {
			insert(target, input, anchor);
			insert(target, t, anchor);
			insert(target, button, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(input);
				detach(t);
				detach(button);
			}

			run_all(dispose);
		}
	};
}

function create_fragment(ctx) {
	var div2, div1, div0, t0, t1, current_block_type_index, if_block2, current;

	var if_block0 = (ctx.fork) && create_if_block_13(ctx);

	var if_block1 = (ctx.msg) && create_if_block_11(ctx);

	var if_block_creators = [
		create_if_block,
		create_else_block
	];

	var if_blocks = [];

	function select_block_type_1(ctx) {
		if (!ctx.showPreview) return 0;
		return 1;
	}

	current_block_type_index = select_block_type_1(ctx);
	if_block2 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

	return {
		c: function create() {
			div2 = element("div");
			div1 = element("div");
			div0 = element("div");
			if (if_block0) if_block0.c();
			t0 = space();
			if (if_block1) if_block1.c();
			t1 = space();
			if_block2.c();
			attr(div0, "class", "column");
			add_location(div0, file, 236, 4, 5855);
			attr(div1, "class", "columns");
			add_location(div1, file, 235, 2, 5829);
			attr(div2, "class", "container");
			add_location(div2, file, 234, 0, 5803);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div2, anchor);
			append(div2, div1);
			append(div1, div0);
			if (if_block0) if_block0.m(div0, null);
			append(div0, t0);
			if (if_block1) if_block1.m(div0, null);
			append(div0, t1);
			if_blocks[current_block_type_index].m(div0, null);
			current = true;
		},

		p: function update(changed, ctx) {
			if (ctx.fork) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_13(ctx);
					if_block0.c();
					if_block0.m(div0, t0);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.msg) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_11(ctx);
					if_block1.c();
					if_block1.m(div0, t1);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			var previous_block_index = current_block_type_index;
			current_block_type_index = select_block_type_1(ctx);
			if (current_block_type_index === previous_block_index) {
				if_blocks[current_block_type_index].p(changed, ctx);
			} else {
				group_outros();
				transition_out(if_blocks[previous_block_index], 1, 1, () => {
					if_blocks[previous_block_index] = null;
				});
				check_outros();

				if_block2 = if_blocks[current_block_type_index];
				if (!if_block2) {
					if_block2 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
					if_block2.c();
				}
				transition_in(if_block2, 1);
				if_block2.m(div0, null);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block2);
			current = true;
		},

		o: function outro(local) {
			transition_out(if_block2);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div2);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if_blocks[current_block_type_index].d();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const { onMount } = require("svelte");
  const drop = require("drag-and-drop-files");
  const { slide } = require("svelte/transition");
  const { navigate, routeParams, reconnect } = require("../../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  const { getPref } = require("../../prefs.js");
  const AvatarChip = require("../../parts/AvatarChip.svelte");

  let showPreview = false;
  let msg = false;
  let error = false;
  let posting = false;

  let root = $routeParams.root;
  let branch = $routeParams.branch;
  let channel = $routeParams.channel || "";
  let content = $routeParams.content || "";
  let replyfeed = $routeParams.replyfeed || false;
  let fork = $routeParams.fork;
  let fileOnTop = false;
  let pull = hermiebox.modules.pullStream;
  let fileReader = hermiebox.modules.pullFileReader;
  let sbot = hermiebox.sbot;
  let ipfsDaemonRunning = false;
  let datDaemonRunning = false;

  document.title = `Patchfox - compose`;

  onMount(() => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    // this code could be in some better/smarter place.
    // e.dataTransfer.getData('url'); from images in the browser window

    drop(document.getElementById("content"), files => readFileAndAttach(files));
    checkIpfsDaemon();
    checkDatDaemon();
  });

  const checkIpfsDaemon = () => {
    let port = getPref("ipfsPort", 5001);
    fetch(`http://127.0.0.1:${port}/api/v0/config/show`).then(data => {
      $$invalidate('ipfsDaemonRunning', ipfsDaemonRunning = true);
    });
  };

   const checkDatDaemon = () => {
      $$invalidate('datDaemonRunning', datDaemonRunning = false);
  };

  const readFileAndAttach = files => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    if (files.length == 0) {
      $$invalidate('fileOnTop', fileOnTop = false);
      console.log("this is not a file");
      return false;
    }

    var first = files[0];
    console.log(first);

    if (!first.type.startsWith("image")) {
      $$invalidate('error', error = true);
      $$invalidate('msg', msg = `You can only drag & drop image, this file is a ${first.type}`);
      return false;
    }

    if (first.size >= 5000000) {
      $$invalidate('error', error = true);
      $$invalidate('msg', msg = `File too large: ${Math.floor(
        first.size / 1048576,
        2
      )}mb when max size is 5mb`);
      return false;
    }

    pull(
      fileReader(first),
      sbot.blobs.add(function(err, hash) {
        // 'hash' is the hash-id of the blob
        if (err) {
          $$invalidate('error', error = true);
          $$invalidate('msg', msg = "Couldn't attach file: " + err);
        } else {
          $$invalidate('content', content += ` ![${first.name}](${hash})`);
        }
        $$invalidate('fileOnTop', fileOnTop = false);
      })
    );
  };

  const post = async ev => {
    ev.stopPropagation();
    ev.preventDefault();

    if (!posting) {
      $$invalidate('posting', posting = true);

      if (channel.startsWith("#")) {
        $$invalidate('channel', channel = channel.slice(1));
      }

      try {
        $$invalidate('msg', msg = await ssb.newPost({
          text: content,
          channel,
          root,
          branch,
          fork,
          contentWarning: contentWarning.length > 0 ? contentWarning : undefined
        }));
        $$invalidate('posting', posting = false);
        console.log("posted", msg);
        window.scrollTo(0, 0);
      } catch (n) {
        $$invalidate('error', error = true);
        $$invalidate('msg', msg = `Couldn't post your message: ${n}`);
        window.scrollTo(0, 0);

        if (msg.message === "stream is closed") {
          $$invalidate('msg', msg += ". We lost connection to sbot. We'll try to restablish it...");

          reconnect()
            .then(() => {
              $$invalidate('showPreview', showPreview = false);
              $$invalidate('posting', posting = false);
              $$invalidate('error', error = false);
              $$invalidate('msg', msg = "Connection to sbot reestablished. Try posting again");
            })
            .catch(err => {
              window.location.search = `?root=${encodeURIComponent(
                root
              )}&branch=${encodeURIComponent(
                branch
              )}&content=${encodeURIComponent(
                content
              )}&channel=${encodeURIComponent(channel)}`;
              $$invalidate('msg', msg = `Sorry, couldn't reconnect to sbot:${err}. Try reloading the page. Your content has been saved to the URL`);
            });
        }
      }
    }
  };

  const preview = ev => {
    $$invalidate('showPreview', showPreview = true);
  };

  const saveToURL = ev => {
    window.location.search = `?root=${encodeURIComponent(
      root
    )}&branch=${encodeURIComponent(branch)}&content=${encodeURIComponent(
      content
    )}&channel=${encodeURIComponent(channel)}`;
  };

  const avatarClick = ev => {
    let feed = ev.detail.feed;
    let name = ev.detail.name;

    if (content.length > 0) {
      $$invalidate('content', content += ` [${name}](${feed})`);
    } else {
      $$invalidate('content', content = `[${name}](${feed})`);
    }
  };

  const dragOver = ev => {
    $$invalidate('fileOnTop', fileOnTop = true);
  };

  const dragLeave = ev => {
    $$invalidate('fileOnTop', fileOnTop = false);
  };

  const attachFileTrigger = () => {
    document.getElementById("fileInput").click();
  };

  const attachFileIPFSTrigger = () => {
    document.getElementById("fileInputIPFS").click();
  };

  const attachFileDATTrigger = () => {
    document.getElementById("fileInputDAT").click();
  };

  const attachFile = ev => {
    const files = ev.target.files;
    readFileAndAttach(files);
  };

  const attachFileIPFS = ev => {
    const files = ev.target.files;
    readFileAndAttachIPFS(files);
  };

  const attachFileDAT = ev => {
    const files = ev.target.files;
    readFileAndAttachDAT(files);
  };

  const readFileAndAttachIPFS = async files => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    var ipfs = window.IpfsHttpClient("127.0.0.1", "5001");
    const results = await ipfs.add(files[0]);

    console.log("added via IPFS", results);
    $$invalidate('content', content += ` [${results[0].path}](ipfs://${results[0].hash})`);
  };

  let showContentWarningField = false;

  const toggleContentWarning = () =>
    { const $$result = (showContentWarningField = !showContentWarningField); $$invalidate('showContentWarningField', showContentWarningField); return $$result; };

  let contentWarning = "";

	function input0_input_handler() {
		channel = this.value;
		$$invalidate('channel', channel);
	}

	function input_input_handler() {
		branch = this.value;
		$$invalidate('branch', branch);
	}

	function textarea_input_handler() {
		content = this.value;
		$$invalidate('content', content);
	}

	function input_input_handler_1() {
		contentWarning = this.value;
		$$invalidate('contentWarning', contentWarning);
	}

	function click_handler() {
		const $$result = (showPreview = false);
		$$invalidate('showPreview', showPreview);
		return $$result;
	}

	return {
		slide,
		routeParams,
		getPref,
		AvatarChip,
		showPreview,
		msg,
		error,
		posting,
		root,
		branch,
		channel,
		content,
		replyfeed,
		fork,
		fileOnTop,
		ipfsDaemonRunning,
		datDaemonRunning,
		post,
		preview,
		avatarClick,
		dragOver,
		dragLeave,
		attachFileTrigger,
		attachFileIPFSTrigger,
		attachFileDATTrigger,
		attachFile,
		attachFileIPFS,
		attachFileDAT,
		showContentWarningField,
		toggleContentWarning,
		contentWarning,
		ssb,
		encodeURIComponent,
		input0_input_handler,
		input_input_handler,
		textarea_input_handler,
		input_input_handler_1,
		click_handler
	};
}

class Compose extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document_1.getElementById("svelte-1kmc4x-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Compose;

},{"../../parts/AvatarChip.svelte":26,"../../prefs.js":28,"../../utils.js":30,"drag-and-drop-files":2,"svelte":7,"svelte/internal":8,"svelte/transition":10}],40:[function(require,module,exports){
/* ComposeBlog.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	add_render_callback,
	append,
	attr,
	check_outros,
	component_subscribe,
	create_in_transition,
	create_out_transition,
	destroy_component,
	detach,
	element,
	empty,
	globals,
	group_outros,
	init,
	insert,
	listen,
	mount_component,
	prevent_default,
	run_all,
	safe_not_equal,
	set_data,
	space,
	stop_propagation,
	text,
	toggle_class,
	transition_in,
	transition_out,
	validate_store
} = require("svelte/internal");

const { document: document_1 } = globals;

const file = "ComposeBlog.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1irvyx7-style';
	style.textContent = ".file-on-top.svelte-1irvyx7{border:solid 2px rgb(26, 192, 11)}input[type=\"file\"].svelte-1irvyx7{display:none}.thumbnail-preview.svelte-1irvyx7{max-height:200px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29tcG9zZUJsb2cuc3ZlbHRlIiwic291cmNlcyI6WyJDb21wb3NlQmxvZy5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cclxuICBjb25zdCB7IG9uTW91bnQgfSA9IHJlcXVpcmUoXCJzdmVsdGVcIik7XHJcbiAgY29uc3QgZHJvcCA9IHJlcXVpcmUoXCJkcmFnLWFuZC1kcm9wLWZpbGVzXCIpO1xyXG4gIGNvbnN0IHsgc2xpZGUgfSA9IHJlcXVpcmUoXCJzdmVsdGUvdHJhbnNpdGlvblwiKTtcclxuICBjb25zdCB7IG5hdmlnYXRlLCByb3V0ZVBhcmFtcywgcmVjb25uZWN0IH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vdXRpbHMuanNcIik7XHJcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJlZnMuanNcIik7XHJcbiAgY29uc3QgQXZhdGFyQ2hpcCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9wYXJ0cy9BdmF0YXJDaGlwLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBQcmV2aWV3ID0gcmVxdWlyZShcIi4vUHJldmlldy5zdmVsdGVcIik7XHJcblxyXG4gIGxldCBzaG93UHJldmlldyA9IGZhbHNlO1xyXG4gIGxldCBtc2cgPSBmYWxzZTtcclxuICBsZXQgZXJyb3IgPSBmYWxzZTtcclxuICBsZXQgcG9zdGluZyA9IGZhbHNlO1xyXG5cclxuICBsZXQgY2hhbm5lbCA9ICRyb3V0ZVBhcmFtcy5jaGFubmVsIHx8IFwiXCI7XHJcbiAgbGV0IGNvbnRlbnQgPSAkcm91dGVQYXJhbXMuY29udGVudCB8fCBcIlwiO1xyXG4gIGxldCBzdW1tYXJ5ID0gJHJvdXRlUGFyYW1zLnN1bW1hcnkgfHwgXCJcIjtcclxuICBsZXQgdGl0bGUgPSAkcm91dGVQYXJhbXMudGl0bGUgfHwgXCJcIjtcclxuICBsZXQgdGh1bWJuYWlsID0gJHJvdXRlUGFyYW1zLnRodW1ibmFpbDtcclxuICBsZXQgZmlsZU9uVG9wID0gZmFsc2U7XHJcbiAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtO1xyXG4gIGxldCBmaWxlUmVhZGVyID0gaGVybWllYm94Lm1vZHVsZXMucHVsbEZpbGVSZWFkZXI7XHJcbiAgbGV0IHNib3QgPSBoZXJtaWVib3guc2JvdDtcclxuICBsZXQgaXBmc0RhZW1vblJ1bm5pbmcgPSBmYWxzZTtcclxuICBsZXQgZGF0RGFlbW9uUnVubmluZyA9IGZhbHNlO1xyXG5cclxuICBkb2N1bWVudC50aXRsZSA9IGBQYXRjaGZveCAtIGNvbXBvc2UgbmV3IGJsb2cgcG9zdGA7XHJcblxyXG4gIG9uTW91bnQoKCkgPT4ge1xyXG4gICAgZXJyb3IgPSBmYWxzZTtcclxuICAgIG1zZyA9IFwiXCI7XHJcblxyXG4gICAgLy8gdGhpcyBjb2RlIGNvdWxkIGJlIGluIHNvbWUgYmV0dGVyL3NtYXJ0ZXIgcGxhY2UuXHJcbiAgICAvLyBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKCd1cmwnKTsgZnJvbSBpbWFnZXMgaW4gdGhlIGJyb3dzZXIgd2luZG93XHJcblxyXG4gICAgZHJvcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIiksIGZpbGVzID0+IHJlYWRGaWxlQW5kQXR0YWNoKGZpbGVzKSk7XHJcbiAgICBjaGVja0lwZnNEYWVtb24oKTtcclxuICAgIGNoZWNrRGF0RGFlbW9uKCk7XHJcbiAgfSk7XHJcblxyXG4gIGNvbnN0IGNoZWNrSXBmc0RhZW1vbiA9ICgpID0+IHtcclxuICAgIGxldCBwb3J0ID0gZ2V0UHJlZihcImlwZnNQb3J0XCIsIDUwMDEpO1xyXG4gICAgZmV0Y2goYGh0dHA6Ly8xMjcuMC4wLjE6JHtwb3J0fS9hcGkvdjAvY29uZmlnL3Nob3dgKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICBpcGZzRGFlbW9uUnVubmluZyA9IHRydWU7XHJcbiAgICB9KTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjaGVja0RhdERhZW1vbiA9ICgpID0+IHtcclxuICAgIGRhdERhZW1vblJ1bm5pbmcgPSBmYWxzZTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZWFkRmlsZUFuZEF0dGFjaCA9IGZpbGVzID0+IHtcclxuICAgIGVycm9yID0gZmFsc2U7XHJcbiAgICBtc2cgPSBcIlwiO1xyXG5cclxuICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICBmaWxlT25Ub3AgPSBmYWxzZTtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGZpbGVcIik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZmlyc3QgPSBmaWxlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKGZpcnN0KTtcclxuXHJcbiAgICBpZiAoIWZpcnN0LnR5cGUuc3RhcnRzV2l0aChcImltYWdlXCIpKSB7XHJcbiAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgbXNnID0gYFlvdSBjYW4gb25seSBkcmFnICYgZHJvcCBpbWFnZSwgdGhpcyBmaWxlIGlzIGEgJHtmaXJzdC50eXBlfWA7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlyc3Quc2l6ZSA+PSA1MDAwMDAwKSB7XHJcbiAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgbXNnID0gYEZpbGUgdG9vIGxhcmdlOiAke01hdGguZmxvb3IoXHJcbiAgICAgICAgZmlyc3Quc2l6ZSAvIDEwNDg1NzYsXHJcbiAgICAgICAgMlxyXG4gICAgICApfW1iIHdoZW4gbWF4IHNpemUgaXMgNW1iYDtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1bGwoXHJcbiAgICAgIGZpbGVSZWFkZXIoZmlyc3QpLFxyXG4gICAgICBzYm90LmJsb2JzLmFkZChmdW5jdGlvbihlcnIsIGhhc2gpIHtcclxuICAgICAgICAvLyAnaGFzaCcgaXMgdGhlIGhhc2gtaWQgb2YgdGhlIGJsb2JcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICBtc2cgPSBcIkNvdWxkbid0IGF0dGFjaCBmaWxlOiBcIiArIGVycjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgY29udGVudCArPSBgICFbJHtmaXJzdC5uYW1lfV0oJHtoYXNofSlgO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaWxlT25Ub3AgPSBmYWxzZTtcclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgcG9zdCA9IGFzeW5jIGV2ID0+IHtcclxuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICBpZiAoIXBvc3RpbmcpIHtcclxuICAgICAgcG9zdGluZyA9IHRydWU7XHJcblxyXG4gICAgICBpZiAoY2hhbm5lbC5zdGFydHNXaXRoKFwiI1wiKSkge1xyXG4gICAgICAgIGNoYW5uZWwgPSBjaGFubmVsLnNsaWNlKDEpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICB0cnkge1xyXG4gICAgICAgIG1zZyA9IGF3YWl0IHNzYi5uZXdCbG9nUG9zdCh7XHJcbiAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgc3VtbWFyeSxcclxuICAgICAgICAgIGNoYW5uZWwsXHJcbiAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgIHRodW1ibmFpbCxcclxuICAgICAgICAgIGNvbnRlbnRXYXJuaW5nOiBjb250ZW50V2FybmluZy5sZW5ndGggPiAwID8gY29udGVudFdhcm5pbmcgOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgICAgICBwb3N0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJwb3N0ZWRcIiwgbXNnKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgIH0gY2F0Y2ggKG4pIHtcclxuICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgbXNnID0gYENvdWxkbid0IHBvc3QgeW91ciBtZXNzYWdlOiAke259YDtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcblxyXG4gICAgICAgIGlmIChtc2cubWVzc2FnZSA9PSBcInN0cmVhbSBpcyBjbG9zZWRcIikge1xyXG4gICAgICAgICAgbXNnICs9IFwiLiBXZSBsb3N0IGNvbm5lY3Rpb24gdG8gc2JvdC4gV2UnbGwgdHJ5IHRvIHJlc3RhYmxpc2ggaXQuLi5cIjtcclxuXHJcbiAgICAgICAgICByZWNvbm5lY3QoKVxyXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgc2hvd1ByZXZpZXcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBwb3N0aW5nID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgZXJyb3IgPSBmYWxzZTtcclxuICAgICAgICAgICAgICBtc2cgPSBcIkNvbm5lY3Rpb24gdG8gc2JvdCByZWVzdGFibGlzaGVkLiBUcnkgcG9zdGluZyBhZ2FpblwiO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBzYXZlVG9VUkwoKTtcclxuICAgICAgICAgICAgICBtc2cgPSBgU29ycnksIGNvdWxkbid0IHJlY29ubmVjdCB0byBzYm90OiR7ZXJyfS4gVHJ5IHJlbG9hZGluZyB0aGUgcGFnZS4gWW91ciBjb250ZW50IGhhcyBiZWVuIHNhdmVkIHRvIHRoZSBVUkxgO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBwcmV2aWV3ID0gZXYgPT4ge1xyXG4gICAgc2hvd1ByZXZpZXcgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHNhdmVUb1VSTCA9IGV2ID0+IHtcclxuICAgIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSBgP3N1bW1hcnk9JHtlbmNvZGVVUklDb21wb25lbnQoXHJcbiAgICAgIHN1bW1hcnlcclxuICAgICl9JnRpdGxlPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHRpdGxlKX0mY29udGVudD0ke2VuY29kZVVSSUNvbXBvbmVudChcclxuICAgICAgY29udGVudFxyXG4gICAgKX0mY2hhbm5lbD0ke2VuY29kZVVSSUNvbXBvbmVudChjaGFubmVsKX0mdGh1bWJuYWlsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICB0aHVtYm5haWxcclxuICAgICl9YDtcclxuICB9O1xyXG5cclxuICBjb25zdCBkcmFnT3ZlciA9IGV2ID0+IHtcclxuICAgIGZpbGVPblRvcCA9IHRydWU7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZHJhZ0xlYXZlID0gZXYgPT4ge1xyXG4gICAgZmlsZU9uVG9wID0gZmFsc2U7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoRmlsZVRyaWdnZXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVJbnB1dFwiKS5jbGljaygpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGF0dGFjaFRodW1ibmFpbFRyaWdnZXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRodW1ibmFpbElucHV0XCIpLmNsaWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoRmlsZUlQRlNUcmlnZ2VyID0gKCkgPT4ge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJmaWxlSW5wdXRJUEZTXCIpLmNsaWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoRmlsZURBVFRyaWdnZXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVJbnB1dERBVFwiKS5jbGljaygpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGF0dGFjaEZpbGUgPSBldiA9PiB7XHJcbiAgICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcclxuICAgIHJlYWRGaWxlQW5kQXR0YWNoKGZpbGVzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBhdHRhY2hUaHVtYm5haWwgPSBldiA9PiB7XHJcbiAgICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcclxuICAgIHJlYWRGaWxlQW5kQXR0YWNoVGh1bWJuYWlsKGZpbGVzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZWFkRmlsZUFuZEF0dGFjaFRodW1ibmFpbCA9IGZpbGVzID0+IHtcclxuICAgIGVycm9yID0gZmFsc2U7XHJcbiAgICBtc2cgPSBcIlwiO1xyXG5cclxuICAgIGlmIChmaWxlcy5sZW5ndGggPT0gMCkge1xyXG4gICAgICBjb25zb2xlLmxvZyhcInRoaXMgaXMgbm90IGEgZmlsZVwiKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBmaXJzdCA9IGZpbGVzWzBdO1xyXG4gICAgY29uc29sZS5sb2coZmlyc3QpO1xyXG5cclxuICAgIGlmICghZmlyc3QudHlwZS5zdGFydHNXaXRoKFwiaW1hZ2VcIikpIHtcclxuICAgICAgZXJyb3IgPSB0cnVlO1xyXG4gICAgICBtc2cgPSBgWW91IGNhbiB1c2UgaW1hZ2VzIGFzIHRodW1ibmFpbCwgdGhpcyBmaWxlIGlzIGEgJHtmaXJzdC50eXBlfWA7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlyc3Quc2l6ZSA+PSA1MDAwMDAwKSB7XHJcbiAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgbXNnID0gYEZpbGUgdG9vIGxhcmdlOiAke01hdGguZmxvb3IoXHJcbiAgICAgICAgZmlyc3Quc2l6ZSAvIDEwNDg1NzYsXHJcbiAgICAgICAgMlxyXG4gICAgICApfW1iIHdoZW4gbWF4IHNpemUgaXMgNW1iYDtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHB1bGwoXHJcbiAgICAgIGZpbGVSZWFkZXIoZmlyc3QpLFxyXG4gICAgICBzYm90LmJsb2JzLmFkZChmdW5jdGlvbihlcnIsIGhhc2gpIHtcclxuICAgICAgICAvLyAnaGFzaCcgaXMgdGhlIGhhc2gtaWQgb2YgdGhlIGJsb2JcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICBtc2cgPSBcIkNvdWxkbid0IGFkZCBmaWxlOiBcIiArIGVyciArIFwiIGFzIHRodW1ibmFpbFwiO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICB0aHVtYm5haWwgPSBoYXNoO1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoRmlsZUlQRlMgPSBldiA9PiB7XHJcbiAgICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcclxuICAgIHJlYWRGaWxlQW5kQXR0YWNoSVBGUyhmaWxlcyk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoRmlsZURBVCA9IGV2ID0+IHtcclxuICAgIGNvbnN0IGZpbGVzID0gZXYudGFyZ2V0LmZpbGVzO1xyXG4gICAgcmVhZEZpbGVBbmRBdHRhY2hEQVQoZmlsZXMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlYWRGaWxlQW5kQXR0YWNoSVBGUyA9IGFzeW5jIGZpbGVzID0+IHtcclxuICAgIGVycm9yID0gZmFsc2U7XHJcbiAgICBtc2cgPSBcIlwiO1xyXG5cclxuICAgIHZhciBpcGZzID0gd2luZG93LklwZnNIdHRwQ2xpZW50KFwiMTI3LjAuMC4xXCIsIFwiNTAwMVwiKTtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBpcGZzLmFkZChmaWxlc1swXSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJhZGRlZCB2aWEgSVBGU1wiLCByZXN1bHRzKTtcclxuICAgIGNvbnRlbnQgKz0gYCBbJHtyZXN1bHRzWzBdLnBhdGh9XShpcGZzOi8vJHtyZXN1bHRzWzBdLmhhc2h9KWA7XHJcbiAgfTtcclxuXHJcbiAgbGV0IHNob3dDb250ZW50V2FybmluZ0ZpZWxkID0gZmFsc2U7XHJcblxyXG4gIGNvbnN0IHRvZ2dsZUNvbnRlbnRXYXJuaW5nID0gKCkgPT5cclxuICAgIChzaG93Q29udGVudFdhcm5pbmdGaWVsZCA9ICFzaG93Q29udGVudFdhcm5pbmdGaWVsZCk7XHJcblxyXG4gIGxldCBjb250ZW50V2FybmluZyA9IFwiXCI7XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG4gIC5maWxlLW9uLXRvcCB7XHJcbiAgICBib3JkZXI6IHNvbGlkIDJweCByZ2IoMjYsIDE5MiwgMTEpO1xyXG4gIH1cclxuXHJcbiAgaW5wdXRbdHlwZT1cImZpbGVcIl0ge1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxuICB9XHJcblxyXG4gIC50aHVtYm5haWwtcHJldmlldyB7XHJcbiAgICBtYXgtaGVpZ2h0OiAyMDBweDtcclxuICB9XHJcbjwvc3R5bGU+XHJcblxyXG48ZGl2IGNsYXNzPVwiY29udGFpbmVyXCI+XHJcbiAgPGRpdiBjbGFzcz1cImNvbHVtbnNcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cclxuICAgICAgeyNpZiBtc2d9XHJcbiAgICAgICAgeyNpZiBlcnJvcn1cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0b2FzdCB0b2FzdC1lcnJvclwiPnttc2d9PC9kaXY+XHJcbiAgICAgICAgezplbHNlfVxyXG4gICAgICAgICAgPGRpdiBjbGFzcz1cInRvYXN0IHRvYXN0LXN1Y2Nlc3NcIj5cclxuICAgICAgICAgICAgWW91ciBibG9nIHBvc3QgaGFzIGJlZW4gcG9zdGVkLiBEbyB5b3Ugd2FudCB0b1xyXG4gICAgICAgICAgICA8YVxyXG4gICAgICAgICAgICAgIHRhcmdldD1cIl9ibGFua1wiXHJcbiAgICAgICAgICAgICAgaHJlZj1cIj90aHJlYWQ9e2VuY29kZVVSSUNvbXBvbmVudChtc2cua2V5KX0jL3RocmVhZFwiPlxyXG4gICAgICAgICAgICAgIENoZWNrIGl0IG91dD9cclxuICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgey9pZn1cclxuICAgICAgey9pZn1cclxuICAgICAgeyNpZiAhc2hvd1ByZXZpZXd9XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiBpbjpzbGlkZSBvdXQ6c2xpZGU+XHJcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCIgZm9yPVwiY2hhbm5lbFwiPkNoYW5uZWw8L2xhYmVsPlxyXG4gICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgIGNsYXNzPVwiZm9ybS1pbnB1dFwiXHJcbiAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcclxuICAgICAgICAgICAgaWQ9XCJjaGFubmVsXCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJjaGFubmVsXCJcclxuICAgICAgICAgICAgYmluZDp2YWx1ZT17Y2hhbm5lbH0gLz5cclxuXHJcbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmb3JtLWxhYmVsXCIgZm9yPVwidGl0bGVcIj5UaXRsZTwvbGFiZWw+XHJcbiAgICAgICAgICA8aW5wdXRcclxuICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWlucHV0XCJcclxuICAgICAgICAgICAgdHlwZT1cInRleHRcIlxyXG4gICAgICAgICAgICBpZD1cInRpdGxlXCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJ0aXRsZVwiXHJcbiAgICAgICAgICAgIGJpbmQ6dmFsdWU9e3RpdGxlfSAvPlxyXG5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJzdW1tYXJ5XCI+U3VtbWFyeTwvbGFiZWw+XHJcbiAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWlucHV0XCJcclxuICAgICAgICAgICAgaWQ9XCJzdW1tYXJ5XCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIGluIHlvdXIgc3VtbWFyeVwiXHJcbiAgICAgICAgICAgIHJvd3M9XCI1XCJcclxuICAgICAgICAgICAgb246ZHJhZ292ZXJ8cHJldmVudERlZmF1bHR8c3RvcFByb3BhZ2F0aW9uPXtkcmFnT3Zlcn1cclxuICAgICAgICAgICAgb246ZHJhZ2xlYXZlfHByZXZlbnREZWZhdWx0fHN0b3BQcm9wYWdhdGlvbj17ZHJhZ0xlYXZlfVxyXG4gICAgICAgICAgICBjbGFzczpmaWxlLW9uLXRvcD17ZmlsZU9uVG9wfVxyXG4gICAgICAgICAgICBiaW5kOnZhbHVlPXtzdW1tYXJ5fSAvPlxyXG5cclxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZvcm0tbGFiZWxcIiBmb3I9XCJjb250ZW50XCI+Q29udGVudDwvbGFiZWw+XHJcbiAgICAgICAgICA8dGV4dGFyZWFcclxuICAgICAgICAgICAgY2xhc3M9XCJmb3JtLWlucHV0XCJcclxuICAgICAgICAgICAgaWQ9XCJjb250ZW50XCJcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJUeXBlIGluIHlvdXIgYmxvZyBwb3N0IGNvbnRlbnRcIlxyXG4gICAgICAgICAgICByb3dzPVwiMjBcIlxyXG4gICAgICAgICAgICBvbjpkcmFnb3ZlcnxwcmV2ZW50RGVmYXVsdHxzdG9wUHJvcGFnYXRpb249e2RyYWdPdmVyfVxyXG4gICAgICAgICAgICBvbjpkcmFnbGVhdmV8cHJldmVudERlZmF1bHR8c3RvcFByb3BhZ2F0aW9uPXtkcmFnTGVhdmV9XHJcbiAgICAgICAgICAgIGNsYXNzOmZpbGUtb24tdG9wPXtmaWxlT25Ub3B9XHJcbiAgICAgICAgICAgIGJpbmQ6dmFsdWU9e2NvbnRlbnR9IC8+XHJcbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1ibG9jayBtLTJcIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tbGlua1wiIG9uOmNsaWNrPXt0b2dnbGVDb250ZW50V2FybmluZ30+XHJcbiAgICAgICAgICAgICAgQ1dcclxuICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIHsjaWYgc2hvd0NvbnRlbnRXYXJuaW5nRmllbGR9XHJcbiAgICAgICAgICAgICAgPGlucHV0XHJcbiAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXHJcbiAgICAgICAgICAgICAgICBzaXplPVwiNTBcIlxyXG4gICAgICAgICAgICAgICAgYmluZDp2YWx1ZT17Y29udGVudFdhcm5pbmd9XHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaWJlIHlvdXIgY29udGVudCB3YXJuaW5nIChsZWF2ZSBlbXB0eSB0byBub1xyXG4gICAgICAgICAgICAgICAgdXNlIGl0KVwiIC8+XHJcbiAgICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIHsjaWYgdGh1bWJuYWlsfVxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1ibG9jayBtLTJcIj5cclxuICAgICAgICAgICAgICA8cD5UaHVtYm5haWw8L3A+XHJcbiAgICAgICAgICAgICAgPGltZ1xyXG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ0aHVtYm5haWwtcHJldmlld1wiXHJcbiAgICAgICAgICAgICAgICBzcmM9XCJodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0L3t0aHVtYm5haWx9XCJcclxuICAgICAgICAgICAgICAgIGFsdD1cInBvc3QgdGh1bWJuYWlsXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICB7L2lmfVxyXG4gICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgb246aW5wdXQ9e2F0dGFjaFRodW1ibmFpbH0gaWQ9XCJ0aHVtYm5haWxJbnB1dFwiIC8+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgb246Y2xpY2s9e2F0dGFjaFRodW1ibmFpbFRyaWdnZXJ9PlxyXG4gICAgICAgICAgICBBdHRhY2ggVGh1bWJuYWlsIEltYWdlXHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG9uOmlucHV0PXthdHRhY2hGaWxlfSBpZD1cImZpbGVJbnB1dFwiIC8+XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgb246Y2xpY2s9e2F0dGFjaEZpbGVUcmlnZ2VyfT5BdHRhY2ggRmlsZTwvYnV0dG9uPlxyXG4gICAgICAgICAgeyNpZiBpcGZzRGFlbW9uUnVubmluZ31cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJmaWxlXCIgb246aW5wdXQ9e2F0dGFjaEZpbGVJUEZTfSBpZD1cImZpbGVJbnB1dElQRlNcIiAvPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuXCIgb246Y2xpY2s9e2F0dGFjaEZpbGVJUEZTVHJpZ2dlcn0+XHJcbiAgICAgICAgICAgICAgQXR0YWNoIEZpbGUgdXNpbmcgSVBGU1xyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICB7I2lmIGRhdERhZW1vblJ1bm5pbmd9XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiZmlsZVwiIG9uOmlucHV0PXthdHRhY2hGaWxlREFUfSBpZD1cImZpbGVJbnB1dERBVFwiIC8+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG5cIiBvbjpjbGljaz17YXR0YWNoRmlsZURBVFRyaWdnZXJ9PlxyXG4gICAgICAgICAgICAgIEF0dGFjaCBGaWxlIHVzaW5nIERhdFxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgIHsvaWZ9XHJcbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5IGZsb2F0LXJpZ2h0XCIgb246Y2xpY2s9e3ByZXZpZXd9PlxyXG4gICAgICAgICAgICBQcmV2aWV3XHJcbiAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgezplbHNlfVxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLW1kLTEyXCI+XHJcbiAgICAgICAgICA8UHJldmlld1xyXG4gICAgICAgICAgICB7Y2hhbm5lbH1cclxuICAgICAgICAgICAge3RpdGxlfVxyXG4gICAgICAgICAgICB7c3VtbWFyeX1cclxuICAgICAgICAgICAge2NvbnRlbnR9XHJcbiAgICAgICAgICAgIHtjb250ZW50V2FybmluZ31cclxuICAgICAgICAgICAge3RodW1ibmFpbH0gLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkaXZpZGVyXCIgLz5cclxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW5zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLW1kLTEyIGNvbC1sZy0xMFwiPlxyXG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWwgbGFiZWwtd2FybmluZ1wiPlxyXG4gICAgICAgICAgICAgICAgVGhpcyBtZXNzYWdlIHdpbGwgYmUgcHVibGljIGFuZCBjYW4ndCBiZSBlZGl0ZWQgb3IgZGVsZXRlZFxyXG4gICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2x1bW4gY29sLW1kLTEyIGNvbC1sZy0yXCI+XHJcbiAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0blwiIG9uOmNsaWNrPXsoKSA9PiAoc2hvd1ByZXZpZXcgPSBmYWxzZSl9PlxyXG4gICAgICAgICAgICAgICAgR28gQmFja1xyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgIDxidXR0b25cclxuICAgICAgICAgICAgICAgIGNsYXNzPVwiYnRuIGJ0bi1wcmltYXJ5XCJcclxuICAgICAgICAgICAgICAgIGNsYXNzOmxvYWRpbmc9e3Bvc3Rpbmd9XHJcbiAgICAgICAgICAgICAgICBkaXNhYmxlZD17IWVycm9yICYmIHR5cGVvZiBtc2cua2V5ID09ICdzdHJpbmcnfVxyXG4gICAgICAgICAgICAgICAgb246Y2xpY2s9e3Bvc3R9PlxyXG4gICAgICAgICAgICAgICAgUG9zdFxyXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICB7L2lmfVxyXG4gICAgPC9kaXY+XHJcbiAgPC9kaXY+XHJcbjwvZGl2PlxyXG4iXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb1FFLFlBQVksZUFBQyxDQUFDLEFBQ1osTUFBTSxDQUFFLEtBQUssQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsQUFDcEMsQ0FBQyxBQUVELEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGVBQUMsQ0FBQyxBQUNsQixPQUFPLENBQUUsSUFBSSxBQUNmLENBQUMsQUFFRCxrQkFBa0IsZUFBQyxDQUFDLEFBQ2xCLFVBQVUsQ0FBRSxLQUFLLEFBQ25CLENBQUMifQ== */";
	append(document_1.head, style);
}

// (277:6) {#if msg}
function create_if_block_5(ctx) {
	var if_block_anchor;

	function select_block_type(ctx) {
		if (ctx.error) return create_if_block_6;
		return create_else_block_1;
	}

	var current_block_type = select_block_type(ctx);
	var if_block = current_block_type(ctx);

	return {
		c: function create() {
			if_block.c();
			if_block_anchor = empty();
		},

		m: function mount(target, anchor) {
			if_block.m(target, anchor);
			insert(target, if_block_anchor, anchor);
		},

		p: function update(changed, ctx) {
			if (current_block_type === (current_block_type = select_block_type(ctx)) && if_block) {
				if_block.p(changed, ctx);
			} else {
				if_block.d(1);
				if_block = current_block_type(ctx);
				if (if_block) {
					if_block.c();
					if_block.m(if_block_anchor.parentNode, if_block_anchor);
				}
			}
		},

		d: function destroy(detaching) {
			if_block.d(detaching);

			if (detaching) {
				detach(if_block_anchor);
			}
		}
	};
}

// (280:8) {:else}
function create_else_block_1(ctx) {
	var div, t0, a, t1, a_href_value;

	return {
		c: function create() {
			div = element("div");
			t0 = text("Your blog post has been posted. Do you want to\r\n            ");
			a = element("a");
			t1 = text("Check it out?");
			attr(a, "target", "_blank");
			attr(a, "href", a_href_value = "?thread=" + ctx.encodeURIComponent(ctx.msg.key) + "#/thread");
			add_location(a, file, 282, 12, 7164);
			attr(div, "class", "toast toast-success");
			add_location(div, file, 280, 10, 7057);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t0);
			append(div, a);
			append(a, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.msg) && a_href_value !== (a_href_value = "?thread=" + ctx.encodeURIComponent(ctx.msg.key) + "#/thread")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (278:8) {#if error}
function create_if_block_6(ctx) {
	var div, t;

	return {
		c: function create() {
			div = element("div");
			t = text(ctx.msg);
			attr(div, "class", "toast toast-error");
			add_location(div, file, 278, 10, 6986);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, t);
		},

		p: function update(changed, ctx) {
			if (changed.msg) {
				set_data(t, ctx.msg);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (374:6) {:else}
function create_else_block(ctx) {
	var div4, t0, div0, t1, div3, div1, span, t3, div2, button0, t5, button1, t6, button1_disabled_value, current, dispose;

	var preview_1 = new ctx.Preview({
		props: {
		channel: ctx.channel,
		title: ctx.title,
		summary: ctx.summary,
		content: ctx.content,
		contentWarning: ctx.contentWarning,
		thumbnail: ctx.thumbnail
	},
		$$inline: true
	});

	return {
		c: function create() {
			div4 = element("div");
			preview_1.$$.fragment.c();
			t0 = space();
			div0 = element("div");
			t1 = space();
			div3 = element("div");
			div1 = element("div");
			span = element("span");
			span.textContent = "This message will be public and can't be edited or deleted";
			t3 = space();
			div2 = element("div");
			button0 = element("button");
			button0.textContent = "Go Back";
			t5 = space();
			button1 = element("button");
			t6 = text("Post");
			attr(div0, "class", "divider");
			add_location(div0, file, 382, 10, 10796);
			attr(span, "class", "label label-warning");
			add_location(span, file, 385, 14, 10922);
			attr(div1, "class", "column col-md-12 col-lg-10");
			add_location(div1, file, 384, 12, 10866);
			attr(button0, "class", "btn");
			add_location(button0, file, 390, 14, 11144);
			attr(button1, "class", "btn btn-primary");
			button1.disabled = button1_disabled_value = !ctx.error && typeof ctx.msg.key == 'string';
			toggle_class(button1, "loading", ctx.posting);
			add_location(button1, file, 393, 14, 11269);
			attr(div2, "class", "column col-md-12 col-lg-2");
			add_location(div2, file, 389, 12, 11089);
			attr(div3, "class", "columns");
			add_location(div3, file, 383, 10, 10831);
			attr(div4, "class", "column col-md-12");
			add_location(div4, file, 374, 8, 10586);

			dispose = [
				listen(button0, "click", ctx.click_handler),
				listen(button1, "click", ctx.post)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div4, anchor);
			mount_component(preview_1, div4, null);
			append(div4, t0);
			append(div4, div0);
			append(div4, t1);
			append(div4, div3);
			append(div3, div1);
			append(div1, span);
			append(div3, t3);
			append(div3, div2);
			append(div2, button0);
			append(div2, t5);
			append(div2, button1);
			append(button1, t6);
			current = true;
		},

		p: function update(changed, ctx) {
			var preview_1_changes = {};
			if (changed.channel) preview_1_changes.channel = ctx.channel;
			if (changed.title) preview_1_changes.title = ctx.title;
			if (changed.summary) preview_1_changes.summary = ctx.summary;
			if (changed.content) preview_1_changes.content = ctx.content;
			if (changed.contentWarning) preview_1_changes.contentWarning = ctx.contentWarning;
			if (changed.thumbnail) preview_1_changes.thumbnail = ctx.thumbnail;
			preview_1.$set(preview_1_changes);

			if ((!current || changed.error || changed.msg) && button1_disabled_value !== (button1_disabled_value = !ctx.error && typeof ctx.msg.key == 'string')) {
				button1.disabled = button1_disabled_value;
			}

			if (changed.posting) {
				toggle_class(button1, "loading", ctx.posting);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(preview_1.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(preview_1.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div4);
			}

			destroy_component(preview_1);

			run_all(dispose);
		}
	};
}

// (291:6) {#if !showPreview}
function create_if_block(ctx) {
	var div1, label0, t1, input0, t2, label1, t4, input1, t5, label2, t7, textarea0, t8, label3, t10, textarea1, t11, div0, button0, t13, t14, t15, input2, t16, button1, t18, input3, t19, button2, t21, t22, t23, button3, div1_intro, div1_outro, current, dispose;

	var if_block0 = (ctx.showContentWarningField) && create_if_block_4(ctx);

	var if_block1 = (ctx.thumbnail) && create_if_block_3(ctx);

	var if_block2 = (ctx.ipfsDaemonRunning) && create_if_block_2(ctx);

	var if_block3 = (ctx.datDaemonRunning) && create_if_block_1(ctx);

	return {
		c: function create() {
			div1 = element("div");
			label0 = element("label");
			label0.textContent = "Channel";
			t1 = space();
			input0 = element("input");
			t2 = space();
			label1 = element("label");
			label1.textContent = "Title";
			t4 = space();
			input1 = element("input");
			t5 = space();
			label2 = element("label");
			label2.textContent = "Summary";
			t7 = space();
			textarea0 = element("textarea");
			t8 = space();
			label3 = element("label");
			label3.textContent = "Content";
			t10 = space();
			textarea1 = element("textarea");
			t11 = space();
			div0 = element("div");
			button0 = element("button");
			button0.textContent = "CW";
			t13 = space();
			if (if_block0) if_block0.c();
			t14 = space();
			if (if_block1) if_block1.c();
			t15 = space();
			input2 = element("input");
			t16 = space();
			button1 = element("button");
			button1.textContent = "Attach Thumbnail Image";
			t18 = space();
			input3 = element("input");
			t19 = space();
			button2 = element("button");
			button2.textContent = "Attach File";
			t21 = space();
			if (if_block2) if_block2.c();
			t22 = space();
			if (if_block3) if_block3.c();
			t23 = space();
			button3 = element("button");
			button3.textContent = "Preview";
			attr(label0, "class", "form-label");
			attr(label0, "for", "channel");
			add_location(label0, file, 292, 10, 7450);
			attr(input0, "class", "form-input");
			attr(input0, "type", "text");
			attr(input0, "id", "channel");
			attr(input0, "placeholder", "channel");
			add_location(input0, file, 293, 10, 7517);
			attr(label1, "class", "form-label");
			attr(label1, "for", "title");
			add_location(label1, file, 300, 10, 7692);
			attr(input1, "class", "form-input");
			attr(input1, "type", "text");
			attr(input1, "id", "title");
			attr(input1, "placeholder", "title");
			add_location(input1, file, 301, 10, 7755);
			attr(label2, "class", "form-label");
			attr(label2, "for", "summary");
			add_location(label2, file, 308, 10, 7924);
			attr(textarea0, "class", "form-input svelte-1irvyx7");
			attr(textarea0, "id", "summary");
			attr(textarea0, "placeholder", "Type in your summary");
			attr(textarea0, "rows", "5");
			toggle_class(textarea0, "file-on-top", ctx.fileOnTop);
			add_location(textarea0, file, 309, 10, 7991);
			attr(label3, "class", "form-label");
			attr(label3, "for", "content");
			add_location(label3, file, 319, 10, 8358);
			attr(textarea1, "class", "form-input svelte-1irvyx7");
			attr(textarea1, "id", "content");
			attr(textarea1, "placeholder", "Type in your blog post content");
			attr(textarea1, "rows", "20");
			toggle_class(textarea1, "file-on-top", ctx.fileOnTop);
			add_location(textarea1, file, 320, 10, 8425);
			attr(button0, "class", "btn btn-link");
			add_location(button0, file, 330, 12, 8840);
			attr(div0, "class", "d-block m-2");
			add_location(div0, file, 329, 10, 8801);
			attr(input2, "type", "file");
			attr(input2, "id", "thumbnailInput");
			attr(input2, "class", "svelte-1irvyx7");
			add_location(input2, file, 351, 10, 9571);
			attr(button1, "class", "btn");
			add_location(button1, file, 352, 10, 9651);
			attr(input3, "type", "file");
			attr(input3, "id", "fileInput");
			attr(input3, "class", "svelte-1irvyx7");
			add_location(input3, file, 355, 10, 9774);
			attr(button2, "class", "btn");
			add_location(button2, file, 356, 10, 9844);
			attr(button3, "class", "btn btn-primary float-right");
			add_location(button3, file, 369, 10, 10440);
			attr(div1, "class", "form-group");
			add_location(div1, file, 291, 8, 7395);

			dispose = [
				listen(input0, "input", ctx.input0_input_handler),
				listen(input1, "input", ctx.input1_input_handler),
				listen(textarea0, "input", ctx.textarea0_input_handler),
				listen(textarea0, "dragover", stop_propagation(prevent_default(ctx.dragOver))),
				listen(textarea0, "dragleave", stop_propagation(prevent_default(ctx.dragLeave))),
				listen(textarea1, "input", ctx.textarea1_input_handler),
				listen(textarea1, "dragover", stop_propagation(prevent_default(ctx.dragOver))),
				listen(textarea1, "dragleave", stop_propagation(prevent_default(ctx.dragLeave))),
				listen(button0, "click", ctx.toggleContentWarning),
				listen(input2, "input", ctx.attachThumbnail),
				listen(button1, "click", ctx.attachThumbnailTrigger),
				listen(input3, "input", ctx.attachFile),
				listen(button2, "click", ctx.attachFileTrigger),
				listen(button3, "click", ctx.preview)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div1, anchor);
			append(div1, label0);
			append(div1, t1);
			append(div1, input0);

			input0.value = ctx.channel;

			append(div1, t2);
			append(div1, label1);
			append(div1, t4);
			append(div1, input1);

			input1.value = ctx.title;

			append(div1, t5);
			append(div1, label2);
			append(div1, t7);
			append(div1, textarea0);

			textarea0.value = ctx.summary;

			append(div1, t8);
			append(div1, label3);
			append(div1, t10);
			append(div1, textarea1);

			textarea1.value = ctx.content;

			append(div1, t11);
			append(div1, div0);
			append(div0, button0);
			append(div0, t13);
			if (if_block0) if_block0.m(div0, null);
			append(div1, t14);
			if (if_block1) if_block1.m(div1, null);
			append(div1, t15);
			append(div1, input2);
			append(div1, t16);
			append(div1, button1);
			append(div1, t18);
			append(div1, input3);
			append(div1, t19);
			append(div1, button2);
			append(div1, t21);
			if (if_block2) if_block2.m(div1, null);
			append(div1, t22);
			if (if_block3) if_block3.m(div1, null);
			append(div1, t23);
			append(div1, button3);
			current = true;
		},

		p: function update(changed, ctx) {
			if (changed.channel && (input0.value !== ctx.channel)) input0.value = ctx.channel;
			if (changed.title && (input1.value !== ctx.title)) input1.value = ctx.title;
			if (changed.summary) textarea0.value = ctx.summary;

			if (changed.fileOnTop) {
				toggle_class(textarea0, "file-on-top", ctx.fileOnTop);
			}

			if (changed.content) textarea1.value = ctx.content;

			if (changed.fileOnTop) {
				toggle_class(textarea1, "file-on-top", ctx.fileOnTop);
			}

			if (ctx.showContentWarningField) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_4(ctx);
					if_block0.c();
					if_block0.m(div0, null);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.thumbnail) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_3(ctx);
					if_block1.c();
					if_block1.m(div1, t15);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (ctx.ipfsDaemonRunning) {
				if (!if_block2) {
					if_block2 = create_if_block_2(ctx);
					if_block2.c();
					if_block2.m(div1, t22);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (ctx.datDaemonRunning) {
				if (!if_block3) {
					if_block3 = create_if_block_1(ctx);
					if_block3.c();
					if_block3.m(div1, t23);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}
		},

		i: function intro(local) {
			if (current) return;
			add_render_callback(() => {
				if (div1_outro) div1_outro.end(1);
				if (!div1_intro) div1_intro = create_in_transition(div1, ctx.slide, {});
				div1_intro.start();
			});

			current = true;
		},

		o: function outro(local) {
			if (div1_intro) div1_intro.invalidate();

			div1_outro = create_out_transition(div1, ctx.slide, {});

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div1);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();

			if (detaching) {
				if (div1_outro) div1_outro.end();
			}

			run_all(dispose);
		}
	};
}

// (334:12) {#if showContentWarningField}
function create_if_block_4(ctx) {
	var input, dispose;

	return {
		c: function create() {
			input = element("input");
			attr(input, "type", "text");
			attr(input, "size", "50");
			attr(input, "placeholder", "Describe your content warning (leave empty to no\r\n                use it)");
			add_location(input, file, 334, 14, 9001);
			dispose = listen(input, "input", ctx.input_input_handler);
		},

		m: function mount(target, anchor) {
			insert(target, input, anchor);

			input.value = ctx.contentWarning;
		},

		p: function update(changed, ctx) {
			if (changed.contentWarning && (input.value !== ctx.contentWarning)) input.value = ctx.contentWarning;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(input);
			}

			dispose();
		}
	};
}

// (343:10) {#if thumbnail}
function create_if_block_3(ctx) {
	var div, p, t_1, img, img_src_value;

	return {
		c: function create() {
			div = element("div");
			p = element("p");
			p.textContent = "Thumbnail";
			t_1 = space();
			img = element("img");
			add_location(p, file, 344, 14, 9335);
			attr(img, "class", "thumbnail-preview svelte-1irvyx7");
			attr(img, "src", img_src_value = "http://localhost:8989/blobs/get/" + ctx.thumbnail);
			attr(img, "alt", "post thumbnail");
			add_location(img, file, 345, 14, 9367);
			attr(div, "class", "d-block m-2");
			add_location(div, file, 343, 12, 9294);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, p);
			append(div, t_1);
			append(div, img);
		},

		p: function update(changed, ctx) {
			if ((changed.thumbnail) && img_src_value !== (img_src_value = "http://localhost:8989/blobs/get/" + ctx.thumbnail)) {
				attr(img, "src", img_src_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (358:10) {#if ipfsDaemonRunning}
function create_if_block_2(ctx) {
	var input, t, button, dispose;

	return {
		c: function create() {
			input = element("input");
			t = space();
			button = element("button");
			button.textContent = "Attach File using IPFS";
			attr(input, "type", "file");
			attr(input, "id", "fileInputIPFS");
			attr(input, "class", "svelte-1irvyx7");
			add_location(input, file, 358, 12, 9962);
			attr(button, "class", "btn");
			add_location(button, file, 359, 12, 10042);

			dispose = [
				listen(input, "input", ctx.attachFileIPFS),
				listen(button, "click", ctx.attachFileIPFSTrigger)
			];
		},

		m: function mount(target, anchor) {
			insert(target, input, anchor);
			insert(target, t, anchor);
			insert(target, button, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(input);
				detach(t);
				detach(button);
			}

			run_all(dispose);
		}
	};
}

// (364:10) {#if datDaemonRunning}
function create_if_block_1(ctx) {
	var input, t, button, dispose;

	return {
		c: function create() {
			input = element("input");
			t = space();
			button = element("button");
			button.textContent = "Attach File using Dat";
			attr(input, "type", "file");
			attr(input, "id", "fileInputDAT");
			attr(input, "class", "svelte-1irvyx7");
			add_location(input, file, 364, 12, 10221);
			attr(button, "class", "btn");
			add_location(button, file, 365, 12, 10299);

			dispose = [
				listen(input, "input", ctx.attachFileDAT),
				listen(button, "click", ctx.attachFileDATTrigger)
			];
		},

		m: function mount(target, anchor) {
			insert(target, input, anchor);
			insert(target, t, anchor);
			insert(target, button, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(input);
				detach(t);
				detach(button);
			}

			run_all(dispose);
		}
	};
}

function create_fragment(ctx) {
	var div2, div1, div0, t, current_block_type_index, if_block1, current;

	var if_block0 = (ctx.msg) && create_if_block_5(ctx);

	var if_block_creators = [
		create_if_block,
		create_else_block
	];

	var if_blocks = [];

	function select_block_type_1(ctx) {
		if (!ctx.showPreview) return 0;
		return 1;
	}

	current_block_type_index = select_block_type_1(ctx);
	if_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);

	return {
		c: function create() {
			div2 = element("div");
			div1 = element("div");
			div0 = element("div");
			if (if_block0) if_block0.c();
			t = space();
			if_block1.c();
			attr(div0, "class", "column");
			add_location(div0, file, 275, 4, 6916);
			attr(div1, "class", "columns");
			add_location(div1, file, 274, 2, 6889);
			attr(div2, "class", "container");
			add_location(div2, file, 273, 0, 6862);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div2, anchor);
			append(div2, div1);
			append(div1, div0);
			if (if_block0) if_block0.m(div0, null);
			append(div0, t);
			if_blocks[current_block_type_index].m(div0, null);
			current = true;
		},

		p: function update(changed, ctx) {
			if (ctx.msg) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_5(ctx);
					if_block0.c();
					if_block0.m(div0, t);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			var previous_block_index = current_block_type_index;
			current_block_type_index = select_block_type_1(ctx);
			if (current_block_type_index === previous_block_index) {
				if_blocks[current_block_type_index].p(changed, ctx);
			} else {
				group_outros();
				transition_out(if_blocks[previous_block_index], 1, 1, () => {
					if_blocks[previous_block_index] = null;
				});
				check_outros();

				if_block1 = if_blocks[current_block_type_index];
				if (!if_block1) {
					if_block1 = if_blocks[current_block_type_index] = if_block_creators[current_block_type_index](ctx);
					if_block1.c();
				}
				transition_in(if_block1, 1);
				if_block1.m(div0, null);
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(if_block1);
			current = true;
		},

		o: function outro(local) {
			transition_out(if_block1);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div2);
			}

			if (if_block0) if_block0.d();
			if_blocks[current_block_type_index].d();
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const { onMount } = require("svelte");
  const drop = require("drag-and-drop-files");
  const { slide } = require("svelte/transition");
  const { navigate, routeParams, reconnect } = require("../../../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  const { getPref } = require("../../../prefs.js");
  const AvatarChip = require("../../../parts/AvatarChip.svelte");
  const Preview = require("./Preview.svelte");

  let showPreview = false;
  let msg = false;
  let error = false;
  let posting = false;

  let channel = $routeParams.channel || "";
  let content = $routeParams.content || "";
  let summary = $routeParams.summary || "";
  let title = $routeParams.title || "";
  let thumbnail = $routeParams.thumbnail;
  let fileOnTop = false;
  let pull = hermiebox.modules.pullStream;
  let fileReader = hermiebox.modules.pullFileReader;
  let sbot = hermiebox.sbot;
  let ipfsDaemonRunning = false;
  let datDaemonRunning = false;

  document.title = `Patchfox - compose new blog post`;

  onMount(() => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    // this code could be in some better/smarter place.
    // e.dataTransfer.getData('url'); from images in the browser window

    drop(document.getElementById("content"), files => readFileAndAttach(files));
    checkIpfsDaemon();
    checkDatDaemon();
  });

  const checkIpfsDaemon = () => {
    let port = getPref("ipfsPort", 5001);
    fetch(`http://127.0.0.1:${port}/api/v0/config/show`).then(data => {
      $$invalidate('ipfsDaemonRunning', ipfsDaemonRunning = true);
    });
  };

  const checkDatDaemon = () => {
    $$invalidate('datDaemonRunning', datDaemonRunning = false);
  };

  const readFileAndAttach = files => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    if (files.length == 0) {
      $$invalidate('fileOnTop', fileOnTop = false);
      console.log("this is not a file");
      return false;
    }

    var first = files[0];
    console.log(first);

    if (!first.type.startsWith("image")) {
      $$invalidate('error', error = true);
      $$invalidate('msg', msg = `You can only drag & drop image, this file is a ${first.type}`);
      return false;
    }

    if (first.size >= 5000000) {
      $$invalidate('error', error = true);
      $$invalidate('msg', msg = `File too large: ${Math.floor(
        first.size / 1048576,
        2
      )}mb when max size is 5mb`);
      return false;
    }

    pull(
      fileReader(first),
      sbot.blobs.add(function(err, hash) {
        // 'hash' is the hash-id of the blob
        if (err) {
          $$invalidate('error', error = true);
          $$invalidate('msg', msg = "Couldn't attach file: " + err);
        } else {
          $$invalidate('content', content += ` ![${first.name}](${hash})`);
        }
        $$invalidate('fileOnTop', fileOnTop = false);
      })
    );
  };

  const post = async ev => {
    ev.stopPropagation();
    ev.preventDefault();

    if (!posting) {
      $$invalidate('posting', posting = true);

      if (channel.startsWith("#")) {
        $$invalidate('channel', channel = channel.slice(1));
      }

      try {
        $$invalidate('msg', msg = await ssb.newBlogPost({
          content,
          summary,
          channel,
          title,
          thumbnail,
          contentWarning: contentWarning.length > 0 ? contentWarning : undefined
        }));
        $$invalidate('posting', posting = false);
        console.log("posted", msg);
        window.scrollTo(0, 0);
      } catch (n) {
        $$invalidate('error', error = true);
        $$invalidate('msg', msg = `Couldn't post your message: ${n}`);
        window.scrollTo(0, 0);

        if (msg.message == "stream is closed") {
          $$invalidate('msg', msg += ". We lost connection to sbot. We'll try to restablish it...");

          reconnect()
            .then(() => {
              $$invalidate('showPreview', showPreview = false);
              $$invalidate('posting', posting = false);
              $$invalidate('error', error = false);
              $$invalidate('msg', msg = "Connection to sbot reestablished. Try posting again");
            })
            .catch(err => {
              saveToURL();
              $$invalidate('msg', msg = `Sorry, couldn't reconnect to sbot:${err}. Try reloading the page. Your content has been saved to the URL`);
            });
        }
      }
    }
  };

  const preview = ev => {
    $$invalidate('showPreview', showPreview = true);
  };

  const saveToURL = ev => {
    window.location.search = `?summary=${encodeURIComponent(
      summary
    )}&title=${encodeURIComponent(title)}&content=${encodeURIComponent(
      content
    )}&channel=${encodeURIComponent(channel)}&thumbnail=${encodeURIComponent(
      thumbnail
    )}`;
  };

  const dragOver = ev => {
    $$invalidate('fileOnTop', fileOnTop = true);
  };

  const dragLeave = ev => {
    $$invalidate('fileOnTop', fileOnTop = false);
  };

  const attachFileTrigger = () => {
    document.getElementById("fileInput").click();
  };

  const attachThumbnailTrigger = () => {
    document.getElementById("thumbnailInput").click();
  };

  const attachFileIPFSTrigger = () => {
    document.getElementById("fileInputIPFS").click();
  };

  const attachFileDATTrigger = () => {
    document.getElementById("fileInputDAT").click();
  };

  const attachFile = ev => {
    const files = ev.target.files;
    readFileAndAttach(files);
  };

  const attachThumbnail = ev => {
    const files = ev.target.files;
    readFileAndAttachThumbnail(files);
  };

  const readFileAndAttachThumbnail = files => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    if (files.length == 0) {
      console.log("this is not a file");
      return false;
    }

    var first = files[0];
    console.log(first);

    if (!first.type.startsWith("image")) {
      $$invalidate('error', error = true);
      $$invalidate('msg', msg = `You can use images as thumbnail, this file is a ${first.type}`);
      return false;
    }

    if (first.size >= 5000000) {
      $$invalidate('error', error = true);
      $$invalidate('msg', msg = `File too large: ${Math.floor(
        first.size / 1048576,
        2
      )}mb when max size is 5mb`);
      return false;
    }

    pull(
      fileReader(first),
      sbot.blobs.add(function(err, hash) {
        // 'hash' is the hash-id of the blob
        if (err) {
          $$invalidate('error', error = true);
          $$invalidate('msg', msg = "Couldn't add file: " + err + " as thumbnail");
        } else {
          $$invalidate('thumbnail', thumbnail = hash);
        }
      })
    );
  };

  const attachFileIPFS = ev => {
    const files = ev.target.files;
    readFileAndAttachIPFS(files);
  };

  const attachFileDAT = ev => {
    const files = ev.target.files;
    readFileAndAttachDAT(files);
  };

  const readFileAndAttachIPFS = async files => {
    $$invalidate('error', error = false);
    $$invalidate('msg', msg = "");

    var ipfs = window.IpfsHttpClient("127.0.0.1", "5001");
    const results = await ipfs.add(files[0]);

    console.log("added via IPFS", results);
    $$invalidate('content', content += ` [${results[0].path}](ipfs://${results[0].hash})`);
  };

  let showContentWarningField = false;

  const toggleContentWarning = () =>
    { const $$result = (showContentWarningField = !showContentWarningField); $$invalidate('showContentWarningField', showContentWarningField); return $$result; };

  let contentWarning = "";

	function input0_input_handler() {
		channel = this.value;
		$$invalidate('channel', channel);
	}

	function input1_input_handler() {
		title = this.value;
		$$invalidate('title', title);
	}

	function textarea0_input_handler() {
		summary = this.value;
		$$invalidate('summary', summary);
	}

	function textarea1_input_handler() {
		content = this.value;
		$$invalidate('content', content);
	}

	function input_input_handler() {
		contentWarning = this.value;
		$$invalidate('contentWarning', contentWarning);
	}

	function click_handler() {
		const $$result = (showPreview = false);
		$$invalidate('showPreview', showPreview);
		return $$result;
	}

	return {
		slide,
		routeParams,
		Preview,
		showPreview,
		msg,
		error,
		posting,
		channel,
		content,
		summary,
		title,
		thumbnail,
		fileOnTop,
		ipfsDaemonRunning,
		datDaemonRunning,
		post,
		preview,
		dragOver,
		dragLeave,
		attachFileTrigger,
		attachThumbnailTrigger,
		attachFileIPFSTrigger,
		attachFileDATTrigger,
		attachFile,
		attachThumbnail,
		attachFileIPFS,
		attachFileDAT,
		showContentWarningField,
		toggleContentWarning,
		contentWarning,
		encodeURIComponent,
		input0_input_handler,
		input1_input_handler,
		textarea0_input_handler,
		textarea1_input_handler,
		input_input_handler,
		click_handler
	};
}

class ComposeBlog extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document_1.getElementById("svelte-1irvyx7-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = ComposeBlog;

},{"../../../parts/AvatarChip.svelte":26,"../../../prefs.js":28,"../../../utils.js":30,"./Preview.svelte":41,"drag-and-drop-files":2,"svelte":7,"svelte/internal":8,"svelte/transition":10}],41:[function(require,module,exports){
/* Preview.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	HtmlTag,
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	noop,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const file = "Preview.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-v1gwe5-style';
	style.textContent = ".thumbnail-preview.svelte-v1gwe5{max-height:200px}\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiUHJldmlldy5zdmVsdGUiLCJzb3VyY2VzIjpbIlByZXZpZXcuc3ZlbHRlIl0sInNvdXJjZXNDb250ZW50IjpbIjxzY3JpcHQ+XHJcbmV4cG9ydCBsZXQgY2hhbm5lbDtcclxuZXhwb3J0IGxldCB0aXRsZTtcclxuZXhwb3J0IGxldCBjb250ZW50V2FybmluZztcclxuZXhwb3J0IGxldCBjb250ZW50O1xyXG5leHBvcnQgbGV0IHN1bW1hcnk7XHJcbmV4cG9ydCBsZXQgdGh1bWJuYWlsO1xyXG48L3NjcmlwdD5cclxuXHJcbjxzdHlsZT5cclxuICAudGh1bWJuYWlsLXByZXZpZXcge1xyXG4gICAgbWF4LWhlaWdodDogMjAwcHg7XHJcbiAgfVxyXG48L3N0eWxlPlxyXG5cclxuPGgyPlBvc3QgcHJldmlldzwvaDI+XHJcbnsjaWYgY2hhbm5lbCB8fCBjb250ZW50V2FybmluZy5sZW5ndGggPiAwIHx8IHRpdGxlIHx8IHRodW1ibmFpbH1cclxuICA8YmxvY2txdW90ZT5cclxuICAgIHsjaWYgY2hhbm5lbH1cclxuICAgICAgPHA+XHJcbiAgICAgICAgPGI+Q2hhbm5lbDo8L2I+XHJcbiAgICAgICAge2NoYW5uZWwuc3RhcnRzV2l0aCgnIycpID8gY2hhbm5lbC5zbGljZSgxKSA6IGNoYW5uZWx9XHJcbiAgICAgIDwvcD5cclxuICAgIHsvaWZ9XHJcbiAgICB7I2lmIGNvbnRlbnRXYXJuaW5nLmxlbmd0aCA+IDB9XHJcbiAgICAgIDxwPlxyXG4gICAgICAgIDxiPkNvbnRlbnQgV2FybmluZzo8L2I+XHJcbiAgICAgICAge2NvbnRlbnRXYXJuaW5nfVxyXG4gICAgICA8L3A+XHJcbiAgICB7L2lmfVxyXG4gICAgeyNpZiB0aXRsZX1cclxuICAgICAgPHA+XHJcbiAgICAgICAgPGI+dGl0bGU6PC9iPlxyXG4gICAgICAgIHt0aXRsZX1cclxuICAgICAgPC9wPlxyXG4gICAgey9pZn1cclxuICAgIHsjaWYgc3VtbWFyeX1cclxuICAgICAgPHA+XHJcbiAgICAgICAgPGI+U3VtbWFyeTo8L2I+XHJcbiAgICAgICAge0BodG1sIHNzYi5tYXJrZG93bihzdW1tYXJ5KX1cclxuICAgICAgPC9wPlxyXG4gICAgey9pZn1cclxuICAgIHsjaWYgdGh1bWJuYWlsfVxyXG4gICAgICA8cD5cclxuICAgICAgICA8Yj5UaHVtYm5haWw6PC9iPlxyXG4gICAgICAgIDxpbWdcclxuICAgICAgICAgIGNsYXNzPVwidGh1bWJuYWlsLXByZXZpZXdcIlxyXG4gICAgICAgICAgc3JjPVwiaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC97dGh1bWJuYWlsfVwiXHJcbiAgICAgICAgICBhbHQ9XCJwb3N0IHRodW1ibmFpbFwiIC8+XHJcbiAgICAgIDwvcD5cclxuICAgIHsvaWZ9XHJcbiAgPC9ibG9ja3F1b3RlPlxyXG57L2lmfVxyXG57QGh0bWwgc3NiLm1hcmtkb3duKGNvbnRlbnQpfVxyXG5cclxuXHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFVRSxrQkFBa0IsY0FBQyxDQUFDLEFBQ2xCLFVBQVUsQ0FBRSxLQUFLLEFBQ25CLENBQUMifQ== */";
	append(document.head, style);
}

// (17:0) {#if channel || contentWarning.length > 0 || title || thumbnail}
function create_if_block(ctx) {
	var blockquote, t0, t1, t2, t3;

	var if_block0 = (ctx.channel) && create_if_block_5(ctx);

	var if_block1 = (ctx.contentWarning.length > 0) && create_if_block_4(ctx);

	var if_block2 = (ctx.title) && create_if_block_3(ctx);

	var if_block3 = (ctx.summary) && create_if_block_2(ctx);

	var if_block4 = (ctx.thumbnail) && create_if_block_1(ctx);

	return {
		c: function create() {
			blockquote = element("blockquote");
			if (if_block0) if_block0.c();
			t0 = space();
			if (if_block1) if_block1.c();
			t1 = space();
			if (if_block2) if_block2.c();
			t2 = space();
			if (if_block3) if_block3.c();
			t3 = space();
			if (if_block4) if_block4.c();
			add_location(blockquote, file, 17, 2, 321);
		},

		m: function mount(target, anchor) {
			insert(target, blockquote, anchor);
			if (if_block0) if_block0.m(blockquote, null);
			append(blockquote, t0);
			if (if_block1) if_block1.m(blockquote, null);
			append(blockquote, t1);
			if (if_block2) if_block2.m(blockquote, null);
			append(blockquote, t2);
			if (if_block3) if_block3.m(blockquote, null);
			append(blockquote, t3);
			if (if_block4) if_block4.m(blockquote, null);
		},

		p: function update(changed, ctx) {
			if (ctx.channel) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_5(ctx);
					if_block0.c();
					if_block0.m(blockquote, t0);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.contentWarning.length > 0) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_4(ctx);
					if_block1.c();
					if_block1.m(blockquote, t1);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (ctx.title) {
				if (if_block2) {
					if_block2.p(changed, ctx);
				} else {
					if_block2 = create_if_block_3(ctx);
					if_block2.c();
					if_block2.m(blockquote, t2);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (ctx.summary) {
				if (if_block3) {
					if_block3.p(changed, ctx);
				} else {
					if_block3 = create_if_block_2(ctx);
					if_block3.c();
					if_block3.m(blockquote, t3);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}

			if (ctx.thumbnail) {
				if (if_block4) {
					if_block4.p(changed, ctx);
				} else {
					if_block4 = create_if_block_1(ctx);
					if_block4.c();
					if_block4.m(blockquote, null);
				}
			} else if (if_block4) {
				if_block4.d(1);
				if_block4 = null;
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(blockquote);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();
			if (if_block4) if_block4.d();
		}
	};
}

// (19:4) {#if channel}
function create_if_block_5(ctx) {
	var p, b, t1, t2_value = ctx.channel.startsWith('#') ? ctx.channel.slice(1) : ctx.channel, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Channel:";
			t1 = space();
			t2 = text(t2_value);
			add_location(b, file, 20, 8, 373);
			add_location(p, file, 19, 6, 360);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if ((changed.channel) && t2_value !== (t2_value = ctx.channel.startsWith('#') ? ctx.channel.slice(1) : ctx.channel)) {
				set_data(t2, t2_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (25:4) {#if contentWarning.length > 0}
function create_if_block_4(ctx) {
	var p, b, t1, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Content Warning:";
			t1 = space();
			t2 = text(ctx.contentWarning);
			add_location(b, file, 26, 8, 533);
			add_location(p, file, 25, 6, 520);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if (changed.contentWarning) {
				set_data(t2, ctx.contentWarning);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (31:4) {#if title}
function create_if_block_3(ctx) {
	var p, b, t1, t2;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "title:";
			t1 = space();
			t2 = text(ctx.title);
			add_location(b, file, 32, 8, 643);
			add_location(p, file, 31, 6, 630);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t1);
			append(p, t2);
		},

		p: function update(changed, ctx) {
			if (changed.title) {
				set_data(t2, ctx.title);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (37:4) {#if summary}
function create_if_block_2(ctx) {
	var p, b, t_1, html_tag, raw_value = ssb.markdown(ctx.summary);

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Summary:";
			t_1 = space();
			add_location(b, file, 38, 8, 736);
			html_tag = new HtmlTag(raw_value, null);
			add_location(p, file, 37, 6, 723);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t_1);
			html_tag.m(p);
		},

		p: function update(changed, ctx) {
			if ((changed.summary) && raw_value !== (raw_value = ssb.markdown(ctx.summary))) {
				html_tag.p(raw_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (43:4) {#if thumbnail}
function create_if_block_1(ctx) {
	var p, b, t_1, img, img_src_value;

	return {
		c: function create() {
			p = element("p");
			b = element("b");
			b.textContent = "Thumbnail:";
			t_1 = space();
			img = element("img");
			add_location(b, file, 44, 8, 855);
			attr(img, "class", "thumbnail-preview svelte-v1gwe5");
			attr(img, "src", img_src_value = "http://localhost:8989/blobs/get/" + ctx.thumbnail);
			attr(img, "alt", "post thumbnail");
			add_location(img, file, 45, 8, 882);
			add_location(p, file, 43, 6, 842);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, b);
			append(p, t_1);
			append(p, img);
		},

		p: function update(changed, ctx) {
			if ((changed.thumbnail) && img_src_value !== (img_src_value = "http://localhost:8989/blobs/get/" + ctx.thumbnail)) {
				attr(img, "src", img_src_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

function create_fragment(ctx) {
	var h2, t1, t2, html_tag, raw_value = ssb.markdown(ctx.content);

	var if_block = (ctx.channel || ctx.contentWarning.length > 0 || ctx.title || ctx.thumbnail) && create_if_block(ctx);

	return {
		c: function create() {
			h2 = element("h2");
			h2.textContent = "Post preview";
			t1 = space();
			if (if_block) if_block.c();
			t2 = space();
			add_location(h2, file, 15, 0, 230);
			html_tag = new HtmlTag(raw_value, null);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h2, anchor);
			insert(target, t1, anchor);
			if (if_block) if_block.m(target, anchor);
			insert(target, t2, anchor);
			html_tag.m(target, anchor);
		},

		p: function update(changed, ctx) {
			if (ctx.channel || ctx.contentWarning.length > 0 || ctx.title || ctx.thumbnail) {
				if (if_block) {
					if_block.p(changed, ctx);
				} else {
					if_block = create_if_block(ctx);
					if_block.c();
					if_block.m(t2.parentNode, t2);
				}
			} else if (if_block) {
				if_block.d(1);
				if_block = null;
			}

			if ((changed.content) && raw_value !== (raw_value = ssb.markdown(ctx.content))) {
				html_tag.p(raw_value);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h2);
				detach(t1);
			}

			if (if_block) if_block.d(detaching);

			if (detaching) {
				detach(t2);
				html_tag.d();
			}
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	let { channel, title, contentWarning, content, summary, thumbnail } = $$props;

	const writable_props = ['channel', 'title', 'contentWarning', 'content', 'summary', 'thumbnail'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<Preview> was created with unknown prop '${key}'`);
	});

	$$self.$set = $$props => {
		if ('channel' in $$props) $$invalidate('channel', channel = $$props.channel);
		if ('title' in $$props) $$invalidate('title', title = $$props.title);
		if ('contentWarning' in $$props) $$invalidate('contentWarning', contentWarning = $$props.contentWarning);
		if ('content' in $$props) $$invalidate('content', content = $$props.content);
		if ('summary' in $$props) $$invalidate('summary', summary = $$props.summary);
		if ('thumbnail' in $$props) $$invalidate('thumbnail', thumbnail = $$props.thumbnail);
	};

	return {
		channel,
		title,
		contentWarning,
		content,
		summary,
		thumbnail
	};
}

class Preview extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-v1gwe5-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, ["channel", "title", "contentWarning", "content", "summary", "thumbnail"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.channel === undefined && !('channel' in props)) {
			console.warn("<Preview> was created without expected prop 'channel'");
		}
		if (ctx.title === undefined && !('title' in props)) {
			console.warn("<Preview> was created without expected prop 'title'");
		}
		if (ctx.contentWarning === undefined && !('contentWarning' in props)) {
			console.warn("<Preview> was created without expected prop 'contentWarning'");
		}
		if (ctx.content === undefined && !('content' in props)) {
			console.warn("<Preview> was created without expected prop 'content'");
		}
		if (ctx.summary === undefined && !('summary' in props)) {
			console.warn("<Preview> was created without expected prop 'summary'");
		}
		if (ctx.thumbnail === undefined && !('thumbnail' in props)) {
			console.warn("<Preview> was created without expected prop 'thumbnail'");
		}
	}

	get channel() {
		throw new Error("<Preview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set channel(value) {
		throw new Error("<Preview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	get title() {
		throw new Error("<Preview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set title(value) {
		throw new Error("<Preview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	get contentWarning() {
		throw new Error("<Preview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set contentWarning(value) {
		throw new Error("<Preview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	get content() {
		throw new Error("<Preview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set content(value) {
		throw new Error("<Preview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	get summary() {
		throw new Error("<Preview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set summary(value) {
		throw new Error("<Preview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	get thumbnail() {
		throw new Error("<Preview>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set thumbnail(value) {
		throw new Error("<Preview>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = Preview;

},{"svelte/internal":8}],42:[function(require,module,exports){
/* Following.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	attr,
	detach,
	element,
	empty,
	handle_promise,
	init,
	insert,
	noop,
	safe_not_equal
} = require("svelte/internal");

const file = "Following.svelte";

// (1:0) <script>  console.log("start friendship request")  console.time("friendship")  let promise = ssb.friendship(ssb.id)      .then((data) => {          console.log(data)          console.timeEnd("friendship")      }
function create_catch_block(ctx) {
	return {
		c: noop,
		m: noop,
		d: noop
	};
}

// (14:0) {:then}
function create_then_block(ctx) {
	var p;

	return {
		c: function create() {
			p = element("p");
			p.textContent = "Loaded...";
			add_location(p, file, 14, 4, 336);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (12:16)       <div class="loading" />  {:then}
function create_pending_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading");
			add_location(div, file, 12, 4, 298);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function create_fragment(ctx) {
	var await_block_anchor, promise_1;

	let info = {
		ctx,
		current: null,
		token: null,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 'null',
		error: 'null'
	};

	handle_promise(promise_1 = ctx.promise, info);

	return {
		c: function create() {
			await_block_anchor = empty();

			info.block.c();
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, await_block_anchor, anchor);

			info.block.m(target, info.anchor = anchor);
			info.mount = () => await_block_anchor.parentNode;
			info.anchor = await_block_anchor;
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			info.ctx = ctx;

			promise_1 !== (promise_1 = ctx.promise) && handle_promise(promise_1, info)
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(await_block_anchor);
			}

			info.block.d(detaching);
			info.token = null;
			info = null;
		}
	};
}

function instance($$self) {
	console.log("start friendship request")
console.time("friendship")
let promise = ssb.friendship(ssb.id)
    .then((data) => {
        console.log(data)
        console.timeEnd("friendship")
    })
    .catch(n => console.error("err friend", n))

	return { promise };
}

class Following extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Following;

},{"svelte/internal":8}],43:[function(require,module,exports){
/* Posts.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	assign,
	attr,
	check_outros,
	destroy_component,
	detach,
	element,
	empty,
	group_outros,
	handle_promise,
	init,
	insert,
	listen,
	mount_component,
	noop,
	outro_and_destroy_block,
	prevent_default,
	safe_not_equal,
	set_data,
	space,
	stop_propagation,
	text,
	transition_in,
	transition_out,
	update_keyed_each
} = require("svelte/internal");

const file = "Posts.svelte";

function get_each_context(ctx, list, i) {
	const child_ctx = Object.create(ctx);
	child_ctx.msg = list[i];
	return child_ctx;
}

// (60:2) {:catch n}
function create_catch_block(ctx) {
	var p, t0, t1_value = ctx.n.message, t1;

	return {
		c: function create() {
			p = element("p");
			t0 = text("Error fetching messages: ");
			t1 = text(t1_value);
			add_location(p, file, 60, 4, 1323);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, t0);
			append(p, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.messagePromise) && t1_value !== (t1_value = ctx.n.message)) {
				set_data(t1, t1_value);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (44:2) {:then data}
function create_then_block(ctx) {
	var each_blocks = [], each_1_lookup = new Map(), t, ul, li, a, div, current, dispose;

	var each_value = ctx.lastMsgs;

	const get_key = ctx => ctx.msg.key;

	for (var i = 0; i < each_value.length; i += 1) {
		let child_ctx = get_each_context(ctx, each_value, i);
		let key = get_key(child_ctx);
		each_1_lookup.set(key, each_blocks[i] = create_each_block(key, child_ctx));
	}

	return {
		c: function create() {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].c();

			t = space();
			ul = element("ul");
			li = element("li");
			a = element("a");
			div = element("div");
			div.textContent = "Load More";
			attr(div, "class", "page-item-subtitle");
			add_location(div, file, 55, 10, 1218);
			attr(a, "href", "#/public");
			add_location(a, file, 50, 8, 1024);
			attr(li, "class", "page-item page-next");
			add_location(li, file, 49, 6, 982);
			attr(ul, "class", "pagination");
			add_location(ul, file, 47, 4, 949);
			dispose = listen(a, "click", stop_propagation(prevent_default(ctx.click_handler)));
		},

		m: function mount(target, anchor) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].m(target, anchor);

			insert(target, t, anchor);
			insert(target, ul, anchor);
			append(ul, li);
			append(li, a);
			append(a, div);
			current = true;
		},

		p: function update(changed, ctx) {
			const each_value = ctx.lastMsgs;

			group_outros();
			each_blocks = update_keyed_each(each_blocks, changed, get_key, 1, ctx, each_value, each_1_lookup, t.parentNode, outro_and_destroy_block, create_each_block, t, get_each_context);
			check_outros();
		},

		i: function intro(local) {
			if (current) return;
			for (var i = 0; i < each_value.length; i += 1) transition_in(each_blocks[i]);

			current = true;
		},

		o: function outro(local) {
			for (i = 0; i < each_blocks.length; i += 1) transition_out(each_blocks[i]);

			current = false;
		},

		d: function destroy(detaching) {
			for (i = 0; i < each_blocks.length; i += 1) each_blocks[i].d(detaching);

			if (detaching) {
				detach(t);
				detach(ul);
			}

			dispose();
		}
	};
}

// (45:4) {#each lastMsgs as msg (msg.key)}
function create_each_block(key_1, ctx) {
	var first, current;

	var messagerenderer = new ctx.MessageRenderer({
		props: { msg: ctx.msg },
		$$inline: true
	});

	return {
		key: key_1,

		first: null,

		c: function create() {
			first = empty();
			messagerenderer.$$.fragment.c();
			this.first = first;
		},

		m: function mount(target, anchor) {
			insert(target, first, anchor);
			mount_component(messagerenderer, target, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			var messagerenderer_changes = {};
			if (changed.lastMsgs) messagerenderer_changes.msg = ctx.msg;
			messagerenderer.$set(messagerenderer_changes);
		},

		i: function intro(local) {
			if (current) return;
			transition_in(messagerenderer.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(messagerenderer.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(first);
			}

			destroy_component(messagerenderer, detaching);
		}
	};
}

// (42:25)       <div class="loading" />    {:then data}
function create_pending_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading");
			add_location(div, file, 42, 4, 819);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function create_fragment(ctx) {
	var div, promise, current;

	let info = {
		ctx,
		current: null,
		token: null,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 'data',
		error: 'n',
		blocks: [,,,]
	};

	handle_promise(promise = ctx.messagePromise, info);

	return {
		c: function create() {
			div = element("div");

			info.block.c();
			add_location(div, file, 40, 0, 781);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);

			info.block.m(div, info.anchor = null);
			info.mount = () => div;
			info.anchor = null;

			current = true;
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			info.ctx = ctx;

			if (('messagePromise' in changed) && promise !== (promise = ctx.messagePromise) && handle_promise(promise, info)) {
				// nothing
			} else {
				info.block.p(changed, assign(assign({}, ctx), info.resolved));
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(info.block);
			current = true;
		},

		o: function outro(local) {
			for (let i = 0; i < 3; i += 1) {
				const block = info.blocks[i];
				transition_out(block);
			}

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			info.block.d();
			info.token = null;
			info = null;
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const MessageRenderer = require("../../messageTypes/MessageRenderer.svelte");

  let { feed } = $$props;

  let messagePromise;
  let lastMsgs = [];

  $$invalidate('messagePromise', messagePromise = ssb
    .query(
      {
        value: {
          author: feed
        }
      },
      10
    )
    .then(msgs => {
      $$invalidate('lastMsgs', lastMsgs = msgs);

      window.scrollTo(0, 0);
    }));

  // todo: refactor navigation here. This is a hack it shouldn't hide and show values which are
  // not reloading.
  const loadMoreMessages = lt => {
    $$invalidate('messagePromise', messagePromise = ssb
      .query({
        value: {
          author: feed,
          timestamp: { $lt: lt }
        }
      })
      .then(msgs => {
        $$invalidate('lastMsgs', lastMsgs = msgs);
        window.scrollTo(0, 0);
      }));
  };

	const writable_props = ['feed'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<Posts> was created with unknown prop '${key}'`);
	});

	function click_handler() {
	            loadMoreMessages(lastMsgs[lastMsgs.length - 1].value.timestamp);
	          }

	$$self.$set = $$props => {
		if ('feed' in $$props) $$invalidate('feed', feed = $$props.feed);
	};

	return {
		MessageRenderer,
		feed,
		messagePromise,
		lastMsgs,
		loadMoreMessages,
		click_handler
	};
}

class Posts extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["feed"]);

		const { ctx } = this.$$;
		const props = options.props || {};
		if (ctx.feed === undefined && !('feed' in props)) {
			console.warn("<Posts> was created without expected prop 'feed'");
		}
	}

	get feed() {
		throw new Error("<Posts>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set feed(value) {
		throw new Error("<Posts>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = Posts;

},{"../../messageTypes/MessageRenderer.svelte":21,"svelte/internal":8}],44:[function(require,module,exports){
/* Profile.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	assign,
	attr,
	check_outros,
	component_subscribe,
	destroy_component,
	detach,
	element,
	empty,
	group_outros,
	handle_promise,
	init,
	insert,
	listen,
	mount_component,
	noop,
	run_all,
	safe_not_equal,
	set_data,
	space,
	text,
	toggle_class,
	transition_in,
	transition_out,
	validate_store
} = require("svelte/internal");

const file = "Profile.svelte";

// (158:2) {:catch n}
function create_catch_block(ctx) {
	var p, t0, t1_value = ctx.n.message, t1;

	return {
		c: function create() {
			p = element("p");
			t0 = text("Error: ");
			t1 = text(t1_value);
			add_location(p, file, 158, 4, 4367);
		},

		m: function mount(target, anchor) {
			insert(target, p, anchor);
			append(p, t0);
			append(p, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.aboutPromise || changed.avatarPromise) && t1_value !== (t1_value = ctx.n.message)) {
				set_data(t1, t1_value);
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(p);
			}
		}
	};
}

// (79:2) {:then}
function create_then_block(ctx) {
	var div3, div1, div0, img, img_src_value, t0, div2, t1, h1, t2, t3, pre, t4, t5, t6, p, raw_value = ctx.ssb.markdown(ctx.description), t7, br0, t8, ul, li0, a0, t9, a0_href_value, t10, li1, a1, t11, a1_href_value, t12, li2, a2, t13, a2_href_value, t14, li3, a3, t15, a3_href_value, t16, br1, t17, switch_instance_anchor, current, dispose;

	var if_block0 = (ctx.feed === ctx.ssb.feed) && create_if_block_1(ctx);

	var if_block1 = (ctx.feed !== ctx.ssb.feed) && create_if_block(ctx);

	var switch_value = ctx.subViews[ctx.currentSubView];

	function switch_props(ctx) {
		return {
			props: { feed: ctx.feed },
			$$inline: true
		};
	}

	if (switch_value) {
		var switch_instance = new switch_value(switch_props(ctx));
	}

	return {
		c: function create() {
			div3 = element("div");
			div1 = element("div");
			div0 = element("div");
			img = element("img");
			t0 = space();
			div2 = element("div");
			if (if_block0) if_block0.c();
			t1 = space();
			h1 = element("h1");
			t2 = text(ctx.name);
			t3 = space();
			pre = element("pre");
			t4 = text(ctx.feed);
			t5 = space();
			if (if_block1) if_block1.c();
			t6 = space();
			p = element("p");
			t7 = space();
			br0 = element("br");
			t8 = space();
			ul = element("ul");
			li0 = element("li");
			a0 = element("a");
			t9 = text("Posts");
			t10 = space();
			li1 = element("li");
			a1 = element("a");
			t11 = text("Friends");
			t12 = space();
			li2 = element("li");
			a2 = element("a");
			t13 = text("Following");
			t14 = space();
			li3 = element("li");
			a3 = element("a");
			t15 = text("Followers");
			t16 = space();
			br1 = element("br");
			t17 = space();
			if (switch_instance) switch_instance.$$.fragment.c();
			switch_instance_anchor = empty();
			attr(img, "class", "img-responsive");
			attr(img, "src", img_src_value = "http://localhost:8989/blobs/get/" + ctx.image);
			attr(img, "alt", ctx.feed);
			add_location(img, file, 83, 10, 1982);
			attr(div0, "class", "container");
			add_location(div0, file, 82, 8, 1947);
			attr(div1, "class", "column col-6");
			add_location(div1, file, 81, 6, 1911);
			add_location(h1, file, 93, 8, 2281);
			add_location(pre, file, 94, 8, 2306);
			add_location(p, file, 119, 8, 3165);
			attr(div2, "class", "column col-6");
			add_location(div2, file, 89, 6, 2146);
			attr(div3, "class", "columns");
			add_location(div3, file, 79, 4, 1880);
			add_location(br0, file, 124, 4, 3259);
			attr(a0, "href", a0_href_value = "/index.html?feed=" + ctx.feed + "#/profile");
			add_location(a0, file, 127, 8, 3376);
			attr(li0, "class", "tab-item");
			toggle_class(li0, "active", ctx.currentSubView === 'posts');
			add_location(li0, file, 126, 6, 3303);
			attr(a1, "href", a1_href_value = "/index.html?feed=" + ctx.feed + "#/profile");
			add_location(a1, file, 134, 8, 3612);
			attr(li1, "class", "tab-item");
			toggle_class(li1, "active", ctx.currentSubView === 'friends');
			add_location(li1, file, 133, 6, 3537);
			attr(a2, "href", a2_href_value = "/index.html?feed=" + ctx.feed + "#/profile");
			add_location(a2, file, 141, 8, 3854);
			attr(li2, "class", "tab-item");
			toggle_class(li2, "active", ctx.currentSubView === 'following');
			add_location(li2, file, 140, 6, 3777);
			attr(a3, "href", a3_href_value = "/index.html?feed=" + ctx.feed + "#/profile");
			add_location(a3, file, 148, 8, 4100);
			attr(li3, "class", "tab-item");
			toggle_class(li3, "active", ctx.currentSubView === 'followers');
			add_location(li3, file, 147, 6, 4023);
			attr(ul, "class", "tab tab-block");
			add_location(ul, file, 125, 4, 3269);
			add_location(br1, file, 155, 4, 4278);

			dispose = [
				listen(a0, "click", ctx.click_handler),
				listen(a1, "click", ctx.click_handler_1),
				listen(a2, "click", ctx.click_handler_2),
				listen(a3, "click", ctx.click_handler_3)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div3, anchor);
			append(div3, div1);
			append(div1, div0);
			append(div0, img);
			append(div3, t0);
			append(div3, div2);
			if (if_block0) if_block0.m(div2, null);
			append(div2, t1);
			append(div2, h1);
			append(h1, t2);
			append(div2, t3);
			append(div2, pre);
			append(pre, t4);
			append(div2, t5);
			if (if_block1) if_block1.m(div2, null);
			append(div2, t6);
			append(div2, p);
			p.innerHTML = raw_value;
			insert(target, t7, anchor);
			insert(target, br0, anchor);
			insert(target, t8, anchor);
			insert(target, ul, anchor);
			append(ul, li0);
			append(li0, a0);
			append(a0, t9);
			append(ul, t10);
			append(ul, li1);
			append(li1, a1);
			append(a1, t11);
			append(ul, t12);
			append(ul, li2);
			append(li2, a2);
			append(a2, t13);
			append(ul, t14);
			append(ul, li3);
			append(li3, a3);
			append(a3, t15);
			insert(target, t16, anchor);
			insert(target, br1, anchor);
			insert(target, t17, anchor);

			if (switch_instance) {
				mount_component(switch_instance, target, anchor);
			}

			insert(target, switch_instance_anchor, anchor);
			current = true;
		},

		p: function update(changed, ctx) {
			if ((!current || changed.image) && img_src_value !== (img_src_value = "http://localhost:8989/blobs/get/" + ctx.image)) {
				attr(img, "src", img_src_value);
			}

			if (!current || changed.feed) {
				attr(img, "alt", ctx.feed);
			}

			if (ctx.feed === ctx.ssb.feed) {
				if (!if_block0) {
					if_block0 = create_if_block_1(ctx);
					if_block0.c();
					if_block0.m(div2, t1);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (!current || changed.name) {
				set_data(t2, ctx.name);
			}

			if (!current || changed.feed) {
				set_data(t4, ctx.feed);
			}

			if (ctx.feed !== ctx.ssb.feed) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block(ctx);
					if_block1.c();
					if_block1.m(div2, t6);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if ((!current || changed.description) && raw_value !== (raw_value = ctx.ssb.markdown(ctx.description))) {
				p.innerHTML = raw_value;
			}

			if ((!current || changed.feed) && a0_href_value !== (a0_href_value = "/index.html?feed=" + ctx.feed + "#/profile")) {
				attr(a0, "href", a0_href_value);
			}

			if (changed.currentSubView) {
				toggle_class(li0, "active", ctx.currentSubView === 'posts');
			}

			if ((!current || changed.feed) && a1_href_value !== (a1_href_value = "/index.html?feed=" + ctx.feed + "#/profile")) {
				attr(a1, "href", a1_href_value);
			}

			if (changed.currentSubView) {
				toggle_class(li1, "active", ctx.currentSubView === 'friends');
			}

			if ((!current || changed.feed) && a2_href_value !== (a2_href_value = "/index.html?feed=" + ctx.feed + "#/profile")) {
				attr(a2, "href", a2_href_value);
			}

			if (changed.currentSubView) {
				toggle_class(li2, "active", ctx.currentSubView === 'following');
			}

			if ((!current || changed.feed) && a3_href_value !== (a3_href_value = "/index.html?feed=" + ctx.feed + "#/profile")) {
				attr(a3, "href", a3_href_value);
			}

			if (changed.currentSubView) {
				toggle_class(li3, "active", ctx.currentSubView === 'followers');
			}

			var switch_instance_changes = {};
			if (changed.feed) switch_instance_changes.feed = ctx.feed;

			if (switch_value !== (switch_value = ctx.subViews[ctx.currentSubView])) {
				if (switch_instance) {
					group_outros();
					const old_component = switch_instance;
					transition_out(old_component.$$.fragment, 1, 0, () => {
						destroy_component(old_component, 1);
					});
					check_outros();
				}

				if (switch_value) {
					switch_instance = new switch_value(switch_props(ctx));

					switch_instance.$$.fragment.c();
					transition_in(switch_instance.$$.fragment, 1);
					mount_component(switch_instance, switch_instance_anchor.parentNode, switch_instance_anchor);
				} else {
					switch_instance = null;
				}
			}

			else if (switch_value) {
				switch_instance.$set(switch_instance_changes);
			}
		},

		i: function intro(local) {
			if (current) return;
			if (switch_instance) transition_in(switch_instance.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div3);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();

			if (detaching) {
				detach(t7);
				detach(br0);
				detach(t8);
				detach(ul);
				detach(t16);
				detach(br1);
				detach(t17);
				detach(switch_instance_anchor);
			}

			if (switch_instance) destroy_component(switch_instance, detaching);
			run_all(dispose);
		}
	};
}

// (91:8) {#if feed === ssb.feed}
function create_if_block_1(ctx) {
	var span;

	return {
		c: function create() {
			span = element("span");
			span.textContent = "❤ Thats You ❤";
			attr(span, "class", "chip");
			add_location(span, file, 91, 10, 2217);
		},

		m: function mount(target, anchor) {
			insert(target, span, anchor);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(span);
			}
		}
	};
}

// (96:8) {#if feed !== ssb.feed}
function create_if_block(ctx) {
	var div3, div0, t0, div1, label0, input0, t1, i0, t2, t3, label1, input1, t4, i1, t5, t6, div2, dispose;

	return {
		c: function create() {
			div3 = element("div");
			div0 = element("div");
			t0 = space();
			div1 = element("div");
			label0 = element("label");
			input0 = element("input");
			t1 = space();
			i0 = element("i");
			t2 = text("\r\n                following");
			t3 = space();
			label1 = element("label");
			input1 = element("input");
			t4 = space();
			i1 = element("i");
			t5 = text("\r\n                blocking");
			t6 = space();
			div2 = element("div");
			attr(div0, "class", "divider");
			add_location(div0, file, 97, 12, 2405);
			attr(input0, "type", "checkbox");
			add_location(input0, file, 100, 16, 2539);
			attr(i0, "class", "form-icon");
			add_location(i0, file, 104, 16, 2693);
			attr(label0, "class", "form-switch form-inline");
			add_location(label0, file, 99, 14, 2482);
			attr(input1, "type", "checkbox");
			add_location(input1, file, 108, 16, 2840);
			attr(i1, "class", "form-icon");
			add_location(i1, file, 112, 16, 2992);
			attr(label1, "class", "form-switch form-inline");
			add_location(label1, file, 107, 14, 2783);
			attr(div1, "class", "form-group");
			add_location(div1, file, 98, 12, 2442);
			attr(div2, "class", "divider");
			add_location(div2, file, 116, 12, 3099);
			attr(div3, "class", "container");
			add_location(div3, file, 96, 10, 2368);

			dispose = [
				listen(input0, "change", ctx.input0_change_handler),
				listen(input0, "change", ctx.followingChanged),
				listen(input1, "change", ctx.input1_change_handler),
				listen(input1, "change", ctx.blockingChanged)
			];
		},

		m: function mount(target, anchor) {
			insert(target, div3, anchor);
			append(div3, div0);
			append(div3, t0);
			append(div3, div1);
			append(div1, label0);
			append(label0, input0);

			input0.checked = ctx.following;

			append(label0, t1);
			append(label0, i0);
			append(label0, t2);
			append(div1, t3);
			append(div1, label1);
			append(label1, input1);

			input1.checked = ctx.blocking;

			append(label1, t4);
			append(label1, i1);
			append(label1, t5);
			append(div3, t6);
			append(div3, div2);
		},

		p: function update(changed, ctx) {
			if (changed.following) input0.checked = ctx.following;
			if (changed.blocking) input1.checked = ctx.blocking;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div3);
			}

			run_all(dispose);
		}
	};
}

// (77:40)       <div class="loading loading-lg" />    {:then}
function create_pending_block(ctx) {
	var div;

	return {
		c: function create() {
			div = element("div");
			attr(div, "class", "loading loading-lg");
			add_location(div, file, 77, 4, 1829);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
		},

		p: noop,
		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

function create_fragment(ctx) {
	var div, promise, current;

	let info = {
		ctx,
		current: null,
		token: null,
		pending: create_pending_block,
		then: create_then_block,
		catch: create_catch_block,
		value: 'null',
		error: 'n',
		blocks: [,,,]
	};

	handle_promise(promise = ctx.aboutPromise && ctx.avatarPromise, info);

	return {
		c: function create() {
			div = element("div");

			info.block.c();
			attr(div, "class", "container");
			add_location(div, file, 75, 0, 1758);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);

			info.block.m(div, info.anchor = null);
			info.mount = () => div;
			info.anchor = null;

			current = true;
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			info.ctx = ctx;

			if (('aboutPromise' in changed || 'avatarPromise' in changed) && promise !== (promise = ctx.aboutPromise && ctx.avatarPromise) && handle_promise(promise, info)) {
				// nothing
			} else {
				info.block.p(changed, assign(assign({}, ctx), info.resolved));
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(info.block);
			current = true;
		},

		o: function outro(local) {
			for (let i = 0; i < 3; i += 1) {
				const block = info.blocks[i];
				transition_out(block);
			}

			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}

			info.block.d();
			info.token = null;
			info = null;
		}
	};
}

let profile = false;

function instance($$self, $$props, $$invalidate) {
	let $routeParams;

	const { navigate, routeParams } = require("../../utils.js"); validate_store(routeParams, 'routeParams'); component_subscribe($$self, routeParams, $$value => { $routeParams = $$value; $$invalidate('$routeParams', $routeParams) });
  const Posts = require("./Posts.svelte");
  const Following = require("./Following.svelte");

  let description = false;
  let following = false;
  let blocking = false;
  let image;
  let feed;
  let lastAbout;
  let avatarPromise;
  let aboutPromise;
  let subViews = {
    posts: Posts,
    following: Following
  };
  let currentSubView = "posts";

  $$invalidate('feed', feed = $routeParams.feed);

  if (!feed) {
    $$invalidate('feed', feed = ssb.feed);
  }

  let name = feed;

  document.title = `Patchfox - Feed: ${feed}`;

  console.log("fetching", feed);

  $$invalidate('avatarPromise', avatarPromise = ssb.avatar(feed).then(data => {
    $$invalidate('name', name = data.name);
    $$invalidate('image', image = data.image);
    document.title = `Patchfox - Feed: ${name}`;
  }));

  $$invalidate('aboutPromise', aboutPromise = ssb.profile(feed).then(data => {
    lastAbout = data.about.reverse().find(m => {
      let a = m.value.content;
      return a.hasOwnProperty("description");
    });
    try {
      $$invalidate('description', description = lastAbout.value.content.description);
    } catch (n) {
      $$invalidate('description', description = "");
    }
    window.scrollTo(0, 0);
  }));

  if (feed !== ssb.feed) {
    ssb.following(feed).then(f => { const $$result = (following = f); $$invalidate('following', following); return $$result; });
    ssb.blocking(feed).then(f => { const $$result = (blocking = f); $$invalidate('blocking', blocking); return $$result; });
  }

  const blockingChanged = ev => {
    let v = ev.target.checked;
    if (v) {
      ssb.block(feed).catch(() => { const $$result = (blocking = false); $$invalidate('blocking', blocking); return $$result; });
    } else {
      ssb.unblock(feed).catch(() => { const $$result = (blocking = true); $$invalidate('blocking', blocking); return $$result; });
    }
  };

  const followingChanged = ev => {
    let v = ev.target.checked;
    if (v) {
      ssb.follow(feed).catch(() => { const $$result = (following = false); $$invalidate('following', following); return $$result; });
    } else {
      ssb.unfollow(feed).catch(() => { const $$result = (following = true); $$invalidate('following', following); return $$result; });
    }
  };

	function input0_change_handler() {
		following = this.checked;
		$$invalidate('following', following);
	}

	function input1_change_handler() {
		blocking = this.checked;
		$$invalidate('blocking', blocking);
	}

	function click_handler() {
		const $$result = (currentSubView = 'posts');
		$$invalidate('currentSubView', currentSubView);
		return $$result;
	}

	function click_handler_1() {
		const $$result = (currentSubView = 'friends');
		$$invalidate('currentSubView', currentSubView);
		return $$result;
	}

	function click_handler_2() {
		const $$result = (currentSubView = 'following');
		$$invalidate('currentSubView', currentSubView);
		return $$result;
	}

	function click_handler_3() {
		const $$result = (currentSubView = 'followers');
		$$invalidate('currentSubView', currentSubView);
		return $$result;
	}

	return {
		routeParams,
		description,
		following,
		blocking,
		image,
		feed,
		avatarPromise,
		aboutPromise,
		subViews,
		currentSubView,
		name,
		blockingChanged,
		followingChanged,
		ssb,
		input0_change_handler,
		input1_change_handler,
		click_handler,
		click_handler_1,
		click_handler_2,
		click_handler_3
	};
}

class Profile extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Profile;

},{"../../utils.js":30,"./Following.svelte":42,"./Posts.svelte":43,"svelte/internal":8}],45:[function(require,module,exports){
/* ContentWarnings.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	space,
	text
} = require("svelte/internal");

const file = "ContentWarnings.svelte";

function create_fragment(ctx) {
	var h1, t1, form, label0, t3, label1, input0, t4, i0, t5, t6, label2, input1, t7, i1, t8, dispose;

	return {
		c: function create() {
			h1 = element("h1");
			h1.textContent = "Content Warnings";
			t1 = space();
			form = element("form");
			label0 = element("label");
			label0.textContent = "Should Content Warnings by collapsed or expanded by default?";
			t3 = space();
			label1 = element("label");
			input0 = element("input");
			t4 = space();
			i0 = element("i");
			t5 = text("\r\n    Collapsed");
			t6 = space();
			label2 = element("label");
			input1 = element("input");
			t7 = space();
			i1 = element("i");
			t8 = text("\r\n    Expanded");
			attr(h1, "class", "title");
			add_location(h1, file, 5, 0, 156);
			attr(label0, "class", "form-label");
			add_location(label0, file, 7, 2, 226);
			ctx.$$binding_groups[0].push(input0);
			attr(input0, "type", "radio");
			attr(input0, "name", "column-size");
			input0.__value = "collapsed";
			input0.value = input0.__value;
			add_location(input0, file, 11, 4, 366);
			attr(i0, "class", "form-icon");
			add_location(i0, file, 17, 4, 565);
			attr(label1, "class", "form-radio");
			add_location(label1, file, 10, 2, 334);
			ctx.$$binding_groups[0].push(input1);
			attr(input1, "type", "radio");
			attr(input1, "name", "column-size");
			input1.__value = "expanded";
			input1.value = input1.__value;
			add_location(input1, file, 21, 4, 651);
			attr(i1, "class", "form-icon");
			add_location(i1, file, 27, 4, 849);
			attr(label2, "class", "form-radio");
			add_location(label2, file, 20, 2, 619);
			attr(form, "class", "form-group");
			add_location(form, file, 6, 0, 197);

			dispose = [
				listen(input0, "change", ctx.input0_change_handler),
				listen(input0, "change", ctx.change_handler),
				listen(input1, "change", ctx.input1_change_handler),
				listen(input1, "change", ctx.change_handler_1)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			insert(target, t1, anchor);
			insert(target, form, anchor);
			append(form, label0);
			append(form, t3);
			append(form, label1);
			append(label1, input0);

			input0.checked = input0.__value === ctx.expandByDefault;

			append(label1, t4);
			append(label1, i0);
			append(label1, t5);
			append(form, t6);
			append(form, label2);
			append(label2, input1);

			input1.checked = input1.__value === ctx.expandByDefault;

			append(label2, t7);
			append(label2, i1);
			append(label2, t8);
		},

		p: function update(changed, ctx) {
			if (changed.expandByDefault) input0.checked = input0.__value === ctx.expandByDefault;
			if (changed.expandByDefault) input1.checked = input1.__value === ctx.expandByDefault;
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
				detach(t1);
				detach(form);
			}

			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input0), 1);
			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input1), 1);
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { getPref, setPref } = require("../../prefs.js");
  let expandByDefault = getPref("content-warnings-expand", "collapsed");

	const $$binding_groups = [[]];

	function input0_change_handler() {
		expandByDefault = this.__value;
		$$invalidate('expandByDefault', expandByDefault);
	}

	function change_handler() {
		return setPref('content-warnings-expand', expandByDefault);
	}

	function input1_change_handler() {
		expandByDefault = this.__value;
		$$invalidate('expandByDefault', expandByDefault);
	}

	function change_handler_1() {
		return setPref('content-warnings-expand', expandByDefault);
	}

	return {
		setPref,
		expandByDefault,
		input0_change_handler,
		change_handler,
		input1_change_handler,
		change_handler_1,
		$$binding_groups
	};
}

class ContentWarnings extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = ContentWarnings;

},{"../../prefs.js":28,"svelte/internal":8}],46:[function(require,module,exports){
/* DisplayPreferences.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	space,
	text,
	to_number
} = require("svelte/internal");

const file = "DisplayPreferences.svelte";

function create_fragment(ctx) {
	var h1, t1, form, label0, t3, label1, input0, t4, i0, t5, t6, label2, input1, t7, i1, t8, t9, label3, t11, input2, t12, br0, t13, span, t14, a, t15, i2, t17, label4, input3, t18, i3, t19, b0, t21, t22, label5, input4, t23, i4, t24, b1, t26, t27, label6, input5, t28, i5, t29, b2, t31, t32, label7, input6, t33, i6, t34, b3, t36, t37, label8, input7, t38, i7, t39, b4, t41, t42, label9, input8, t43, i8, t44, b5, t46, t47, label10, input9, t48, i9, t49, b6, t51, t52, label11, input10, t53, i10, t54, b7, t56, t57, div, t58, label12, input11, t59, i11, t60, b8, t62, t63, br1, dispose;

	return {
		c: function create() {
			h1 = element("h1");
			h1.textContent = "Display Preferences";
			t1 = space();
			form = element("form");
			label0 = element("label");
			label0.textContent = "Feed column size. There is research that says that a short column size makes\r\n    for a more pleasant reading experience, still some users prefer to use the\r\n    full screen space. Your choice is between reading through long text lines or\r\n    short ones.";
			t3 = space();
			label1 = element("label");
			input0 = element("input");
			t4 = space();
			i0 = element("i");
			t5 = text("\r\n    Short column");
			t6 = space();
			label2 = element("label");
			input1 = element("input");
			t7 = space();
			i1 = element("i");
			t8 = text("\r\n    Long column");
			t9 = space();
			label3 = element("label");
			label3.textContent = "Messages per page";
			t11 = space();
			input2 = element("input");
			t12 = space();
			br0 = element("br");
			t13 = space();
			span = element("span");
			t14 = text("Which message types you want to see?\r\n    ");
			a = element("a");
			t15 = text("Click here for more information about\r\n      ");
			i2 = element("i");
			i2.textContent = "Message Types";
			t17 = space();
			label4 = element("label");
			input3 = element("input");
			t18 = space();
			i3 = element("i");
			t19 = space();
			b0 = element("b");
			b0.textContent = "About";
			t21 = text("\r\n    (aka people setting avatars and descriptions; gatherings)");
			t22 = space();
			label5 = element("label");
			input4 = element("input");
			t23 = space();
			i4 = element("i");
			t24 = space();
			b1 = element("b");
			b1.textContent = "Blog";
			t26 = text("\r\n    (Longform text posts)");
			t27 = space();
			label6 = element("label");
			input5 = element("input");
			t28 = space();
			i5 = element("i");
			t29 = space();
			b2 = element("b");
			b2.textContent = "Channel";
			t31 = text("\r\n    (People subscribing to channels)");
			t32 = space();
			label7 = element("label");
			input6 = element("input");
			t33 = space();
			i6 = element("i");
			t34 = space();
			b3 = element("b");
			b3.textContent = "Contact";
			t36 = text("\r\n    (People following each other)");
			t37 = space();
			label8 = element("label");
			input7 = element("input");
			t38 = space();
			i7 = element("i");
			t39 = space();
			b4 = element("b");
			b4.textContent = "Posts";
			t41 = text("\r\n    (Common content post, leave this on or it is not that fun)");
			t42 = space();
			label9 = element("label");
			input8 = element("input");
			t43 = space();
			i8 = element("i");
			t44 = space();
			b5 = element("b");
			b5.textContent = "Pub";
			t46 = text("\r\n    (Pub servers announcements)");
			t47 = space();
			label10 = element("label");
			input9 = element("input");
			t48 = space();
			i9 = element("i");
			t49 = space();
			b6 = element("b");
			b6.textContent = "Private";
			t51 = text("\r\n    (Private messages; You won't be able to read them, but you'll see their\r\n    encrypted content passing by)");
			t52 = space();
			label11 = element("label");
			input10 = element("input");
			t53 = space();
			i10 = element("i");
			t54 = space();
			b7 = element("b");
			b7.textContent = "Vote";
			t56 = text("\r\n    (People liking/digging stuff)");
			t57 = space();
			div = element("div");
			t58 = space();
			label12 = element("label");
			input11 = element("input");
			t59 = space();
			i11 = element("i");
			t60 = space();
			b8 = element("b");
			b8.textContent = "Unknown";
			t62 = text("\r\n    (Show messages Patchfox doesn't understand as their raw content)");
			t63 = space();
			br1 = element("br");
			attr(h1, "class", "title");
			add_location(h1, file, 19, 0, 769);
			attr(label0, "class", "form-label");
			add_location(label0, file, 21, 1, 841);
			ctx.$$binding_groups[0].push(input0);
			attr(input0, "type", "radio");
			attr(input0, "name", "column-size");
			input0.__value = "short";
			input0.value = input0.__value;
			add_location(input0, file, 28, 4, 1176);
			attr(i0, "class", "form-icon");
			add_location(i0, file, 34, 4, 1348);
			attr(label1, "class", "form-radio");
			add_location(label1, file, 27, 2, 1144);
			ctx.$$binding_groups[0].push(input1);
			attr(input1, "type", "radio");
			attr(input1, "name", "column-size");
			input1.__value = "long";
			input1.value = input1.__value;
			add_location(input1, file, 38, 4, 1437);
			attr(i1, "class", "form-icon");
			add_location(i1, file, 44, 4, 1608);
			attr(label2, "class", "form-radio");
			add_location(label2, file, 37, 2, 1405);
			attr(label3, "class", "form-label");
			attr(label3, "for", "limit");
			add_location(label3, file, 47, 2, 1664);
			attr(input2, "class", "form-input");
			attr(input2, "type", "number");
			add_location(input2, file, 48, 2, 1731);
			add_location(br0, file, 54, 2, 1860);
			add_location(i2, file, 59, 6, 2036);
			attr(a, "target", "_blank");
			attr(a, "href", "/docs/index.html#/message_types/");
			add_location(a, file, 57, 4, 1924);
			add_location(span, file, 55, 2, 1870);
			attr(input3, "type", "checkbox");
			add_location(input3, file, 63, 4, 2114);
			attr(i3, "class", "form-icon");
			add_location(i3, file, 69, 4, 2274);
			add_location(b0, file, 70, 4, 2303);
			attr(label4, "class", "form-switch");
			add_location(label4, file, 62, 2, 2081);
			attr(input4, "type", "checkbox");
			add_location(input4, file, 74, 4, 2427);
			attr(i4, "class", "form-icon");
			add_location(i4, file, 80, 4, 2584);
			add_location(b1, file, 81, 4, 2613);
			attr(label5, "class", "form-switch");
			add_location(label5, file, 73, 2, 2394);
			attr(input5, "type", "checkbox");
			add_location(input5, file, 85, 4, 2700);
			attr(i5, "class", "form-icon");
			add_location(i5, file, 91, 4, 2866);
			add_location(b2, file, 92, 4, 2895);
			attr(label6, "class", "form-switch");
			add_location(label6, file, 84, 2, 2667);
			attr(input6, "type", "checkbox");
			add_location(input6, file, 96, 4, 2996);
			attr(i6, "class", "form-icon");
			add_location(i6, file, 102, 4, 3162);
			add_location(b3, file, 103, 4, 3191);
			attr(label7, "class", "form-switch");
			add_location(label7, file, 95, 2, 2963);
			attr(input7, "type", "checkbox");
			add_location(input7, file, 107, 4, 3289);
			attr(i7, "class", "form-icon");
			add_location(i7, file, 113, 4, 3446);
			add_location(b4, file, 114, 4, 3475);
			attr(label8, "class", "form-switch");
			add_location(label8, file, 106, 2, 3256);
			attr(input8, "type", "checkbox");
			add_location(input8, file, 118, 4, 3600);
			attr(i8, "class", "form-icon");
			add_location(i8, file, 124, 4, 3754);
			add_location(b5, file, 125, 4, 3783);
			attr(label9, "class", "form-switch");
			add_location(label9, file, 117, 2, 3567);
			attr(input9, "type", "checkbox");
			add_location(input9, file, 130, 4, 3877);
			attr(i9, "class", "form-icon");
			add_location(i9, file, 136, 4, 4043);
			add_location(b6, file, 137, 4, 4072);
			attr(label10, "class", "form-switch");
			add_location(label10, file, 129, 2, 3844);
			attr(input10, "type", "checkbox");
			add_location(input10, file, 143, 4, 4249);
			attr(i10, "class", "form-icon");
			add_location(i10, file, 149, 4, 4406);
			add_location(b7, file, 150, 4, 4435);
			attr(label11, "class", "form-switch");
			add_location(label11, file, 142, 2, 4216);
			attr(div, "class", "divider");
			add_location(div, file, 153, 2, 4497);
			attr(input11, "type", "checkbox");
			add_location(input11, file, 155, 4, 4557);
			attr(i11, "class", "form-icon");
			add_location(i11, file, 161, 4, 4723);
			add_location(b8, file, 162, 4, 4752);
			attr(label12, "class", "form-switch");
			add_location(label12, file, 154, 2, 4524);
			add_location(br1, file, 165, 2, 4852);
			attr(form, "class", "form-group");
			add_location(form, file, 20, 0, 813);

			dispose = [
				listen(input0, "change", ctx.input0_change_handler),
				listen(input0, "change", ctx.change_handler),
				listen(input1, "change", ctx.input1_change_handler),
				listen(input1, "change", ctx.change_handler_1),
				listen(input2, "input", ctx.input2_input_handler),
				listen(input2, "change", ctx.change_handler_2),
				listen(input3, "change", ctx.input3_change_handler),
				listen(input3, "change", ctx.change_handler_3),
				listen(input4, "change", ctx.input4_change_handler),
				listen(input4, "change", ctx.change_handler_4),
				listen(input5, "change", ctx.input5_change_handler),
				listen(input5, "change", ctx.change_handler_5),
				listen(input6, "change", ctx.input6_change_handler),
				listen(input6, "change", ctx.change_handler_6),
				listen(input7, "change", ctx.input7_change_handler),
				listen(input7, "change", ctx.change_handler_7),
				listen(input8, "change", ctx.input8_change_handler),
				listen(input8, "change", ctx.change_handler_8),
				listen(input9, "change", ctx.input9_change_handler),
				listen(input9, "change", ctx.change_handler_9),
				listen(input10, "change", ctx.input10_change_handler),
				listen(input10, "change", ctx.change_handler_10),
				listen(input11, "change", ctx.input11_change_handler),
				listen(input11, "change", ctx.change_handler_11)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			insert(target, t1, anchor);
			insert(target, form, anchor);
			append(form, label0);
			append(form, t3);
			append(form, label1);
			append(label1, input0);

			input0.checked = input0.__value === ctx.columnSize;

			append(label1, t4);
			append(label1, i0);
			append(label1, t5);
			append(form, t6);
			append(form, label2);
			append(label2, input1);

			input1.checked = input1.__value === ctx.columnSize;

			append(label2, t7);
			append(label2, i1);
			append(label2, t8);
			append(form, t9);
			append(form, label3);
			append(form, t11);
			append(form, input2);

			input2.value = ctx.limit;

			append(form, t12);
			append(form, br0);
			append(form, t13);
			append(form, span);
			append(span, t14);
			append(span, a);
			append(a, t15);
			append(a, i2);
			append(form, t17);
			append(form, label4);
			append(label4, input3);

			input3.checked = ctx.showTypeAbout;

			append(label4, t18);
			append(label4, i3);
			append(label4, t19);
			append(label4, b0);
			append(label4, t21);
			append(form, t22);
			append(form, label5);
			append(label5, input4);

			input4.checked = ctx.showTypeBlog;

			append(label5, t23);
			append(label5, i4);
			append(label5, t24);
			append(label5, b1);
			append(label5, t26);
			append(form, t27);
			append(form, label6);
			append(label6, input5);

			input5.checked = ctx.showTypeChannel;

			append(label6, t28);
			append(label6, i5);
			append(label6, t29);
			append(label6, b2);
			append(label6, t31);
			append(form, t32);
			append(form, label7);
			append(label7, input6);

			input6.checked = ctx.showTypeContact;

			append(label7, t33);
			append(label7, i6);
			append(label7, t34);
			append(label7, b3);
			append(label7, t36);
			append(form, t37);
			append(form, label8);
			append(label8, input7);

			input7.checked = ctx.showTypePost;

			append(label8, t38);
			append(label8, i7);
			append(label8, t39);
			append(label8, b4);
			append(label8, t41);
			append(form, t42);
			append(form, label9);
			append(label9, input8);

			input8.checked = ctx.showTypePub;

			append(label9, t43);
			append(label9, i8);
			append(label9, t44);
			append(label9, b5);
			append(label9, t46);
			append(form, t47);
			append(form, label10);
			append(label10, input9);

			input9.checked = ctx.showTypePrivate;

			append(label10, t48);
			append(label10, i9);
			append(label10, t49);
			append(label10, b6);
			append(label10, t51);
			append(form, t52);
			append(form, label11);
			append(label11, input10);

			input10.checked = ctx.showTypeVote;

			append(label11, t53);
			append(label11, i10);
			append(label11, t54);
			append(label11, b7);
			append(label11, t56);
			append(form, t57);
			append(form, div);
			append(form, t58);
			append(form, label12);
			append(label12, input11);

			input11.checked = ctx.showTypeUnknown;

			append(label12, t59);
			append(label12, i11);
			append(label12, t60);
			append(label12, b8);
			append(label12, t62);
			append(form, t63);
			append(form, br1);
		},

		p: function update(changed, ctx) {
			if (changed.columnSize) input0.checked = input0.__value === ctx.columnSize;
			if (changed.columnSize) input1.checked = input1.__value === ctx.columnSize;
			if (changed.limit) input2.value = ctx.limit;
			if (changed.showTypeAbout) input3.checked = ctx.showTypeAbout;
			if (changed.showTypeBlog) input4.checked = ctx.showTypeBlog;
			if (changed.showTypeChannel) input5.checked = ctx.showTypeChannel;
			if (changed.showTypeContact) input6.checked = ctx.showTypeContact;
			if (changed.showTypePost) input7.checked = ctx.showTypePost;
			if (changed.showTypePub) input8.checked = ctx.showTypePub;
			if (changed.showTypePrivate) input9.checked = ctx.showTypePrivate;
			if (changed.showTypeVote) input10.checked = ctx.showTypeVote;
			if (changed.showTypeUnknown) input11.checked = ctx.showTypeUnknown;
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
				detach(t1);
				detach(form);
			}

			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input0), 1);
			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input1), 1);
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { getPref, setPref } = require("../../prefs.js");
  let limit = getPref("limit", 10);
  let columnSize = getPref("columnSize", "short");

  document.title = "Patchfox - Settings - Display Preferences";

  // message type filters
  let showTypeUnknown = getPref("showTypeUnknown", false);
  let showTypeAbout = getPref("showTypeAbout", true);
  let showTypeBlog = getPref("showTypeBlog", true);
  let showTypeChannel = getPref("showTypeChannel", true);
  let showTypeContact = getPref("showTypeContact", true);
  let showTypePost = getPref("showTypePost", true);
  let showTypePrivate = getPref("showTypePrivate", true);
  let showTypePub = getPref("showTypePub", true);
  let showTypeVote = getPref("showTypeVote", true);

	const $$binding_groups = [[]];

	function input0_change_handler() {
		columnSize = this.__value;
		$$invalidate('columnSize', columnSize);
	}

	function change_handler() {
		return setPref('columnSize', columnSize);
	}

	function input1_change_handler() {
		columnSize = this.__value;
		$$invalidate('columnSize', columnSize);
	}

	function change_handler_1() {
		return setPref('columnSize', columnSize);
	}

	function input2_input_handler() {
		limit = to_number(this.value);
		$$invalidate('limit', limit);
	}

	function change_handler_2() {
		return setPref('limit', limit);
	}

	function input3_change_handler() {
		showTypeAbout = this.checked;
		$$invalidate('showTypeAbout', showTypeAbout);
	}

	function change_handler_3(ev) {
	        setPref('showTypeAbout', showTypeAbout);
	      }

	function input4_change_handler() {
		showTypeBlog = this.checked;
		$$invalidate('showTypeBlog', showTypeBlog);
	}

	function change_handler_4(ev) {
	        setPref('showTypeBlog', showTypeBlog);
	      }

	function input5_change_handler() {
		showTypeChannel = this.checked;
		$$invalidate('showTypeChannel', showTypeChannel);
	}

	function change_handler_5(ev) {
	        setPref('showTypeChannel', showTypeChannel);
	      }

	function input6_change_handler() {
		showTypeContact = this.checked;
		$$invalidate('showTypeContact', showTypeContact);
	}

	function change_handler_6(ev) {
	        setPref('showTypeContact', showTypeContact);
	      }

	function input7_change_handler() {
		showTypePost = this.checked;
		$$invalidate('showTypePost', showTypePost);
	}

	function change_handler_7(ev) {
	        setPref('showTypePost', showTypePost);
	      }

	function input8_change_handler() {
		showTypePub = this.checked;
		$$invalidate('showTypePub', showTypePub);
	}

	function change_handler_8(ev) {
	        setPref('showTypePub', showTypePub);
	      }

	function input9_change_handler() {
		showTypePrivate = this.checked;
		$$invalidate('showTypePrivate', showTypePrivate);
	}

	function change_handler_9(ev) {
	        setPref('showTypePrivate', showTypePrivate);
	      }

	function input10_change_handler() {
		showTypeVote = this.checked;
		$$invalidate('showTypeVote', showTypeVote);
	}

	function change_handler_10(ev) {
	        setPref('showTypeVote', showTypeVote);
	      }

	function input11_change_handler() {
		showTypeUnknown = this.checked;
		$$invalidate('showTypeUnknown', showTypeUnknown);
	}

	function change_handler_11(ev) {
	        setPref('showTypeUnknown', showTypeUnknown);
	      }

	return {
		setPref,
		limit,
		columnSize,
		showTypeUnknown,
		showTypeAbout,
		showTypeBlog,
		showTypeChannel,
		showTypeContact,
		showTypePost,
		showTypePrivate,
		showTypePub,
		showTypeVote,
		input0_change_handler,
		change_handler,
		input1_change_handler,
		change_handler_1,
		input2_input_handler,
		change_handler_2,
		input3_change_handler,
		change_handler_3,
		input4_change_handler,
		change_handler_4,
		input5_change_handler,
		change_handler_5,
		input6_change_handler,
		change_handler_6,
		input7_change_handler,
		change_handler_7,
		input8_change_handler,
		change_handler_8,
		input9_change_handler,
		change_handler_9,
		input10_change_handler,
		change_handler_10,
		input11_change_handler,
		change_handler_11,
		$$binding_groups
	};
}

class DisplayPreferences extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = DisplayPreferences;

},{"../../prefs.js":28,"svelte/internal":8}],47:[function(require,module,exports){
/* Filters.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	destroy_each,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	set_data,
	space,
	text
} = require("svelte/internal");

const file = "Filters.svelte";

function get_each_context(ctx, list, i) {
	const child_ctx = Object.create(ctx);
	child_ctx.filter = list[i];
	return child_ctx;
}

// (129:4) {:else}
function create_else_block(ctx) {
	var div, p, t_1;

	return {
		c: function create() {
			div = element("div");
			p = element("p");
			p.textContent = "You don't have any filter yet.";
			t_1 = space();
			attr(p, "class", "label");
			add_location(p, file, 130, 8, 4050);
			attr(div, "class", "column col-12");
			add_location(div, file, 129, 6, 4013);
		},

		m: function mount(target, anchor) {
			insert(target, div, anchor);
			append(div, p);
			append(div, t_1);
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div);
			}
		}
	};
}

// (84:14) {#if filter.feed}
function create_if_block_3(ctx) {
	var li, t0, a, t1_value = ctx.filter.feed, t1, a_href_value;

	return {
		c: function create() {
			li = element("li");
			t0 = text("From\r\n                  ");
			a = element("a");
			t1 = text(t1_value);
			attr(a, "href", a_href_value = "?feed=" + ctx.filter.feed + "#/profile");
			attr(a, "target", "_blank");
			attr(a, "class", "feed");
			add_location(a, file, 86, 18, 2727);
			add_location(li, file, 84, 16, 2679);
		},

		m: function mount(target, anchor) {
			insert(target, li, anchor);
			append(li, t0);
			append(li, a);
			append(a, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.currentFilters) && t1_value !== (t1_value = ctx.filter.feed)) {
				set_data(t1, t1_value);
			}

			if ((changed.currentFilters) && a_href_value !== (a_href_value = "?feed=" + ctx.filter.feed + "#/profile")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(li);
			}
		}
	};
}

// (95:14) {#if filter.channel}
function create_if_block_2(ctx) {
	var li, t0, a, t1, t2_value = ctx.filter.channel, t2, a_href_value;

	return {
		c: function create() {
			li = element("li");
			t0 = text("On channel\r\n                  ");
			a = element("a");
			t1 = text("#");
			t2 = text(t2_value);
			attr(a, "href", a_href_value = "?channel=" + ctx.filter.feed + "#/channel");
			attr(a, "target", "_blank");
			attr(a, "class", "feed");
			add_location(a, file, 97, 18, 3069);
			add_location(li, file, 95, 16, 3015);
		},

		m: function mount(target, anchor) {
			insert(target, li, anchor);
			append(li, t0);
			append(li, a);
			append(a, t1);
			append(a, t2);
		},

		p: function update(changed, ctx) {
			if ((changed.currentFilters) && t2_value !== (t2_value = ctx.filter.channel)) {
				set_data(t2, t2_value);
			}

			if ((changed.currentFilters) && a_href_value !== (a_href_value = "?channel=" + ctx.filter.feed + "#/channel")) {
				attr(a, "href", a_href_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(li);
			}
		}
	};
}

// (106:14) {#if filter.keywords.length > 0}
function create_if_block_1(ctx) {
	var i, li, t0, t1_value = ctx.filter.keywords.join(', '), t1;

	return {
		c: function create() {
			i = element("i");
			li = element("li");
			t0 = text("Containing: ");
			t1 = text(t1_value);
			add_location(li, file, 107, 18, 3399);
			add_location(i, file, 106, 16, 3376);
		},

		m: function mount(target, anchor) {
			insert(target, i, anchor);
			append(i, li);
			append(li, t0);
			append(li, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.currentFilters) && t1_value !== (t1_value = ctx.filter.keywords.join(', '))) {
				set_data(t1, t1_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(i);
			}
		}
	};
}

// (111:14) {#if filter.expires}
function create_if_block(ctx) {
	var li, t0, t1_value = ctx.filter.expires, t1;

	return {
		c: function create() {
			li = element("li");
			t0 = text("Expiring in ");
			t1 = text(t1_value);
			add_location(li, file, 111, 16, 3545);
		},

		m: function mount(target, anchor) {
			insert(target, li, anchor);
			append(li, t0);
			append(li, t1);
		},

		p: function update(changed, ctx) {
			if ((changed.currentFilters) && t1_value !== (t1_value = ctx.filter.expires)) {
				set_data(t1, t1_value);
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(li);
			}
		}
	};
}

// (76:4) {#each currentFilters as filter}
function create_each_block(ctx) {
	var div5, div4, div1, div0, t0_value = ctx.filter.action, t0, t1, div2, ul, t2, t3, t4, t5, div3, button, t7, dispose;

	var if_block0 = (ctx.filter.feed) && create_if_block_3(ctx);

	var if_block1 = (ctx.filter.channel) && create_if_block_2(ctx);

	var if_block2 = (ctx.filter.keywords.length > 0) && create_if_block_1(ctx);

	var if_block3 = (ctx.filter.expires) && create_if_block(ctx);

	function click_handler() {
		return ctx.click_handler(ctx);
	}

	return {
		c: function create() {
			div5 = element("div");
			div4 = element("div");
			div1 = element("div");
			div0 = element("div");
			t0 = text(t0_value);
			t1 = space();
			div2 = element("div");
			ul = element("ul");
			if (if_block0) if_block0.c();
			t2 = space();
			if (if_block1) if_block1.c();
			t3 = space();
			if (if_block2) if_block2.c();
			t4 = space();
			if (if_block3) if_block3.c();
			t5 = space();
			div3 = element("div");
			button = element("button");
			button.textContent = "Delete";
			t7 = space();
			attr(div0, "class", "card-title h5");
			add_location(div0, file, 79, 12, 2509);
			attr(div1, "class", "card-header");
			add_location(div1, file, 78, 10, 2470);
			add_location(ul, file, 82, 12, 2624);
			attr(div2, "class", "card-body");
			add_location(div2, file, 81, 10, 2587);
			attr(button, "class", "btn");
			attr(button, "aria-label", "Delete");
			add_location(button, file, 116, 12, 3691);
			attr(div3, "class", "card-footer");
			add_location(div3, file, 115, 10, 3652);
			attr(div4, "class", "card filter");
			add_location(div4, file, 77, 8, 2433);
			attr(div5, "class", "column col-6");
			add_location(div5, file, 76, 6, 2397);
			dispose = listen(button, "click", click_handler);
		},

		m: function mount(target, anchor) {
			insert(target, div5, anchor);
			append(div5, div4);
			append(div4, div1);
			append(div1, div0);
			append(div0, t0);
			append(div4, t1);
			append(div4, div2);
			append(div2, ul);
			if (if_block0) if_block0.m(ul, null);
			append(ul, t2);
			if (if_block1) if_block1.m(ul, null);
			append(ul, t3);
			if (if_block2) if_block2.m(ul, null);
			append(ul, t4);
			if (if_block3) if_block3.m(ul, null);
			append(div4, t5);
			append(div4, div3);
			append(div3, button);
			append(div5, t7);
		},

		p: function update(changed, new_ctx) {
			ctx = new_ctx;
			if ((changed.currentFilters) && t0_value !== (t0_value = ctx.filter.action)) {
				set_data(t0, t0_value);
			}

			if (ctx.filter.feed) {
				if (if_block0) {
					if_block0.p(changed, ctx);
				} else {
					if_block0 = create_if_block_3(ctx);
					if_block0.c();
					if_block0.m(ul, t2);
				}
			} else if (if_block0) {
				if_block0.d(1);
				if_block0 = null;
			}

			if (ctx.filter.channel) {
				if (if_block1) {
					if_block1.p(changed, ctx);
				} else {
					if_block1 = create_if_block_2(ctx);
					if_block1.c();
					if_block1.m(ul, t3);
				}
			} else if (if_block1) {
				if_block1.d(1);
				if_block1 = null;
			}

			if (ctx.filter.keywords.length > 0) {
				if (if_block2) {
					if_block2.p(changed, ctx);
				} else {
					if_block2 = create_if_block_1(ctx);
					if_block2.c();
					if_block2.m(ul, t4);
				}
			} else if (if_block2) {
				if_block2.d(1);
				if_block2 = null;
			}

			if (ctx.filter.expires) {
				if (if_block3) {
					if_block3.p(changed, ctx);
				} else {
					if_block3 = create_if_block(ctx);
					if_block3.c();
					if_block3.m(ul, null);
				}
			} else if (if_block3) {
				if_block3.d(1);
				if_block3 = null;
			}
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div5);
			}

			if (if_block0) if_block0.d();
			if (if_block1) if_block1.d();
			if (if_block2) if_block2.d();
			if (if_block3) if_block3.d();
			dispose();
		}
	};
}

function create_fragment(ctx) {
	var h1, t1, p0, t3, h50, t5, p1, t6, a, t8, t9, div1, div0, t10, h51, t12, form_group, label0, input0, t13, i0, t14, t15, label1, input1, t16, i1, t17, t18, label2, t20, input2, t21, label3, t23, input3, t24, label4, t26, input4, t27, label5, t29, input5, t30, br0, t31, button, t33, br1, t34, br2, dispose;

	var each_value = ctx.currentFilters;

	var each_blocks = [];

	for (var i = 0; i < each_value.length; i += 1) {
		each_blocks[i] = create_each_block(get_each_context(ctx, each_value, i));
	}

	var each_1_else = null;

	if (!each_value.length) {
		each_1_else = create_else_block(ctx);
		each_1_else.c();
	}

	return {
		c: function create() {
			h1 = element("h1");
			h1.textContent = "Filters";
			t1 = space();
			p0 = element("p");
			p0.textContent = "Use the features from this section to tailor your Patchfox experience to suit\r\n  your needs.";
			t3 = space();
			h50 = element("h5");
			h50.textContent = "Filters";
			t5 = space();
			p1 = element("p");
			t6 = text("Use filters to hide messages and blur images. Use any combination of channel,\r\n  feeds and keywords (separated by commas) to create your triggers and make SSB\r\n  the platform you want. Be aware that these filters are saved to your browser,\r\n  they are not shared on the feed, they don't affect gossiping, they only affect\r\n  the displaying of messages and images in Patchfox itself. If you create a\r\n  filter and open a different client, they won't be working there. If you want\r\n  to learn more about\r\n  ");
			a = element("a");
			a.textContent = "filters, click here to go to the documentation.";
			t8 = text("\r\n  You can create as many filters as you want.");
			t9 = space();
			div1 = element("div");
			div0 = element("div");

			for (var i = 0; i < each_blocks.length; i += 1) {
				each_blocks[i].c();
			}

			t10 = space();
			h51 = element("h5");
			h51.textContent = "New Filter";
			t12 = space();
			form_group = element("form-group");
			label0 = element("label");
			input0 = element("input");
			t13 = space();
			i0 = element("i");
			t14 = text("\r\n    Hide Message");
			t15 = space();
			label1 = element("label");
			input1 = element("input");
			t16 = space();
			i1 = element("i");
			t17 = text("\r\n    Blur Images");
			t18 = space();
			label2 = element("label");
			label2.textContent = "Channel";
			t20 = space();
			input2 = element("input");
			t21 = space();
			label3 = element("label");
			label3.textContent = "Feed";
			t23 = space();
			input3 = element("input");
			t24 = space();
			label4 = element("label");
			label4.textContent = "Keywords";
			t26 = space();
			input4 = element("input");
			t27 = space();
			label5 = element("label");
			label5.textContent = "Expiration Date";
			t29 = space();
			input5 = element("input");
			t30 = space();
			br0 = element("br");
			t31 = space();
			button = element("button");
			button.textContent = "Add Filter";
			t33 = space();
			br1 = element("br");
			t34 = space();
			br2 = element("br");
			attr(h1, "class", "title");
			add_location(h1, file, 54, 0, 1473);
			add_location(p0, file, 55, 0, 1505);
			add_location(h50, file, 59, 0, 1612);
			attr(a, "href", "/docs/index.html#/features/filters");
			add_location(a, file, 68, 2, 2142);
			add_location(p1, file, 60, 0, 1630);
			attr(div0, "class", "columns");
			add_location(div0, file, 74, 2, 2330);
			attr(div1, "class", "container");
			add_location(div1, file, 73, 0, 2303);
			add_location(h51, file, 135, 0, 4148);
			ctx.$$binding_groups[0].push(input0);
			attr(input0, "type", "radio");
			attr(input0, "name", "filter-action");
			input0.__value = "hide";
			input0.value = input0.__value;
			add_location(input0, file, 138, 4, 4217);
			attr(i0, "class", "form-icon");
			add_location(i0, file, 143, 4, 4333);
			attr(label0, "class", "form-radio");
			add_location(label0, file, 137, 2, 4185);
			ctx.$$binding_groups[0].push(input1);
			attr(input1, "type", "radio");
			attr(input1, "name", "filter-action");
			input1.__value = "blur";
			input1.value = input1.__value;
			add_location(input1, file, 147, 4, 4422);
			attr(i1, "class", "form-icon");
			add_location(i1, file, 152, 4, 4538);
			attr(label1, "class", "form-radio");
			add_location(label1, file, 146, 2, 4390);
			attr(label2, "class", "form-label");
			attr(label2, "for", "remote");
			add_location(label2, file, 155, 2, 4594);
			attr(input2, "class", "form-input");
			attr(input2, "type", "text");
			attr(input2, "placeholder", "Channel");
			add_location(input2, file, 156, 2, 4652);
			attr(label3, "class", "form-label");
			attr(label3, "for", "remote");
			add_location(label3, file, 161, 2, 4765);
			attr(input3, "class", "form-input");
			attr(input3, "type", "text");
			attr(input3, "placeholder", "Feed");
			add_location(input3, file, 162, 2, 4820);
			attr(label4, "class", "form-label");
			attr(label4, "for", "remote");
			add_location(label4, file, 167, 2, 4927);
			attr(input4, "class", "form-input");
			attr(input4, "type", "text");
			attr(input4, "placeholder", "Keywords separated by commas");
			add_location(input4, file, 168, 2, 4986);
			attr(label5, "class", "form-label");
			attr(label5, "for", "remote");
			add_location(label5, file, 173, 2, 5121);
			attr(input5, "class", "form-input");
			attr(input5, "type", "date");
			attr(input5, "placeholder", "When should this filter expiry");
			add_location(input5, file, 174, 2, 5187);
			add_location(form_group, file, 136, 0, 4169);
			add_location(br0, file, 180, 0, 5335);
			attr(button, "class", "btn btn-primary");
			add_location(button, file, 181, 0, 5343);
			add_location(br1, file, 182, 0, 5420);
			add_location(br2, file, 183, 0, 5428);

			dispose = [
				listen(input0, "change", ctx.input0_change_handler),
				listen(input1, "change", ctx.input1_change_handler),
				listen(input2, "input", ctx.input2_input_handler),
				listen(input3, "input", ctx.input3_input_handler),
				listen(input4, "input", ctx.input4_input_handler),
				listen(input5, "input", ctx.input5_input_handler),
				listen(button, "click", ctx.addNewFilter)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			insert(target, t1, anchor);
			insert(target, p0, anchor);
			insert(target, t3, anchor);
			insert(target, h50, anchor);
			insert(target, t5, anchor);
			insert(target, p1, anchor);
			append(p1, t6);
			append(p1, a);
			append(p1, t8);
			insert(target, t9, anchor);
			insert(target, div1, anchor);
			append(div1, div0);

			for (var i = 0; i < each_blocks.length; i += 1) {
				each_blocks[i].m(div0, null);
			}

			if (each_1_else) {
				each_1_else.m(div0, null);
			}

			insert(target, t10, anchor);
			insert(target, h51, anchor);
			insert(target, t12, anchor);
			insert(target, form_group, anchor);
			append(form_group, label0);
			append(label0, input0);

			input0.checked = input0.__value === ctx.filterAction;

			append(label0, t13);
			append(label0, i0);
			append(label0, t14);
			append(form_group, t15);
			append(form_group, label1);
			append(label1, input1);

			input1.checked = input1.__value === ctx.filterAction;

			append(label1, t16);
			append(label1, i1);
			append(label1, t17);
			append(form_group, t18);
			append(form_group, label2);
			append(form_group, t20);
			append(form_group, input2);

			input2.value = ctx.filterChannel;

			append(form_group, t21);
			append(form_group, label3);
			append(form_group, t23);
			append(form_group, input3);

			input3.value = ctx.filterFeed;

			append(form_group, t24);
			append(form_group, label4);
			append(form_group, t26);
			append(form_group, input4);

			input4.value = ctx.filterKeywords;

			append(form_group, t27);
			append(form_group, label5);
			append(form_group, t29);
			append(form_group, input5);

			input5.value = ctx.filterExpiry;

			insert(target, t30, anchor);
			insert(target, br0, anchor);
			insert(target, t31, anchor);
			insert(target, button, anchor);
			insert(target, t33, anchor);
			insert(target, br1, anchor);
			insert(target, t34, anchor);
			insert(target, br2, anchor);
		},

		p: function update(changed, ctx) {
			if (changed.currentFilters) {
				each_value = ctx.currentFilters;

				for (var i = 0; i < each_value.length; i += 1) {
					const child_ctx = get_each_context(ctx, each_value, i);

					if (each_blocks[i]) {
						each_blocks[i].p(changed, child_ctx);
					} else {
						each_blocks[i] = create_each_block(child_ctx);
						each_blocks[i].c();
						each_blocks[i].m(div0, null);
					}
				}

				for (; i < each_blocks.length; i += 1) {
					each_blocks[i].d(1);
				}
				each_blocks.length = each_value.length;
			}

			if (each_value.length) {
				if (each_1_else) {
					each_1_else.d(1);
					each_1_else = null;
				}
			} else if (!each_1_else) {
				each_1_else = create_else_block(ctx);
				each_1_else.c();
				each_1_else.m(div0, null);
			}

			if (changed.filterAction) input0.checked = input0.__value === ctx.filterAction;
			if (changed.filterAction) input1.checked = input1.__value === ctx.filterAction;
			if (changed.filterChannel && (input2.value !== ctx.filterChannel)) input2.value = ctx.filterChannel;
			if (changed.filterFeed && (input3.value !== ctx.filterFeed)) input3.value = ctx.filterFeed;
			if (changed.filterKeywords && (input4.value !== ctx.filterKeywords)) input4.value = ctx.filterKeywords;
			if (changed.filterExpiry) input5.value = ctx.filterExpiry;
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
				detach(t1);
				detach(p0);
				detach(t3);
				detach(h50);
				detach(t5);
				detach(p1);
				detach(t9);
				detach(div1);
			}

			destroy_each(each_blocks, detaching);

			if (each_1_else) each_1_else.d();

			if (detaching) {
				detach(t10);
				detach(h51);
				detach(t12);
				detach(form_group);
			}

			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input0), 1);
			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input1), 1);

			if (detaching) {
				detach(t30);
				detach(br0);
				detach(t31);
				detach(button);
				detach(t33);
				detach(br1);
				detach(t34);
				detach(br2);
			}

			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { getPref, setPref } = require("../../prefs.js");
  const {
    getFilters,
    addFilter,
    deleteFilter
  } = require("../../abusePrevention.js");

  // Abuse Prevention - filters
  let currentFilters = getFilters();
  let filterFeed = "";
  let filterChannel = "";
  let filterKeywords = "";
  let filterExpiry = "";
  let filterAction = "";

  const addNewFilter = () => {
    let keywords = filterKeywords
      .split(",")
      .map(v => v.trim())
      .filter(v => v.length !== 0);

    let filter = {};
    filter.action = filterAction.length !== 0 ? filterAction : false;
    filter.feed = filterFeed.length !== 0 ? filterFeed : false;
    filter.channel = filterChannel.length !== 0 ? filterChannel : false;
    filter.keywords = keywords;
    filter.expires = filterExpiry.length !== 0 ? filterExpiry : false;

    if (filter.channel && filter.channel.startsWith("#")) {
      filter.channel = filter.channel.slice(1);
    }

    if (
      filter.action &&
      (filter.feed || filter.channel || filter.keywords.length > 0)
    ) {
      addFilter(filter);

      $$invalidate('currentFilters', currentFilters = getFilters());

      console.dir("filters", currentFilters);

      $$invalidate('filterFeed', filterFeed = "");
      $$invalidate('filterChannel', filterChannel = "");
      $$invalidate('filterKeywords', filterKeywords = "");
      $$invalidate('filterExpiry', filterExpiry = "");
      $$invalidate('filterAction', filterAction = "");
    } else {
      alert("Fill at least filter action and one of feed, channel or keywords");
    }
  };

	const $$binding_groups = [[]];

	function click_handler({ filter }) {
	                deleteFilter(filter);
	                currentFilters = getFilters(); $$invalidate('currentFilters', currentFilters);
	              }

	function input0_change_handler() {
		filterAction = this.__value;
		$$invalidate('filterAction', filterAction);
	}

	function input1_change_handler() {
		filterAction = this.__value;
		$$invalidate('filterAction', filterAction);
	}

	function input2_input_handler() {
		filterChannel = this.value;
		$$invalidate('filterChannel', filterChannel);
	}

	function input3_input_handler() {
		filterFeed = this.value;
		$$invalidate('filterFeed', filterFeed);
	}

	function input4_input_handler() {
		filterKeywords = this.value;
		$$invalidate('filterKeywords', filterKeywords);
	}

	function input5_input_handler() {
		filterExpiry = this.value;
		$$invalidate('filterExpiry', filterExpiry);
	}

	return {
		getFilters,
		deleteFilter,
		currentFilters,
		filterFeed,
		filterChannel,
		filterKeywords,
		filterExpiry,
		filterAction,
		addNewFilter,
		click_handler,
		input0_change_handler,
		input1_change_handler,
		input2_input_handler,
		input3_input_handler,
		input4_input_handler,
		input5_input_handler,
		$$binding_groups
	};
}

class Filters extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Filters;

},{"../../abusePrevention.js":14,"../../prefs.js":28,"svelte/internal":8}],48:[function(require,module,exports){
/* IdentityAndConnection.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	space,
	text
} = require("svelte/internal");

const file = "IdentityAndConnection.svelte";

function create_fragment(ctx) {
	var h1, t1, p0, b, t2, i0, t4, i1, t6, i2, t8, code0, t10, code1, t12, code2, t14, a, t16, t17, form, label0, t18, code3, t20, t21, input0, t22, label1, t24, input1, t25, label2, t27, textarea, t28, br, t29, button, t31, p1, dispose;

	return {
		c: function create() {
			h1 = element("h1");
			h1.textContent = "Identity & Connection";
			t1 = space();
			p0 = element("p");
			b = element("b");
			t2 = text("You can't use Patchfox until you fill your\r\n    ");
			i0 = element("i");
			i0.textContent = "Identity & Connection";
			t4 = text("\r\n    information. Patchfox can infer the values for both\r\n    ");
			i1 = element("i");
			i1.textContent = "remote";
			t6 = text("\r\n    and\r\n    ");
			i2 = element("i");
			i2.textContent = "secret";
			t8 = text("\r\n    from your\r\n    ");
			code0 = element("code");
			code0.textContent = "~/.ssb/secret";
			t10 = text("\r\n    file. The main problem is that the folder\r\n    ");
			code1 = element("code");
			code1.textContent = ".ssb";
			t12 = text("\r\n    is hidden in most systems and it might be hard to find on your machine. If\r\n    you have used Secure Scuttlebutt before and already have an identity but\r\n    can't find a folder named\r\n    ");
			code2 = element("code");
			code2.textContent = ".ssb";
			t14 = text("\r\n    inside your home folder, go to\r\n    ");
			a = element("a");
			a.textContent = "this link to learn more about how to display hidden folders and setup\r\n      Patchfox";
			t16 = text("\r\n    .");
			t17 = space();
			form = element("form");
			label0 = element("label");
			t18 = text("Use the button below to select your secret file (usually located at\r\n    ");
			code3 = element("code");
			code3.textContent = "~/.ssb/secret";
			t20 = text("\r\n    ).");
			t21 = space();
			input0 = element("input");
			t22 = space();
			label1 = element("label");
			label1.textContent = "Remote";
			t24 = space();
			input1 = element("input");
			t25 = space();
			label2 = element("label");
			label2.textContent = "Secret";
			t27 = space();
			textarea = element("textarea");
			t28 = space();
			br = element("br");
			t29 = space();
			button = element("button");
			button.textContent = "Save Identity & Remote";
			t31 = space();
			p1 = element("p");
			p1.textContent = "Saving identity and remote will cause a full page refresh.";
			add_location(h1, file, 55, 0, 1516);
			add_location(i0, file, 59, 4, 1616);
			add_location(i1, file, 61, 4, 1711);
			add_location(i2, file, 63, 4, 1739);
			add_location(code0, file, 65, 4, 1773);
			add_location(code1, file, 67, 4, 1852);
			add_location(code2, file, 71, 4, 2064);
			attr(a, "href", "/docs/index.html#/troubleshooting/no-configuration");
			attr(a, "target", "_blank");
			add_location(a, file, 73, 4, 2123);
			add_location(b, file, 57, 2, 1559);
			add_location(p0, file, 56, 0, 1552);
			add_location(code3, file, 86, 4, 2494);
			attr(label0, "class", "form-label");
			attr(label0, "for", "secret-file");
			add_location(label0, file, 84, 2, 2371);
			attr(input0, "type", "file");
			attr(input0, "class", "form-input");
			attr(input0, "id", "secret-file");
			add_location(input0, file, 89, 2, 2544);
			attr(label1, "class", "form-label");
			attr(label1, "for", "remote");
			add_location(label1, file, 94, 2, 2650);
			attr(input1, "class", "form-input");
			attr(input1, "type", "text");
			attr(input1, "id", "remote");
			attr(input1, "placeholder", "remote");
			add_location(input1, file, 95, 2, 2707);
			attr(label2, "class", "form-label");
			attr(label2, "for", "secret");
			add_location(label2, file, 102, 2, 2831);
			attr(textarea, "class", "form-input");
			attr(textarea, "id", "secret");
			attr(textarea, "placeholder", "Your secret");
			attr(textarea, "rows", "8");
			add_location(textarea, file, 103, 2, 2888);
			add_location(br, file, 109, 2, 3013);
			attr(button, "class", "btn btn-primary float-right");
			add_location(button, file, 110, 2, 3023);
			add_location(p1, file, 113, 2, 3141);
			attr(form, "class", "form-group");
			add_location(form, file, 83, 0, 2342);

			dispose = [
				listen(input0, "change", ctx.selectedFile),
				listen(input1, "input", ctx.input1_input_handler),
				listen(textarea, "input", ctx.textarea_input_handler),
				listen(button, "click", ctx.saveConfiguration)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			insert(target, t1, anchor);
			insert(target, p0, anchor);
			append(p0, b);
			append(b, t2);
			append(b, i0);
			append(b, t4);
			append(b, i1);
			append(b, t6);
			append(b, i2);
			append(b, t8);
			append(b, code0);
			append(b, t10);
			append(b, code1);
			append(b, t12);
			append(b, code2);
			append(b, t14);
			append(b, a);
			append(b, t16);
			insert(target, t17, anchor);
			insert(target, form, anchor);
			append(form, label0);
			append(label0, t18);
			append(label0, code3);
			append(label0, t20);
			append(form, t21);
			append(form, input0);
			append(form, t22);
			append(form, label1);
			append(form, t24);
			append(form, input1);

			input1.value = ctx.remote;

			append(form, t25);
			append(form, label2);
			append(form, t27);
			append(form, textarea);

			textarea.value = ctx.keys;

			append(form, t28);
			append(form, br);
			append(form, t29);
			append(form, button);
			append(form, t31);
			append(form, p1);
		},

		p: function update(changed, ctx) {
			if (changed.remote && (input1.value !== ctx.remote)) input1.value = ctx.remote;
			if (changed.keys) textarea.value = ctx.keys;
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
				detach(t1);
				detach(p0);
				detach(t17);
				detach(form);
			}

			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const {
    getPref,
    setPref,
    setConnectionConfiguration
  } = require("../../prefs.js");
  const { navigate } = require("../../utils.js");
  let keys = {};
  let remote = "";
  document.title = "Patchfox - Settings - Identity And Connection";

  const saveConfiguration = ev => {
    setConnectionConfiguration({ remote, keys: JSON.parse(keys), manifest });
    navigate("/public");
    location.reload();
  };

  const selectedFile = ev => {
    const secretFile = ev.target.files[0];
    const reader = new FileReader();
    reader.onload = function(evt) {
      console.log(evt.target.result);
      const contents = evt.target.result;
      let secret = contents.split("\n").filter(function(line) {
        return line.indexOf("#") != 0;
      });
      secret = JSON.parse(secret.join("\n"));
      $$invalidate('remote', remote = `ws://localhost:8989~shs:${secret.id.slice(
        0,
        secret.id.indexOf("=") + 1
      )}`);
      updateUI({ keys: secret, remote });
    };
    reader.readAsText(secretFile);
  };

  const updateUI = savedData => {
    console.log("saved data from settings", savedData);
    $$invalidate('remote', remote = savedData.remote || "");
    if (savedData.keys) {
      $$invalidate('keys', keys = JSON.stringify(savedData.keys, null, 2));
    } else {
      $$invalidate('keys', keys = "");
    }
  };

  const onError = error => {
    console.error("error on settings", error);
  };

  const gettingStoredSettings = browser.storage.local
    .get()
    .then(updateUI, onError);

	function input1_input_handler() {
		remote = this.value;
		$$invalidate('remote', remote);
	}

	function textarea_input_handler() {
		keys = this.value;
		$$invalidate('keys', keys);
	}

	return {
		keys,
		remote,
		saveConfiguration,
		selectedFile,
		input1_input_handler,
		textarea_input_handler
	};
}

class IdentityAndConnection extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = IdentityAndConnection;

},{"../../prefs.js":28,"../../utils.js":30,"svelte/internal":8}],49:[function(require,module,exports){
/* Menu.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	space,
	toggle_class
} = require("svelte/internal");
const { createEventDispatcher } = require("svelte");

const file = "Menu.svelte";

function create_fragment(ctx) {
	var ul, li0, t0, li1, a0, t2, li2, a1, t4, li3, t5, li4, a2, t7, li5, a3, t9, li6, t10, li7, a4, dispose;

	return {
		c: function create() {
			ul = element("ul");
			li0 = element("li");
			t0 = space();
			li1 = element("li");
			a0 = element("a");
			a0.textContent = "Identity & Connection";
			t2 = space();
			li2 = element("li");
			a1 = element("a");
			a1.textContent = "Display Preferences";
			t4 = space();
			li3 = element("li");
			t5 = space();
			li4 = element("li");
			a2 = element("a");
			a2.textContent = "Filters";
			t7 = space();
			li5 = element("li");
			a3 = element("a");
			a3.textContent = "Content Warnings";
			t9 = space();
			li6 = element("li");
			t10 = space();
			li7 = element("li");
			a4 = element("a");
			a4.textContent = "IPFS";
			attr(li0, "class", "divider");
			attr(li0, "data-content", "GENERAL");
			add_location(li0, file, 15, 2, 275);
			attr(a0, "href", "#/settings");
			toggle_class(a0, "active", ctx.currentView === 'identityAndConnection');
			add_location(a0, file, 17, 4, 352);
			attr(li1, "class", "menu-item");
			add_location(li1, file, 16, 2, 324);
			attr(a1, "href", "#/settings");
			toggle_class(a1, "active", ctx.currentView === 'displayPreferences');
			add_location(a1, file, 25, 4, 583);
			attr(li2, "class", "menu-item");
			add_location(li2, file, 24, 2, 555);
			attr(li3, "class", "divider");
			attr(li3, "data-content", "ABUSE PREVENTION");
			add_location(li3, file, 32, 2, 774);
			attr(a2, "href", "#/settings");
			toggle_class(a2, "active", ctx.currentView === 'filters');
			add_location(a2, file, 34, 4, 860);
			attr(li4, "class", "menu-item");
			add_location(li4, file, 33, 2, 832);
			attr(a3, "href", "#/settings");
			toggle_class(a3, "active", ctx.currentView === 'contentWarnings');
			add_location(a3, file, 42, 4, 1045);
			attr(li5, "class", "menu-item");
			add_location(li5, file, 41, 2, 1017);
			attr(li6, "class", "divider");
			attr(li6, "data-content", "ADITIONAL PLATFORMS");
			add_location(li6, file, 49, 2, 1227);
			attr(a4, "href", "#/settings");
			toggle_class(a4, "active", ctx.currentView === 'platformIPFS');
			add_location(a4, file, 59, 4, 1514);
			attr(li7, "class", "menu-item");
			add_location(li7, file, 58, 2, 1486);
			attr(ul, "class", "menu");
			add_location(ul, file, 14, 0, 254);

			dispose = [
				listen(a0, "click", ctx.click_handler),
				listen(a1, "click", ctx.click_handler_1),
				listen(a2, "click", ctx.click_handler_2),
				listen(a3, "click", ctx.click_handler_3),
				listen(a4, "click", ctx.click_handler_4)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, ul, anchor);
			append(ul, li0);
			append(ul, t0);
			append(ul, li1);
			append(li1, a0);
			append(ul, t2);
			append(ul, li2);
			append(li2, a1);
			append(ul, t4);
			append(ul, li3);
			append(ul, t5);
			append(ul, li4);
			append(li4, a2);
			append(ul, t7);
			append(ul, li5);
			append(li5, a3);
			append(ul, t9);
			append(ul, li6);
			append(ul, t10);
			append(ul, li7);
			append(li7, a4);
		},

		p: function update(changed, ctx) {
			if (changed.currentView) {
				toggle_class(a0, "active", ctx.currentView === 'identityAndConnection');
				toggle_class(a1, "active", ctx.currentView === 'displayPreferences');
				toggle_class(a2, "active", ctx.currentView === 'filters');
				toggle_class(a3, "active", ctx.currentView === 'contentWarnings');
				toggle_class(a4, "active", ctx.currentView === 'platformIPFS');
			}
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(ul);
			}

			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const dispatch = createEventDispatcher();

  let { currentView = "" } = $$props;

  const setView = currentView => {
    dispatch("message", {
      currentView
    });
  };

	const writable_props = ['currentView'];
	Object.keys($$props).forEach(key => {
		if (!writable_props.includes(key) && !key.startsWith('$$')) console.warn(`<Menu> was created with unknown prop '${key}'`);
	});

	function click_handler() {
		return setView('identityAndConnection');
	}

	function click_handler_1() {
		return setView('displayPreferences');
	}

	function click_handler_2() {
		return setView('filters');
	}

	function click_handler_3() {
		return setView('contentWarnings');
	}

	function click_handler_4() {
		return setView('platformIPFS');
	}

	$$self.$set = $$props => {
		if ('currentView' in $$props) $$invalidate('currentView', currentView = $$props.currentView);
	};

	return {
		currentView,
		setView,
		click_handler,
		click_handler_1,
		click_handler_2,
		click_handler_3,
		click_handler_4
	};
}

class Menu extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, ["currentView"]);
	}

	get currentView() {
		throw new Error("<Menu>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}

	set currentView(value) {
		throw new Error("<Menu>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'");
	}
}

module.exports = Menu;

},{"svelte":7,"svelte/internal":8}],50:[function(require,module,exports){
/* PlatformDAT.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	space,
	text
} = require("svelte/internal");

const file = "PlatformDAT.svelte";

function create_fragment(ctx) {
	var h1, t1, form, label0, t2, a, t4, t5, label1, input0, t6, i0, t7, t8, label2, input1, t9, i1, t10, dispose;

	return {
		c: function create() {
			h1 = element("h1");
			h1.textContent = "DAT";
			t1 = space();
			form = element("form");
			label0 = element("label");
			t2 = text("Enable support for ");
			a = element("a");
			a.textContent = "DAT";
			t4 = text("?");
			t5 = space();
			label1 = element("label");
			input0 = element("input");
			t6 = space();
			i0 = element("i");
			t7 = text("\r\n    Yes");
			t8 = space();
			label2 = element("label");
			input1 = element("input");
			t9 = space();
			i1 = element("i");
			t10 = text("\r\n    No");
			attr(h1, "class", "title");
			add_location(h1, file, 5, 0, 141);
			attr(a, "href", "https://dat.foundation/");
			attr(a, "target", "_blank");
			add_location(a, file, 8, 23, 249);
			attr(label0, "class", "form-label");
			add_location(label0, file, 7, 2, 198);
			ctx.$$binding_groups[0].push(input0);
			attr(input0, "type", "radio");
			attr(input0, "name", "column-size");
			input0.__value = "yes";
			input0.value = input0.__value;
			add_location(input0, file, 11, 4, 355);
			attr(i0, "class", "form-icon");
			add_location(i0, file, 17, 4, 533);
			attr(label1, "class", "form-radio");
			add_location(label1, file, 10, 2, 323);
			ctx.$$binding_groups[0].push(input1);
			attr(input1, "type", "radio");
			attr(input1, "name", "column-size");
			input1.__value = "no";
			input1.value = input1.__value;
			add_location(input1, file, 21, 4, 613);
			attr(i1, "class", "form-icon");
			add_location(i1, file, 27, 4, 790);
			attr(label2, "class", "form-radio");
			add_location(label2, file, 20, 2, 581);
			attr(form, "class", "form-group");
			add_location(form, file, 6, 0, 169);

			dispose = [
				listen(input0, "change", ctx.input0_change_handler),
				listen(input0, "change", ctx.change_handler),
				listen(input1, "change", ctx.input1_change_handler),
				listen(input1, "change", ctx.change_handler_1)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			insert(target, t1, anchor);
			insert(target, form, anchor);
			append(form, label0);
			append(label0, t2);
			append(label0, a);
			append(label0, t4);
			append(form, t5);
			append(form, label1);
			append(label1, input0);

			input0.checked = input0.__value === ctx.enableDAT;

			append(label1, t6);
			append(label1, i0);
			append(label1, t7);
			append(form, t8);
			append(form, label2);
			append(label2, input1);

			input1.checked = input1.__value === ctx.enableDAT;

			append(label2, t9);
			append(label2, i1);
			append(label2, t10);
		},

		p: function update(changed, ctx) {
			if (changed.enableDAT) input0.checked = input0.__value === ctx.enableDAT;
			if (changed.enableDAT) input1.checked = input1.__value === ctx.enableDAT;
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
				detach(t1);
				detach(form);
			}

			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input0), 1);
			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input1), 1);
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { getPref, setPref } = require("../../prefs.js");
  let enableDAT = getPref("platform-dat-enabled", "yes");

	const $$binding_groups = [[]];

	function input0_change_handler() {
		enableDAT = this.__value;
		$$invalidate('enableDAT', enableDAT);
	}

	function change_handler() {
		return setPref('platform-dat-enabled', enableDAT);
	}

	function input1_change_handler() {
		enableDAT = this.__value;
		$$invalidate('enableDAT', enableDAT);
	}

	function change_handler_1() {
		return setPref('platform-dat-enabled', enableDAT);
	}

	return {
		setPref,
		enableDAT,
		input0_change_handler,
		change_handler,
		input1_change_handler,
		change_handler_1,
		$$binding_groups
	};
}

class PlatformDAT extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = PlatformDAT;

},{"../../prefs.js":28,"svelte/internal":8}],51:[function(require,module,exports){
/* PlatformIPFS.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	detach,
	element,
	init,
	insert,
	listen,
	noop,
	run_all,
	safe_not_equal,
	space,
	text
} = require("svelte/internal");

const file = "PlatformIPFS.svelte";

function create_fragment(ctx) {
	var h1, t1, form, label0, t2, a, t4, t5, label1, input0, t6, i0, t7, t8, label2, input1, t9, i1, t10, dispose;

	return {
		c: function create() {
			h1 = element("h1");
			h1.textContent = "IPFS";
			t1 = space();
			form = element("form");
			label0 = element("label");
			t2 = text("Enable integration with ");
			a = element("a");
			a.textContent = "IPFS - The Interplanetary Filesystem";
			t4 = text("?");
			t5 = space();
			label1 = element("label");
			input0 = element("input");
			t6 = space();
			i0 = element("i");
			t7 = text("\r\n    Yes");
			t8 = space();
			label2 = element("label");
			input1 = element("input");
			t9 = space();
			i1 = element("i");
			t10 = text("\r\n    No");
			attr(h1, "class", "title");
			add_location(h1, file, 5, 0, 143);
			attr(a, "href", "https://ipfs.io");
			attr(a, "target", "_blank");
			add_location(a, file, 8, 28, 257);
			attr(label0, "class", "form-label");
			add_location(label0, file, 7, 2, 201);
			ctx.$$binding_groups[0].push(input0);
			attr(input0, "type", "radio");
			attr(input0, "name", "column-size");
			input0.__value = "yes";
			input0.value = input0.__value;
			add_location(input0, file, 11, 4, 388);
			attr(i0, "class", "form-icon");
			add_location(i0, file, 17, 4, 569);
			attr(label1, "class", "form-radio");
			add_location(label1, file, 10, 2, 356);
			ctx.$$binding_groups[0].push(input1);
			attr(input1, "type", "radio");
			attr(input1, "name", "column-size");
			input1.__value = "no";
			input1.value = input1.__value;
			add_location(input1, file, 21, 4, 649);
			attr(i1, "class", "form-icon");
			add_location(i1, file, 27, 4, 829);
			attr(label2, "class", "form-radio");
			add_location(label2, file, 20, 2, 617);
			attr(form, "class", "form-group");
			add_location(form, file, 6, 0, 172);

			dispose = [
				listen(input0, "change", ctx.input0_change_handler),
				listen(input0, "change", ctx.change_handler),
				listen(input1, "change", ctx.input1_change_handler),
				listen(input1, "change", ctx.change_handler_1)
			];
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, h1, anchor);
			insert(target, t1, anchor);
			insert(target, form, anchor);
			append(form, label0);
			append(label0, t2);
			append(label0, a);
			append(label0, t4);
			append(form, t5);
			append(form, label1);
			append(label1, input0);

			input0.checked = input0.__value === ctx.enableIPFS;

			append(label1, t6);
			append(label1, i0);
			append(label1, t7);
			append(form, t8);
			append(form, label2);
			append(label2, input1);

			input1.checked = input1.__value === ctx.enableIPFS;

			append(label2, t9);
			append(label2, i1);
			append(label2, t10);
		},

		p: function update(changed, ctx) {
			if (changed.enableIPFS) input0.checked = input0.__value === ctx.enableIPFS;
			if (changed.enableIPFS) input1.checked = input1.__value === ctx.enableIPFS;
		},

		i: noop,
		o: noop,

		d: function destroy(detaching) {
			if (detaching) {
				detach(h1);
				detach(t1);
				detach(form);
			}

			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input0), 1);
			ctx.$$binding_groups[0].splice(ctx.$$binding_groups[0].indexOf(input1), 1);
			run_all(dispose);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const { getPref, setPref } = require("../../prefs.js");
  let enableIPFS = getPref("platform-ipfs-enabled", "yes");

	const $$binding_groups = [[]];

	function input0_change_handler() {
		enableIPFS = this.__value;
		$$invalidate('enableIPFS', enableIPFS);
	}

	function change_handler() {
		return setPref('platform-ipfs-enabled', enableIPFS);
	}

	function input1_change_handler() {
		enableIPFS = this.__value;
		$$invalidate('enableIPFS', enableIPFS);
	}

	function change_handler_1() {
		return setPref('platform-ipfs-enabled', enableIPFS);
	}

	return {
		setPref,
		enableIPFS,
		input0_change_handler,
		change_handler,
		input1_change_handler,
		change_handler_1,
		$$binding_groups
	};
}

class PlatformIPFS extends SvelteComponentDev {
	constructor(options) {
		super(options);
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = PlatformIPFS;

},{"../../prefs.js":28,"svelte/internal":8}],52:[function(require,module,exports){
/* Settings.svelte generated by Svelte v3.7.1 */
"use strict";

const {
	SvelteComponentDev,
	add_location,
	append,
	attr,
	check_outros,
	destroy_component,
	detach,
	element,
	group_outros,
	init,
	insert,
	mount_component,
	safe_not_equal,
	space,
	transition_in,
	transition_out
} = require("svelte/internal");

const file = "Settings.svelte";

function add_css() {
	var style = element("style");
	style.id = 'svelte-1e0jkdi-style';
	style.textContent = "\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiU2V0dGluZ3Muc3ZlbHRlIiwic291cmNlcyI6WyJTZXR0aW5ncy5zdmVsdGUiXSwic291cmNlc0NvbnRlbnQiOlsiPHNjcmlwdD5cclxuICBjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vTWVudS5zdmVsdGVcIik7XHJcbiAgY29uc3QgSWRlbnRpdHlBbmRDb25uZWN0aW9uID0gcmVxdWlyZShcIi4vSWRlbnRpdHlBbmRDb25uZWN0aW9uLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBEaXNwbGF5UHJlZmVyZW5jZXMgPSByZXF1aXJlKFwiLi9EaXNwbGF5UHJlZmVyZW5jZXMuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IEZpbHRlcnMgPSByZXF1aXJlKFwiLi9GaWx0ZXJzLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBDb250ZW50V2FybmluZ3MgPSByZXF1aXJlKFwiLi9Db250ZW50V2FybmluZ3Muc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IFBsYXRmb3JtREFUID0gcmVxdWlyZShcIi4vUGxhdGZvcm1EQVQuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IFBsYXRmb3JtSVBGUyA9IHJlcXVpcmUoXCIuL1BsYXRmb3JtSVBGUy5zdmVsdGVcIik7XHJcblxyXG4gIGNvbnN0IHZpZXdzID0ge1xyXG4gICAgaWRlbnRpdHlBbmRDb25uZWN0aW9uOiBJZGVudGl0eUFuZENvbm5lY3Rpb24sXHJcbiAgICBkaXNwbGF5UHJlZmVyZW5jZXM6IERpc3BsYXlQcmVmZXJlbmNlcyxcclxuICAgIGZpbHRlcnM6IEZpbHRlcnMsXHJcbiAgICBjb250ZW50V2FybmluZ3M6IENvbnRlbnRXYXJuaW5ncyxcclxuICAgIHBsYXRmb3JtREFUOiBQbGF0Zm9ybURBVCxcclxuICAgIHBsYXRmb3JtSVBGUzogUGxhdGZvcm1JUEZTXHJcbiAgfTtcclxuXHJcbiAgbGV0IGN1cnJlbnRWaWV3ID0gXCJpZGVudGl0eUFuZENvbm5lY3Rpb25cIjtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudUNoYW5nZSA9IGV2ID0+IHtcclxuICAgIGN1cnJlbnRWaWV3ID0gZXYuZGV0YWlsLmN1cnJlbnRWaWV3O1xyXG4gIH07XHJcbjwvc2NyaXB0PlxyXG5cclxuPHN0eWxlPlxyXG4gIC5maWx0ZXIge1xyXG4gICAgaGVpZ2h0OiAzMDBweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDAuNHJlbTtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgfVxyXG5cclxuICAuZmVlZCB7XHJcbiAgICBtYXgtd2lkdGg6IDEwMCU7XHJcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gIH1cclxuPC9zdHlsZT5cclxuXHJcbjxkaXYgY2xhc3M9XCJjb2x1bW5zXCI+XHJcbiAgPGRpdiBjbGFzcz1cImNvbHVtbiBjb2wtYXV0b1wiPlxyXG4gICAgPE1lbnUge2N1cnJlbnRWaWV3fSBvbjptZXNzYWdlPXtoYW5kbGVNZW51Q2hhbmdlfSAvPlxyXG4gIDwvZGl2PlxyXG4gIDxkaXYgY2xhc3M9XCJjb2x1bW5cIj5cclxuICAgIDxzdmVsdGU6Y29tcG9uZW50IHRoaXM9e3ZpZXdzW2N1cnJlbnRWaWV3XX0gLz5cclxuICA8L2Rpdj5cclxuPC9kaXY+XHJcbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0= */";
	append(document.head, style);
}

function create_fragment(ctx) {
	var div2, div0, t, div1, current;

	var menu = new ctx.Menu({
		props: { currentView: ctx.currentView },
		$$inline: true
	});
	menu.$on("message", ctx.handleMenuChange);

	var switch_value = ctx.views[ctx.currentView];

	function switch_props(ctx) {
		return { $$inline: true };
	}

	if (switch_value) {
		var switch_instance = new switch_value(switch_props(ctx));
	}

	return {
		c: function create() {
			div2 = element("div");
			div0 = element("div");
			menu.$$.fragment.c();
			t = space();
			div1 = element("div");
			if (switch_instance) switch_instance.$$.fragment.c();
			attr(div0, "class", "column col-auto");
			add_location(div0, file, 39, 2, 1017);
			attr(div1, "class", "column");
			add_location(div1, file, 42, 2, 1118);
			attr(div2, "class", "columns");
			add_location(div2, file, 38, 0, 992);
		},

		l: function claim(nodes) {
			throw new Error("options.hydrate only works if the component was compiled with the `hydratable: true` option");
		},

		m: function mount(target, anchor) {
			insert(target, div2, anchor);
			append(div2, div0);
			mount_component(menu, div0, null);
			append(div2, t);
			append(div2, div1);

			if (switch_instance) {
				mount_component(switch_instance, div1, null);
			}

			current = true;
		},

		p: function update(changed, ctx) {
			var menu_changes = {};
			if (changed.currentView) menu_changes.currentView = ctx.currentView;
			menu.$set(menu_changes);

			if (switch_value !== (switch_value = ctx.views[ctx.currentView])) {
				if (switch_instance) {
					group_outros();
					const old_component = switch_instance;
					transition_out(old_component.$$.fragment, 1, 0, () => {
						destroy_component(old_component, 1);
					});
					check_outros();
				}

				if (switch_value) {
					switch_instance = new switch_value(switch_props(ctx));

					switch_instance.$$.fragment.c();
					transition_in(switch_instance.$$.fragment, 1);
					mount_component(switch_instance, div1, null);
				} else {
					switch_instance = null;
				}
			}
		},

		i: function intro(local) {
			if (current) return;
			transition_in(menu.$$.fragment, local);

			if (switch_instance) transition_in(switch_instance.$$.fragment, local);

			current = true;
		},

		o: function outro(local) {
			transition_out(menu.$$.fragment, local);
			if (switch_instance) transition_out(switch_instance.$$.fragment, local);
			current = false;
		},

		d: function destroy(detaching) {
			if (detaching) {
				detach(div2);
			}

			destroy_component(menu);

			if (switch_instance) destroy_component(switch_instance);
		}
	};
}

function instance($$self, $$props, $$invalidate) {
	const Menu = require("./Menu.svelte");
  const IdentityAndConnection = require("./IdentityAndConnection.svelte");
  const DisplayPreferences = require("./DisplayPreferences.svelte");
  const Filters = require("./Filters.svelte");
  const ContentWarnings = require("./ContentWarnings.svelte");
  const PlatformDAT = require("./PlatformDAT.svelte");
  const PlatformIPFS = require("./PlatformIPFS.svelte");

  const views = {
    identityAndConnection: IdentityAndConnection,
    displayPreferences: DisplayPreferences,
    filters: Filters,
    contentWarnings: ContentWarnings,
    platformDAT: PlatformDAT,
    platformIPFS: PlatformIPFS
  };

  let currentView = "identityAndConnection";

  const handleMenuChange = ev => {
    $$invalidate('currentView', currentView = ev.detail.currentView);
  };

	return {
		Menu,
		views,
		currentView,
		handleMenuChange
	};
}

class Settings extends SvelteComponentDev {
	constructor(options) {
		super(options);
		if (!document.getElementById("svelte-1e0jkdi-style")) add_css();
		init(this, options, instance, create_fragment, safe_not_equal, []);
	}
}

module.exports = Settings;

},{"./ContentWarnings.svelte":45,"./DisplayPreferences.svelte":46,"./Filters.svelte":47,"./IdentityAndConnection.svelte":48,"./Menu.svelte":49,"./PlatformDAT.svelte":50,"./PlatformIPFS.svelte":51,"svelte/internal":8}]},{},[15])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvZGVjb2RlLXVyaS1jb21wb25lbnQvaW5kZXguanMiLCJub2RlX21vZHVsZXMvZHJhZy1hbmQtZHJvcC1maWxlcy9vbmRyb3AuanMiLCJub2RlX21vZHVsZXMvcXVlcnktc3RyaW5nL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3NwbGl0LW9uLWZpcnN0L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N0cmljdC11cmktZW5jb2RlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9lYXNpbmcvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL3N2ZWx0ZS9pbnRlcm5hbC9pbmRleC5qcyIsIm5vZGVfbW9kdWxlcy9zdmVsdGUvc3RvcmUvaW5kZXguanMiLCJub2RlX21vZHVsZXMvc3ZlbHRlL3RyYW5zaXRpb24vaW5kZXguanMiLCJub2RlX21vZHVsZXMvdGltZWFnby1zaW1wbGUvaW5kZXguanMiLCJzcmMvdWkvTmF2aWdhdGlvbi5zdmVsdGUiLCJzcmMvdWkvUGF0Y2hmb3guc3ZlbHRlIiwic3JjL3VpL2FidXNlUHJldmVudGlvbi5qcyIsInNyYy91aS9tYWluLmpzIiwic3JjL3VpL21lc3NhZ2VUeXBlcy9BYm91dE1zZy5zdmVsdGUiLCJzcmMvdWkvbWVzc2FnZVR5cGVzL0Jsb2dNc2cuc3ZlbHRlIiwic3JjL3VpL21lc3NhZ2VUeXBlcy9DaGFubmVsTXNnLnN2ZWx0ZSIsInNyYy91aS9tZXNzYWdlVHlwZXMvQ29udGFjdE1zZy5zdmVsdGUiLCJzcmMvdWkvbWVzc2FnZVR5cGVzL0dlbmVyaWNNc2cuc3ZlbHRlIiwic3JjL3VpL21lc3NhZ2VUeXBlcy9NZXNzYWdlUmVuZGVyZXIuc3ZlbHRlIiwic3JjL3VpL21lc3NhZ2VUeXBlcy9Qb3N0TXNnLnN2ZWx0ZSIsInNyYy91aS9tZXNzYWdlVHlwZXMvUHJpdmF0ZU1zZy5zdmVsdGUiLCJzcmMvdWkvbWVzc2FnZVR5cGVzL1B1Yk1zZy5zdmVsdGUiLCJzcmMvdWkvbWVzc2FnZVR5cGVzL1ZvdGVNc2cuc3ZlbHRlIiwic3JjL3VpL3BhcnRzL0F2YXRhckNoaXAuc3ZlbHRlIiwic3JjL3VpL3BhcnRzL3RpbWVzdGFtcC5qcyIsInNyYy91aS9wcmVmcy5qcyIsInNyYy91aS9zc2IuanMiLCJzcmMvdWkvdXRpbHMuanMiLCJzcmMvdWkvdmlld3MvQ2hhbm5lbC5zdmVsdGUiLCJzcmMvdWkvdmlld3MvQ2hhbm5lbHMuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL0RlZmF1bHQuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL0Vycm9yVmlldy5zdmVsdGUiLCJzcmMvdWkvdmlld3MvTWVudGlvbnMuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL1B1YmxpYy5zdmVsdGUiLCJzcmMvdWkvdmlld3MvU2VhcmNoLnN2ZWx0ZSIsInNyYy91aS92aWV3cy9UaHJlYWQuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL2NvbXBvc2UvQ29tcG9zZS5zdmVsdGUiLCJzcmMvdWkvdmlld3MvY29tcG9zZS9ibG9nL0NvbXBvc2VCbG9nLnN2ZWx0ZSIsInNyYy91aS92aWV3cy9jb21wb3NlL2Jsb2cvUHJldmlldy5zdmVsdGUiLCJzcmMvdWkvdmlld3MvcHJvZmlsZS9Gb2xsb3dpbmcuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL3Byb2ZpbGUvUG9zdHMuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL3Byb2ZpbGUvUHJvZmlsZS5zdmVsdGUiLCJzcmMvdWkvdmlld3Mvc2V0dGluZ3MvQ29udGVudFdhcm5pbmdzLnN2ZWx0ZSIsInNyYy91aS92aWV3cy9zZXR0aW5ncy9EaXNwbGF5UHJlZmVyZW5jZXMuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL3NldHRpbmdzL0ZpbHRlcnMuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL3NldHRpbmdzL0lkZW50aXR5QW5kQ29ubmVjdGlvbi5zdmVsdGUiLCJzcmMvdWkvdmlld3Mvc2V0dGluZ3MvTWVudS5zdmVsdGUiLCJzcmMvdWkvdmlld3Mvc2V0dGluZ3MvUGxhdGZvcm1EQVQuc3ZlbHRlIiwic3JjL3VpL3ZpZXdzL3NldHRpbmdzL1BsYXRmb3JtSVBGUy5zdmVsdGUiLCJzcmMvdWkvdmlld3Mvc2V0dGluZ3MvU2V0dGluZ3Muc3ZlbHRlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3BCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdFJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdEJBO0FBQ0E7QUFDQTs7QUNGQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUN4REE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7O0FDMzZDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL2ZBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeE9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM1RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ25DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL1hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6dkJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDL0hBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMUpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3pHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3J5QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN4akJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN6RkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNySUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNqSkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDbE5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDUEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3JEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDN21DQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM3TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeGxCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzlZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3ZoQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQy9YQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3hhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3Y2Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0cENBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzNmQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDeEpBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUM5WUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQ3B1QkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDOUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDMW5CQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN0ekJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUNsU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQzFOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUN2TEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FDdkxBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIid1c2Ugc3RyaWN0JztcbnZhciB0b2tlbiA9ICclW2EtZjAtOV17Mn0nO1xudmFyIHNpbmdsZU1hdGNoZXIgPSBuZXcgUmVnRXhwKHRva2VuLCAnZ2knKTtcbnZhciBtdWx0aU1hdGNoZXIgPSBuZXcgUmVnRXhwKCcoJyArIHRva2VuICsgJykrJywgJ2dpJyk7XG5cbmZ1bmN0aW9uIGRlY29kZUNvbXBvbmVudHMoY29tcG9uZW50cywgc3BsaXQpIHtcblx0dHJ5IHtcblx0XHQvLyBUcnkgdG8gZGVjb2RlIHRoZSBlbnRpcmUgc3RyaW5nIGZpcnN0XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjb21wb25lbnRzLmpvaW4oJycpKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gRG8gbm90aGluZ1xuXHR9XG5cblx0aWYgKGNvbXBvbmVudHMubGVuZ3RoID09PSAxKSB7XG5cdFx0cmV0dXJuIGNvbXBvbmVudHM7XG5cdH1cblxuXHRzcGxpdCA9IHNwbGl0IHx8IDE7XG5cblx0Ly8gU3BsaXQgdGhlIGFycmF5IGluIDIgcGFydHNcblx0dmFyIGxlZnQgPSBjb21wb25lbnRzLnNsaWNlKDAsIHNwbGl0KTtcblx0dmFyIHJpZ2h0ID0gY29tcG9uZW50cy5zbGljZShzcGxpdCk7XG5cblx0cmV0dXJuIEFycmF5LnByb3RvdHlwZS5jb25jYXQuY2FsbChbXSwgZGVjb2RlQ29tcG9uZW50cyhsZWZ0KSwgZGVjb2RlQ29tcG9uZW50cyhyaWdodCkpO1xufVxuXG5mdW5jdGlvbiBkZWNvZGUoaW5wdXQpIHtcblx0dHJ5IHtcblx0XHRyZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGlucHV0KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0dmFyIHRva2VucyA9IGlucHV0Lm1hdGNoKHNpbmdsZU1hdGNoZXIpO1xuXG5cdFx0Zm9yICh2YXIgaSA9IDE7IGkgPCB0b2tlbnMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGlucHV0ID0gZGVjb2RlQ29tcG9uZW50cyh0b2tlbnMsIGkpLmpvaW4oJycpO1xuXG5cdFx0XHR0b2tlbnMgPSBpbnB1dC5tYXRjaChzaW5nbGVNYXRjaGVyKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gaW5wdXQ7XG5cdH1cbn1cblxuZnVuY3Rpb24gY3VzdG9tRGVjb2RlVVJJQ29tcG9uZW50KGlucHV0KSB7XG5cdC8vIEtlZXAgdHJhY2sgb2YgYWxsIHRoZSByZXBsYWNlbWVudHMgYW5kIHByZWZpbGwgdGhlIG1hcCB3aXRoIHRoZSBgQk9NYFxuXHR2YXIgcmVwbGFjZU1hcCA9IHtcblx0XHQnJUZFJUZGJzogJ1xcdUZGRkRcXHVGRkZEJyxcblx0XHQnJUZGJUZFJzogJ1xcdUZGRkRcXHVGRkZEJ1xuXHR9O1xuXG5cdHZhciBtYXRjaCA9IG11bHRpTWF0Y2hlci5leGVjKGlucHV0KTtcblx0d2hpbGUgKG1hdGNoKSB7XG5cdFx0dHJ5IHtcblx0XHRcdC8vIERlY29kZSBhcyBiaWcgY2h1bmtzIGFzIHBvc3NpYmxlXG5cdFx0XHRyZXBsYWNlTWFwW21hdGNoWzBdXSA9IGRlY29kZVVSSUNvbXBvbmVudChtYXRjaFswXSk7XG5cdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR2YXIgcmVzdWx0ID0gZGVjb2RlKG1hdGNoWzBdKTtcblxuXHRcdFx0aWYgKHJlc3VsdCAhPT0gbWF0Y2hbMF0pIHtcblx0XHRcdFx0cmVwbGFjZU1hcFttYXRjaFswXV0gPSByZXN1bHQ7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0bWF0Y2ggPSBtdWx0aU1hdGNoZXIuZXhlYyhpbnB1dCk7XG5cdH1cblxuXHQvLyBBZGQgYCVDMmAgYXQgdGhlIGVuZCBvZiB0aGUgbWFwIHRvIG1ha2Ugc3VyZSBpdCBkb2VzIG5vdCByZXBsYWNlIHRoZSBjb21iaW5hdG9yIGJlZm9yZSBldmVyeXRoaW5nIGVsc2Vcblx0cmVwbGFjZU1hcFsnJUMyJ10gPSAnXFx1RkZGRCc7XG5cblx0dmFyIGVudHJpZXMgPSBPYmplY3Qua2V5cyhyZXBsYWNlTWFwKTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGVudHJpZXMubGVuZ3RoOyBpKyspIHtcblx0XHQvLyBSZXBsYWNlIGFsbCBkZWNvZGVkIGNvbXBvbmVudHNcblx0XHR2YXIga2V5ID0gZW50cmllc1tpXTtcblx0XHRpbnB1dCA9IGlucHV0LnJlcGxhY2UobmV3IFJlZ0V4cChrZXksICdnJyksIHJlcGxhY2VNYXBba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGVuY29kZWRVUkkpIHtcblx0aWYgKHR5cGVvZiBlbmNvZGVkVVJJICE9PSAnc3RyaW5nJykge1xuXHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0V4cGVjdGVkIGBlbmNvZGVkVVJJYCB0byBiZSBvZiB0eXBlIGBzdHJpbmdgLCBnb3QgYCcgKyB0eXBlb2YgZW5jb2RlZFVSSSArICdgJyk7XG5cdH1cblxuXHR0cnkge1xuXHRcdGVuY29kZWRVUkkgPSBlbmNvZGVkVVJJLnJlcGxhY2UoL1xcKy9nLCAnICcpO1xuXG5cdFx0Ly8gVHJ5IHRoZSBidWlsdCBpbiBkZWNvZGVyIGZpcnN0XG5cdFx0cmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChlbmNvZGVkVVJJKTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Ly8gRmFsbGJhY2sgdG8gYSBtb3JlIGFkdmFuY2VkIGRlY29kZXJcblx0XHRyZXR1cm4gY3VzdG9tRGVjb2RlVVJJQ29tcG9uZW50KGVuY29kZWRVUkkpO1xuXHR9XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCJcblxuZnVuY3Rpb24gaGFuZGxlRHJvcChjYWxsYmFjaywgZXZlbnQpIHtcbiAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcbiAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICBjYWxsYmFjayhBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChldmVudC5kYXRhVHJhbnNmZXIuZmlsZXMpKVxufVxuXG5mdW5jdGlvbiBraWxsRXZlbnQoZSkge1xuICBlLnN0b3BQcm9wYWdhdGlvbigpXG4gIGUucHJldmVudERlZmF1bHQoKVxuICByZXR1cm4gZmFsc2Vcbn1cblxuZnVuY3Rpb24gYWRkRHJhZ0Ryb3BMaXN0ZW5lcihlbGVtZW50LCBjYWxsYmFjaykge1xuICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkcmFnZW50ZXJcIiwga2lsbEV2ZW50LCBmYWxzZSlcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJhZ292ZXJcIiwga2lsbEV2ZW50LCBmYWxzZSlcbiAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiZHJvcFwiLCBoYW5kbGVEcm9wLmJpbmQodW5kZWZpbmVkLCBjYWxsYmFjayksIGZhbHNlKVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFkZERyYWdEcm9wTGlzdGVuZXIiLCIndXNlIHN0cmljdCc7XG5jb25zdCBzdHJpY3RVcmlFbmNvZGUgPSByZXF1aXJlKCdzdHJpY3QtdXJpLWVuY29kZScpO1xuY29uc3QgZGVjb2RlQ29tcG9uZW50ID0gcmVxdWlyZSgnZGVjb2RlLXVyaS1jb21wb25lbnQnKTtcbmNvbnN0IHNwbGl0T25GaXJzdCA9IHJlcXVpcmUoJ3NwbGl0LW9uLWZpcnN0Jyk7XG5cbmZ1bmN0aW9uIGVuY29kZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdHN3aXRjaCAob3B0aW9ucy5hcnJheUZvcm1hdCkge1xuXHRcdGNhc2UgJ2luZGV4Jzpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0Y29uc3QgaW5kZXggPSByZXN1bHQubGVuZ3RoO1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnWycsIGluZGV4LCAnXSddLmpvaW4oJycpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbXG5cdFx0XHRcdFx0Li4ucmVzdWx0LFxuXHRcdFx0XHRcdFtlbmNvZGUoa2V5LCBvcHRpb25zKSwgJ1snLCBlbmNvZGUoaW5kZXgsIG9wdGlvbnMpLCAnXT0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKVxuXHRcdFx0XHRdO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2JyYWNrZXQnOlxuXHRcdFx0cmV0dXJuIGtleSA9PiAocmVzdWx0LCB2YWx1ZSkgPT4ge1xuXHRcdFx0XHRpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnW10nXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gWy4uLnJlc3VsdCwgW2VuY29kZShrZXksIG9wdGlvbnMpLCAnW109JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUsIGluZGV4KSA9PiB7XG5cdFx0XHRcdGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0XHRcdHJldHVybiByZXN1bHQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoaW5kZXggPT09IDApIHtcblx0XHRcdFx0XHRyZXR1cm4gW1tlbmNvZGUoa2V5LCBvcHRpb25zKSwgJz0nLCBlbmNvZGUodmFsdWUsIG9wdGlvbnMpXS5qb2luKCcnKV07XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRyZXR1cm4gW1tyZXN1bHQsIGVuY29kZSh2YWx1ZSwgb3B0aW9ucyldLmpvaW4oJywnKV07XG5cdFx0XHR9O1xuXG5cdFx0ZGVmYXVsdDpcblx0XHRcdHJldHVybiBrZXkgPT4gKHJlc3VsdCwgdmFsdWUpID0+IHtcblx0XHRcdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHZhbHVlID09PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIFsuLi5yZXN1bHQsIGVuY29kZShrZXksIG9wdGlvbnMpXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBbLi4ucmVzdWx0LCBbZW5jb2RlKGtleSwgb3B0aW9ucyksICc9JywgZW5jb2RlKHZhbHVlLCBvcHRpb25zKV0uam9pbignJyldO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBwYXJzZXJGb3JBcnJheUZvcm1hdChvcHRpb25zKSB7XG5cdGxldCByZXN1bHQ7XG5cblx0c3dpdGNoIChvcHRpb25zLmFycmF5Rm9ybWF0KSB7XG5cdFx0Y2FzZSAnaW5kZXgnOlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRyZXN1bHQgPSAvXFxbKFxcZCopXFxdJC8uZXhlYyhrZXkpO1xuXG5cdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKC9cXFtcXGQqXFxdJC8sICcnKTtcblxuXHRcdFx0XHRpZiAoIXJlc3VsdCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHt9O1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XVtyZXN1bHRbMV1dID0gdmFsdWU7XG5cdFx0XHR9O1xuXG5cdFx0Y2FzZSAnYnJhY2tldCc6XG5cdFx0XHRyZXR1cm4gKGtleSwgdmFsdWUsIGFjY3VtdWxhdG9yKSA9PiB7XG5cdFx0XHRcdHJlc3VsdCA9IC8oXFxbXFxdKSQvLmV4ZWMoa2V5KTtcblx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcW1xcXSQvLCAnJyk7XG5cblx0XHRcdFx0aWYgKCFyZXN1bHQpIHtcblx0XHRcdFx0XHRhY2N1bXVsYXRvcltrZXldID0gdmFsdWU7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGFjY3VtdWxhdG9yW2tleV0gPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbdmFsdWVdO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblxuXHRcdGNhc2UgJ2NvbW1hJzpcblx0XHRcdHJldHVybiAoa2V5LCB2YWx1ZSwgYWNjdW11bGF0b3IpID0+IHtcblx0XHRcdFx0Y29uc3QgaXNBcnJheSA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgdmFsdWUuc3BsaXQoJycpLmluZGV4T2YoJywnKSA+IC0xO1xuXHRcdFx0XHRjb25zdCBuZXdWYWx1ZSA9IGlzQXJyYXkgPyB2YWx1ZS5zcGxpdCgnLCcpIDogdmFsdWU7XG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBuZXdWYWx1ZTtcblx0XHRcdH07XG5cblx0XHRkZWZhdWx0OlxuXHRcdFx0cmV0dXJuIChrZXksIHZhbHVlLCBhY2N1bXVsYXRvcikgPT4ge1xuXHRcdFx0XHRpZiAoYWNjdW11bGF0b3Jba2V5XSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0YWNjdW11bGF0b3Jba2V5XSA9IHZhbHVlO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGFjY3VtdWxhdG9yW2tleV0gPSBbXS5jb25jYXQoYWNjdW11bGF0b3Jba2V5XSwgdmFsdWUpO1xuXHRcdFx0fTtcblx0fVxufVxuXG5mdW5jdGlvbiBlbmNvZGUodmFsdWUsIG9wdGlvbnMpIHtcblx0aWYgKG9wdGlvbnMuZW5jb2RlKSB7XG5cdFx0cmV0dXJuIG9wdGlvbnMuc3RyaWN0ID8gc3RyaWN0VXJpRW5jb2RlKHZhbHVlKSA6IGVuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSk7XG5cdH1cblxuXHRyZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGRlY29kZSh2YWx1ZSwgb3B0aW9ucykge1xuXHRpZiAob3B0aW9ucy5kZWNvZGUpIHtcblx0XHRyZXR1cm4gZGVjb2RlQ29tcG9uZW50KHZhbHVlKTtcblx0fVxuXG5cdHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24ga2V5c1NvcnRlcihpbnB1dCkge1xuXHRpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcblx0XHRyZXR1cm4gaW5wdXQuc29ydCgpO1xuXHR9XG5cblx0aWYgKHR5cGVvZiBpbnB1dCA9PT0gJ29iamVjdCcpIHtcblx0XHRyZXR1cm4ga2V5c1NvcnRlcihPYmplY3Qua2V5cyhpbnB1dCkpXG5cdFx0XHQuc29ydCgoYSwgYikgPT4gTnVtYmVyKGEpIC0gTnVtYmVyKGIpKVxuXHRcdFx0Lm1hcChrZXkgPT4gaW5wdXRba2V5XSk7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZUhhc2goaW5wdXQpIHtcblx0Y29uc3QgaGFzaFN0YXJ0ID0gaW5wdXQuaW5kZXhPZignIycpO1xuXHRpZiAoaGFzaFN0YXJ0ICE9PSAtMSkge1xuXHRcdGlucHV0ID0gaW5wdXQuc2xpY2UoMCwgaGFzaFN0YXJ0KTtcblx0fVxuXG5cdHJldHVybiBpbnB1dDtcbn1cblxuZnVuY3Rpb24gZXh0cmFjdChpbnB1dCkge1xuXHRpbnB1dCA9IHJlbW92ZUhhc2goaW5wdXQpO1xuXHRjb25zdCBxdWVyeVN0YXJ0ID0gaW5wdXQuaW5kZXhPZignPycpO1xuXHRpZiAocXVlcnlTdGFydCA9PT0gLTEpIHtcblx0XHRyZXR1cm4gJyc7XG5cdH1cblxuXHRyZXR1cm4gaW5wdXQuc2xpY2UocXVlcnlTdGFydCArIDEpO1xufVxuXG5mdW5jdGlvbiBwYXJzZShpbnB1dCwgb3B0aW9ucykge1xuXHRvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XG5cdFx0ZGVjb2RlOiB0cnVlLFxuXHRcdHNvcnQ6IHRydWUsXG5cdFx0YXJyYXlGb3JtYXQ6ICdub25lJyxcblx0XHRwYXJzZU51bWJlcnM6IGZhbHNlLFxuXHRcdHBhcnNlQm9vbGVhbnM6IGZhbHNlXG5cdH0sIG9wdGlvbnMpO1xuXG5cdGNvbnN0IGZvcm1hdHRlciA9IHBhcnNlckZvckFycmF5Rm9ybWF0KG9wdGlvbnMpO1xuXG5cdC8vIENyZWF0ZSBhbiBvYmplY3Qgd2l0aCBubyBwcm90b3R5cGVcblx0Y29uc3QgcmV0ID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcblxuXHRpZiAodHlwZW9mIGlucHV0ICE9PSAnc3RyaW5nJykge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRpbnB1dCA9IGlucHV0LnRyaW0oKS5yZXBsYWNlKC9eWz8jJl0vLCAnJyk7XG5cblx0aWYgKCFpbnB1dCkge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRmb3IgKGNvbnN0IHBhcmFtIG9mIGlucHV0LnNwbGl0KCcmJykpIHtcblx0XHRsZXQgW2tleSwgdmFsdWVdID0gc3BsaXRPbkZpcnN0KHBhcmFtLnJlcGxhY2UoL1xcKy9nLCAnICcpLCAnPScpO1xuXG5cdFx0Ly8gTWlzc2luZyBgPWAgc2hvdWxkIGJlIGBudWxsYDpcblx0XHQvLyBodHRwOi8vdzMub3JnL1RSLzIwMTIvV0QtdXJsLTIwMTIwNTI0LyNjb2xsZWN0LXVybC1wYXJhbWV0ZXJzXG5cdFx0dmFsdWUgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IGRlY29kZSh2YWx1ZSwgb3B0aW9ucyk7XG5cblx0XHRpZiAob3B0aW9ucy5wYXJzZU51bWJlcnMgJiYgIU51bWJlci5pc05hTihOdW1iZXIodmFsdWUpKSAmJiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiB2YWx1ZS50cmltKCkgIT09ICcnKSkge1xuXHRcdFx0dmFsdWUgPSBOdW1iZXIodmFsdWUpO1xuXHRcdH0gZWxzZSBpZiAob3B0aW9ucy5wYXJzZUJvb2xlYW5zICYmIHZhbHVlICE9PSBudWxsICYmICh2YWx1ZS50b0xvd2VyQ2FzZSgpID09PSAndHJ1ZScgfHwgdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ2ZhbHNlJykpIHtcblx0XHRcdHZhbHVlID0gdmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gJ3RydWUnO1xuXHRcdH1cblxuXHRcdGZvcm1hdHRlcihkZWNvZGUoa2V5LCBvcHRpb25zKSwgdmFsdWUsIHJldCk7XG5cdH1cblxuXHRpZiAob3B0aW9ucy5zb3J0ID09PSBmYWxzZSkge1xuXHRcdHJldHVybiByZXQ7XG5cdH1cblxuXHRyZXR1cm4gKG9wdGlvbnMuc29ydCA9PT0gdHJ1ZSA/IE9iamVjdC5rZXlzKHJldCkuc29ydCgpIDogT2JqZWN0LmtleXMocmV0KS5zb3J0KG9wdGlvbnMuc29ydCkpLnJlZHVjZSgocmVzdWx0LCBrZXkpID0+IHtcblx0XHRjb25zdCB2YWx1ZSA9IHJldFtrZXldO1xuXHRcdGlmIChCb29sZWFuKHZhbHVlKSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuXHRcdFx0Ly8gU29ydCBvYmplY3Qga2V5cywgbm90IHZhbHVlc1xuXHRcdFx0cmVzdWx0W2tleV0gPSBrZXlzU29ydGVyKHZhbHVlKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVzdWx0W2tleV0gPSB2YWx1ZTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9LCBPYmplY3QuY3JlYXRlKG51bGwpKTtcbn1cblxuZXhwb3J0cy5leHRyYWN0ID0gZXh0cmFjdDtcbmV4cG9ydHMucGFyc2UgPSBwYXJzZTtcblxuZXhwb3J0cy5zdHJpbmdpZnkgPSAob2JqZWN0LCBvcHRpb25zKSA9PiB7XG5cdGlmICghb2JqZWN0KSB7XG5cdFx0cmV0dXJuICcnO1xuXHR9XG5cblx0b3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xuXHRcdGVuY29kZTogdHJ1ZSxcblx0XHRzdHJpY3Q6IHRydWUsXG5cdFx0YXJyYXlGb3JtYXQ6ICdub25lJ1xuXHR9LCBvcHRpb25zKTtcblxuXHRjb25zdCBmb3JtYXR0ZXIgPSBlbmNvZGVyRm9yQXJyYXlGb3JtYXQob3B0aW9ucyk7XG5cdGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpO1xuXG5cdGlmIChvcHRpb25zLnNvcnQgIT09IGZhbHNlKSB7XG5cdFx0a2V5cy5zb3J0KG9wdGlvbnMuc29ydCk7XG5cdH1cblxuXHRyZXR1cm4ga2V5cy5tYXAoa2V5ID0+IHtcblx0XHRjb25zdCB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG5cdFx0aWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcblx0XHRcdHJldHVybiAnJztcblx0XHR9XG5cblx0XHRpZiAodmFsdWUgPT09IG51bGwpIHtcblx0XHRcdHJldHVybiBlbmNvZGUoa2V5LCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcblx0XHRcdHJldHVybiB2YWx1ZVxuXHRcdFx0XHQucmVkdWNlKGZvcm1hdHRlcihrZXkpLCBbXSlcblx0XHRcdFx0LmpvaW4oJyYnKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gZW5jb2RlKGtleSwgb3B0aW9ucykgKyAnPScgKyBlbmNvZGUodmFsdWUsIG9wdGlvbnMpO1xuXHR9KS5maWx0ZXIoeCA9PiB4Lmxlbmd0aCA+IDApLmpvaW4oJyYnKTtcbn07XG5cbmV4cG9ydHMucGFyc2VVcmwgPSAoaW5wdXQsIG9wdGlvbnMpID0+IHtcblx0cmV0dXJuIHtcblx0XHR1cmw6IHJlbW92ZUhhc2goaW5wdXQpLnNwbGl0KCc/JylbMF0gfHwgJycsXG5cdFx0cXVlcnk6IHBhcnNlKGV4dHJhY3QoaW5wdXQpLCBvcHRpb25zKVxuXHR9O1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSAoc3RyaW5nLCBzZXBhcmF0b3IpID0+IHtcblx0aWYgKCEodHlwZW9mIHN0cmluZyA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIHNlcGFyYXRvciA9PT0gJ3N0cmluZycpKSB7XG5cdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignRXhwZWN0ZWQgdGhlIGFyZ3VtZW50cyB0byBiZSBvZiB0eXBlIGBzdHJpbmdgJyk7XG5cdH1cblxuXHRpZiAoc2VwYXJhdG9yID09PSAnJykge1xuXHRcdHJldHVybiBbc3RyaW5nXTtcblx0fVxuXG5cdGNvbnN0IHNlcGFyYXRvckluZGV4ID0gc3RyaW5nLmluZGV4T2Yoc2VwYXJhdG9yKTtcblxuXHRpZiAoc2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIFtzdHJpbmddO1xuXHR9XG5cblx0cmV0dXJuIFtcblx0XHRzdHJpbmcuc2xpY2UoMCwgc2VwYXJhdG9ySW5kZXgpLFxuXHRcdHN0cmluZy5zbGljZShzZXBhcmF0b3JJbmRleCArIHNlcGFyYXRvci5sZW5ndGgpXG5cdF07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xubW9kdWxlLmV4cG9ydHMgPSBzdHIgPT4gZW5jb2RlVVJJQ29tcG9uZW50KHN0cikucmVwbGFjZSgvWyEnKCkqXS9nLCB4ID0+IGAlJHt4LmNoYXJDb2RlQXQoMCkudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCl9YCk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBpbnRlcm5hbCA9IHJlcXVpcmUoJy4uL2ludGVybmFsJyk7XG5cbi8qXG5BZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL21hdHRkZXNsXG5EaXN0cmlidXRlZCB1bmRlciBNSVQgTGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vbWF0dGRlc2wvZWFzZXMvYmxvYi9tYXN0ZXIvTElDRU5TRS5tZFxuKi9cbmZ1bmN0aW9uIGJhY2tJbk91dCh0KSB7XG4gICAgY29uc3QgcyA9IDEuNzAxNTggKiAxLjUyNTtcbiAgICBpZiAoKHQgKj0gMikgPCAxKVxuICAgICAgICByZXR1cm4gMC41ICogKHQgKiB0ICogKChzICsgMSkgKiB0IC0gcykpO1xuICAgIHJldHVybiAwLjUgKiAoKHQgLT0gMikgKiB0ICogKChzICsgMSkgKiB0ICsgcykgKyAyKTtcbn1cbmZ1bmN0aW9uIGJhY2tJbih0KSB7XG4gICAgY29uc3QgcyA9IDEuNzAxNTg7XG4gICAgcmV0dXJuIHQgKiB0ICogKChzICsgMSkgKiB0IC0gcyk7XG59XG5mdW5jdGlvbiBiYWNrT3V0KHQpIHtcbiAgICBjb25zdCBzID0gMS43MDE1ODtcbiAgICByZXR1cm4gLS10ICogdCAqICgocyArIDEpICogdCArIHMpICsgMTtcbn1cbmZ1bmN0aW9uIGJvdW5jZU91dCh0KSB7XG4gICAgY29uc3QgYSA9IDQuMCAvIDExLjA7XG4gICAgY29uc3QgYiA9IDguMCAvIDExLjA7XG4gICAgY29uc3QgYyA9IDkuMCAvIDEwLjA7XG4gICAgY29uc3QgY2EgPSA0MzU2LjAgLyAzNjEuMDtcbiAgICBjb25zdCBjYiA9IDM1NDQyLjAgLyAxODA1LjA7XG4gICAgY29uc3QgY2MgPSAxNjA2MS4wIC8gMTgwNS4wO1xuICAgIGNvbnN0IHQyID0gdCAqIHQ7XG4gICAgcmV0dXJuIHQgPCBhXG4gICAgICAgID8gNy41NjI1ICogdDJcbiAgICAgICAgOiB0IDwgYlxuICAgICAgICAgICAgPyA5LjA3NSAqIHQyIC0gOS45ICogdCArIDMuNFxuICAgICAgICAgICAgOiB0IDwgY1xuICAgICAgICAgICAgICAgID8gY2EgKiB0MiAtIGNiICogdCArIGNjXG4gICAgICAgICAgICAgICAgOiAxMC44ICogdCAqIHQgLSAyMC41MiAqIHQgKyAxMC43Mjtcbn1cbmZ1bmN0aW9uIGJvdW5jZUluT3V0KHQpIHtcbiAgICByZXR1cm4gdCA8IDAuNVxuICAgICAgICA/IDAuNSAqICgxLjAgLSBib3VuY2VPdXQoMS4wIC0gdCAqIDIuMCkpXG4gICAgICAgIDogMC41ICogYm91bmNlT3V0KHQgKiAyLjAgLSAxLjApICsgMC41O1xufVxuZnVuY3Rpb24gYm91bmNlSW4odCkge1xuICAgIHJldHVybiAxLjAgLSBib3VuY2VPdXQoMS4wIC0gdCk7XG59XG5mdW5jdGlvbiBjaXJjSW5PdXQodCkge1xuICAgIGlmICgodCAqPSAyKSA8IDEpXG4gICAgICAgIHJldHVybiAtMC41ICogKE1hdGguc3FydCgxIC0gdCAqIHQpIC0gMSk7XG4gICAgcmV0dXJuIDAuNSAqIChNYXRoLnNxcnQoMSAtICh0IC09IDIpICogdCkgKyAxKTtcbn1cbmZ1bmN0aW9uIGNpcmNJbih0KSB7XG4gICAgcmV0dXJuIDEuMCAtIE1hdGguc3FydCgxLjAgLSB0ICogdCk7XG59XG5mdW5jdGlvbiBjaXJjT3V0KHQpIHtcbiAgICByZXR1cm4gTWF0aC5zcXJ0KDEgLSAtLXQgKiB0KTtcbn1cbmZ1bmN0aW9uIGN1YmljSW5PdXQodCkge1xuICAgIHJldHVybiB0IDwgMC41ID8gNC4wICogdCAqIHQgKiB0IDogMC41ICogTWF0aC5wb3coMi4wICogdCAtIDIuMCwgMy4wKSArIDEuMDtcbn1cbmZ1bmN0aW9uIGN1YmljSW4odCkge1xuICAgIHJldHVybiB0ICogdCAqIHQ7XG59XG5mdW5jdGlvbiBjdWJpY091dCh0KSB7XG4gICAgY29uc3QgZiA9IHQgLSAxLjA7XG4gICAgcmV0dXJuIGYgKiBmICogZiArIDEuMDtcbn1cbmZ1bmN0aW9uIGVsYXN0aWNJbk91dCh0KSB7XG4gICAgcmV0dXJuIHQgPCAwLjVcbiAgICAgICAgPyAwLjUgKlxuICAgICAgICAgICAgTWF0aC5zaW4oKCgrMTMuMCAqIE1hdGguUEkpIC8gMikgKiAyLjAgKiB0KSAqXG4gICAgICAgICAgICBNYXRoLnBvdygyLjAsIDEwLjAgKiAoMi4wICogdCAtIDEuMCkpXG4gICAgICAgIDogMC41ICpcbiAgICAgICAgICAgIE1hdGguc2luKCgoLTEzLjAgKiBNYXRoLlBJKSAvIDIpICogKDIuMCAqIHQgLSAxLjAgKyAxLjApKSAqXG4gICAgICAgICAgICBNYXRoLnBvdygyLjAsIC0xMC4wICogKDIuMCAqIHQgLSAxLjApKSArXG4gICAgICAgICAgICAxLjA7XG59XG5mdW5jdGlvbiBlbGFzdGljSW4odCkge1xuICAgIHJldHVybiBNYXRoLnNpbigoMTMuMCAqIHQgKiBNYXRoLlBJKSAvIDIpICogTWF0aC5wb3coMi4wLCAxMC4wICogKHQgLSAxLjApKTtcbn1cbmZ1bmN0aW9uIGVsYXN0aWNPdXQodCkge1xuICAgIHJldHVybiAoTWF0aC5zaW4oKC0xMy4wICogKHQgKyAxLjApICogTWF0aC5QSSkgLyAyKSAqIE1hdGgucG93KDIuMCwgLTEwLjAgKiB0KSArIDEuMCk7XG59XG5mdW5jdGlvbiBleHBvSW5PdXQodCkge1xuICAgIHJldHVybiB0ID09PSAwLjAgfHwgdCA9PT0gMS4wXG4gICAgICAgID8gdFxuICAgICAgICA6IHQgPCAwLjVcbiAgICAgICAgICAgID8gKzAuNSAqIE1hdGgucG93KDIuMCwgMjAuMCAqIHQgLSAxMC4wKVxuICAgICAgICAgICAgOiAtMC41ICogTWF0aC5wb3coMi4wLCAxMC4wIC0gdCAqIDIwLjApICsgMS4wO1xufVxuZnVuY3Rpb24gZXhwb0luKHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMC4wID8gdCA6IE1hdGgucG93KDIuMCwgMTAuMCAqICh0IC0gMS4wKSk7XG59XG5mdW5jdGlvbiBleHBvT3V0KHQpIHtcbiAgICByZXR1cm4gdCA9PT0gMS4wID8gdCA6IDEuMCAtIE1hdGgucG93KDIuMCwgLTEwLjAgKiB0KTtcbn1cbmZ1bmN0aW9uIHF1YWRJbk91dCh0KSB7XG4gICAgdCAvPSAwLjU7XG4gICAgaWYgKHQgPCAxKVxuICAgICAgICByZXR1cm4gMC41ICogdCAqIHQ7XG4gICAgdC0tO1xuICAgIHJldHVybiAtMC41ICogKHQgKiAodCAtIDIpIC0gMSk7XG59XG5mdW5jdGlvbiBxdWFkSW4odCkge1xuICAgIHJldHVybiB0ICogdDtcbn1cbmZ1bmN0aW9uIHF1YWRPdXQodCkge1xuICAgIHJldHVybiAtdCAqICh0IC0gMi4wKTtcbn1cbmZ1bmN0aW9uIHF1YXJ0SW5PdXQodCkge1xuICAgIHJldHVybiB0IDwgMC41XG4gICAgICAgID8gKzguMCAqIE1hdGgucG93KHQsIDQuMClcbiAgICAgICAgOiAtOC4wICogTWF0aC5wb3codCAtIDEuMCwgNC4wKSArIDEuMDtcbn1cbmZ1bmN0aW9uIHF1YXJ0SW4odCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh0LCA0LjApO1xufVxuZnVuY3Rpb24gcXVhcnRPdXQodCkge1xuICAgIHJldHVybiBNYXRoLnBvdyh0IC0gMS4wLCAzLjApICogKDEuMCAtIHQpICsgMS4wO1xufVxuZnVuY3Rpb24gcXVpbnRJbk91dCh0KSB7XG4gICAgaWYgKCh0ICo9IDIpIDwgMSlcbiAgICAgICAgcmV0dXJuIDAuNSAqIHQgKiB0ICogdCAqIHQgKiB0O1xuICAgIHJldHVybiAwLjUgKiAoKHQgLT0gMikgKiB0ICogdCAqIHQgKiB0ICsgMik7XG59XG5mdW5jdGlvbiBxdWludEluKHQpIHtcbiAgICByZXR1cm4gdCAqIHQgKiB0ICogdCAqIHQ7XG59XG5mdW5jdGlvbiBxdWludE91dCh0KSB7XG4gICAgcmV0dXJuIC0tdCAqIHQgKiB0ICogdCAqIHQgKyAxO1xufVxuZnVuY3Rpb24gc2luZUluT3V0KHQpIHtcbiAgICByZXR1cm4gLTAuNSAqIChNYXRoLmNvcyhNYXRoLlBJICogdCkgLSAxKTtcbn1cbmZ1bmN0aW9uIHNpbmVJbih0KSB7XG4gICAgY29uc3QgdiA9IE1hdGguY29zKHQgKiBNYXRoLlBJICogMC41KTtcbiAgICBpZiAoTWF0aC5hYnModikgPCAxZS0xNClcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gMSAtIHY7XG59XG5mdW5jdGlvbiBzaW5lT3V0KHQpIHtcbiAgICByZXR1cm4gTWF0aC5zaW4oKHQgKiBNYXRoLlBJKSAvIDIpO1xufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2xpbmVhcicsIHtcblx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGludGVybmFsLmlkZW50aXR5O1xuXHR9XG59KTtcbmV4cG9ydHMuYmFja0luID0gYmFja0luO1xuZXhwb3J0cy5iYWNrSW5PdXQgPSBiYWNrSW5PdXQ7XG5leHBvcnRzLmJhY2tPdXQgPSBiYWNrT3V0O1xuZXhwb3J0cy5ib3VuY2VJbiA9IGJvdW5jZUluO1xuZXhwb3J0cy5ib3VuY2VJbk91dCA9IGJvdW5jZUluT3V0O1xuZXhwb3J0cy5ib3VuY2VPdXQgPSBib3VuY2VPdXQ7XG5leHBvcnRzLmNpcmNJbiA9IGNpcmNJbjtcbmV4cG9ydHMuY2lyY0luT3V0ID0gY2lyY0luT3V0O1xuZXhwb3J0cy5jaXJjT3V0ID0gY2lyY091dDtcbmV4cG9ydHMuY3ViaWNJbiA9IGN1YmljSW47XG5leHBvcnRzLmN1YmljSW5PdXQgPSBjdWJpY0luT3V0O1xuZXhwb3J0cy5jdWJpY091dCA9IGN1YmljT3V0O1xuZXhwb3J0cy5lbGFzdGljSW4gPSBlbGFzdGljSW47XG5leHBvcnRzLmVsYXN0aWNJbk91dCA9IGVsYXN0aWNJbk91dDtcbmV4cG9ydHMuZWxhc3RpY091dCA9IGVsYXN0aWNPdXQ7XG5leHBvcnRzLmV4cG9JbiA9IGV4cG9JbjtcbmV4cG9ydHMuZXhwb0luT3V0ID0gZXhwb0luT3V0O1xuZXhwb3J0cy5leHBvT3V0ID0gZXhwb091dDtcbmV4cG9ydHMucXVhZEluID0gcXVhZEluO1xuZXhwb3J0cy5xdWFkSW5PdXQgPSBxdWFkSW5PdXQ7XG5leHBvcnRzLnF1YWRPdXQgPSBxdWFkT3V0O1xuZXhwb3J0cy5xdWFydEluID0gcXVhcnRJbjtcbmV4cG9ydHMucXVhcnRJbk91dCA9IHF1YXJ0SW5PdXQ7XG5leHBvcnRzLnF1YXJ0T3V0ID0gcXVhcnRPdXQ7XG5leHBvcnRzLnF1aW50SW4gPSBxdWludEluO1xuZXhwb3J0cy5xdWludEluT3V0ID0gcXVpbnRJbk91dDtcbmV4cG9ydHMucXVpbnRPdXQgPSBxdWludE91dDtcbmV4cG9ydHMuc2luZUluID0gc2luZUluO1xuZXhwb3J0cy5zaW5lSW5PdXQgPSBzaW5lSW5PdXQ7XG5leHBvcnRzLnNpbmVPdXQgPSBzaW5lT3V0O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgaW50ZXJuYWwgPSByZXF1aXJlKCcuL2ludGVybmFsJyk7XG5cblxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ2FmdGVyVXBkYXRlJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gaW50ZXJuYWwuYWZ0ZXJVcGRhdGU7XG5cdH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdiZWZvcmVVcGRhdGUnLCB7XG5cdGVudW1lcmFibGU6IHRydWUsXG5cdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBpbnRlcm5hbC5iZWZvcmVVcGRhdGU7XG5cdH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdjcmVhdGVFdmVudERpc3BhdGNoZXInLCB7XG5cdGVudW1lcmFibGU6IHRydWUsXG5cdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBpbnRlcm5hbC5jcmVhdGVFdmVudERpc3BhdGNoZXI7XG5cdH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdnZXRDb250ZXh0Jywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gaW50ZXJuYWwuZ2V0Q29udGV4dDtcblx0fVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ29uRGVzdHJveScsIHtcblx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGludGVybmFsLm9uRGVzdHJveTtcblx0fVxufSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ29uTW91bnQnLCB7XG5cdGVudW1lcmFibGU6IHRydWUsXG5cdGdldDogZnVuY3Rpb24gKCkge1xuXHRcdHJldHVybiBpbnRlcm5hbC5vbk1vdW50O1xuXHR9XG59KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnc2V0Q29udGV4dCcsIHtcblx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0Z2V0OiBmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGludGVybmFsLnNldENvbnRleHQ7XG5cdH1cbn0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICd0aWNrJywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gaW50ZXJuYWwudGljaztcblx0fVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmNvbnN0IGlkZW50aXR5ID0geCA9PiB4O1xuZnVuY3Rpb24gYXNzaWduKHRhciwgc3JjKSB7XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGZvciAoY29uc3QgayBpbiBzcmMpXG4gICAgICAgIHRhcltrXSA9IHNyY1trXTtcbiAgICByZXR1cm4gdGFyO1xufVxuZnVuY3Rpb24gaXNfcHJvbWlzZSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZS50aGVuID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gYWRkX2xvY2F0aW9uKGVsZW1lbnQsIGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhcikge1xuICAgIGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcbiAgICAgICAgbG9jOiB7IGZpbGUsIGxpbmUsIGNvbHVtbiwgY2hhciB9XG4gICAgfTtcbn1cbmZ1bmN0aW9uIHJ1bihmbikge1xuICAgIHJldHVybiBmbigpO1xufVxuZnVuY3Rpb24gYmxhbmtfb2JqZWN0KCkge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcbiAgICBmbnMuZm9yRWFjaChydW4pO1xufVxuZnVuY3Rpb24gaXNfZnVuY3Rpb24odGhpbmcpIHtcbiAgICByZXR1cm4gdHlwZW9mIHRoaW5nID09PSAnZnVuY3Rpb24nO1xufVxuZnVuY3Rpb24gc2FmZV9ub3RfZXF1YWwoYSwgYikge1xuICAgIHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8ICgoYSAmJiB0eXBlb2YgYSA9PT0gJ29iamVjdCcpIHx8IHR5cGVvZiBhID09PSAnZnVuY3Rpb24nKTtcbn1cbmZ1bmN0aW9uIG5vdF9lcXVhbChhLCBiKSB7XG4gICAgcmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZV9zdG9yZShzdG9yZSwgbmFtZSkge1xuICAgIGlmICghc3RvcmUgfHwgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCcke25hbWV9JyBpcyBub3QgYSBzdG9yZSB3aXRoIGEgJ3N1YnNjcmliZScgbWV0aG9kYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCBjYWxsYmFjaykge1xuICAgIGNvbnN0IHVuc3ViID0gc3RvcmUuc3Vic2NyaWJlKGNhbGxiYWNrKTtcbiAgICByZXR1cm4gdW5zdWIudW5zdWJzY3JpYmUgPyAoKSA9PiB1bnN1Yi51bnN1YnNjcmliZSgpIDogdW5zdWI7XG59XG5mdW5jdGlvbiBnZXRfc3RvcmVfdmFsdWUoc3RvcmUpIHtcbiAgICBsZXQgdmFsdWU7XG4gICAgc3Vic2NyaWJlKHN0b3JlLCBfID0+IHZhbHVlID0gXykoKTtcbiAgICByZXR1cm4gdmFsdWU7XG59XG5mdW5jdGlvbiBjb21wb25lbnRfc3Vic2NyaWJlKGNvbXBvbmVudCwgc3RvcmUsIGNhbGxiYWNrKSB7XG4gICAgY29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5mdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsIGZuKSB7XG4gICAgaWYgKGRlZmluaXRpb24pIHtcbiAgICAgICAgY29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgZm4pO1xuICAgICAgICByZXR1cm4gZGVmaW5pdGlvblswXShzbG90X2N0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0X3Nsb3RfY29udGV4dChkZWZpbml0aW9uLCBjdHgsIGZuKSB7XG4gICAgcmV0dXJuIGRlZmluaXRpb25bMV1cbiAgICAgICAgPyBhc3NpZ24oe30sIGFzc2lnbihjdHguJCRzY29wZS5jdHgsIGRlZmluaXRpb25bMV0oZm4gPyBmbihjdHgpIDoge30pKSlcbiAgICAgICAgOiBjdHguJCRzY29wZS5jdHg7XG59XG5mdW5jdGlvbiBnZXRfc2xvdF9jaGFuZ2VzKGRlZmluaXRpb24sIGN0eCwgY2hhbmdlZCwgZm4pIHtcbiAgICByZXR1cm4gZGVmaW5pdGlvblsxXVxuICAgICAgICA/IGFzc2lnbih7fSwgYXNzaWduKGN0eC4kJHNjb3BlLmNoYW5nZWQgfHwge30sIGRlZmluaXRpb25bMV0oZm4gPyBmbihjaGFuZ2VkKSA6IHt9KSkpXG4gICAgICAgIDogY3R4LiQkc2NvcGUuY2hhbmdlZCB8fCB7fTtcbn1cbmZ1bmN0aW9uIGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHMocHJvcHMpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGsgaW4gcHJvcHMpXG4gICAgICAgIGlmIChrWzBdICE9PSAnJCcpXG4gICAgICAgICAgICByZXN1bHRba10gPSBwcm9wc1trXTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuZnVuY3Rpb24gb25jZShmbikge1xuICAgIGxldCByYW4gPSBmYWxzZTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHJhbilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcmFuID0gdHJ1ZTtcbiAgICAgICAgZm4uY2FsbCh0aGlzLCAuLi5hcmdzKTtcbiAgICB9O1xufVxuZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuY29uc3QgaXNfY2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG5leHBvcnRzLm5vdyA9IGlzX2NsaWVudFxuICAgID8gKCkgPT4gd2luZG93LnBlcmZvcm1hbmNlLm5vdygpXG4gICAgOiAoKSA9PiBEYXRlLm5vdygpO1xuZXhwb3J0cy5yYWYgPSBpc19jbGllbnQgPyBjYiA9PiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoY2IpIDogbm9vcDtcbi8vIHVzZWQgaW50ZXJuYWxseSBmb3IgdGVzdGluZ1xuZnVuY3Rpb24gc2V0X25vdyhmbikge1xuICAgIGV4cG9ydHMubm93ID0gZm47XG59XG5mdW5jdGlvbiBzZXRfcmFmKGZuKSB7XG4gICAgZXhwb3J0cy5yYWYgPSBmbjtcbn1cblxuY29uc3QgdGFza3MgPSBuZXcgU2V0KCk7XG5sZXQgcnVubmluZyA9IGZhbHNlO1xuZnVuY3Rpb24gcnVuX3Rhc2tzKCkge1xuICAgIHRhc2tzLmZvckVhY2godGFzayA9PiB7XG4gICAgICAgIGlmICghdGFza1swXShleHBvcnRzLm5vdygpKSkge1xuICAgICAgICAgICAgdGFza3MuZGVsZXRlKHRhc2spO1xuICAgICAgICAgICAgdGFza1sxXSgpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcnVubmluZyA9IHRhc2tzLnNpemUgPiAwO1xuICAgIGlmIChydW5uaW5nKVxuICAgICAgICBleHBvcnRzLnJhZihydW5fdGFza3MpO1xufVxuZnVuY3Rpb24gY2xlYXJfbG9vcHMoKSB7XG4gICAgLy8gZm9yIHRlc3RpbmcuLi5cbiAgICB0YXNrcy5mb3JFYWNoKHRhc2sgPT4gdGFza3MuZGVsZXRlKHRhc2spKTtcbiAgICBydW5uaW5nID0gZmFsc2U7XG59XG5mdW5jdGlvbiBsb29wKGZuKSB7XG4gICAgbGV0IHRhc2s7XG4gICAgaWYgKCFydW5uaW5nKSB7XG4gICAgICAgIHJ1bm5pbmcgPSB0cnVlO1xuICAgICAgICBleHBvcnRzLnJhZihydW5fdGFza3MpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBwcm9taXNlOiBuZXcgUHJvbWlzZShmdWxmaWwgPT4ge1xuICAgICAgICAgICAgdGFza3MuYWRkKHRhc2sgPSBbZm4sIGZ1bGZpbF0pO1xuICAgICAgICB9KSxcbiAgICAgICAgYWJvcnQoKSB7XG4gICAgICAgICAgICB0YXNrcy5kZWxldGUodGFzayk7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBhcHBlbmQodGFyZ2V0LCBub2RlKSB7XG4gICAgdGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xufVxuZnVuY3Rpb24gaW5zZXJ0KHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG4gICAgdGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5mdW5jdGlvbiBkZXRhY2gobm9kZSkge1xuICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcbn1cbmZ1bmN0aW9uIGRlc3Ryb3lfZWFjaChpdGVyYXRpb25zLCBkZXRhY2hpbmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgaWYgKGl0ZXJhdGlvbnNbaV0pXG4gICAgICAgICAgICBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcbiAgICB9XG59XG5mdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbn1cbmZ1bmN0aW9uIG9iamVjdF93aXRob3V0X3Byb3BlcnRpZXMob2JqLCBleGNsdWRlKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1vYmplY3QtbGl0ZXJhbC10eXBlLWFzc2VydGlvblxuICAgIGNvbnN0IHRhcmdldCA9IHt9O1xuICAgIGZvciAoY29uc3QgayBpbiBvYmopIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGspXG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICAmJiBleGNsdWRlLmluZGV4T2YoaykgPT09IC0xKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICB0YXJnZXRba10gPSBvYmpba107XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn1cbmZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcbiAgICByZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsIG5hbWUpO1xufVxuZnVuY3Rpb24gdGV4dChkYXRhKSB7XG4gICAgcmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuZnVuY3Rpb24gc3BhY2UoKSB7XG4gICAgcmV0dXJuIHRleHQoJyAnKTtcbn1cbmZ1bmN0aW9uIGVtcHR5KCkge1xuICAgIHJldHVybiB0ZXh0KCcnKTtcbn1cbmZ1bmN0aW9uIGxpc3Rlbihub2RlLCBldmVudCwgaGFuZGxlciwgb3B0aW9ucykge1xuICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG4gICAgcmV0dXJuICgpID0+IG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG59XG5mdW5jdGlvbiBwcmV2ZW50X2RlZmF1bHQoZm4pIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgcmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIH07XG59XG5mdW5jdGlvbiBzdG9wX3Byb3BhZ2F0aW9uKGZuKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICByZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIGF0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKVxuICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIGVsc2VcbiAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5mdW5jdGlvbiBzZXRfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYXR0cmlidXRlcykge1xuICAgICAgICBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG4gICAgICAgICAgICBub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoa2V5IGluIG5vZGUpIHtcbiAgICAgICAgICAgIG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGF0dHIobm9kZSwga2V5LCBhdHRyaWJ1dGVzW2tleV0pO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcbiAgICBpZiAocHJvcCBpbiBub2RlKSB7XG4gICAgICAgIG5vZGVbcHJvcF0gPSB2YWx1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGF0dHIobm9kZSwgcHJvcCwgdmFsdWUpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoJ2h0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsnLCBhdHRyaWJ1dGUsIHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwKSB7XG4gICAgY29uc3QgdmFsdWUgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGlmIChncm91cFtpXS5jaGVja2VkKVxuICAgICAgICAgICAgdmFsdWUucHVzaChncm91cFtpXS5fX3ZhbHVlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZnVuY3Rpb24gdG9fbnVtYmVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAnJyA/IHVuZGVmaW5lZCA6ICt2YWx1ZTtcbn1cbmZ1bmN0aW9uIHRpbWVfcmFuZ2VzX3RvX2FycmF5KHJhbmdlcykge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgYXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xufVxuZnVuY3Rpb24gY2hpbGRyZW4oZWxlbWVudCkge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5mdW5jdGlvbiBjbGFpbV9lbGVtZW50KG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmcpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBub2Rlc1tpXTtcbiAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUgPT09IG5hbWUpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbm9kZS5hdHRyaWJ1dGVzLmxlbmd0aDsgaiArPSAxKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlID0gbm9kZS5hdHRyaWJ1dGVzW2pdO1xuICAgICAgICAgICAgICAgIGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pXG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBub2Rlcy5zcGxpY2UoaSwgMSlbMF07IC8vIFRPRE8gc3RyaXAgdW53YW50ZWQgYXR0cmlidXRlc1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBzdmcgPyBzdmdfZWxlbWVudChuYW1lKSA6IGVsZW1lbnQobmFtZSk7XG59XG5mdW5jdGlvbiBjbGFpbV90ZXh0KG5vZGVzLCBkYXRhKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBub2Rlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBub2RlID0gbm9kZXNbaV07XG4gICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09PSAzKSB7XG4gICAgICAgICAgICBub2RlLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgcmV0dXJuIG5vZGVzLnNwbGljZShpLCAxKVswXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dChkYXRhKTtcbn1cbmZ1bmN0aW9uIHNldF9kYXRhKHRleHQsIGRhdGEpIHtcbiAgICBkYXRhID0gJycgKyBkYXRhO1xuICAgIGlmICh0ZXh0LmRhdGEgIT09IGRhdGEpXG4gICAgICAgIHRleHQuZGF0YSA9IGRhdGE7XG59XG5mdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuICAgIHRyeSB7XG4gICAgICAgIGlucHV0LnR5cGUgPSB0eXBlO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICAvLyBkbyBub3RoaW5nXG4gICAgfVxufVxuZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUpIHtcbiAgICBub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUpO1xufVxuZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWxlY3Qub3B0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICBjb25zdCBvcHRpb24gPSBzZWxlY3Qub3B0aW9uc1tpXTtcbiAgICAgICAgaWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHNlbGVjdF9vcHRpb25zKHNlbGVjdCwgdmFsdWUpIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IG9wdGlvbiA9IHNlbGVjdC5vcHRpb25zW2ldO1xuICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB+dmFsdWUuaW5kZXhPZihvcHRpb24uX192YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc2VsZWN0X3ZhbHVlKHNlbGVjdCkge1xuICAgIGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpIHx8IHNlbGVjdC5vcHRpb25zWzBdO1xuICAgIHJldHVybiBzZWxlY3RlZF9vcHRpb24gJiYgc2VsZWN0ZWRfb3B0aW9uLl9fdmFsdWU7XG59XG5mdW5jdGlvbiBzZWxlY3RfbXVsdGlwbGVfdmFsdWUoc2VsZWN0KSB7XG4gICAgcmV0dXJuIFtdLm1hcC5jYWxsKHNlbGVjdC5xdWVyeVNlbGVjdG9yQWxsKCc6Y2hlY2tlZCcpLCBvcHRpb24gPT4gb3B0aW9uLl9fdmFsdWUpO1xufVxuZnVuY3Rpb24gYWRkX3Jlc2l6ZV9saXN0ZW5lcihlbGVtZW50LCBmbikge1xuICAgIGlmIChnZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uID09PSAnc3RhdGljJykge1xuICAgICAgICBlbGVtZW50LnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB9XG4gICAgY29uc3Qgb2JqZWN0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb2JqZWN0Jyk7XG4gICAgb2JqZWN0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogYmxvY2s7IHBvc2l0aW9uOiBhYnNvbHV0ZTsgdG9wOiAwOyBsZWZ0OiAwOyBoZWlnaHQ6IDEwMCU7IHdpZHRoOiAxMDAlOyBvdmVyZmxvdzogaGlkZGVuOyBwb2ludGVyLWV2ZW50czogbm9uZTsgei1pbmRleDogLTE7Jyk7XG4gICAgb2JqZWN0LnR5cGUgPSAndGV4dC9odG1sJztcbiAgICBvYmplY3QudGFiSW5kZXggPSAtMTtcbiAgICBsZXQgd2luO1xuICAgIG9iamVjdC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgIHdpbiA9IG9iamVjdC5jb250ZW50RG9jdW1lbnQuZGVmYXVsdFZpZXc7XG4gICAgICAgIHdpbi5hZGRFdmVudExpc3RlbmVyKCdyZXNpemUnLCBmbik7XG4gICAgfTtcbiAgICBpZiAoL1RyaWRlbnQvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgZWxlbWVudC5hcHBlbmRDaGlsZChvYmplY3QpO1xuICAgICAgICBvYmplY3QuZGF0YSA9ICdhYm91dDpibGFuayc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBvYmplY3QuZGF0YSA9ICdhYm91dDpibGFuayc7XG4gICAgICAgIGVsZW1lbnQuYXBwZW5kQ2hpbGQob2JqZWN0KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgICB3aW4gJiYgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIgJiYgd2luLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIGZuKTtcbiAgICAgICAgICAgIGVsZW1lbnQucmVtb3ZlQ2hpbGQob2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG4gICAgZWxlbWVudC5jbGFzc0xpc3RbdG9nZ2xlID8gJ2FkZCcgOiAncmVtb3ZlJ10obmFtZSk7XG59XG5mdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsKSB7XG4gICAgY29uc3QgZSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdDdXN0b21FdmVudCcpO1xuICAgIGUuaW5pdEN1c3RvbUV2ZW50KHR5cGUsIGZhbHNlLCBmYWxzZSwgZGV0YWlsKTtcbiAgICByZXR1cm4gZTtcbn1cbmNsYXNzIEh0bWxUYWcge1xuICAgIGNvbnN0cnVjdG9yKGh0bWwsIGFuY2hvciA9IG51bGwpIHtcbiAgICAgICAgdGhpcy5lID0gZWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHRoaXMuYSA9IGFuY2hvcjtcbiAgICAgICAgdGhpcy51KGh0bWwpO1xuICAgIH1cbiAgICBtKHRhcmdldCwgYW5jaG9yID0gbnVsbCkge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubi5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgaW5zZXJ0KHRhcmdldCwgdGhpcy5uW2ldLCBhbmNob3IpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMudCA9IHRhcmdldDtcbiAgICB9XG4gICAgdShodG1sKSB7XG4gICAgICAgIHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICB0aGlzLm4gPSBBcnJheS5mcm9tKHRoaXMuZS5jaGlsZE5vZGVzKTtcbiAgICB9XG4gICAgcChodG1sKSB7XG4gICAgICAgIHRoaXMuZCgpO1xuICAgICAgICB0aGlzLnUoaHRtbCk7XG4gICAgICAgIHRoaXMubSh0aGlzLnQsIHRoaXMuYSk7XG4gICAgfVxuICAgIGQoKSB7XG4gICAgICAgIHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG4gICAgfVxufVxuXG5sZXQgc3R5bGVzaGVldDtcbmxldCBhY3RpdmUgPSAwO1xubGV0IGN1cnJlbnRfcnVsZXMgPSB7fTtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9kYXJrc2t5YXBwL3N0cmluZy1oYXNoL2Jsb2IvbWFzdGVyL2luZGV4LmpzXG5mdW5jdGlvbiBoYXNoKHN0cikge1xuICAgIGxldCBoYXNoID0gNTM4MTtcbiAgICBsZXQgaSA9IHN0ci5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgaGFzaCA9ICgoaGFzaCA8PCA1KSAtIGhhc2gpIF4gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgcmV0dXJuIGhhc2ggPj4+IDA7XG59XG5mdW5jdGlvbiBjcmVhdGVfcnVsZShub2RlLCBhLCBiLCBkdXJhdGlvbiwgZGVsYXksIGVhc2UsIGZuLCB1aWQgPSAwKSB7XG4gICAgY29uc3Qgc3RlcCA9IDE2LjY2NiAvIGR1cmF0aW9uO1xuICAgIGxldCBrZXlmcmFtZXMgPSAne1xcbic7XG4gICAgZm9yIChsZXQgcCA9IDA7IHAgPD0gMTsgcCArPSBzdGVwKSB7XG4gICAgICAgIGNvbnN0IHQgPSBhICsgKGIgLSBhKSAqIGVhc2UocCk7XG4gICAgICAgIGtleWZyYW1lcyArPSBwICogMTAwICsgYCV7JHtmbih0LCAxIC0gdCl9fVxcbmA7XG4gICAgfVxuICAgIGNvbnN0IHJ1bGUgPSBrZXlmcmFtZXMgKyBgMTAwJSB7JHtmbihiLCAxIC0gYil9fVxcbn1gO1xuICAgIGNvbnN0IG5hbWUgPSBgX19zdmVsdGVfJHtoYXNoKHJ1bGUpfV8ke3VpZH1gO1xuICAgIGlmICghY3VycmVudF9ydWxlc1tuYW1lXSkge1xuICAgICAgICBpZiAoIXN0eWxlc2hlZXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHN0eWxlID0gZWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xuICAgICAgICAgICAgc3R5bGVzaGVldCA9IHN0eWxlLnNoZWV0O1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRfcnVsZXNbbmFtZV0gPSB0cnVlO1xuICAgICAgICBzdHlsZXNoZWV0Lmluc2VydFJ1bGUoYEBrZXlmcmFtZXMgJHtuYW1lfSAke3J1bGV9YCwgc3R5bGVzaGVldC5jc3NSdWxlcy5sZW5ndGgpO1xuICAgIH1cbiAgICBjb25zdCBhbmltYXRpb24gPSBub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJztcbiAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IGAke2FuaW1hdGlvbiA/IGAke2FuaW1hdGlvbn0sIGAgOiBgYH0ke25hbWV9ICR7ZHVyYXRpb259bXMgbGluZWFyICR7ZGVsYXl9bXMgMSBib3RoYDtcbiAgICBhY3RpdmUgKz0gMTtcbiAgICByZXR1cm4gbmFtZTtcbn1cbmZ1bmN0aW9uIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpIHtcbiAgICBub2RlLnN0eWxlLmFuaW1hdGlvbiA9IChub2RlLnN0eWxlLmFuaW1hdGlvbiB8fCAnJylcbiAgICAgICAgLnNwbGl0KCcsICcpXG4gICAgICAgIC5maWx0ZXIobmFtZVxuICAgICAgICA/IGFuaW0gPT4gYW5pbS5pbmRleE9mKG5hbWUpIDwgMCAvLyByZW1vdmUgc3BlY2lmaWMgYW5pbWF0aW9uXG4gICAgICAgIDogYW5pbSA9PiBhbmltLmluZGV4T2YoJ19fc3ZlbHRlJykgPT09IC0xIC8vIHJlbW92ZSBhbGwgU3ZlbHRlIGFuaW1hdGlvbnNcbiAgICApXG4gICAgICAgIC5qb2luKCcsICcpO1xuICAgIGlmIChuYW1lICYmICEtLWFjdGl2ZSlcbiAgICAgICAgY2xlYXJfcnVsZXMoKTtcbn1cbmZ1bmN0aW9uIGNsZWFyX3J1bGVzKCkge1xuICAgIGV4cG9ydHMucmFmKCgpID0+IHtcbiAgICAgICAgaWYgKGFjdGl2ZSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgbGV0IGkgPSBzdHlsZXNoZWV0LmNzc1J1bGVzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgIHN0eWxlc2hlZXQuZGVsZXRlUnVsZShpKTtcbiAgICAgICAgY3VycmVudF9ydWxlcyA9IHt9O1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfYW5pbWF0aW9uKG5vZGUsIGZyb20sIGZuLCBwYXJhbXMpIHtcbiAgICBpZiAoIWZyb20pXG4gICAgICAgIHJldHVybiBub29wO1xuICAgIGNvbnN0IHRvID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoZnJvbS5sZWZ0ID09PSB0by5sZWZ0ICYmIGZyb20ucmlnaHQgPT09IHRvLnJpZ2h0ICYmIGZyb20udG9wID09PSB0by50b3AgJiYgZnJvbS5ib3R0b20gPT09IHRvLmJvdHRvbSlcbiAgICAgICAgcmV0dXJuIG5vb3A7XG4gICAgY29uc3QgeyBkZWxheSA9IDAsIGR1cmF0aW9uID0gMzAwLCBlYXNpbmcgPSBpZGVudGl0eSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOiBzaG91bGQgdGhpcyBiZSBzZXBhcmF0ZWQgZnJvbSBkZXN0cnVjdHVyaW5nPyBPciBzdGFydC9lbmQgYWRkZWQgdG8gcHVibGljIGFwaSBhbmQgZG9jdW1lbnRhdGlvbj9cbiAgICBzdGFydDogc3RhcnRfdGltZSA9IGV4cG9ydHMubm93KCkgKyBkZWxheSwgXG4gICAgLy8gQHRzLWlnbm9yZSB0b2RvOlxuICAgIGVuZCA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbiwgdGljayA9IG5vb3AsIGNzcyB9ID0gZm4obm9kZSwgeyBmcm9tLCB0byB9LCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIGxldCBuYW1lO1xuICAgIGZ1bmN0aW9uIHN0YXJ0KCkge1xuICAgICAgICBpZiAoY3NzKSB7XG4gICAgICAgICAgICBuYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMCwgMSwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkZWxheSkge1xuICAgICAgICAgICAgc3RhcnRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgaWYgKGNzcylcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIG5hbWUpO1xuICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgfVxuICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgaWYgKCFzdGFydGVkICYmIG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhcnRlZCAmJiBub3cgPj0gZW5kKSB7XG4gICAgICAgICAgICB0aWNrKDEsIDApO1xuICAgICAgICAgICAgc3RvcCgpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcnVubmluZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGFydGVkKSB7XG4gICAgICAgICAgICBjb25zdCBwID0gbm93IC0gc3RhcnRfdGltZTtcbiAgICAgICAgICAgIGNvbnN0IHQgPSAwICsgMSAqIGVhc2luZyhwIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSk7XG4gICAgc3RhcnQoKTtcbiAgICB0aWNrKDAsIDEpO1xuICAgIHJldHVybiBzdG9wO1xufVxuZnVuY3Rpb24gZml4X3Bvc2l0aW9uKG5vZGUpIHtcbiAgICBjb25zdCBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG4gICAgaWYgKHN0eWxlLnBvc2l0aW9uICE9PSAnYWJzb2x1dGUnICYmIHN0eWxlLnBvc2l0aW9uICE9PSAnZml4ZWQnKSB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gc3R5bGU7XG4gICAgICAgIGNvbnN0IGEgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgbm9kZS5zdHlsZS53aWR0aCA9IHdpZHRoO1xuICAgICAgICBub2RlLnN0eWxlLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgYWRkX3RyYW5zZm9ybShub2RlLCBhKTtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRfdHJhbnNmb3JtKG5vZGUsIGEpIHtcbiAgICBjb25zdCBiID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpZiAoYS5sZWZ0ICE9PSBiLmxlZnQgfHwgYS50b3AgIT09IGIudG9wKSB7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgbm9kZS5zdHlsZS50cmFuc2Zvcm0gPSBgJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgke2EubGVmdCAtIGIubGVmdH1weCwgJHthLnRvcCAtIGIudG9wfXB4KWA7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG4gICAgZXhwb3J0cy5jdXJyZW50X2NvbXBvbmVudCA9IGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGdldF9jdXJyZW50X2NvbXBvbmVudCgpIHtcbiAgICBpZiAoIWV4cG9ydHMuY3VycmVudF9jb21wb25lbnQpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRnVuY3Rpb24gY2FsbGVkIG91dHNpZGUgY29tcG9uZW50IGluaXRpYWxpemF0aW9uYCk7XG4gICAgcmV0dXJuIGV4cG9ydHMuY3VycmVudF9jb21wb25lbnQ7XG59XG5mdW5jdGlvbiBiZWZvcmVVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5iZWZvcmVfdXBkYXRlLnB1c2goZm4pO1xufVxuZnVuY3Rpb24gb25Nb3VudChmbikge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX21vdW50LnB1c2goZm4pO1xufVxuZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5hZnRlcl91cGRhdGUucHVzaChmbik7XG59XG5mdW5jdGlvbiBvbkRlc3Ryb3koZm4pIHtcbiAgICBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9kZXN0cm95LnB1c2goZm4pO1xufVxuZnVuY3Rpb24gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCkge1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGV4cG9ydHMuY3VycmVudF9jb21wb25lbnQ7XG4gICAgcmV0dXJuICh0eXBlLCBkZXRhaWwpID0+IHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcbiAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgLy8gVE9ETyBhcmUgdGhlcmUgc2l0dWF0aW9ucyB3aGVyZSBldmVudHMgY291bGQgYmUgZGlzcGF0Y2hlZFxuICAgICAgICAgICAgLy8gaW4gYSBzZXJ2ZXIgKG5vbi1ET00pIGVudmlyb25tZW50P1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsKTtcbiAgICAgICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4ge1xuICAgICAgICAgICAgICAgIGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuICAgIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuc2V0KGtleSwgY29udGV4dCk7XG59XG5mdW5jdGlvbiBnZXRDb250ZXh0KGtleSkge1xuICAgIHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LmdldChrZXkpO1xufVxuLy8gVE9ETyBmaWd1cmUgb3V0IGlmIHdlIHN0aWxsIHdhbnQgdG8gc3VwcG9ydFxuLy8gc2hvcnRoYW5kIGV2ZW50cywgb3IgaWYgd2Ugd2FudCB0byBpbXBsZW1lbnRcbi8vIGEgcmVhbCBidWJibGluZyBtZWNoYW5pc21cbmZ1bmN0aW9uIGJ1YmJsZShjb21wb25lbnQsIGV2ZW50KSB7XG4gICAgY29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1tldmVudC50eXBlXTtcbiAgICBpZiAoY2FsbGJhY2tzKSB7XG4gICAgICAgIGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goZm4gPT4gZm4oZXZlbnQpKTtcbiAgICB9XG59XG5cbmNvbnN0IGRpcnR5X2NvbXBvbmVudHMgPSBbXTtcbmNvbnN0IGludHJvcyA9IHsgZW5hYmxlZDogZmFsc2UgfTtcbmNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5jb25zdCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5jb25zdCBmbHVzaF9jYWxsYmFja3MgPSBbXTtcbmNvbnN0IHJlc29sdmVkX3Byb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbmxldCB1cGRhdGVfc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBzY2hlZHVsZV91cGRhdGUoKSB7XG4gICAgaWYgKCF1cGRhdGVfc2NoZWR1bGVkKSB7XG4gICAgICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICByZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpY2soKSB7XG4gICAgc2NoZWR1bGVfdXBkYXRlKCk7XG4gICAgcmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5mdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG4gICAgcmVuZGVyX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGFkZF9mbHVzaF9jYWxsYmFjayhmbikge1xuICAgIGZsdXNoX2NhbGxiYWNrcy5wdXNoKGZuKTtcbn1cbmZ1bmN0aW9uIGZsdXNoKCkge1xuICAgIGNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuICAgIGRvIHtcbiAgICAgICAgLy8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuICAgICAgICAvLyBhbmQgdXBkYXRlIGNvbXBvbmVudHNcbiAgICAgICAgd2hpbGUgKGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzLnNoaWZ0KCk7XG4gICAgICAgICAgICBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KTtcbiAgICAgICAgICAgIHVwZGF0ZShjb21wb25lbnQuJCQpO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpXG4gICAgICAgICAgICBiaW5kaW5nX2NhbGxiYWNrcy5wb3AoKSgpO1xuICAgICAgICAvLyB0aGVuLCBvbmNlIGNvbXBvbmVudHMgYXJlIHVwZGF0ZWQsIGNhbGxcbiAgICAgICAgLy8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuICAgICAgICAvLyBzdWJzZXF1ZW50IHVwZGF0ZXMuLi5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByZW5kZXJfY2FsbGJhY2tzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBjb25zdCBjYWxsYmFjayA9IHJlbmRlcl9jYWxsYmFja3NbaV07XG4gICAgICAgICAgICBpZiAoIXNlZW5fY2FsbGJhY2tzLmhhcyhjYWxsYmFjaykpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgICAgIC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcbiAgICAgICAgICAgICAgICBzZWVuX2NhbGxiYWNrcy5hZGQoY2FsbGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlbmRlcl9jYWxsYmFja3MubGVuZ3RoID0gMDtcbiAgICB9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG4gICAgd2hpbGUgKGZsdXNoX2NhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgZmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG4gICAgfVxuICAgIHVwZGF0ZV9zY2hlZHVsZWQgPSBmYWxzZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZSgkJCkge1xuICAgIGlmICgkJC5mcmFnbWVudCkge1xuICAgICAgICAkJC51cGRhdGUoJCQuZGlydHkpO1xuICAgICAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgICAgICAkJC5mcmFnbWVudC5wKCQkLmRpcnR5LCAkJC5jdHgpO1xuICAgICAgICAkJC5kaXJ0eSA9IG51bGw7XG4gICAgICAgICQkLmFmdGVyX3VwZGF0ZS5mb3JFYWNoKGFkZF9yZW5kZXJfY2FsbGJhY2spO1xuICAgIH1cbn1cblxubGV0IHByb21pc2U7XG5mdW5jdGlvbiB3YWl0KCkge1xuICAgIGlmICghcHJvbWlzZSkge1xuICAgICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgICAgICBwcm9taXNlID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xufVxuZnVuY3Rpb24gZGlzcGF0Y2gobm9kZSwgZGlyZWN0aW9uLCBraW5kKSB7XG4gICAgbm9kZS5kaXNwYXRjaEV2ZW50KGN1c3RvbV9ldmVudChgJHtkaXJlY3Rpb24gPyAnaW50cm8nIDogJ291dHJvJ30ke2tpbmR9YCkpO1xufVxuY29uc3Qgb3V0cm9pbmcgPSBuZXcgU2V0KCk7XG5sZXQgb3V0cm9zO1xuZnVuY3Rpb24gZ3JvdXBfb3V0cm9zKCkge1xuICAgIG91dHJvcyA9IHtcbiAgICAgICAgcjogMCxcbiAgICAgICAgYzogW10sXG4gICAgICAgIHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcbiAgICB9O1xufVxuZnVuY3Rpb24gY2hlY2tfb3V0cm9zKCkge1xuICAgIGlmICghb3V0cm9zLnIpIHtcbiAgICAgICAgcnVuX2FsbChvdXRyb3MuYyk7XG4gICAgfVxuICAgIG91dHJvcyA9IG91dHJvcy5wO1xufVxuZnVuY3Rpb24gdHJhbnNpdGlvbl9pbihibG9jaywgbG9jYWwpIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2suaSkge1xuICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICBibG9jay5pKGxvY2FsKTtcbiAgICB9XG59XG5mdW5jdGlvbiB0cmFuc2l0aW9uX291dChibG9jaywgbG9jYWwsIGRldGFjaCwgY2FsbGJhY2spIHtcbiAgICBpZiAoYmxvY2sgJiYgYmxvY2subykge1xuICAgICAgICBpZiAob3V0cm9pbmcuaGFzKGJsb2NrKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgb3V0cm9pbmcuYWRkKGJsb2NrKTtcbiAgICAgICAgb3V0cm9zLmMucHVzaCgoKSA9PiB7XG4gICAgICAgICAgICBvdXRyb2luZy5kZWxldGUoYmxvY2spO1xuICAgICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGRldGFjaClcbiAgICAgICAgICAgICAgICAgICAgYmxvY2suZCgxKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgYmxvY2subyhsb2NhbCk7XG4gICAgfVxufVxuY29uc3QgbnVsbF90cmFuc2l0aW9uID0geyBkdXJhdGlvbjogMCB9O1xuZnVuY3Rpb24gY3JlYXRlX2luX3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gZmFsc2U7XG4gICAgbGV0IGFuaW1hdGlvbl9uYW1lO1xuICAgIGxldCB0YXNrO1xuICAgIGxldCB1aWQgPSAwO1xuICAgIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgIGlmIChhbmltYXRpb25fbmFtZSlcbiAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oKSB7XG4gICAgICAgIGNvbnN0IHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDMwMCwgZWFzaW5nID0gaWRlbnRpdHksIHRpY2sgPSBub29wLCBjc3MgfSA9IGNvbmZpZyB8fCBudWxsX3RyYW5zaXRpb247XG4gICAgICAgIGlmIChjc3MpXG4gICAgICAgICAgICBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcbiAgICAgICAgdGljaygwLCAxKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IGV4cG9ydHMubm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGlmICh0YXNrKVxuICAgICAgICAgICAgdGFzay5hYm9ydCgpO1xuICAgICAgICBydW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgYWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG4gICAgICAgIHRhc2sgPSBsb29wKG5vdyA9PiB7XG4gICAgICAgICAgICBpZiAocnVubmluZykge1xuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gZW5kX3RpbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGljaygxLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuICAgICAgICAgICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ID0gZWFzaW5nKChub3cgLSBzdGFydF90aW1lKSAvIGR1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgdGljayh0LCAxIC0gdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bm5pbmc7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZXQgc3RhcnRlZCA9IGZhbHNlO1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0YXJ0KCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0ZWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSk7XG4gICAgICAgICAgICBpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuICAgICAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgICAgIHdhaXQoKS50aGVuKGdvKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdvKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGludmFsaWRhdGUoKSB7XG4gICAgICAgICAgICBzdGFydGVkID0gZmFsc2U7XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGlmIChydW5uaW5nKSB7XG4gICAgICAgICAgICAgICAgY2xlYW51cCgpO1xuICAgICAgICAgICAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVfb3V0X3RyYW5zaXRpb24obm9kZSwgZm4sIHBhcmFtcykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCBydW5uaW5nID0gdHJ1ZTtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWU7XG4gICAgY29uc3QgZ3JvdXAgPSBvdXRyb3M7XG4gICAgZ3JvdXAuciArPSAxO1xuICAgIGZ1bmN0aW9uIGdvKCkge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBpZiAoY3NzKVxuICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCAxLCAwLCBkdXJhdGlvbiwgZGVsYXksIGVhc2luZywgY3NzKTtcbiAgICAgICAgY29uc3Qgc3RhcnRfdGltZSA9IGV4cG9ydHMubm93KCkgKyBkZWxheTtcbiAgICAgICAgY29uc3QgZW5kX3RpbWUgPSBzdGFydF90aW1lICsgZHVyYXRpb247XG4gICAgICAgIGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4gZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdzdGFydCcpKTtcbiAgICAgICAgbG9vcChub3cgPT4ge1xuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAobm93ID49IGVuZF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIHRpY2soMCwgMSk7XG4gICAgICAgICAgICAgICAgICAgIGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnZW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghLS1ncm91cC5yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIHdpbGwgcmVzdWx0IGluIGBlbmQoKWAgYmVpbmcgY2FsbGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc28gd2UgZG9uJ3QgbmVlZCB0byBjbGVhbiB1cCBoZXJlXG4gICAgICAgICAgICAgICAgICAgICAgICBydW5fYWxsKGdyb3VwLmMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICB0aWNrKDEgLSB0LCB0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnVubmluZztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG4gICAgICAgIHdhaXQoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbmZpZyA9IGNvbmZpZygpO1xuICAgICAgICAgICAgZ28oKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnbygpO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBlbmQocmVzZXQpIHtcbiAgICAgICAgICAgIGlmIChyZXNldCAmJiBjb25maWcudGljaykge1xuICAgICAgICAgICAgICAgIGNvbmZpZy50aWNrKDEsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJ1bm5pbmcpIHtcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uX25hbWUpXG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcbiAgICAgICAgICAgICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuICAgIGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMpO1xuICAgIGxldCB0ID0gaW50cm8gPyAwIDogMTtcbiAgICBsZXQgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICBsZXQgYW5pbWF0aW9uX25hbWUgPSBudWxsO1xuICAgIGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKGFuaW1hdGlvbl9uYW1lKVxuICAgICAgICAgICAgZGVsZXRlX3J1bGUobm9kZSwgYW5pbWF0aW9uX25hbWUpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHByb2dyYW0sIGR1cmF0aW9uKSB7XG4gICAgICAgIGNvbnN0IGQgPSBwcm9ncmFtLmIgLSB0O1xuICAgICAgICBkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGE6IHQsXG4gICAgICAgICAgICBiOiBwcm9ncmFtLmIsXG4gICAgICAgICAgICBkLFxuICAgICAgICAgICAgZHVyYXRpb24sXG4gICAgICAgICAgICBzdGFydDogcHJvZ3JhbS5zdGFydCxcbiAgICAgICAgICAgIGVuZDogcHJvZ3JhbS5zdGFydCArIGR1cmF0aW9uLFxuICAgICAgICAgICAgZ3JvdXA6IHByb2dyYW0uZ3JvdXBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ28oYikge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSAzMDAsIGVhc2luZyA9IGlkZW50aXR5LCB0aWNrID0gbm9vcCwgY3NzIH0gPSBjb25maWcgfHwgbnVsbF90cmFuc2l0aW9uO1xuICAgICAgICBjb25zdCBwcm9ncmFtID0ge1xuICAgICAgICAgICAgc3RhcnQ6IGV4cG9ydHMubm93KCkgKyBkZWxheSxcbiAgICAgICAgICAgIGJcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFiKSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgcHJvZ3JhbS5ncm91cCA9IG91dHJvcztcbiAgICAgICAgICAgIG91dHJvcy5yICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJ1bm5pbmdfcHJvZ3JhbSkge1xuICAgICAgICAgICAgcGVuZGluZ19wcm9ncmFtID0gcHJvZ3JhbTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYW4gaW50cm8sIGFuZCB0aGVyZSdzIGEgZGVsYXksIHdlIG5lZWQgdG8gZG9cbiAgICAgICAgICAgIC8vIGFuIGluaXRpYWwgdGljayBhbmQvb3IgYXBwbHkgQ1NTIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgaWYgKGNzcykge1xuICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYilcbiAgICAgICAgICAgICAgICB0aWNrKDAsIDEpO1xuICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gaW5pdChwcm9ncmFtLCBkdXJhdGlvbik7XG4gICAgICAgICAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGIsICdzdGFydCcpKTtcbiAgICAgICAgICAgIGxvb3Aobm93ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGVuZGluZ19wcm9ncmFtICYmIG5vdyA+IHBlbmRpbmdfcHJvZ3JhbS5zdGFydCkge1xuICAgICAgICAgICAgICAgICAgICBydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuICAgICAgICAgICAgICAgICAgICBwZW5kaW5nX3Byb2dyYW0gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICBkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ3N0YXJ0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShub2RlLCB0LCBydW5uaW5nX3Byb2dyYW0uYiwgcnVubmluZ19wcm9ncmFtLmR1cmF0aW9uLCAwLCBlYXNpbmcsIGNvbmZpZy5jc3MpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrKHQgPSBydW5uaW5nX3Byb2dyYW0uYiwgMSAtIHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdlbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghcGVuZGluZ19wcm9ncmFtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gd2UncmUgZG9uZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChydW5uaW5nX3Byb2dyYW0uYikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJfYW5pbWF0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEtLXJ1bm5pbmdfcHJvZ3JhbS5ncm91cC5yKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVuX2FsbChydW5uaW5nX3Byb2dyYW0uZ3JvdXAuYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChub3cgPj0gcnVubmluZ19wcm9ncmFtLnN0YXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwID0gbm93IC0gcnVubmluZ19wcm9ncmFtLnN0YXJ0O1xuICAgICAgICAgICAgICAgICAgICAgICAgdCA9IHJ1bm5pbmdfcHJvZ3JhbS5hICsgcnVubmluZ19wcm9ncmFtLmQgKiBlYXNpbmcocCAvIHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aWNrKHQsIDEgLSB0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gISEocnVubmluZ19wcm9ncmFtIHx8IHBlbmRpbmdfcHJvZ3JhbSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBydW4oYikge1xuICAgICAgICAgICAgaWYgKGlzX2Z1bmN0aW9uKGNvbmZpZykpIHtcbiAgICAgICAgICAgICAgICB3YWl0KCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgY29uZmlnID0gY29uZmlnKCk7XG4gICAgICAgICAgICAgICAgICAgIGdvKGIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ28oYik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGVuZCgpIHtcbiAgICAgICAgICAgIGNsZWFyX2FuaW1hdGlvbigpO1xuICAgICAgICAgICAgcnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGhhbmRsZV9wcm9taXNlKHByb21pc2UsIGluZm8pIHtcbiAgICBjb25zdCB0b2tlbiA9IGluZm8udG9rZW4gPSB7fTtcbiAgICBmdW5jdGlvbiB1cGRhdGUodHlwZSwgaW5kZXgsIGtleSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKGluZm8udG9rZW4gIT09IHRva2VuKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpbmZvLnJlc29sdmVkID0ga2V5ICYmIHsgW2tleV06IHZhbHVlIH07XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGFzc2lnbihhc3NpZ24oe30sIGluZm8uY3R4KSwgaW5mby5yZXNvbHZlZCk7XG4gICAgICAgIGNvbnN0IGJsb2NrID0gdHlwZSAmJiAoaW5mby5jdXJyZW50ID0gdHlwZSkoY2hpbGRfY3R4KTtcbiAgICAgICAgaWYgKGluZm8uYmxvY2spIHtcbiAgICAgICAgICAgIGlmIChpbmZvLmJsb2Nrcykge1xuICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzLmZvckVhY2goKGJsb2NrLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpICE9PSBpbmRleCAmJiBibG9jaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZ3JvdXBfb3V0cm9zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZm8uYmxvY2tzW2ldID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tfb3V0cm9zKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGluZm8uYmxvY2suZCgxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgICAgIHRyYW5zaXRpb25faW4oYmxvY2ssIDEpO1xuICAgICAgICAgICAgYmxvY2subShpbmZvLm1vdW50KCksIGluZm8uYW5jaG9yKTtcbiAgICAgICAgICAgIGZsdXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5mby5ibG9jayA9IGJsb2NrO1xuICAgICAgICBpZiAoaW5mby5ibG9ja3MpXG4gICAgICAgICAgICBpbmZvLmJsb2Nrc1tpbmRleF0gPSBibG9jaztcbiAgICB9XG4gICAgaWYgKGlzX3Byb21pc2UocHJvbWlzZSkpIHtcbiAgICAgICAgcHJvbWlzZS50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnRoZW4sIDEsIGluZm8udmFsdWUsIHZhbHVlKTtcbiAgICAgICAgfSwgZXJyb3IgPT4ge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8uY2F0Y2gsIDIsIGluZm8uZXJyb3IsIGVycm9yKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGlmIHdlIHByZXZpb3VzbHkgaGFkIGEgdGhlbi9jYXRjaCBibG9jaywgZGVzdHJveSBpdFxuICAgICAgICBpZiAoaW5mby5jdXJyZW50ICE9PSBpbmZvLnBlbmRpbmcpIHtcbiAgICAgICAgICAgIHVwZGF0ZShpbmZvLnBlbmRpbmcsIDApO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGlmIChpbmZvLmN1cnJlbnQgIT09IGluZm8udGhlbikge1xuICAgICAgICAgICAgdXBkYXRlKGluZm8udGhlbiwgMSwgaW5mby52YWx1ZSwgcHJvbWlzZSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpbmZvLnJlc29sdmVkID0geyBbaW5mby52YWx1ZV06IHByb21pc2UgfTtcbiAgICB9XG59XG5cbmNvbnN0IGdsb2JhbHMgPSAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiBnbG9iYWwpO1xuXG5mdW5jdGlvbiBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICBibG9jay5kKDEpO1xuICAgIGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cbmZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcbiAgICB0cmFuc2l0aW9uX291dChibG9jaywgMSwgMSwgKCkgPT4ge1xuICAgICAgICBsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBmaXhfYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCkge1xuICAgIGJsb2NrLmYoKTtcbiAgICBkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG4gICAgYmxvY2suZigpO1xuICAgIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2gob2xkX2Jsb2NrcywgY2hhbmdlZCwgZ2V0X2tleSwgZHluYW1pYywgY3R4LCBsaXN0LCBsb29rdXAsIG5vZGUsIGRlc3Ryb3ksIGNyZWF0ZV9lYWNoX2Jsb2NrLCBuZXh0LCBnZXRfY29udGV4dCkge1xuICAgIGxldCBvID0gb2xkX2Jsb2Nrcy5sZW5ndGg7XG4gICAgbGV0IG4gPSBsaXN0Lmxlbmd0aDtcbiAgICBsZXQgaSA9IG87XG4gICAgY29uc3Qgb2xkX2luZGV4ZXMgPSB7fTtcbiAgICB3aGlsZSAoaS0tKVxuICAgICAgICBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuICAgIGNvbnN0IG5ld19ibG9ja3MgPSBbXTtcbiAgICBjb25zdCBuZXdfbG9va3VwID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcbiAgICBpID0gbjtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG4gICAgICAgIGNvbnN0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcbiAgICAgICAgbGV0IGJsb2NrID0gbG9va3VwLmdldChrZXkpO1xuICAgICAgICBpZiAoIWJsb2NrKSB7XG4gICAgICAgICAgICBibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcbiAgICAgICAgICAgIGJsb2NrLmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkeW5hbWljKSB7XG4gICAgICAgICAgICBibG9jay5wKGNoYW5nZWQsIGNoaWxkX2N0eCk7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2xvb2t1cC5zZXQoa2V5LCBuZXdfYmxvY2tzW2ldID0gYmxvY2spO1xuICAgICAgICBpZiAoa2V5IGluIG9sZF9pbmRleGVzKVxuICAgICAgICAgICAgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG4gICAgfVxuICAgIGNvbnN0IHdpbGxfbW92ZSA9IG5ldyBTZXQoKTtcbiAgICBjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcbiAgICBmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcbiAgICAgICAgdHJhbnNpdGlvbl9pbihibG9jaywgMSk7XG4gICAgICAgIGJsb2NrLm0obm9kZSwgbmV4dCk7XG4gICAgICAgIGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG4gICAgICAgIG5leHQgPSBibG9jay5maXJzdDtcbiAgICAgICAgbi0tO1xuICAgIH1cbiAgICB3aGlsZSAobyAmJiBuKSB7XG4gICAgICAgIGNvbnN0IG5ld19ibG9jayA9IG5ld19ibG9ja3NbbiAtIDFdO1xuICAgICAgICBjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW28gLSAxXTtcbiAgICAgICAgY29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG4gICAgICAgIGNvbnN0IG9sZF9rZXkgPSBvbGRfYmxvY2sua2V5O1xuICAgICAgICBpZiAobmV3X2Jsb2NrID09PSBvbGRfYmxvY2spIHtcbiAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgIG5leHQgPSBuZXdfYmxvY2suZmlyc3Q7XG4gICAgICAgICAgICBvLS07XG4gICAgICAgICAgICBuLS07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIGJsb2NrXG4gICAgICAgICAgICBkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghbG9va3VwLmhhcyhuZXdfa2V5KSB8fCB3aWxsX21vdmUuaGFzKG5ld19rZXkpKSB7XG4gICAgICAgICAgICBpbnNlcnQobmV3X2Jsb2NrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkaWRfbW92ZS5oYXMob2xkX2tleSkpIHtcbiAgICAgICAgICAgIG8tLTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuICAgICAgICAgICAgZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuICAgICAgICAgICAgaW5zZXJ0KG5ld19ibG9jayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB3aWxsX21vdmUuYWRkKG9sZF9rZXkpO1xuICAgICAgICAgICAgby0tO1xuICAgICAgICB9XG4gICAgfVxuICAgIHdoaWxlIChvLS0pIHtcbiAgICAgICAgY29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvXTtcbiAgICAgICAgaWYgKCFuZXdfbG9va3VwLmhhcyhvbGRfYmxvY2sua2V5KSlcbiAgICAgICAgICAgIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuICAgIH1cbiAgICB3aGlsZSAobilcbiAgICAgICAgaW5zZXJ0KG5ld19ibG9ja3NbbiAtIDFdKTtcbiAgICByZXR1cm4gbmV3X2Jsb2Nrcztcbn1cbmZ1bmN0aW9uIG1lYXN1cmUoYmxvY2tzKSB7XG4gICAgY29uc3QgcmVjdHMgPSB7fTtcbiAgICBsZXQgaSA9IGJsb2Nrcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSlcbiAgICAgICAgcmVjdHNbYmxvY2tzW2ldLmtleV0gPSBibG9ja3NbaV0ubm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gcmVjdHM7XG59XG5cbmZ1bmN0aW9uIGdldF9zcHJlYWRfdXBkYXRlKGxldmVscywgdXBkYXRlcykge1xuICAgIGNvbnN0IHVwZGF0ZSA9IHt9O1xuICAgIGNvbnN0IHRvX251bGxfb3V0ID0ge307XG4gICAgY29uc3QgYWNjb3VudGVkX2ZvciA9IHsgJCRzY29wZTogMSB9O1xuICAgIGxldCBpID0gbGV2ZWxzLmxlbmd0aDtcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgIGNvbnN0IG8gPSBsZXZlbHNbaV07XG4gICAgICAgIGNvbnN0IG4gPSB1cGRhdGVzW2ldO1xuICAgICAgICBpZiAobikge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbykge1xuICAgICAgICAgICAgICAgIGlmICghKGtleSBpbiBuKSlcbiAgICAgICAgICAgICAgICAgICAgdG9fbnVsbF9vdXRba2V5XSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBuKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFhY2NvdW50ZWRfZm9yW2tleV0pIHtcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlW2tleV0gPSBuW2tleV07XG4gICAgICAgICAgICAgICAgICAgIGFjY291bnRlZF9mb3Jba2V5XSA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV2ZWxzW2ldID0gbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG8pIHtcbiAgICAgICAgICAgICAgICBhY2NvdW50ZWRfZm9yW2tleV0gPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZvciAoY29uc3Qga2V5IGluIHRvX251bGxfb3V0KSB7XG4gICAgICAgIGlmICghKGtleSBpbiB1cGRhdGUpKVxuICAgICAgICAgICAgdXBkYXRlW2tleV0gPSB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiB1cGRhdGU7XG59XG5cbmNvbnN0IGludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyID0gL1tcXHMnXCI+Lz1cXHV7RkREMH0tXFx1e0ZERUZ9XFx1e0ZGRkV9XFx1e0ZGRkZ9XFx1ezFGRkZFfVxcdXsxRkZGRn1cXHV7MkZGRkV9XFx1ezJGRkZGfVxcdXszRkZGRX1cXHV7M0ZGRkZ9XFx1ezRGRkZFfVxcdXs0RkZGRn1cXHV7NUZGRkV9XFx1ezVGRkZGfVxcdXs2RkZGRX1cXHV7NkZGRkZ9XFx1ezdGRkZFfVxcdXs3RkZGRn1cXHV7OEZGRkV9XFx1ezhGRkZGfVxcdXs5RkZGRX1cXHV7OUZGRkZ9XFx1e0FGRkZFfVxcdXtBRkZGRn1cXHV7QkZGRkV9XFx1e0JGRkZGfVxcdXtDRkZGRX1cXHV7Q0ZGRkZ9XFx1e0RGRkZFfVxcdXtERkZGRn1cXHV7RUZGRkV9XFx1e0VGRkZGfVxcdXtGRkZGRX1cXHV7RkZGRkZ9XFx1ezEwRkZGRX1cXHV7MTBGRkZGfV0vdTtcbi8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL3N5bnRheC5odG1sI2F0dHJpYnV0ZXMtMlxuLy8gaHR0cHM6Ly9pbmZyYS5zcGVjLndoYXR3Zy5vcmcvI25vbmNoYXJhY3RlclxuZnVuY3Rpb24gc3ByZWFkKGFyZ3MpIHtcbiAgICBjb25zdCBhdHRyaWJ1dGVzID0gT2JqZWN0LmFzc2lnbih7fSwgLi4uYXJncyk7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIE9iamVjdC5rZXlzKGF0dHJpYnV0ZXMpLmZvckVhY2gobmFtZSA9PiB7XG4gICAgICAgIGlmIChpbnZhbGlkX2F0dHJpYnV0ZV9uYW1lX2NoYXJhY3Rlci50ZXN0KG5hbWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IGF0dHJpYnV0ZXNbbmFtZV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAodmFsdWUgPT09IHRydWUpXG4gICAgICAgICAgICBzdHIgKz0gXCIgXCIgKyBuYW1lO1xuICAgICAgICBjb25zdCBlc2NhcGVkID0gU3RyaW5nKHZhbHVlKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmIzM0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiMzOTsnKTtcbiAgICAgICAgc3RyICs9IFwiIFwiICsgbmFtZSArIFwiPVwiICsgSlNPTi5zdHJpbmdpZnkoZXNjYXBlZCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IGVzY2FwZWQgPSB7XG4gICAgJ1wiJzogJyZxdW90OycsXG4gICAgXCInXCI6ICcmIzM5OycsXG4gICAgJyYnOiAnJmFtcDsnLFxuICAgICc8JzogJyZsdDsnLFxuICAgICc+JzogJyZndDsnXG59O1xuZnVuY3Rpb24gZXNjYXBlKGh0bWwpIHtcbiAgICByZXR1cm4gU3RyaW5nKGh0bWwpLnJlcGxhY2UoL1tcIicmPD5dL2csIG1hdGNoID0+IGVzY2FwZWRbbWF0Y2hdKTtcbn1cbmZ1bmN0aW9uIGVhY2goaXRlbXMsIGZuKSB7XG4gICAgbGV0IHN0ciA9ICcnO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgc3RyICs9IGZuKGl0ZW1zW2ldLCBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbn1cbmNvbnN0IG1pc3NpbmdfY29tcG9uZW50ID0ge1xuICAgICQkcmVuZGVyOiAoKSA9PiAnJ1xufTtcbmZ1bmN0aW9uIHZhbGlkYXRlX2NvbXBvbmVudChjb21wb25lbnQsIG5hbWUpIHtcbiAgICBpZiAoIWNvbXBvbmVudCB8fCAhY29tcG9uZW50LiQkcmVuZGVyKSB7XG4gICAgICAgIGlmIChuYW1lID09PSAnc3ZlbHRlOmNvbXBvbmVudCcpXG4gICAgICAgICAgICBuYW1lICs9ICcgdGhpcz17Li4ufSc7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgPCR7bmFtZX0+IGlzIG5vdCBhIHZhbGlkIFNTUiBjb21wb25lbnQuIFlvdSBtYXkgbmVlZCB0byByZXZpZXcgeW91ciBidWlsZCBjb25maWcgdG8gZW5zdXJlIHRoYXQgZGVwZW5kZW5jaWVzIGFyZSBjb21waWxlZCwgcmF0aGVyIHRoYW4gaW1wb3J0ZWQgYXMgcHJlLWNvbXBpbGVkIG1vZHVsZXNgKTtcbiAgICB9XG4gICAgcmV0dXJuIGNvbXBvbmVudDtcbn1cbmZ1bmN0aW9uIGRlYnVnKGZpbGUsIGxpbmUsIGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgY29uc29sZS5sb2coYHtAZGVidWd9ICR7ZmlsZSA/IGZpbGUgKyAnICcgOiAnJ30oJHtsaW5lfToke2NvbHVtbn0pYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIGNvbnNvbGUubG9nKHZhbHVlcyk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgIHJldHVybiAnJztcbn1cbmxldCBvbl9kZXN0cm95O1xuZnVuY3Rpb24gY3JlYXRlX3Nzcl9jb21wb25lbnQoZm4pIHtcbiAgICBmdW5jdGlvbiAkJHJlbmRlcihyZXN1bHQsIHByb3BzLCBiaW5kaW5ncywgc2xvdHMpIHtcbiAgICAgICAgY29uc3QgcGFyZW50X2NvbXBvbmVudCA9IGV4cG9ydHMuY3VycmVudF9jb21wb25lbnQ7XG4gICAgICAgIGNvbnN0ICQkID0ge1xuICAgICAgICAgICAgb25fZGVzdHJveSxcbiAgICAgICAgICAgIGNvbnRleHQ6IG5ldyBNYXAocGFyZW50X2NvbXBvbmVudCA/IHBhcmVudF9jb21wb25lbnQuJCQuY29udGV4dCA6IFtdKSxcbiAgICAgICAgICAgIC8vIHRoZXNlIHdpbGwgYmUgaW1tZWRpYXRlbHkgZGlzY2FyZGVkXG4gICAgICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgICAgIGFmdGVyX3VwZGF0ZTogW10sXG4gICAgICAgICAgICBjYWxsYmFja3M6IGJsYW5rX29iamVjdCgpXG4gICAgICAgIH07XG4gICAgICAgIHNldF9jdXJyZW50X2NvbXBvbmVudCh7ICQkIH0pO1xuICAgICAgICBjb25zdCBodG1sID0gZm4ocmVzdWx0LCBwcm9wcywgYmluZGluZ3MsIHNsb3RzKTtcbiAgICAgICAgc2V0X2N1cnJlbnRfY29tcG9uZW50KHBhcmVudF9jb21wb25lbnQpO1xuICAgICAgICByZXR1cm4gaHRtbDtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgcmVuZGVyOiAocHJvcHMgPSB7fSwgb3B0aW9ucyA9IHt9KSA9PiB7XG4gICAgICAgICAgICBvbl9kZXN0cm95ID0gW107XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSB7IGhlYWQ6ICcnLCBjc3M6IG5ldyBTZXQoKSB9O1xuICAgICAgICAgICAgY29uc3QgaHRtbCA9ICQkcmVuZGVyKHJlc3VsdCwgcHJvcHMsIHt9LCBvcHRpb25zKTtcbiAgICAgICAgICAgIHJ1bl9hbGwob25fZGVzdHJveSk7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGh0bWwsXG4gICAgICAgICAgICAgICAgY3NzOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IEFycmF5LmZyb20ocmVzdWx0LmNzcykubWFwKGNzcyA9PiBjc3MuY29kZSkuam9pbignXFxuJyksXG4gICAgICAgICAgICAgICAgICAgIG1hcDogbnVsbCAvLyBUT0RPXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkOiByZXN1bHQuaGVhZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgJCRyZW5kZXJcbiAgICB9O1xufVxuZnVuY3Rpb24gYWRkX2F0dHJpYnV0ZShuYW1lLCB2YWx1ZSwgYm9vbGVhbikge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IChib29sZWFuICYmICF2YWx1ZSkpXG4gICAgICAgIHJldHVybiAnJztcbiAgICByZXR1cm4gYCAke25hbWV9JHt2YWx1ZSA9PT0gdHJ1ZSA/ICcnIDogYD0ke3R5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyBKU09OLnN0cmluZ2lmeShlc2NhcGUodmFsdWUpKSA6IGBcIiR7dmFsdWV9XCJgfWB9YDtcbn1cbmZ1bmN0aW9uIGFkZF9jbGFzc2VzKGNsYXNzZXMpIHtcbiAgICByZXR1cm4gY2xhc3NlcyA/IGAgY2xhc3M9XCIke2NsYXNzZXN9XCJgIDogYGA7XG59XG5cbmZ1bmN0aW9uIGJpbmQoY29tcG9uZW50LCBuYW1lLCBjYWxsYmFjaykge1xuICAgIGlmIChjb21wb25lbnQuJCQucHJvcHMuaW5kZXhPZihuYW1lKSA9PT0gLTEpXG4gICAgICAgIHJldHVybjtcbiAgICBjb21wb25lbnQuJCQuYm91bmRbbmFtZV0gPSBjYWxsYmFjaztcbiAgICBjYWxsYmFjayhjb21wb25lbnQuJCQuY3R4W25hbWVdKTtcbn1cbmZ1bmN0aW9uIG1vdW50X2NvbXBvbmVudChjb21wb25lbnQsIHRhcmdldCwgYW5jaG9yKSB7XG4gICAgY29uc3QgeyBmcmFnbWVudCwgb25fbW91bnQsIG9uX2Rlc3Ryb3ksIGFmdGVyX3VwZGF0ZSB9ID0gY29tcG9uZW50LiQkO1xuICAgIGZyYWdtZW50Lm0odGFyZ2V0LCBhbmNob3IpO1xuICAgIC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcbiAgICBhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IHtcbiAgICAgICAgY29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBvbl9tb3VudC5tYXAocnVuKS5maWx0ZXIoaXNfZnVuY3Rpb24pO1xuICAgICAgICBpZiAob25fZGVzdHJveSkge1xuICAgICAgICAgICAgb25fZGVzdHJveS5wdXNoKC4uLm5ld19vbl9kZXN0cm95KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuICAgICAgICAgICAgLy8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuICAgICAgICAgICAgcnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG4gICAgICAgIH1cbiAgICAgICAgY29tcG9uZW50LiQkLm9uX21vdW50ID0gW107XG4gICAgfSk7XG4gICAgYWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5mdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuICAgIGlmIChjb21wb25lbnQuJCQuZnJhZ21lbnQpIHtcbiAgICAgICAgcnVuX2FsbChjb21wb25lbnQuJCQub25fZGVzdHJveSk7XG4gICAgICAgIGNvbXBvbmVudC4kJC5mcmFnbWVudC5kKGRldGFjaGluZyk7XG4gICAgICAgIC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cbiAgICAgICAgLy8gcHJlc2VydmUgZmluYWwgc3RhdGU/KVxuICAgICAgICBjb21wb25lbnQuJCQub25fZGVzdHJveSA9IGNvbXBvbmVudC4kJC5mcmFnbWVudCA9IG51bGw7XG4gICAgICAgIGNvbXBvbmVudC4kJC5jdHggPSB7fTtcbiAgICB9XG59XG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwga2V5KSB7XG4gICAgaWYgKCFjb21wb25lbnQuJCQuZGlydHkpIHtcbiAgICAgICAgZGlydHlfY29tcG9uZW50cy5wdXNoKGNvbXBvbmVudCk7XG4gICAgICAgIHNjaGVkdWxlX3VwZGF0ZSgpO1xuICAgICAgICBjb21wb25lbnQuJCQuZGlydHkgPSBibGFua19vYmplY3QoKTtcbiAgICB9XG4gICAgY29tcG9uZW50LiQkLmRpcnR5W2tleV0gPSB0cnVlO1xufVxuZnVuY3Rpb24gaW5pdChjb21wb25lbnQsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIG5vdF9lcXVhbCwgcHJvcF9uYW1lcykge1xuICAgIGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBleHBvcnRzLmN1cnJlbnRfY29tcG9uZW50O1xuICAgIHNldF9jdXJyZW50X2NvbXBvbmVudChjb21wb25lbnQpO1xuICAgIGNvbnN0IHByb3BzID0gb3B0aW9ucy5wcm9wcyB8fCB7fTtcbiAgICBjb25zdCAkJCA9IGNvbXBvbmVudC4kJCA9IHtcbiAgICAgICAgZnJhZ21lbnQ6IG51bGwsXG4gICAgICAgIGN0eDogbnVsbCxcbiAgICAgICAgLy8gc3RhdGVcbiAgICAgICAgcHJvcHM6IHByb3BfbmFtZXMsXG4gICAgICAgIHVwZGF0ZTogbm9vcCxcbiAgICAgICAgbm90X2VxdWFsLFxuICAgICAgICBib3VuZDogYmxhbmtfb2JqZWN0KCksXG4gICAgICAgIC8vIGxpZmVjeWNsZVxuICAgICAgICBvbl9tb3VudDogW10sXG4gICAgICAgIG9uX2Rlc3Ryb3k6IFtdLFxuICAgICAgICBiZWZvcmVfdXBkYXRlOiBbXSxcbiAgICAgICAgYWZ0ZXJfdXBkYXRlOiBbXSxcbiAgICAgICAgY29udGV4dDogbmV3IE1hcChwYXJlbnRfY29tcG9uZW50ID8gcGFyZW50X2NvbXBvbmVudC4kJC5jb250ZXh0IDogW10pLFxuICAgICAgICAvLyBldmVyeXRoaW5nIGVsc2VcbiAgICAgICAgY2FsbGJhY2tzOiBibGFua19vYmplY3QoKSxcbiAgICAgICAgZGlydHk6IG51bGxcbiAgICB9O1xuICAgIGxldCByZWFkeSA9IGZhbHNlO1xuICAgICQkLmN0eCA9IGluc3RhbmNlXG4gICAgICAgID8gaW5zdGFuY2UoY29tcG9uZW50LCBwcm9wcywgKGtleSwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgIGlmICgkJC5jdHggJiYgbm90X2VxdWFsKCQkLmN0eFtrZXldLCAkJC5jdHhba2V5XSA9IHZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmICgkJC5ib3VuZFtrZXldKVxuICAgICAgICAgICAgICAgICAgICAkJC5ib3VuZFtrZXldKHZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAocmVhZHkpXG4gICAgICAgICAgICAgICAgICAgIG1ha2VfZGlydHkoY29tcG9uZW50LCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICA6IHByb3BzO1xuICAgICQkLnVwZGF0ZSgpO1xuICAgIHJlYWR5ID0gdHJ1ZTtcbiAgICBydW5fYWxsKCQkLmJlZm9yZV91cGRhdGUpO1xuICAgICQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCk7XG4gICAgaWYgKG9wdGlvbnMudGFyZ2V0KSB7XG4gICAgICAgIGlmIChvcHRpb25zLmh5ZHJhdGUpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG4gICAgICAgICAgICAkJC5mcmFnbWVudC5sKGNoaWxkcmVuKG9wdGlvbnMudGFyZ2V0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLW5vbi1udWxsLWFzc2VydGlvblxuICAgICAgICAgICAgJCQuZnJhZ21lbnQuYygpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRpb25zLmludHJvKVxuICAgICAgICAgICAgdHJhbnNpdGlvbl9pbihjb21wb25lbnQuJCQuZnJhZ21lbnQpO1xuICAgICAgICBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCBvcHRpb25zLnRhcmdldCwgb3B0aW9ucy5hbmNob3IpO1xuICAgICAgICBmbHVzaCgpO1xuICAgIH1cbiAgICBzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5pZiAodHlwZW9mIEhUTUxFbGVtZW50ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGV4cG9ydHMuU3ZlbHRlRWxlbWVudCA9IGNsYXNzIGV4dGVuZHMgSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgICAgIHN1cGVyKCk7XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFNoYWRvdyh7IG1vZGU6ICdvcGVuJyB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25uZWN0ZWRDYWxsYmFjaygpIHtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmUgdG9kbzogaW1wcm92ZSB0eXBpbmdzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiB0aGlzLiQkLnNsb3R0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIHRvZG86IGltcHJvdmUgdHlwaW5nc1xuICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQodGhpcy4kJC5zbG90dGVkW2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGF0dHJpYnV0ZUNoYW5nZWRDYWxsYmFjayhhdHRyLCBfb2xkVmFsdWUsIG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzW2F0dHJdID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgJGRlc3Ryb3koKSB7XG4gICAgICAgICAgICBkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcbiAgICAgICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgICAgICB9XG4gICAgICAgICRvbih0eXBlLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgLy8gVE9ETyBzaG91bGQgdGhpcyBkZWxlZ2F0ZSB0byBhZGRFdmVudExpc3RlbmVyP1xuICAgICAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgICAgICBjYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpXG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICAkc2V0KCkge1xuICAgICAgICAgICAgLy8gb3ZlcnJpZGRlbiBieSBpbnN0YW5jZSwgaWYgaXQgaGFzIHByb3BzXG4gICAgICAgIH1cbiAgICB9O1xufVxuY2xhc3MgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICAkZGVzdHJveSgpIHtcbiAgICAgICAgZGVzdHJveV9jb21wb25lbnQodGhpcywgMSk7XG4gICAgICAgIHRoaXMuJGRlc3Ryb3kgPSBub29wO1xuICAgIH1cbiAgICAkb24odHlwZSwgY2FsbGJhY2spIHtcbiAgICAgICAgY29uc3QgY2FsbGJhY2tzID0gKHRoaXMuJCQuY2FsbGJhY2tzW3R5cGVdIHx8ICh0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSA9IFtdKSk7XG4gICAgICAgIGNhbGxiYWNrcy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gY2FsbGJhY2tzLmluZGV4T2YoY2FsbGJhY2spO1xuICAgICAgICAgICAgaWYgKGluZGV4ICE9PSAtMSlcbiAgICAgICAgICAgICAgICBjYWxsYmFja3Muc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgJHNldCgpIHtcbiAgICAgICAgLy8gb3ZlcnJpZGRlbiBieSBpbnN0YW5jZSwgaWYgaXQgaGFzIHByb3BzXG4gICAgfVxufVxuY2xhc3MgU3ZlbHRlQ29tcG9uZW50RGV2IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgICAgIGlmICghb3B0aW9ucyB8fCAoIW9wdGlvbnMudGFyZ2V0ICYmICFvcHRpb25zLiQkaW5saW5lKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAndGFyZ2V0JyBpcyBhIHJlcXVpcmVkIG9wdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxuICAgICRkZXN0cm95KCkge1xuICAgICAgICBzdXBlci4kZGVzdHJveSgpO1xuICAgICAgICB0aGlzLiRkZXN0cm95ID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKGBDb21wb25lbnQgd2FzIGFscmVhZHkgZGVzdHJveWVkYCk7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tY29uc29sZVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZXhwb3J0cy5IdG1sVGFnID0gSHRtbFRhZztcbmV4cG9ydHMuU3ZlbHRlQ29tcG9uZW50ID0gU3ZlbHRlQ29tcG9uZW50O1xuZXhwb3J0cy5TdmVsdGVDb21wb25lbnREZXYgPSBTdmVsdGVDb21wb25lbnREZXY7XG5leHBvcnRzLmFkZF9hdHRyaWJ1dGUgPSBhZGRfYXR0cmlidXRlO1xuZXhwb3J0cy5hZGRfY2xhc3NlcyA9IGFkZF9jbGFzc2VzO1xuZXhwb3J0cy5hZGRfZmx1c2hfY2FsbGJhY2sgPSBhZGRfZmx1c2hfY2FsbGJhY2s7XG5leHBvcnRzLmFkZF9sb2NhdGlvbiA9IGFkZF9sb2NhdGlvbjtcbmV4cG9ydHMuYWRkX3JlbmRlcl9jYWxsYmFjayA9IGFkZF9yZW5kZXJfY2FsbGJhY2s7XG5leHBvcnRzLmFkZF9yZXNpemVfbGlzdGVuZXIgPSBhZGRfcmVzaXplX2xpc3RlbmVyO1xuZXhwb3J0cy5hZGRfdHJhbnNmb3JtID0gYWRkX3RyYW5zZm9ybTtcbmV4cG9ydHMuYWZ0ZXJVcGRhdGUgPSBhZnRlclVwZGF0ZTtcbmV4cG9ydHMuYXBwZW5kID0gYXBwZW5kO1xuZXhwb3J0cy5hc3NpZ24gPSBhc3NpZ247XG5leHBvcnRzLmF0dHIgPSBhdHRyO1xuZXhwb3J0cy5iZWZvcmVVcGRhdGUgPSBiZWZvcmVVcGRhdGU7XG5leHBvcnRzLmJpbmQgPSBiaW5kO1xuZXhwb3J0cy5iaW5kaW5nX2NhbGxiYWNrcyA9IGJpbmRpbmdfY2FsbGJhY2tzO1xuZXhwb3J0cy5ibGFua19vYmplY3QgPSBibGFua19vYmplY3Q7XG5leHBvcnRzLmJ1YmJsZSA9IGJ1YmJsZTtcbmV4cG9ydHMuY2hlY2tfb3V0cm9zID0gY2hlY2tfb3V0cm9zO1xuZXhwb3J0cy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuZXhwb3J0cy5jbGFpbV9lbGVtZW50ID0gY2xhaW1fZWxlbWVudDtcbmV4cG9ydHMuY2xhaW1fdGV4dCA9IGNsYWltX3RleHQ7XG5leHBvcnRzLmNsZWFyX2xvb3BzID0gY2xlYXJfbG9vcHM7XG5leHBvcnRzLmNvbXBvbmVudF9zdWJzY3JpYmUgPSBjb21wb25lbnRfc3Vic2NyaWJlO1xuZXhwb3J0cy5jcmVhdGVFdmVudERpc3BhdGNoZXIgPSBjcmVhdGVFdmVudERpc3BhdGNoZXI7XG5leHBvcnRzLmNyZWF0ZV9hbmltYXRpb24gPSBjcmVhdGVfYW5pbWF0aW9uO1xuZXhwb3J0cy5jcmVhdGVfYmlkaXJlY3Rpb25hbF90cmFuc2l0aW9uID0gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbjtcbmV4cG9ydHMuY3JlYXRlX2luX3RyYW5zaXRpb24gPSBjcmVhdGVfaW5fdHJhbnNpdGlvbjtcbmV4cG9ydHMuY3JlYXRlX291dF90cmFuc2l0aW9uID0gY3JlYXRlX291dF90cmFuc2l0aW9uO1xuZXhwb3J0cy5jcmVhdGVfc2xvdCA9IGNyZWF0ZV9zbG90O1xuZXhwb3J0cy5jcmVhdGVfc3NyX2NvbXBvbmVudCA9IGNyZWF0ZV9zc3JfY29tcG9uZW50O1xuZXhwb3J0cy5jdXN0b21fZXZlbnQgPSBjdXN0b21fZXZlbnQ7XG5leHBvcnRzLmRlYnVnID0gZGVidWc7XG5leHBvcnRzLmRlc3Ryb3lfYmxvY2sgPSBkZXN0cm95X2Jsb2NrO1xuZXhwb3J0cy5kZXN0cm95X2NvbXBvbmVudCA9IGRlc3Ryb3lfY29tcG9uZW50O1xuZXhwb3J0cy5kZXN0cm95X2VhY2ggPSBkZXN0cm95X2VhY2g7XG5leHBvcnRzLmRldGFjaCA9IGRldGFjaDtcbmV4cG9ydHMuZGlydHlfY29tcG9uZW50cyA9IGRpcnR5X2NvbXBvbmVudHM7XG5leHBvcnRzLmVhY2ggPSBlYWNoO1xuZXhwb3J0cy5lbGVtZW50ID0gZWxlbWVudDtcbmV4cG9ydHMuZW1wdHkgPSBlbXB0eTtcbmV4cG9ydHMuZXNjYXBlID0gZXNjYXBlO1xuZXhwb3J0cy5lc2NhcGVkID0gZXNjYXBlZDtcbmV4cG9ydHMuZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyA9IGV4Y2x1ZGVfaW50ZXJuYWxfcHJvcHM7XG5leHBvcnRzLmZpeF9hbmRfZGVzdHJveV9ibG9jayA9IGZpeF9hbmRfZGVzdHJveV9ibG9jaztcbmV4cG9ydHMuZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayA9IGZpeF9hbmRfb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2s7XG5leHBvcnRzLmZpeF9wb3NpdGlvbiA9IGZpeF9wb3NpdGlvbjtcbmV4cG9ydHMuZmx1c2ggPSBmbHVzaDtcbmV4cG9ydHMuZ2V0Q29udGV4dCA9IGdldENvbnRleHQ7XG5leHBvcnRzLmdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlID0gZ2V0X2JpbmRpbmdfZ3JvdXBfdmFsdWU7XG5leHBvcnRzLmdldF9zbG90X2NoYW5nZXMgPSBnZXRfc2xvdF9jaGFuZ2VzO1xuZXhwb3J0cy5nZXRfc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dDtcbmV4cG9ydHMuZ2V0X3NwcmVhZF91cGRhdGUgPSBnZXRfc3ByZWFkX3VwZGF0ZTtcbmV4cG9ydHMuZ2V0X3N0b3JlX3ZhbHVlID0gZ2V0X3N0b3JlX3ZhbHVlO1xuZXhwb3J0cy5nbG9iYWxzID0gZ2xvYmFscztcbmV4cG9ydHMuZ3JvdXBfb3V0cm9zID0gZ3JvdXBfb3V0cm9zO1xuZXhwb3J0cy5oYW5kbGVfcHJvbWlzZSA9IGhhbmRsZV9wcm9taXNlO1xuZXhwb3J0cy5pZGVudGl0eSA9IGlkZW50aXR5O1xuZXhwb3J0cy5pbml0ID0gaW5pdDtcbmV4cG9ydHMuaW5zZXJ0ID0gaW5zZXJ0O1xuZXhwb3J0cy5pbnRyb3MgPSBpbnRyb3M7XG5leHBvcnRzLmludmFsaWRfYXR0cmlidXRlX25hbWVfY2hhcmFjdGVyID0gaW52YWxpZF9hdHRyaWJ1dGVfbmFtZV9jaGFyYWN0ZXI7XG5leHBvcnRzLmlzX2NsaWVudCA9IGlzX2NsaWVudDtcbmV4cG9ydHMuaXNfZnVuY3Rpb24gPSBpc19mdW5jdGlvbjtcbmV4cG9ydHMuaXNfcHJvbWlzZSA9IGlzX3Byb21pc2U7XG5leHBvcnRzLmxpc3RlbiA9IGxpc3RlbjtcbmV4cG9ydHMubG9vcCA9IGxvb3A7XG5leHBvcnRzLm1lYXN1cmUgPSBtZWFzdXJlO1xuZXhwb3J0cy5taXNzaW5nX2NvbXBvbmVudCA9IG1pc3NpbmdfY29tcG9uZW50O1xuZXhwb3J0cy5tb3VudF9jb21wb25lbnQgPSBtb3VudF9jb21wb25lbnQ7XG5leHBvcnRzLm5vb3AgPSBub29wO1xuZXhwb3J0cy5ub3RfZXF1YWwgPSBub3RfZXF1YWw7XG5leHBvcnRzLm51bGxfdG9fZW1wdHkgPSBudWxsX3RvX2VtcHR5O1xuZXhwb3J0cy5vYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzID0gb2JqZWN0X3dpdGhvdXRfcHJvcGVydGllcztcbmV4cG9ydHMub25EZXN0cm95ID0gb25EZXN0cm95O1xuZXhwb3J0cy5vbk1vdW50ID0gb25Nb3VudDtcbmV4cG9ydHMub25jZSA9IG9uY2U7XG5leHBvcnRzLm91dHJvX2FuZF9kZXN0cm95X2Jsb2NrID0gb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2s7XG5leHBvcnRzLnByZXZlbnRfZGVmYXVsdCA9IHByZXZlbnRfZGVmYXVsdDtcbmV4cG9ydHMucnVuID0gcnVuO1xuZXhwb3J0cy5ydW5fYWxsID0gcnVuX2FsbDtcbmV4cG9ydHMuc2FmZV9ub3RfZXF1YWwgPSBzYWZlX25vdF9lcXVhbDtcbmV4cG9ydHMuc2NoZWR1bGVfdXBkYXRlID0gc2NoZWR1bGVfdXBkYXRlO1xuZXhwb3J0cy5zZWxlY3RfbXVsdGlwbGVfdmFsdWUgPSBzZWxlY3RfbXVsdGlwbGVfdmFsdWU7XG5leHBvcnRzLnNlbGVjdF9vcHRpb24gPSBzZWxlY3Rfb3B0aW9uO1xuZXhwb3J0cy5zZWxlY3Rfb3B0aW9ucyA9IHNlbGVjdF9vcHRpb25zO1xuZXhwb3J0cy5zZWxlY3RfdmFsdWUgPSBzZWxlY3RfdmFsdWU7XG5leHBvcnRzLnNldENvbnRleHQgPSBzZXRDb250ZXh0O1xuZXhwb3J0cy5zZXRfYXR0cmlidXRlcyA9IHNldF9hdHRyaWJ1dGVzO1xuZXhwb3J0cy5zZXRfY3VycmVudF9jb21wb25lbnQgPSBzZXRfY3VycmVudF9jb21wb25lbnQ7XG5leHBvcnRzLnNldF9jdXN0b21fZWxlbWVudF9kYXRhID0gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGE7XG5leHBvcnRzLnNldF9kYXRhID0gc2V0X2RhdGE7XG5leHBvcnRzLnNldF9pbnB1dF90eXBlID0gc2V0X2lucHV0X3R5cGU7XG5leHBvcnRzLnNldF9ub3cgPSBzZXRfbm93O1xuZXhwb3J0cy5zZXRfcmFmID0gc2V0X3JhZjtcbmV4cG9ydHMuc2V0X3N0eWxlID0gc2V0X3N0eWxlO1xuZXhwb3J0cy5zcGFjZSA9IHNwYWNlO1xuZXhwb3J0cy5zcHJlYWQgPSBzcHJlYWQ7XG5leHBvcnRzLnN0b3BfcHJvcGFnYXRpb24gPSBzdG9wX3Byb3BhZ2F0aW9uO1xuZXhwb3J0cy5zdWJzY3JpYmUgPSBzdWJzY3JpYmU7XG5leHBvcnRzLnN2Z19lbGVtZW50ID0gc3ZnX2VsZW1lbnQ7XG5leHBvcnRzLnRleHQgPSB0ZXh0O1xuZXhwb3J0cy50aWNrID0gdGljaztcbmV4cG9ydHMudGltZV9yYW5nZXNfdG9fYXJyYXkgPSB0aW1lX3Jhbmdlc190b19hcnJheTtcbmV4cG9ydHMudG9fbnVtYmVyID0gdG9fbnVtYmVyO1xuZXhwb3J0cy50b2dnbGVfY2xhc3MgPSB0b2dnbGVfY2xhc3M7XG5leHBvcnRzLnRyYW5zaXRpb25faW4gPSB0cmFuc2l0aW9uX2luO1xuZXhwb3J0cy50cmFuc2l0aW9uX291dCA9IHRyYW5zaXRpb25fb3V0O1xuZXhwb3J0cy51cGRhdGVfa2V5ZWRfZWFjaCA9IHVwZGF0ZV9rZXllZF9lYWNoO1xuZXhwb3J0cy52YWxpZGF0ZV9jb21wb25lbnQgPSB2YWxpZGF0ZV9jb21wb25lbnQ7XG5leHBvcnRzLnZhbGlkYXRlX3N0b3JlID0gdmFsaWRhdGVfc3RvcmU7XG5leHBvcnRzLnhsaW5rX2F0dHIgPSB4bGlua19hdHRyO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuXG52YXIgaW50ZXJuYWwgPSByZXF1aXJlKCcuLi9pbnRlcm5hbCcpO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG4vKipcbiAqIENyZWF0ZXMgYSBgUmVhZGFibGVgIHN0b3JlIHRoYXQgYWxsb3dzIHJlYWRpbmcgYnkgc3Vic2NyaXB0aW9uLlxuICogQHBhcmFtIHZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXJ9c3RhcnQgc3RhcnQgYW5kIHN0b3Agbm90aWZpY2F0aW9ucyBmb3Igc3Vic2NyaXB0aW9uc1xuICovXG5mdW5jdGlvbiByZWFkYWJsZSh2YWx1ZSwgc3RhcnQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBzdWJzY3JpYmU6IHdyaXRhYmxlKHZhbHVlLCBzdGFydCkuc3Vic2NyaWJlLFxuICAgIH07XG59XG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKiBAcGFyYW0geyo9fXZhbHVlIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7U3RhcnRTdG9wTm90aWZpZXI9fXN0YXJ0IHN0YXJ0IGFuZCBzdG9wIG5vdGlmaWNhdGlvbnMgZm9yIHN1YnNjcmlwdGlvbnNcbiAqL1xuZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gaW50ZXJuYWwubm9vcCkge1xuICAgIGxldCBzdG9wO1xuICAgIGNvbnN0IHN1YnNjcmliZXJzID0gW107XG4gICAgZnVuY3Rpb24gc2V0KG5ld192YWx1ZSkge1xuICAgICAgICBpZiAoaW50ZXJuYWwuc2FmZV9ub3RfZXF1YWwodmFsdWUsIG5ld192YWx1ZSkpIHtcbiAgICAgICAgICAgIHZhbHVlID0gbmV3X3ZhbHVlO1xuICAgICAgICAgICAgaWYgKHN0b3ApIHsgLy8gc3RvcmUgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICBjb25zdCBydW5fcXVldWUgPSAhc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdWJzY3JpYmVycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBzID0gc3Vic2NyaWJlcnNbaV07XG4gICAgICAgICAgICAgICAgICAgIHNbMV0oKTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcl9xdWV1ZS5wdXNoKHMsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJ1bl9xdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN1YnNjcmliZXJfcXVldWUubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWVbaV1bMF0oc3Vic2NyaWJlcl9xdWV1ZVtpICsgMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdXBkYXRlKGZuKSB7XG4gICAgICAgIHNldChmbih2YWx1ZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJzY3JpYmUocnVuLCBpbnZhbGlkYXRlID0gaW50ZXJuYWwubm9vcCkge1xuICAgICAgICBjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG4gICAgICAgIHN1YnNjcmliZXJzLnB1c2goc3Vic2NyaWJlcik7XG4gICAgICAgIGlmIChzdWJzY3JpYmVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHN0b3AgPSBzdGFydChzZXQpIHx8IGludGVybmFsLm5vb3A7XG4gICAgICAgIH1cbiAgICAgICAgcnVuKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gc3Vic2NyaWJlcnMuaW5kZXhPZihzdWJzY3JpYmVyKTtcbiAgICAgICAgICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHN1YnNjcmliZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIHN0b3AoKTtcbiAgICAgICAgICAgICAgICBzdG9wID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgc2V0LCB1cGRhdGUsIHN1YnNjcmliZSB9O1xufVxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICogQHBhcmFtIHtTdG9yZXN9IHN0b3JlcyBpbnB1dCBzdG9yZXNcbiAqIEBwYXJhbSB7ZnVuY3Rpb24oU3RvcmVzPSwgZnVuY3Rpb24oKik9KToqfWZuIGZ1bmN0aW9uIGNhbGxiYWNrIHRoYXQgYWdncmVnYXRlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0geyo9fWluaXRpYWxfdmFsdWUgd2hlbiB1c2VkIGFzeW5jaHJvbm91c2x5XG4gKi9cbmZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuICAgIGNvbnN0IHNpbmdsZSA9ICFBcnJheS5pc0FycmF5KHN0b3Jlcyk7XG4gICAgY29uc3Qgc3RvcmVzX2FycmF5ID0gc2luZ2xlXG4gICAgICAgID8gW3N0b3Jlc11cbiAgICAgICAgOiBzdG9yZXM7XG4gICAgY29uc3QgYXV0byA9IGZuLmxlbmd0aCA8IDI7XG4gICAgcmV0dXJuIHJlYWRhYmxlKGluaXRpYWxfdmFsdWUsIChzZXQpID0+IHtcbiAgICAgICAgbGV0IGluaXRlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICAgICAgbGV0IHBlbmRpbmcgPSAwO1xuICAgICAgICBsZXQgY2xlYW51cCA9IGludGVybmFsLm5vb3A7XG4gICAgICAgIGNvbnN0IHN5bmMgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAocGVuZGluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNsZWFudXAoKTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGZuKHNpbmdsZSA/IHZhbHVlc1swXSA6IHZhbHVlcywgc2V0KTtcbiAgICAgICAgICAgIGlmIChhdXRvKSB7XG4gICAgICAgICAgICAgICAgc2V0KHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbGVhbnVwID0gaW50ZXJuYWwuaXNfZnVuY3Rpb24ocmVzdWx0KSA/IHJlc3VsdCA6IGludGVybmFsLm5vb3A7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHVuc3Vic2NyaWJlcnMgPSBzdG9yZXNfYXJyYXkubWFwKChzdG9yZSwgaSkgPT4gc3RvcmUuc3Vic2NyaWJlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdmFsdWVzW2ldID0gdmFsdWU7XG4gICAgICAgICAgICBwZW5kaW5nICY9IH4oMSA8PCBpKTtcbiAgICAgICAgICAgIGlmIChpbml0ZWQpIHtcbiAgICAgICAgICAgICAgICBzeW5jKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgIHBlbmRpbmcgfD0gKDEgPDwgaSk7XG4gICAgICAgIH0pKTtcbiAgICAgICAgaW5pdGVkID0gdHJ1ZTtcbiAgICAgICAgc3luYygpO1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gc3RvcCgpIHtcbiAgICAgICAgICAgIGludGVybmFsLnJ1bl9hbGwodW5zdWJzY3JpYmVycyk7XG4gICAgICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIH07XG4gICAgfSk7XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnZ2V0Jywge1xuXHRlbnVtZXJhYmxlOiB0cnVlLFxuXHRnZXQ6IGZ1bmN0aW9uICgpIHtcblx0XHRyZXR1cm4gaW50ZXJuYWwuZ2V0X3N0b3JlX3ZhbHVlO1xuXHR9XG59KTtcbmV4cG9ydHMuZGVyaXZlZCA9IGRlcml2ZWQ7XG5leHBvcnRzLnJlYWRhYmxlID0gcmVhZGFibGU7XG5leHBvcnRzLndyaXRhYmxlID0gd3JpdGFibGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG5cbnZhciBlYXNpbmcgPSByZXF1aXJlKCcuLi9lYXNpbmcnKTtcbnZhciBpbnRlcm5hbCA9IHJlcXVpcmUoJy4uL2ludGVybmFsJyk7XG5cbi8qISAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cclxuTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlXHJcbnRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlXHJcbkxpY2Vuc2UgYXQgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcblxyXG5USElTIENPREUgSVMgUFJPVklERUQgT04gQU4gKkFTIElTKiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXHJcbktJTkQsIEVJVEhFUiBFWFBSRVNTIE9SIElNUExJRUQsIElOQ0xVRElORyBXSVRIT1VUIExJTUlUQVRJT04gQU5ZIElNUExJRURcclxuV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIFRJVExFLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSxcclxuTUVSQ0hBTlRBQkxJVFkgT1IgTk9OLUlORlJJTkdFTUVOVC5cclxuXHJcblNlZSB0aGUgQXBhY2hlIFZlcnNpb24gMi4wIExpY2Vuc2UgZm9yIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9uc1xyXG5hbmQgbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcblxyXG5mdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cblxuZnVuY3Rpb24gZmFkZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAgfSkge1xuICAgIGNvbnN0IG8gPSArZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5vcGFjaXR5O1xuICAgIHJldHVybiB7XG4gICAgICAgIGRlbGF5LFxuICAgICAgICBkdXJhdGlvbixcbiAgICAgICAgY3NzOiB0ID0+IGBvcGFjaXR5OiAke3QgKiBvfWBcbiAgICB9O1xufVxuZnVuY3Rpb24gZmx5KG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nOiBlYXNpbmckMSA9IGVhc2luZy5jdWJpY091dCwgeCA9IDAsIHkgPSAwLCBvcGFjaXR5ID0gMCB9KSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGNvbnN0IHRhcmdldF9vcGFjaXR5ID0gK3N0eWxlLm9wYWNpdHk7XG4gICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICBjb25zdCBvZCA9IHRhcmdldF9vcGFjaXR5ICogKDEgLSBvcGFjaXR5KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZWxheSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzaW5nJDEsXG4gICAgICAgIGNzczogKHQsIHUpID0+IGBcblx0XHRcdHRyYW5zZm9ybTogJHt0cmFuc2Zvcm19IHRyYW5zbGF0ZSgkeygxIC0gdCkgKiB4fXB4LCAkeygxIC0gdCkgKiB5fXB4KTtcblx0XHRcdG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSAob2QgKiB1KX1gXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHNsaWRlKG5vZGUsIHsgZGVsYXkgPSAwLCBkdXJhdGlvbiA9IDQwMCwgZWFzaW5nOiBlYXNpbmckMSA9IGVhc2luZy5jdWJpY091dCB9KSB7XG4gICAgY29uc3Qgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIGNvbnN0IG9wYWNpdHkgPSArc3R5bGUub3BhY2l0eTtcbiAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUZsb2F0KHN0eWxlLmhlaWdodCk7XG4gICAgY29uc3QgcGFkZGluZ190b3AgPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApO1xuICAgIGNvbnN0IHBhZGRpbmdfYm90dG9tID0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKTtcbiAgICBjb25zdCBtYXJnaW5fdG9wID0gcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5Ub3ApO1xuICAgIGNvbnN0IG1hcmdpbl9ib3R0b20gPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkJvdHRvbSk7XG4gICAgY29uc3QgYm9yZGVyX3RvcF93aWR0aCA9IHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpO1xuICAgIGNvbnN0IGJvcmRlcl9ib3R0b21fd2lkdGggPSBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckJvdHRvbVdpZHRoKTtcbiAgICByZXR1cm4ge1xuICAgICAgICBkZWxheSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzaW5nJDEsXG4gICAgICAgIGNzczogdCA9PiBgb3ZlcmZsb3c6IGhpZGRlbjtgICtcbiAgICAgICAgICAgIGBvcGFjaXR5OiAke01hdGgubWluKHQgKiAyMCwgMSkgKiBvcGFjaXR5fTtgICtcbiAgICAgICAgICAgIGBoZWlnaHQ6ICR7dCAqIGhlaWdodH1weDtgICtcbiAgICAgICAgICAgIGBwYWRkaW5nLXRvcDogJHt0ICogcGFkZGluZ190b3B9cHg7YCArXG4gICAgICAgICAgICBgcGFkZGluZy1ib3R0b206ICR7dCAqIHBhZGRpbmdfYm90dG9tfXB4O2AgK1xuICAgICAgICAgICAgYG1hcmdpbi10b3A6ICR7dCAqIG1hcmdpbl90b3B9cHg7YCArXG4gICAgICAgICAgICBgbWFyZ2luLWJvdHRvbTogJHt0ICogbWFyZ2luX2JvdHRvbX1weDtgICtcbiAgICAgICAgICAgIGBib3JkZXItdG9wLXdpZHRoOiAke3QgKiBib3JkZXJfdG9wX3dpZHRofXB4O2AgK1xuICAgICAgICAgICAgYGJvcmRlci1ib3R0b20td2lkdGg6ICR7dCAqIGJvcmRlcl9ib3R0b21fd2lkdGh9cHg7YFxuICAgIH07XG59XG5mdW5jdGlvbiBzY2FsZShub2RlLCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSA0MDAsIGVhc2luZzogZWFzaW5nJDEgPSBlYXNpbmcuY3ViaWNPdXQsIHN0YXJ0ID0gMCwgb3BhY2l0eSA9IDAgfSkge1xuICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICBjb25zdCB0YXJnZXRfb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgIGNvbnN0IHRyYW5zZm9ybSA9IHN0eWxlLnRyYW5zZm9ybSA9PT0gJ25vbmUnID8gJycgOiBzdHlsZS50cmFuc2Zvcm07XG4gICAgY29uc3Qgc2QgPSAxIC0gc3RhcnQ7XG4gICAgY29uc3Qgb2QgPSB0YXJnZXRfb3BhY2l0eSAqICgxIC0gb3BhY2l0eSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGVsYXksXG4gICAgICAgIGR1cmF0aW9uLFxuICAgICAgICBlYXNpbmc6IGVhc2luZyQxLFxuICAgICAgICBjc3M6IChfdCwgdSkgPT4gYFxuXHRcdFx0dHJhbnNmb3JtOiAke3RyYW5zZm9ybX0gc2NhbGUoJHsxIC0gKHNkICogdSl9KTtcblx0XHRcdG9wYWNpdHk6ICR7dGFyZ2V0X29wYWNpdHkgLSAob2QgKiB1KX1cblx0XHRgXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRyYXcobm9kZSwgeyBkZWxheSA9IDAsIHNwZWVkLCBkdXJhdGlvbiwgZWFzaW5nOiBlYXNpbmckMSA9IGVhc2luZy5jdWJpY0luT3V0IH0pIHtcbiAgICBjb25zdCBsZW4gPSBub2RlLmdldFRvdGFsTGVuZ3RoKCk7XG4gICAgaWYgKGR1cmF0aW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHNwZWVkID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGR1cmF0aW9uID0gODAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZHVyYXRpb24gPSBsZW4gLyBzcGVlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgZHVyYXRpb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZHVyYXRpb24gPSBkdXJhdGlvbihsZW4pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBkZWxheSxcbiAgICAgICAgZHVyYXRpb24sXG4gICAgICAgIGVhc2luZzogZWFzaW5nJDEsXG4gICAgICAgIGNzczogKHQsIHUpID0+IGBzdHJva2UtZGFzaGFycmF5OiAke3QgKiBsZW59ICR7dSAqIGxlbn1gXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGNyb3NzZmFkZShfYSkge1xuICAgIHZhciB7IGZhbGxiYWNrIH0gPSBfYSwgZGVmYXVsdHMgPSBfX3Jlc3QoX2EsIFtcImZhbGxiYWNrXCJdKTtcbiAgICBjb25zdCB0b19yZWNlaXZlID0gbmV3IE1hcCgpO1xuICAgIGNvbnN0IHRvX3NlbmQgPSBuZXcgTWFwKCk7XG4gICAgZnVuY3Rpb24gY3Jvc3NmYWRlKGZyb20sIG5vZGUsIHBhcmFtcykge1xuICAgICAgICBjb25zdCB7IGRlbGF5ID0gMCwgZHVyYXRpb24gPSBkID0+IE1hdGguc3FydChkKSAqIDMwLCBlYXNpbmc6IGVhc2luZyQxID0gZWFzaW5nLmN1YmljT3V0IH0gPSBpbnRlcm5hbC5hc3NpZ24oaW50ZXJuYWwuYXNzaWduKHt9LCBkZWZhdWx0cyksIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IHRvID0gbm9kZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgY29uc3QgZHggPSBmcm9tLmxlZnQgLSB0by5sZWZ0O1xuICAgICAgICBjb25zdCBkeSA9IGZyb20udG9wIC0gdG8udG9wO1xuICAgICAgICBjb25zdCBkdyA9IGZyb20ud2lkdGggLyB0by53aWR0aDtcbiAgICAgICAgY29uc3QgZGggPSBmcm9tLmhlaWdodCAvIHRvLmhlaWdodDtcbiAgICAgICAgY29uc3QgZCA9IE1hdGguc3FydChkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgICAgIGNvbnN0IHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShub2RlKTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtID0gc3R5bGUudHJhbnNmb3JtID09PSAnbm9uZScgPyAnJyA6IHN0eWxlLnRyYW5zZm9ybTtcbiAgICAgICAgY29uc3Qgb3BhY2l0eSA9ICtzdHlsZS5vcGFjaXR5O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZGVsYXksXG4gICAgICAgICAgICBkdXJhdGlvbjogaW50ZXJuYWwuaXNfZnVuY3Rpb24oZHVyYXRpb24pID8gZHVyYXRpb24oZCkgOiBkdXJhdGlvbixcbiAgICAgICAgICAgIGVhc2luZzogZWFzaW5nJDEsXG4gICAgICAgICAgICBjc3M6ICh0LCB1KSA9PiBgXG5cdFx0XHRcdG9wYWNpdHk6ICR7dCAqIG9wYWNpdHl9O1xuXHRcdFx0XHR0cmFuc2Zvcm0tb3JpZ2luOiB0b3AgbGVmdDtcblx0XHRcdFx0dHJhbnNmb3JtOiAke3RyYW5zZm9ybX0gdHJhbnNsYXRlKCR7dSAqIGR4fXB4LCR7dSAqIGR5fXB4KSBzY2FsZSgke3QgKyAoMSAtIHQpICogZHd9LCAke3QgKyAoMSAtIHQpICogZGh9KTtcblx0XHRcdGBcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJhbnNpdGlvbihpdGVtcywgY291bnRlcnBhcnRzLCBpbnRybykge1xuICAgICAgICByZXR1cm4gKG5vZGUsIHBhcmFtcykgPT4ge1xuICAgICAgICAgICAgaXRlbXMuc2V0KHBhcmFtcy5rZXksIHtcbiAgICAgICAgICAgICAgICByZWN0OiBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXJwYXJ0cy5oYXMocGFyYW1zLmtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZWN0IH0gPSBjb3VudGVycGFydHMuZ2V0KHBhcmFtcy5rZXkpO1xuICAgICAgICAgICAgICAgICAgICBjb3VudGVycGFydHMuZGVsZXRlKHBhcmFtcy5rZXkpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3Jvc3NmYWRlKHJlY3QsIG5vZGUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBub2RlIGlzIGRpc2FwcGVhcmluZyBhbHRvZ2V0aGVyXG4gICAgICAgICAgICAgICAgLy8gKGkuZS4gd2Fzbid0IGNsYWltZWQgYnkgdGhlIG90aGVyIGxpc3QpXG4gICAgICAgICAgICAgICAgLy8gdGhlbiB3ZSBuZWVkIHRvIHN1cHBseSBhbiBvdXRyb1xuICAgICAgICAgICAgICAgIGl0ZW1zLmRlbGV0ZShwYXJhbXMua2V5KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsbGJhY2sgJiYgZmFsbGJhY2sobm9kZSwgcGFyYW1zLCBpbnRybyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgICB0cmFuc2l0aW9uKHRvX3NlbmQsIHRvX3JlY2VpdmUsIGZhbHNlKSxcbiAgICAgICAgdHJhbnNpdGlvbih0b19yZWNlaXZlLCB0b19zZW5kLCB0cnVlKVxuICAgIF07XG59XG5cbmV4cG9ydHMuY3Jvc3NmYWRlID0gY3Jvc3NmYWRlO1xuZXhwb3J0cy5kcmF3ID0gZHJhdztcbmV4cG9ydHMuZmFkZSA9IGZhZGU7XG5leHBvcnRzLmZseSA9IGZseTtcbmV4cG9ydHMuc2NhbGUgPSBzY2FsZTtcbmV4cG9ydHMuc2xpZGUgPSBzbGlkZTtcbiIsInZhciB0aW1lYWdvID0gZnVuY3Rpb24oKXt9O1xuXG50aW1lYWdvLnByb3RvdHlwZS5zaW1wbGUgPSBmdW5jdGlvbihkYXRlX3RpbWUpIHtcbiAgICAvLyB0b2RheSBkYXRlIGFuZCB0aW1lIGluIG1pbGxpc2Vjb25kcyBcbiAgICB2YXIgdG9kYXkgPSBEYXRlLm5vdygpO1xuICAgIHZhciBkYXRlUGFyc2UgPSBEYXRlLnBhcnNlKGRhdGVfdGltZSk7XG4gICAgXG4gICAgLy9XZSB3aWxsIHBlcmZvcm0gc29tZSB0ZXN0IC0gaWYgdGhlcmUgaXMgZXJyb3IsIHdlIHdpbGwgdGhyb3cgZXJyb3IgdG8gY29uc29sZSBhbmQgZXhpdCwgbm8gY2hhbmdlIHdpbGwgYmUgb24gdGhlIGRhdGEuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB3ZSBhYmxlIHRvIHBhcnNlIHRoZSBEYXRlIChpZiB0aGUgcmVzdWx0IGlzIE5hTiwgdGhpcyBpcyBhbiBpc3N1ZSlcbiAgICAgICAgaWYoZGF0ZVBhcnNlICE9PSBkYXRlUGFyc2UpIHRocm93IFwidGltZWFnby1zaW1wbGU6IFBsZWFzZSBjaGVjayBkYXRlIGFuZCB0aW1lIGZvcm1hdCEgVW5hYmxlIHRvIHBhcnNlIHRoZSBkYXRlICYgdGltZTogXCIgKyBkYXRlX3RpbWU7XG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIHJldHVybiAoZGF0ZV90aW1lKTtcbiAgICB9XG4gICAgXG4gICAgaWYoKGRhdGVQYXJzZSAtIHRvZGF5KSA8IDApIHtcblx0XHRyZXR1cm4gcGFzdENhbGMoZGF0ZV90aW1lKTtcblx0fSBlbHNlIHtcblx0XHRyZXR1cm4gZnV0dXJlQ2FsYyhkYXRlX3RpbWUpO1xuXHR9XG59O1xuXG5cbi8vIEdlbmVyYWwgaGVscCBmdW5jdGlvbnMgZm9yIHRpbWUgY2FsY3VsYXRpb25zXG5mdW5jdGlvbiBwYXN0Q2FsYyh0aW1lRGF0YSl7XG5cbiAgICAvLyB0b2RheSBkYXRlIGFuZCB0aW1lIGluIG1pbGxpc2Vjb25kcyBcbiAgICB2YXIgdG9kYXkgPSBEYXRlLm5vdygpO1xuICAgICAgICBcbiAgICAvLyBwYXJzaW5nIHBvc3QgZGF0ZSBhbmQgdGltZSBpbnRvIG1pbGxpc2Vjb25kcyBmb3JtYXRcbiAgICB0aW1lRGF0YSA9IERhdGUucGFyc2UodGltZURhdGEpO1xuXG4gICAgdmFyIHNlY29uZHMgPSAodG9kYXkgLSB0aW1lRGF0YSkgLyAxMDAwO1xuICAgIHZhciBtaW51dGVzID0gKHNlY29uZHMgLyA2MCk7XG4gICAgdmFyIGhvdXJzID0gKHNlY29uZHMgLyAzNjAwKTtcbiAgICBpZihzZWNvbmRzIDwgNjAgJiYgbWludXRlcyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIChzZWNvbmRzID09PSAxID8gTWF0aC5yb3VuZChzZWNvbmRzKSArIFwiIHNlY29uZCBhZ29cIiA6IE1hdGgucm91bmQoc2Vjb25kcykgKyBcIiBzZWNvbmRzIGFnb1wiKTtcbiAgICB9XG4gICAgaWYobWludXRlcyA8IDYwICYmIGhvdXJzIDwgMSkge1xuICAgICAgICByZXR1cm4gKG1pbnV0ZXMgPT09IDEgPyBNYXRoLnJvdW5kKG1pbnV0ZXMpICsgXCIgbWludXRlIGFnb1wiIDogTWF0aC5yb3VuZChtaW51dGVzKSArIFwiIG1pbnV0ZXMgYWdvXCIpO1xuICAgIH1cbiAgICBpZihob3VycyA+IDI0KXtcbiAgICAgICAgdmFyIGRheXMgPSBob3VycyAvIDI0O1xuICAgICAgICBpZiAoZGF5cyA+IDMwKSB7XG4gICAgICAgICAgICB2YXIgbW9udGggPSBkYXlzIC8gMzA7XG4gICAgICAgICAgICBpZiAobW9udGggPiAxMikge1xuICAgICAgICAgICAgICAgIHZhciB5ZWFycyA9IG1vbnRoIC8gMTI7XG4gICAgICAgICAgICAgICAgaWYgKHllYXJzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHllYXJzID09PSAxID8gTWF0aC5jZWlsKHllYXJzKSArIFwiIHllYXIgYWdvXCIgOiBNYXRoLmNlaWwoeWVhcnMpICsgXCIgeWVhcnMgYWdvXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiAoTWF0aC5yb3VuZChtb250aCkgKyBcIiBtb250aCBhZ29cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChkYXlzID09PSAxID8gTWF0aC5yb3VuZChkYXlzKSArIFwiIGRheSBhZ29cIiA6IE1hdGgucm91bmQoZGF5cykgKyBcIiBkYXlzIGFnb1wiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gKGhvdXJzID09PSAxID8gTWF0aC5yb3VuZChob3VycykgKyBcIiBob3VyIGFnb1wiIDogTWF0aC5yb3VuZChob3VycykgKyBcIiBob3VycyBhZ29cIik7XG4gICAgfVxuICAgICAgICBcbn1cblxuZnVuY3Rpb24gZnV0dXJlQ2FsYyh0aW1lRGF0YSl7XG5cbiAgICAvLyB0b2RheSBkYXRlIGFuZCB0aW1lIGluIG1pbGxpc2Vjb25kcyBcbiAgICB2YXIgdG9kYXkgPSBEYXRlLm5vdygpO1xuICAgICBcbiAgICAvLyBwYXJzaW5nIHBvc3QgZGF0ZSBhbmQgdGltZSBpbnRvIG1pbGxpc2Vjb25kcyBmb3JtYXRcbiAgICB0aW1lRGF0YSA9IERhdGUucGFyc2UodGltZURhdGEpO1xuICAgIHZhciBzZWNvbmRzID0gKHRpbWVEYXRhIC0gdG9kYXkpIC8gMTAwMDtcbiAgICB2YXIgbWludXRlcyA9IChzZWNvbmRzIC8gNjApO1xuICAgIHZhciBob3VycyA9IChzZWNvbmRzIC8gMzYwMCk7XG4gICAgaWYoc2Vjb25kcyA8IDYwICYmIG1pbnV0ZXMgPCAxKSB7XG4gICAgICAgIHJldHVybiAoc2Vjb25kcyA9PT0gMSA/IFwiaW4gXCIgKyBNYXRoLnJvdW5kKHNlY29uZHMpICsgXCIgc2Vjb25kXCIgOiBcImluIFwiICsgTWF0aC5yb3VuZChzZWNvbmRzKSArIFwiIHNlY29uZHNcIik7XG4gICAgfVxuICAgIGlmKG1pbnV0ZXMgPCA2MCAmJiBob3VycyA8IDEpIHtcbiAgICAgICAgcmV0dXJuIChtaW51dGVzID09PSAxID8gXCJpbiBcIiArIE1hdGgucm91bmQobWludXRlcykgKyBcIiBtaW51dGVcIiA6IFwiaW4gXCIgKyBNYXRoLnJvdW5kKG1pbnV0ZXMpICsgXCIgbWludXRlc1wiKTtcbiAgICB9XG4gICAgaWYoaG91cnMgPiAyNCl7XG4gICAgICAgIHZhciBkYXlzID0gaG91cnMgLyAyNDtcbiAgICAgICAgaWYgKGRheXMgPiAzMCkge1xuICAgICAgICAgICAgdmFyIG1vbnRoID0gZGF5cyAvIDMwO1xuICAgICAgICAgICAgaWYgKG1vbnRoID4gMTIpIHtcbiAgICAgICAgICAgICAgICB2YXIgeWVhcnMgPSBtb250aCAvIDEyO1xuICAgICAgICAgICAgICAgIGlmICh5ZWFycyA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICh5ZWFycyA9PT0gMSA/IFwiaW4gXCIgKyBNYXRoLmNlaWwoeWVhcnMpICsgXCIgeWVhclwiIDogXCJpbiBcIiArIE1hdGguY2VpbCh5ZWFycykgKyBcIiB5ZWFyc1wiKTsgXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICByZXR1cm4gKFwiaW4gXCIgKyBNYXRoLnJvdW5kKG1vbnRoKSArIFwiIG1vbnRoXCIpOyBcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKGRheXMgPT09IDEgPyBcImluIFwiICsgTWF0aC5yb3VuZChkYXlzKSArIFwiIGRheVwiIDogXCJpbiBcIiArIE1hdGgucm91bmQoZGF5cykgKyBcIiBkYXlzXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAoaG91cnMgPT09IDEgPyBcImluIFwiICsgTWF0aC5yb3VuZChob3VycykgKyBcIiBob3VyXCIgOiBcImluIFwiICsgTWF0aC5yb3VuZChob3VycykgKyBcIiBob3Vyc1wiKTtcbiAgICB9XG59XG5cbi8vIEZ1dHVyZSBjYWxjdWxhdGlvblxudGltZWFnby5wcm90b3R5cGUuZnV0dXJlID0gZnVuY3Rpb24odGltZURhdGEpIHtcbiAgICBjb25zb2xlLndhcm4oXCJ0aW1lYWdvLXNpbXBsZTogLmZ1dHVyZSBmdW5jdGlvbiBpcyBkZXByaWNhdGVkISBQbGVhc2UgdXNlIC5zaW1wbGUgZm9yIGJvdGggcGFzdCBhbmQgZnV0dXJlIGRhdGVzLlwiKTtcbiAgICAvLyB0b2RheSBkYXRlIGFuZCB0aW1lIGluIG1pbGxpc2Vjb25kcyBcbiAgICB2YXIgdG9kYXkgPSBEYXRlLm5vdygpO1xuXG4gICAgLy9XZSB3aWxsIHBlcmZvcm0gc29tZSB0ZXN0IC0gaWYgdGhlcmUgaXMgZXJyb3IsIHdlIHdpbGwgdGhyb3cgZXJyb3IgdG8gY29uc29sZSBhbmQgZXhpdCwgbm8gY2hhbmdlIHdpbGwgYmUgb24gdGhlIGRhdGEuXG4gICAgdHJ5IHtcbiAgICAgICAgLy8gV2UgbmVlZCB0byBjaGVjayBpZiB3ZSBhYmxlIHRvIHBhcnNlIHRoZSBEYXRlIChpZiB0aGUgcmVzdWx0IGlzIE5hTiwgdGhpcyBpcyBhbiBpc3N1ZSlcbiAgICAgICAgaWYoRGF0ZS5wYXJzZSh0aW1lRGF0YSkgIT09IERhdGUucGFyc2UodGltZURhdGEpKSB0aHJvdyBcInRpbWVhZ28tc2ltcGxlOiBQbGVhc2UgY2hlY2sgZGF0ZSBhbmQgdGltZSBmb3JtYXQhIFVuYWJsZSB0byBwYXJzZSB0aGUgZGF0ZSAmIHRpbWU6IFwiICsgdGltZURhdGE7XG4gICAgICAgIC8vIE5lZWQgdG8gY2hlY2sgaWYgaXQncyByZWFsbHkgZnV0dXJlIGRhdGUgdG8gcGFyc2VcbiAgICAgICAgaWYoKERhdGUucGFyc2UodGltZURhdGEpIC0gdG9kYXkpIDwgMCkgdGhyb3cgXCJ0aW1lYWdvLXNpbXBsZTogTG9va3MgbGlrZSBpdCdzIG1vcmUgcmVsZXZhbnQgY2FzZSBmb3IgdGltZWFnby5zaW1wbGVcIjsgXG4gICAgfVxuICAgIGNhdGNoKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIHJldHVybiAodGltZURhdGEpO1xuICAgIH1cbiAgXG4gICAgLy8gcGFyc2luZyBwb3N0IGRhdGUgYW5kIHRpbWUgaW50byBtaWxsaXNlY29uZHMgZm9ybWF0XG4gICAgdGltZURhdGEgPSBEYXRlLnBhcnNlKHRpbWVEYXRhKTtcbiAgICB2YXIgc2Vjb25kcyA9ICh0aW1lRGF0YSAtIHRvZGF5KSAvIDEwMDA7XG4gICAgdmFyIG1pbnV0ZXMgPSAoc2Vjb25kcyAvIDYwKTtcbiAgICB2YXIgaG91cnMgPSAoc2Vjb25kcyAvIDM2MDApO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmKHNlY29uZHMgPCA2MCAmJiBtaW51dGVzIDwgMSkge1xuICAgICAgICByZXR1cm4gKHNlY29uZHMgPT09IDEgPyBcImluIFwiICsgTWF0aC5yb3VuZChzZWNvbmRzKSArIFwiIHNlY29uZFwiIDogXCJpbiBcIiArIE1hdGgucm91bmQoc2Vjb25kcykgKyBcIiBzZWNvbmRzXCIpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZihtaW51dGVzIDwgNjAgJiYgaG91cnMgPCAxKSB7XG4gICAgXHRyZXR1cm4gKG1pbnV0ZXMgPT09IDEgPyBcImluIFwiICsgTWF0aC5yb3VuZChtaW51dGVzKSArIFwiIG1pbnV0ZVwiIDogXCJpbiBcIiArIE1hdGgucm91bmQobWludXRlcykgKyBcIiBtaW51dGVzXCIpO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZihob3VycyA+IDI0KXtcbiAgICAgICAgdmFyIGRheXMgPSBob3VycyAvIDI0O1xuICAgICAgICBpZiAoZGF5cyA+IDMwKSB7XG4gICAgICAgICAgICB2YXIgbW9udGggPSBkYXlzIC8gMzA7XG4gICAgICAgICAgICBpZiAobW9udGggPiAxMikge1xuICAgICAgICAgICAgICAgIHZhciB5ZWFycyA9IG1vbnRoIC8gMTI7XG4gICAgICAgICAgICAgICAgaWYgKHllYXJzID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHllYXJzID09PSAxID8gXCJpbiBcIiArIE1hdGguY2VpbCh5ZWFycykgKyBcIiB5ZWFyXCIgOiBcImluIFwiICsgTWF0aC5jZWlsKHllYXJzKSArIFwiIHllYXJzXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblx0ICAgICAgICByZXR1cm4gKFwiaW4gXCIgKyBNYXRoLnJvdW5kKG1vbnRoKSArIFwiIG1vbnRoXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoZGF5cyA9PT0gMSA/IFwiaW4gXCIgKyBNYXRoLnJvdW5kKGRheXMpICsgXCIgZGF5XCIgOiBcImluIFwiICsgTWF0aC5yb3VuZChkYXlzKSArIFwiIGRheXNcIik7XG4gICAgfVxuICAgIHJldHVybiAoaG91cnMgPT09IDEgPyBcImluIFwiICsgTWF0aC5yb3VuZChob3VycykgKyBcIiBob3VyXCIgOiBcImluIFwiICsgTWF0aC5yb3VuZChob3VycykgKyBcIiBob3Vyc1wiKTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgdGltZWFnbygpOyIsIi8qIE5hdmlnYXRpb24uc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRjb21wb25lbnRfc3Vic2NyaWJlLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRwcmV2ZW50X2RlZmF1bHQsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzcGFjZSxcblx0c3RvcF9wcm9wYWdhdGlvbixcblx0dGV4dCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJOYXZpZ2F0aW9uLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBhZGRfY3NzKCkge1xuXHR2YXIgc3R5bGUgPSBlbGVtZW50KFwic3R5bGVcIik7XG5cdHN0eWxlLmlkID0gJ3N2ZWx0ZS0xYXZhYXhiLXN0eWxlJztcblx0c3R5bGUudGV4dENvbnRlbnQgPSBcIi5ibG9ja2VyLnN2ZWx0ZS0xYXZhYXhie2hlaWdodDo3MHB4O2Rpc3BsYXk6YmxvY2t9LmFib3ZlLnN2ZWx0ZS0xYXZhYXhie3otaW5kZXg6OTk5OTk7d2lkdGg6MTAwO3BhZGRpbmc6NXB4O3Bvc2l0aW9uOmZpeGVkfS5jdXJyZW50LnN2ZWx0ZS0xYXZhYXhie2JvcmRlcjpub25lO2JhY2tncm91bmQ6bm9uZTtib3JkZXItYm90dG9tOnNvbGlkIDJweCByZ2IoMiwgMTQ2LCA1MCk7b3V0bGluZTpub25lfS50aHJvdy10aGluZ3MtdG8tdGhlLXJpZ2h0LnN2ZWx0ZS0xYXZhYXhie3dpZHRoOjEwMCU7dGV4dC1hbGlnbjpyaWdodH1cXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVRtRjJhV2RoZEdsdmJpNXpkbVZzZEdVaUxDSnpiM1Z5WTJWeklqcGJJazVoZG1sbllYUnBiMjR1YzNabGJIUmxJbDBzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWp4elkzSnBjSFErWEhKY2JpQWdZMjl1YzNRZ2UxeHlYRzRnSUNBZ1kyOXVibVZqZEdWa0xGeHlYRzRnSUNBZ2JtRjJhV2RoZEdVc1hISmNiaUFnSUNCeWIzVjBaVXh2WTJGMGFXOXVMRnh5WEc0Z0lDQWdhVzUwWlhKalpYQjBYSEpjYmlBZ2ZTQTlJSEpsY1hWcGNtVW9YQ0l1TDNWMGFXeHpMbXB6WENJcE8xeHlYRzVjY2x4dUlDQnNaWFFnWVhaaGRHRnlJRDBnWENJdmFXMWhaMlZ6TDJsamIyNHVjRzVuWENJN1hISmNibHh5WEc0Z0lHeGxkQ0J4ZFdWeWVTQTlJRndpWENJN1hISmNibHh5WEc0Z0lDUTZJR2xtSUNna1kyOXVibVZqZEdWa0tTQjdYSEpjYmlBZ0lDQnpjMkl1WVhaaGRHRnlLSE56WWk1bVpXVmtLUzUwYUdWdUtHUmhkR0VnUFQ0Z2UxeHlYRzRnSUNBZ0lDQmhkbUYwWVhJZ1BTQmdhSFIwY0RvdkwyeHZZMkZzYUc5emREbzRPVGc1TDJKc2IySnpMMmRsZEM4a2UyUmhkR0V1YVcxaFoyVjlZRHRjY2x4dUlDQWdJSDBwTzF4eVhHNGdJSDFjY2x4dVhISmNiaUFnWTI5dWMzUWdaMjlUWlhSMGFXNW5jeUE5SUdWMklEMCtJRzVoZG1sbllYUmxLRndpTDNObGRIUnBibWR6WENJcE8xeHlYRzRnSUdOdmJuTjBJR2R2UTI5dGNHOXpaU0E5SUNncElEMCtJRzVoZG1sbllYUmxLRndpTDJOdmJYQnZjMlV2Y0c5emRGd2lLVHRjY2x4dUlDQmpiMjV6ZENCbmIwTnZiWEJ2YzJWQ2JHOW5JRDBnS0NrZ1BUNGdibUYyYVdkaGRHVW9YQ0l2WTI5dGNHOXpaUzlpYkc5blhDSXBPMXh5WEc0Z0lHTnZibk4wSUdkdlVIVmliR2xqSUQwZ0tDa2dQVDRnYm1GMmFXZGhkR1VvWENJdmNIVmliR2xqWENJcE8xeHlYRzRnSUdOdmJuTjBJR2R2UTJoaGJtNWxiSE1nUFNBb0tTQTlQaUJ1WVhacFoyRjBaU2hjSWk5amFHRnVibVZzYzF3aUtUdGNjbHh1SUNCamIyNXpkQ0JuYjAxbGJuUnBiMjV6SUQwZ0tDa2dQVDRnYm1GMmFXZGhkR1VvWENJdmJXVnVkR2x2Ym5OY0lpazdYSEpjYmx4eVhHNGdJR052Ym5OMElHZHZVMlZoY21Ob0lEMGdLQ2tnUFQ0Z2UxeHlYRzRnSUNBZ2JHVjBJR01nUFNCeGRXVnllVnN3WFR0Y2NseHVJQ0FnSUdsbUlDaGpJRDA5UFNCY0lpTmNJaUI4ZkNCaklEMDlQU0JjSWtCY0lpQjhmQ0JqSUQwOVBTQmNJaVpjSWlrZ2UxeHlYRzRnSUNBZ0lDQnVZWFpwWjJGMFpTaGNJaTlwYm5SbGNtTmxjSFJjSWl3Z2V5QnhkV1Z5ZVNCOUtUdGNjbHh1SUNBZ0lDQWdhVzUwWlhKalpYQjBLQ2s3WEhKY2JpQWdJQ0I5SUdWc2MyVWdlMXh5WEc0Z0lDQWdJQ0J1WVhacFoyRjBaU2hjSWk5elpXRnlZMmhjSWl3Z2V5QnhkV1Z5ZVNCOUtUdGNjbHh1SUNBZ0lIMWNjbHh1SUNCOU8xeHlYRzVjY2x4dUlDQmpiMjV6ZENCdmNHVnVVMmxrWldKaGNpQTlJR0Z6ZVc1aklHVjJJRDArSUh0Y2NseHVJQ0FnSUd4bGRDQnNiMk1nUFNCM2FXNWtiM2N1Ykc5allYUnBiMjR1YUhKbFpqdGNjbHh1SUNBZ0lHSnliM2R6WlhJdWMybGtaV0poY2tGamRHbHZiaTV6WlhSUVlXNWxiQ2g3SUhCaGJtVnNPaUJzYjJNZ2ZTazdYSEpjYmlBZ0lDQmljbTkzYzJWeUxuTnBaR1ZpWVhKQlkzUnBiMjR1YjNCbGJpZ3BPMXh5WEc0Z0lIMDdYSEpjYmx4eVhHNGdJR052Ym5OMElHTnNiM05sVTJsa1pXSmhjaUE5SUdGemVXNWpJR1YySUQwK0lIdGNjbHh1SUNBZ0lHeGxkQ0JzYjJNZ1BTQmhkMkZwZENCaWNtOTNjMlZ5TG5OcFpHVmlZWEpCWTNScGIyNHVaMlYwVUdGdVpXd29lMzBwTzF4eVhHNGdJQ0FnWVhkaGFYUWdZbkp2ZDNObGNpNTBZV0p6TG1OeVpXRjBaU2g3SUhWeWJEb2diRzlqSUgwcE8xeHlYRzRnSUNBZ1lYZGhhWFFnWW5KdmQzTmxjaTV6YVdSbFltRnlRV04wYVc5dUxtTnNiM05sS0NrN1hISmNiaUFnZlR0Y2NseHVYSEpjYmlBZ1kyOXVjM1FnYjNCbGJrMTVVSEp2Wm1sc1pTQTlJR1YySUQwK0lIdGNjbHh1SUNBZ0lHVjJMbk4wYjNCUWNtOXdZV2RoZEdsdmJpZ3BPMXh5WEc0Z0lDQWdaWFl1Y0hKbGRtVnVkRVJsWm1GMWJIUW9LVHRjY2x4dVhISmNiaUFnSUNCcFppQW9jM05pTG1abFpXUXBJSHRjY2x4dUlDQWdJQ0FnYm1GMmFXZGhkR1VvWENJdmNISnZabWxzWlZ3aUxDQjdJR1psWldRNklITnpZaTVtWldWa0lIMHBPMXh5WEc0Z0lDQWdmVnh5WEc0Z0lIMDdYSEpjYmp3dmMyTnlhWEIwUGx4eVhHNWNjbHh1UEhOMGVXeGxQbHh5WEc0Z0lDNWliRzlqYTJWeUlIdGNjbHh1SUNBZ0lHaGxhV2RvZERvZ056QndlRHRjY2x4dUlDQWdJR1JwYzNCc1lYazZJR0pzYjJOck8xeHlYRzRnSUgxY2NseHVYSEpjYmlBZ0xtRmliM1psSUh0Y2NseHVJQ0FnSUhvdGFXNWtaWGc2SURrNU9UazVPMXh5WEc0Z0lDQWdkMmxrZEdnNklERXdNRHRjY2x4dUlDQWdJSEJoWkdScGJtYzZJRFZ3ZUR0Y2NseHVJQ0FnSUhCdmMybDBhVzl1T2lCbWFYaGxaRHRjY2x4dUlDQjlYSEpjYmx4eVhHNGdJQzVqZFhKeVpXNTBJSHRjY2x4dUlDQWdJR0p2Y21SbGNqb2dibTl1WlR0Y2NseHVJQ0FnSUdKaFkydG5jbTkxYm1RNklHNXZibVU3WEhKY2JpQWdJQ0JpYjNKa1pYSXRZbTkwZEc5dE9pQnpiMnhwWkNBeWNIZ2djbWRpS0RJc0lERTBOaXdnTlRBcE8xeHlYRzRnSUNBZ2IzVjBiR2x1WlRvZ2JtOXVaVHRjY2x4dUlDQjlYSEpjYmx4eVhHNGdJQzUwYUhKdmR5MTBhR2x1WjNNdGRHOHRkR2hsTFhKcFoyaDBJSHRjY2x4dUlDQWdJSGRwWkhSb09pQXhNREFsTzF4eVhHNGdJQ0FnZEdWNGRDMWhiR2xuYmpvZ2NtbG5hSFE3WEhKY2JpQWdmVnh5WEc0OEwzTjBlV3hsUGx4eVhHNWNjbHh1UEdobFlXUmxjaUJqYkdGemN6MWNJbTVoZG1KaGNsd2lQbHh5WEc0Z0lEeHpaV04wYVc5dUlHTnNZWE56UFZ3aWJtRjJZbUZ5TFhObFkzUnBiMjRnYUdsa1pTMXpiVndpUGx4eVhHNGdJQ0FnUEdFZ2FISmxaajFjSWlNdmMybGtaV0poY2x3aUlHTnNZWE56UFZ3aVluUnVJR0owYmkxc2FXNXJYQ0lnYjI0NlkyeHBZMnM5ZTI5d1pXNVRhV1JsWW1GeWZUNWNjbHh1SUNBZ0lDQWdQR2tnWTJ4aGMzTTlYQ0pwWTI5dUlHbGpiMjR0YldsdWRYTWdkR1Y0ZEMxaWJHRmphMXdpSUM4K1hISmNiaUFnSUNBOEwyRStYSEpjYmlBZ0lDQThZU0JvY21WbVBWd2lJeTl3Y205bWFXeGxYQ0lnWTJ4aGMzTTlYQ0p1WVhaaVlYSXRZbkpoYm1RZ2JYSXRNaUJ3TFRGY0lpQnZianBqYkdsamF6MTdiM0JsYmsxNVVISnZabWxzWlgwK1hISmNiaUFnSUNBZ0lEeG1hV2QxY21VZ1kyeGhjM005WENKaGRtRjBZWElnWVhaaGRHRnlMV3huWENJK1hISmNiaUFnSUNBZ0lDQWdQR2x0WnlCemNtTTllMkYyWVhSaGNuMGdZV3gwUFZ3aVRGd2lJQzgrWEhKY2JpQWdJQ0FnSUNBZ1BHa2dZMnhoYzNNOVhDSmhkbUYwWVhJdGNISmxjMlZ1WTJVZ2V5UmpiMjV1WldOMFpXUWdQeUFuYjI1c2FXNWxKeUE2SUNkdlptWnNhVzVsSjMxY0lpQXZQbHh5WEc0Z0lDQWdJQ0E4TDJacFozVnlaVDVjY2x4dUlDQWdJRHd2WVQ1Y2NseHVJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmtjbTl3Wkc5M2Jsd2lQbHh5WEc0Z0lDQWdJQ0E4WVNCb2NtVm1QVndpSXk5amIyMXdiM05sWENJZ1kyeGhjM005WENKaWRHNGdZblJ1TFd4cGJtc2daSEp2Y0dSdmQyNHRkRzluWjJ4bFhDSWdkR0ZpYVc1a1pYZzlYQ0l3WENJK1hISmNiaUFnSUNBZ0lDQWdRMjl0Y0c5elpWeHlYRzRnSUNBZ0lDQWdJRHhwSUdOc1lYTnpQVndpYVdOdmJpQnBZMjl1TFdOaGNtVjBYQ0lnTHo1Y2NseHVJQ0FnSUNBZ1BDOWhQbHh5WEc0Z0lDQWdJQ0E4ZFd3Z1kyeGhjM005WENKdFpXNTFYQ0krWEhKY2JpQWdJQ0FnSUNBZ1BHeHBJR05zWVhOelBWd2liV1Z1ZFMxcGRHVnRYQ0krWEhKY2JpQWdJQ0FnSUNBZ0lDQThZVnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQm9jbVZtUFZ3aUl5OWpiMjF3YjNObEwzQnZjM1JjSWx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JqYkdGemN6MWNJbUowYmlCaWRHNHRiR2x1YTF3aVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUc5dU9tTnNhV05yZkhOMGIzQlFjbTl3WVdkaGRHbHZibnh3Y21WMlpXNTBSR1ZtWVhWc2REMTdaMjlEYjIxd2IzTmxmVDVjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdUbVYzSUZCdmMzUmNjbHh1SUNBZ0lDQWdJQ0FnSUR3dllUNWNjbHh1SUNBZ0lDQWdJQ0E4TDJ4cFBseHlYRzRnSUNBZ0lDQWdJRHhzYVNCamJHRnpjejFjSW0xbGJuVXRhWFJsYlZ3aVBseHlYRzRnSUNBZ0lDQWdJQ0FnUEdGY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYUhKbFpqMWNJaU12WTI5dGNHOXpaUzlpYkc5blhDSmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1kyeGhjM005WENKaWRHNGdZblJ1TFd4cGJtdGNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQnZianBqYkdsamEzeHpkRzl3VUhKdmNHRm5ZWFJwYjI1OGNISmxkbVZ1ZEVSbFptRjFiSFE5ZTJkdlEyOXRjRzl6WlVKc2IyZDlQbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQk9aWGNnUW14dlp5QlFiM04wWEhKY2JpQWdJQ0FnSUNBZ0lDQThMMkUrWEhKY2JpQWdJQ0FnSUNBZ1BDOXNhVDVjY2x4dUlDQWdJQ0FnUEM5MWJENWNjbHh1SUNBZ0lEd3ZaR2wyUGx4eVhHNGdJQ0FnUEdGY2NseHVJQ0FnSUNBZ2FISmxaajFjSWlNdmNIVmliR2xqWENKY2NseHVJQ0FnSUNBZ1kyeGhjM005WENKaWRHNGdZblJ1TFd4cGJtdGNJbHh5WEc0Z0lDQWdJQ0J2YmpwamJHbGphM3h6ZEc5d1VISnZjR0ZuWVhScGIyNThjSEpsZG1WdWRFUmxabUYxYkhROWUyZHZVSFZpYkdsamZUNWNjbHh1SUNBZ0lDQWdVSFZpYkdsalhISmNiaUFnSUNBOEwyRStYSEpjYmlBZ0lDQThZVnh5WEc0Z0lDQWdJQ0JvY21WbVBWd2lJeTl0Wlc1MGFXOXVjMXdpWEhKY2JpQWdJQ0FnSUdOc1lYTnpQVndpWW5SdUlHSjBiaTFzYVc1clhDSmNjbHh1SUNBZ0lDQWdiMjQ2WTJ4cFkydDhjM1J2Y0ZCeWIzQmhaMkYwYVc5dWZIQnlaWFpsYm5SRVpXWmhkV3gwUFh0bmIwMWxiblJwYjI1emZUNWNjbHh1SUNBZ0lDQWdUV1Z1ZEdsdmJuTmNjbHh1SUNBZ0lEd3ZZVDVjY2x4dUlDQWdJRHhoWEhKY2JpQWdJQ0FnSUdoeVpXWTlYQ0lqTDJOb1lXNXVaV3h6WENKY2NseHVJQ0FnSUNBZ1kyeGhjM005WENKaWRHNGdZblJ1TFd4cGJtdGNJbHh5WEc0Z0lDQWdJQ0J2YmpwamJHbGphM3h6ZEc5d1VISnZjR0ZuWVhScGIyNThjSEpsZG1WdWRFUmxabUYxYkhROWUyZHZRMmhoYm01bGJITjlQbHh5WEc0Z0lDQWdJQ0JEYUdGdWJtVnNjMXh5WEc0Z0lDQWdQQzloUGx4eVhHNGdJQ0FnUEdFZ2FISmxaajFjSWlNdmMyVjBkR2x1WjNOY0lpQmpiR0Z6Y3oxY0ltSjBiaUJpZEc0dGJHbHVhMXdpSUc5dU9tTnNhV05yUFh0bmIxTmxkSFJwYm1kemZUNVRaWFIwYVc1bmN6d3ZZVDVjY2x4dUlDQWdJRHhoSUdoeVpXWTlYQ0l2Wkc5amN5OXBibVJsZUM1b2RHMXNYQ0lnWTJ4aGMzTTlYQ0ppZEc0Z1luUnVMV3hwYm10Y0lqNUlaV3h3UEM5aFBseHlYRzRnSUR3dmMyVmpkR2x2Ymo1Y2NseHVJQ0E4YzJWamRHbHZiaUJqYkdGemN6MWNJbTVoZG1KaGNpMWpaVzUwWlhKY0lpQXZQbHh5WEc0Z0lEeHpaV04wYVc5dUlHTnNZWE56UFZ3aWJtRjJZbUZ5TFhObFkzUnBiMjRnYUdsa1pTMXpiVndpUGx4eVhHNGdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0luUm9jbTkzTFhSb2FXNW5jeTEwYnkxMGFHVXRjbWxuYUhSY0lqNWNjbHh1SUNBZ0lDQWdQR1JwZGlCamJHRnpjejFjSW1sdWNIVjBMV2R5YjNWd0lHbHVjSFYwTFdsdWJHbHVaVndpUGx4eVhHNGdJQ0FnSUNBZ0lEeHBibkIxZEZ4eVhHNGdJQ0FnSUNBZ0lDQWdZMnhoYzNNOVhDSm1iM0p0TFdsdWNIVjBYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lIUjVjR1U5WENKMFpYaDBYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lHSnBibVE2ZG1Gc2RXVTllM0YxWlhKNWZWeHlYRzRnSUNBZ0lDQWdJQ0FnY0d4aFkyVm9iMnhrWlhJOVhDSkpKMjBnYzJ4dmR5d2dZbVVnWjJWdWRHeGxYQ0lnTHo1Y2NseHVJQ0FnSUNBZ0lDQThZblYwZEc5dUlHTnNZWE56UFZ3aVluUnVJR0owYmkxd2NtbHRZWEo1SUdsdWNIVjBMV2R5YjNWd0xXSjBibHdpSUc5dU9tTnNhV05yUFh0bmIxTmxZWEpqYUgwK1hISmNiaUFnSUNBZ0lDQWdJQ0JUWldGeVkyaGNjbHh1SUNBZ0lDQWdJQ0E4TDJKMWRIUnZiajVjY2x4dUlDQWdJQ0FnUEM5a2FYWStYSEpjYmlBZ0lDQThMMlJwZGo1Y2NseHVJQ0E4TDNObFkzUnBiMjQrWEhKY2JpQWdQSE5sWTNScGIyNGdZMnhoYzNNOVhDSnVZWFppWVhJdGMyVmpkR2x2YmlCemFHOTNMWE50SUdKbkxXZHlZWGtnWVdKdmRtVmNJajVjY2x4dUlDQWdJRHhpZFhSMGIyNGdZMnhoYzNNOVhDSmlkRzRnWW5SdUxXeHBibXRjSWlCdmJqcGpiR2xqYXoxN0tDa2dQVDRnYUdsemRHOXllUzVpWVdOcktDbDlQbHh5WEc0Z0lDQWdJQ0E4YVNCamJHRnpjejFjSW1samIyNGdhV052YmkxaVlXTnJYQ0lnTHo1Y2NseHVJQ0FnSUR3dlluVjBkRzl1UGx4eVhHNGdJQ0FnUEdFZ2FISmxaajFjSWk0dUxsd2lJR05zWVhOelBWd2libUYyWW1GeUxXSnlZVzVrSUcxeUxUSWdjQzB4WENJK1hISmNiaUFnSUNBZ0lEeG1hV2QxY21VZ1kyeGhjM005WENKaGRtRjBZWEpjSWo1Y2NseHVJQ0FnSUNBZ0lDQThhVzFuSUhOeVl6MTdZWFpoZEdGeWZTQmhiSFE5WENKTVhDSWdMejVjY2x4dUlDQWdJQ0FnSUNBOGFTQmpiR0Z6Y3oxY0ltRjJZWFJoY2kxd2NtVnpaVzVqWlNCN0pHTnZibTVsWTNSbFpDQS9JQ2R2Ym14cGJtVW5JRG9nSjI5bVpteHBibVVuZlZ3aUlDOCtYSEpjYmlBZ0lDQWdJRHd2Wm1sbmRYSmxQbHh5WEc0Z0lDQWdQQzloUGx4eVhHNGdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0ltUnliM0JrYjNkdUlHWnNiMkYwTFhKcFoyaDBYQ0krWEhKY2JpQWdJQ0FnSUR4aFhISmNiaUFnSUNBZ0lDQWdhSEpsWmoxY0lqOWNJbHh5WEc0Z0lDQWdJQ0FnSUdOc1lYTnpQVndpWW5SdUlHSjBiaTFzYVc1cklHUnliM0JrYjNkdUxYUnZaMmRzWlZ3aVhISmNiaUFnSUNBZ0lDQWdkR0ZpYVc1a1pYZzlYQ0l3WENKY2NseHVJQ0FnSUNBZ0lDQnZianBqYkdsamEzeHpkRzl3VUhKdmNHRm5ZWFJwYjI1OGNISmxkbVZ1ZEVSbFptRjFiSFE5ZXlncElEMCtJQ2NuZlQ1Y2NseHVJQ0FnSUNBZ0lDQk5aVzUxWEhKY2JpQWdJQ0FnSUNBZ1BHa2dZMnhoYzNNOVhDSnBZMjl1SUdsamIyNHRZMkZ5WlhSY0lpQXZQbHh5WEc0Z0lDQWdJQ0E4TDJFK1hISmNiaUFnSUNBZ0lEd2hMUzBnYldWdWRTQmpiMjF3YjI1bGJuUWdMUzArWEhKY2JpQWdJQ0FnSUR4MWJDQmpiR0Z6Y3oxY0ltMWxiblZjSWo1Y2NseHVJQ0FnSUNBZ0lDQThiR2tnWTJ4aGMzTTlYQ0p0Wlc1MUxXbDBaVzFjSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJRHhoWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJR2h5WldZOVhDSWpMMk52YlhCdmMyVmNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQmpiR0Z6Y3oxY0ltSjBiaUJpZEc0dGJHbHVhMXdpWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRzl1T21Oc2FXTnJmSE4wYjNCUWNtOXdZV2RoZEdsdmJueHdjbVYyWlc1MFJHVm1ZWFZzZEQxN1oyOURiMjF3YjNObGZUNWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1EyOXRjRzl6WlZ4eVhHNGdJQ0FnSUNBZ0lDQWdQQzloUGx4eVhHNGdJQ0FnSUNBZ0lEd3ZiR2srWEhKY2JpQWdJQ0FnSUNBZ1BHeHBJR05zWVhOelBWd2liV1Z1ZFMxcGRHVnRYQ0krWEhKY2JpQWdJQ0FnSUNBZ0lDQThZVnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQm9jbVZtUFZ3aUl5OXdkV0pzYVdOY0lseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCamJHRnpjejFjSW1KMGJpQmlkRzR0YkdsdWExd2lYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lHOXVPbU5zYVdOcmZITjBiM0JRY205d1lXZGhkR2x2Ym54d2NtVjJaVzUwUkdWbVlYVnNkRDE3WjI5UWRXSnNhV045UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JRZFdKc2FXTmNjbHh1SUNBZ0lDQWdJQ0FnSUR3dllUNWNjbHh1SUNBZ0lDQWdJQ0E4TDJ4cFBseHlYRzRnSUNBZ0lDQWdJRHhzYVNCamJHRnpjejFjSW0xbGJuVXRhWFJsYlZ3aVBseHlYRzRnSUNBZ0lDQWdJQ0FnUEdGY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYUhKbFpqMWNJaU12WTJoaGJtNWxiSE5jSWx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JqYkdGemN6MWNJbUowYmlCaWRHNHRiR2x1YTF3aVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUc5dU9tTnNhV05yZkhOMGIzQlFjbTl3WVdkaGRHbHZibnh3Y21WMlpXNTBSR1ZtWVhWc2REMTdaMjlEYUdGdWJtVnNjMzArWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRU5vWVc1dVpXeHpYSEpjYmlBZ0lDQWdJQ0FnSUNBOEwyRStYSEpjYmlBZ0lDQWdJQ0FnUEM5c2FUNWNjbHh1SUNBZ0lDQWdJQ0E4YkdrZ1kyeGhjM005WENKdFpXNTFMV2wwWlcxY0lqNWNjbHh1SUNBZ0lDQWdJQ0FnSUR4aFhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdoeVpXWTlYQ0lqTDIxbGJuUnBiMjV6WENKY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnWTJ4aGMzTTlYQ0ppZEc0Z1luUnVMV3hwYm10Y0lseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCdmJqcGpiR2xqYTN4emRHOXdVSEp2Y0dGbllYUnBiMjU4Y0hKbGRtVnVkRVJsWm1GMWJIUTllMmR2VFdWdWRHbHZibk45UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JOWlc1MGFXOXVjMXh5WEc0Z0lDQWdJQ0FnSUNBZ1BDOWhQbHh5WEc0Z0lDQWdJQ0FnSUR3dmJHaytYSEpjYmlBZ0lDQWdJQ0FnUEd4cElHTnNZWE56UFZ3aWJXVnVkUzFwZEdWdFhDSStYSEpjYmlBZ0lDQWdJQ0FnSUNBOFlTQm9jbVZtUFZ3aUl5OXpaWFIwYVc1bmMxd2lJR05zWVhOelBWd2lZblJ1SUdKMGJpMXNhVzVyWENJZ2IyNDZZMnhwWTJzOWUyZHZVMlYwZEdsdVozTjlQbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQlRaWFIwYVc1bmMxeHlYRzRnSUNBZ0lDQWdJQ0FnUEM5aFBseHlYRzRnSUNBZ0lDQWdJRHd2YkdrK1hISmNiaUFnSUNBZ0lDQWdQR3hwSUdOc1lYTnpQVndpYldWdWRTMXBkR1Z0WENJK1hISmNiaUFnSUNBZ0lDQWdJQ0E4WVNCb2NtVm1QVndpTDJSdlkzTXZhVzVrWlhndWFIUnRiRndpSUdOc1lYTnpQVndpWW5SdUlHSjBiaTFzYVc1clhDSStTR1ZzY0R3dllUNWNjbHh1SUNBZ0lDQWdJQ0E4TDJ4cFBseHlYRzRnSUNBZ0lDQWdJRHhzYVNCamJHRnpjejFjSW0xbGJuVXRhWFJsYlZ3aVBseHlYRzRnSUNBZ0lDQWdJQ0FnUEdFZ2FISmxaajFjSWlNdmMybGtaV0poY2x3aUlHTnNZWE56UFZ3aVluUnVJR0owYmkxc2FXNXJYQ0lnYjI0NlkyeHBZMnM5ZTJOc2IzTmxVMmxrWldKaGNuMCtYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lFOXdaVzRnWVhNZ1lTQlVZV0pjY2x4dUlDQWdJQ0FnSUNBZ0lEd3ZZVDVjY2x4dUlDQWdJQ0FnSUNBOEwyeHBQbHh5WEc0Z0lDQWdJQ0E4TDNWc1BseHlYRzRnSUNBZ1BDOWthWFkrWEhKY2JpQWdQQzl6WldOMGFXOXVQbHh5WEc0Z0lEeGthWFlnWTJ4aGMzTTlYQ0ppYkc5amEyVnlJSE5vYjNjdGMyMWNJaUF2UGx4eVhHNDhMMmhsWVdSbGNqNWNjbHh1SWwwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVRCRVJTeFJRVUZSTEdWQlFVTXNRMEZCUXl4QlFVTlNMRTFCUVUwc1EwRkJSU3hKUVVGSkxFTkJRMW9zVDBGQlR5eERRVUZGTEV0QlFVc3NRVUZEYUVJc1EwRkJReXhCUVVWRUxFMUJRVTBzWlVGQlF5eERRVUZETEVGQlEwNHNUMEZCVHl4RFFVRkZMRXRCUVVzc1EwRkRaQ3hMUVVGTExFTkJRVVVzUjBGQlJ5eERRVU5XTEU5QlFVOHNRMEZCUlN4SFFVRkhMRU5CUTFvc1VVRkJVU3hEUVVGRkxFdEJRVXNzUVVGRGFrSXNRMEZCUXl4QlFVVkVMRkZCUVZFc1pVRkJReXhEUVVGRExFRkJRMUlzVFVGQlRTeERRVUZGTEVsQlFVa3NRMEZEV2l4VlFVRlZMRU5CUVVVc1NVRkJTU3hEUVVOb1FpeGhRVUZoTEVOQlFVVXNTMEZCU3l4RFFVRkRMRWRCUVVjc1EwRkJReXhKUVVGSkxFTkJRVU1zUTBGQlF5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRMRVZCUVVVc1EwRkJReXhEUVVONFF5eFBRVUZQTEVOQlFVVXNTVUZCU1N4QlFVTm1MRU5CUVVNc1FVRkZSQ3d3UWtGQk1FSXNaVUZCUXl4RFFVRkRMRUZCUXpGQ0xFdEJRVXNzUTBGQlJTeEpRVUZKTEVOQlExZ3NWVUZCVlN4RFFVRkZMRXRCUVVzc1FVRkRia0lzUTBGQlF5SjkgKi9cIjtcblx0YXBwZW5kKGRvY3VtZW50LmhlYWQsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgaGVhZGVyLCBzZWN0aW9uMCwgYTAsIGkwLCB0MCwgYTEsIGZpZ3VyZTAsIGltZzAsIHQxLCBpMSwgaTFfY2xhc3NfdmFsdWUsIHQyLCBkaXYwLCBhMiwgdDMsIGkyLCB0NCwgdWwwLCBsaTAsIGEzLCB0NiwgbGkxLCBhNCwgdDgsIGE1LCB0MTAsIGE2LCB0MTIsIGE3LCB0MTQsIGE4LCB0MTYsIGE5LCB0MTgsIHNlY3Rpb24xLCB0MTksIHNlY3Rpb24yLCBkaXYyLCBkaXYxLCBpbnB1dCwgdDIwLCBidXR0b24wLCB0MjIsIHNlY3Rpb24zLCBidXR0b24xLCBpMywgdDIzLCBhMTAsIGZpZ3VyZTEsIGltZzEsIHQyNCwgaTQsIGk0X2NsYXNzX3ZhbHVlLCB0MjUsIGRpdjMsIGExMSwgdDI2LCBpNSwgdDI3LCB1bDEsIGxpMiwgYTEyLCB0MjksIGxpMywgYTEzLCB0MzEsIGxpNCwgYTE0LCB0MzMsIGxpNSwgYTE1LCB0MzUsIGxpNiwgYTE2LCB0MzcsIGxpNywgYTE3LCB0MzksIGxpOCwgYTE4LCB0NDEsIGRpdjQsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRoZWFkZXIgPSBlbGVtZW50KFwiaGVhZGVyXCIpO1xuXHRcdFx0c2VjdGlvbjAgPSBlbGVtZW50KFwic2VjdGlvblwiKTtcblx0XHRcdGEwID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRpMCA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0YTEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGZpZ3VyZTAgPSBlbGVtZW50KFwiZmlndXJlXCIpO1xuXHRcdFx0aW1nMCA9IGVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRpMSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRhMiA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dDMgPSB0ZXh0KFwiQ29tcG9zZVxcclxcbiAgICAgICAgXCIpO1xuXHRcdFx0aTIgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdHVsMCA9IGVsZW1lbnQoXCJ1bFwiKTtcblx0XHRcdGxpMCA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGEzID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRhMy50ZXh0Q29udGVudCA9IFwiTmV3IFBvc3RcIjtcblx0XHRcdHQ2ID0gc3BhY2UoKTtcblx0XHRcdGxpMSA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGE0ID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRhNC50ZXh0Q29udGVudCA9IFwiTmV3IEJsb2cgUG9zdFwiO1xuXHRcdFx0dDggPSBzcGFjZSgpO1xuXHRcdFx0YTUgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGE1LnRleHRDb250ZW50ID0gXCJQdWJsaWNcIjtcblx0XHRcdHQxMCA9IHNwYWNlKCk7XG5cdFx0XHRhNiA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YTYudGV4dENvbnRlbnQgPSBcIk1lbnRpb25zXCI7XG5cdFx0XHR0MTIgPSBzcGFjZSgpO1xuXHRcdFx0YTcgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGE3LnRleHRDb250ZW50ID0gXCJDaGFubmVsc1wiO1xuXHRcdFx0dDE0ID0gc3BhY2UoKTtcblx0XHRcdGE4ID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRhOC50ZXh0Q29udGVudCA9IFwiU2V0dGluZ3NcIjtcblx0XHRcdHQxNiA9IHNwYWNlKCk7XG5cdFx0XHRhOSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YTkudGV4dENvbnRlbnQgPSBcIkhlbHBcIjtcblx0XHRcdHQxOCA9IHNwYWNlKCk7XG5cdFx0XHRzZWN0aW9uMSA9IGVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRcdFx0dDE5ID0gc3BhY2UoKTtcblx0XHRcdHNlY3Rpb24yID0gZWxlbWVudChcInNlY3Rpb25cIik7XG5cdFx0XHRkaXYyID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aW5wdXQgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0MjAgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uMCA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24wLnRleHRDb250ZW50ID0gXCJTZWFyY2hcIjtcblx0XHRcdHQyMiA9IHNwYWNlKCk7XG5cdFx0XHRzZWN0aW9uMyA9IGVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRcdFx0YnV0dG9uMSA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRpMyA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDIzID0gc3BhY2UoKTtcblx0XHRcdGExMCA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0ZmlndXJlMSA9IGVsZW1lbnQoXCJmaWd1cmVcIik7XG5cdFx0XHRpbWcxID0gZWxlbWVudChcImltZ1wiKTtcblx0XHRcdHQyNCA9IHNwYWNlKCk7XG5cdFx0XHRpNCA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDI1ID0gc3BhY2UoKTtcblx0XHRcdGRpdjMgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YTExID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0MjYgPSB0ZXh0KFwiTWVudVxcclxcbiAgICAgICAgXCIpO1xuXHRcdFx0aTUgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQyNyA9IHNwYWNlKCk7XG5cdFx0XHR1bDEgPSBlbGVtZW50KFwidWxcIik7XG5cdFx0XHRsaTIgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMTIgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGExMi50ZXh0Q29udGVudCA9IFwiQ29tcG9zZVwiO1xuXHRcdFx0dDI5ID0gc3BhY2UoKTtcblx0XHRcdGxpMyA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGExMyA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YTEzLnRleHRDb250ZW50ID0gXCJQdWJsaWNcIjtcblx0XHRcdHQzMSA9IHNwYWNlKCk7XG5cdFx0XHRsaTQgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMTQgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGExNC50ZXh0Q29udGVudCA9IFwiQ2hhbm5lbHNcIjtcblx0XHRcdHQzMyA9IHNwYWNlKCk7XG5cdFx0XHRsaTUgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMTUgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGExNS50ZXh0Q29udGVudCA9IFwiTWVudGlvbnNcIjtcblx0XHRcdHQzNSA9IHNwYWNlKCk7XG5cdFx0XHRsaTYgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMTYgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGExNi50ZXh0Q29udGVudCA9IFwiU2V0dGluZ3NcIjtcblx0XHRcdHQzNyA9IHNwYWNlKCk7XG5cdFx0XHRsaTcgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMTcgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGExNy50ZXh0Q29udGVudCA9IFwiSGVscFwiO1xuXHRcdFx0dDM5ID0gc3BhY2UoKTtcblx0XHRcdGxpOCA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGExOCA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YTE4LnRleHRDb250ZW50ID0gXCJPcGVuIGFzIGEgVGFiXCI7XG5cdFx0XHR0NDEgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2NCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRhdHRyKGkwLCBcImNsYXNzXCIsIFwiaWNvbiBpY29uLW1pbnVzIHRleHQtYmxhY2tcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTAsIGZpbGUsIDg2LCA2LCAxOTQ2KTtcblx0XHRcdGF0dHIoYTAsIFwiaHJlZlwiLCBcIiMvc2lkZWJhclwiKTtcblx0XHRcdGF0dHIoYTAsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTAsIGZpbGUsIDg1LCA0LCAxODc0KTtcblx0XHRcdGF0dHIoaW1nMCwgXCJzcmNcIiwgY3R4LmF2YXRhcik7XG5cdFx0XHRhdHRyKGltZzAsIFwiYWx0XCIsIFwiTFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbWcwLCBmaWxlLCA5MCwgOCwgMjEyOCk7XG5cdFx0XHRhdHRyKGkxLCBcImNsYXNzXCIsIGkxX2NsYXNzX3ZhbHVlID0gXCJhdmF0YXItcHJlc2VuY2UgXCIgKyAoY3R4LiRjb25uZWN0ZWQgPyAnb25saW5lJyA6ICdvZmZsaW5lJykgKyBcIiBzdmVsdGUtMWF2YWF4YlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMSwgZmlsZSwgOTEsIDgsIDIxNjYpO1xuXHRcdFx0YXR0cihmaWd1cmUwLCBcImNsYXNzXCIsIFwiYXZhdGFyIGF2YXRhci1sZ1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihmaWd1cmUwLCBmaWxlLCA4OSwgNiwgMjA4NSk7XG5cdFx0XHRhdHRyKGExLCBcImhyZWZcIiwgXCIjL3Byb2ZpbGVcIik7XG5cdFx0XHRhdHRyKGExLCBcImNsYXNzXCIsIFwibmF2YmFyLWJyYW5kIG1yLTIgcC0xXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGExLCBmaWxlLCA4OCwgNCwgMjAwMik7XG5cdFx0XHRhdHRyKGkyLCBcImNsYXNzXCIsIFwiaWNvbiBpY29uLWNhcmV0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkyLCBmaWxlLCA5NywgOCwgMjM5MSk7XG5cdFx0XHRhdHRyKGEyLCBcImhyZWZcIiwgXCIjL2NvbXBvc2VcIik7XG5cdFx0XHRhdHRyKGEyLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiKTtcblx0XHRcdGF0dHIoYTIsIFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEyLCBmaWxlLCA5NSwgNiwgMjI5NCk7XG5cdFx0XHRhdHRyKGEzLCBcImhyZWZcIiwgXCIjL2NvbXBvc2UvcG9zdFwiKTtcblx0XHRcdGF0dHIoYTMsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTMsIGZpbGUsIDEwMSwgMTAsIDI1MDEpO1xuXHRcdFx0YXR0cihsaTAsIFwiY2xhc3NcIiwgXCJtZW51LWl0ZW1cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkwLCBmaWxlLCAxMDAsIDgsIDI0NjcpO1xuXHRcdFx0YXR0cihhNCwgXCJocmVmXCIsIFwiIy9jb21wb3NlL2Jsb2dcIik7XG5cdFx0XHRhdHRyKGE0LCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGE0LCBmaWxlLCAxMDksIDEwLCAyNzM1KTtcblx0XHRcdGF0dHIobGkxLCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMSwgZmlsZSwgMTA4LCA4LCAyNzAxKTtcblx0XHRcdGF0dHIodWwwLCBcImNsYXNzXCIsIFwibWVudVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbih1bDAsIGZpbGUsIDk5LCA2LCAyNDQwKTtcblx0XHRcdGF0dHIoZGl2MCwgXCJjbGFzc1wiLCBcImRyb3Bkb3duXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDk0LCA0LCAyMjY0KTtcblx0XHRcdGF0dHIoYTUsIFwiaHJlZlwiLCBcIiMvcHVibGljXCIpO1xuXHRcdFx0YXR0cihhNSwgXCJjbGFzc1wiLCBcImJ0biBidG4tbGlua1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhNSwgZmlsZSwgMTE4LCA0LCAyOTY1KTtcblx0XHRcdGF0dHIoYTYsIFwiaHJlZlwiLCBcIiMvbWVudGlvbnNcIik7XG5cdFx0XHRhdHRyKGE2LCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGE2LCBmaWxlLCAxMjQsIDQsIDMxMDcpO1xuXHRcdFx0YXR0cihhNywgXCJocmVmXCIsIFwiIy9jaGFubmVsc1wiKTtcblx0XHRcdGF0dHIoYTcsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTcsIGZpbGUsIDEzMCwgNCwgMzI1NSk7XG5cdFx0XHRhdHRyKGE4LCBcImhyZWZcIiwgXCIjL3NldHRpbmdzXCIpO1xuXHRcdFx0YXR0cihhOCwgXCJjbGFzc1wiLCBcImJ0biBidG4tbGlua1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhOCwgZmlsZSwgMTM2LCA0LCAzNDAzKTtcblx0XHRcdGF0dHIoYTksIFwiaHJlZlwiLCBcIi9kb2NzL2luZGV4Lmh0bWxcIik7XG5cdFx0XHRhdHRyKGE5LCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGE5LCBmaWxlLCAxMzcsIDQsIDM0ODUpO1xuXHRcdFx0YXR0cihzZWN0aW9uMCwgXCJjbGFzc1wiLCBcIm5hdmJhci1zZWN0aW9uIGhpZGUtc21cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oc2VjdGlvbjAsIGZpbGUsIDg0LCAyLCAxODI4KTtcblx0XHRcdGF0dHIoc2VjdGlvbjEsIFwiY2xhc3NcIiwgXCJuYXZiYXItY2VudGVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNlY3Rpb24xLCBmaWxlLCAxMzksIDIsIDM1NTkpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJwbGFjZWhvbGRlclwiLCBcIkknbSBzbG93LCBiZSBnZW50bGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQsIGZpbGUsIDE0MywgOCwgMzczNyk7XG5cdFx0XHRhdHRyKGJ1dHRvbjAsIFwiY2xhc3NcIiwgXCJidG4gYnRuLXByaW1hcnkgaW5wdXQtZ3JvdXAtYnRuXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjAsIGZpbGUsIDE0OCwgOCwgMzg4NCk7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJpbnB1dC1ncm91cCBpbnB1dC1pbmxpbmVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgMTQyLCA2LCAzNjg5KTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcInRocm93LXRoaW5ncy10by10aGUtcmlnaHQgc3ZlbHRlLTFhdmFheGJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgMTQxLCA0LCAzNjQyKTtcblx0XHRcdGF0dHIoc2VjdGlvbjIsIFwiY2xhc3NcIiwgXCJuYXZiYXItc2VjdGlvbiBoaWRlLXNtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNlY3Rpb24yLCBmaWxlLCAxNDAsIDIsIDM1OTYpO1xuXHRcdFx0YXR0cihpMywgXCJjbGFzc1wiLCBcImljb24gaWNvbi1iYWNrXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkzLCBmaWxlLCAxNTYsIDYsIDQxNjIpO1xuXHRcdFx0YXR0cihidXR0b24xLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjEsIGZpbGUsIDE1NSwgNCwgNDA5Myk7XG5cdFx0XHRhdHRyKGltZzEsIFwic3JjXCIsIGN0eC5hdmF0YXIpO1xuXHRcdFx0YXR0cihpbWcxLCBcImFsdFwiLCBcIkxcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW1nMSwgZmlsZSwgMTYwLCA4LCA0Mjk2KTtcblx0XHRcdGF0dHIoaTQsIFwiY2xhc3NcIiwgaTRfY2xhc3NfdmFsdWUgPSBcImF2YXRhci1wcmVzZW5jZSBcIiArIChjdHguJGNvbm5lY3RlZCA/ICdvbmxpbmUnIDogJ29mZmxpbmUnKSArIFwiIHN2ZWx0ZS0xYXZhYXhiXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGk0LCBmaWxlLCAxNjEsIDgsIDQzMzQpO1xuXHRcdFx0YXR0cihmaWd1cmUxLCBcImNsYXNzXCIsIFwiYXZhdGFyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGZpZ3VyZTEsIGZpbGUsIDE1OSwgNiwgNDI2Myk7XG5cdFx0XHRhdHRyKGExMCwgXCJocmVmXCIsIFwiLi4uXCIpO1xuXHRcdFx0YXR0cihhMTAsIFwiY2xhc3NcIiwgXCJuYXZiYXItYnJhbmQgbXItMiBwLTFcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTEwLCBmaWxlLCAxNTgsIDQsIDQyMTEpO1xuXHRcdFx0YXR0cihpNSwgXCJjbGFzc1wiLCBcImljb24gaWNvbi1jYXJldFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpNSwgZmlsZSwgMTcxLCA4LCA0NjQ3KTtcblx0XHRcdGF0dHIoYTExLCBcImhyZWZcIiwgXCI/XCIpO1xuXHRcdFx0YXR0cihhMTEsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmsgZHJvcGRvd24tdG9nZ2xlXCIpO1xuXHRcdFx0YXR0cihhMTEsIFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGExMSwgZmlsZSwgMTY1LCA2LCA0NDc0KTtcblx0XHRcdGF0dHIoYTEyLCBcImhyZWZcIiwgXCIjL2NvbXBvc2VcIik7XG5cdFx0XHRhdHRyKGExMiwgXCJjbGFzc1wiLCBcImJ0biBidG4tbGlua1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMTIsIGZpbGUsIDE3NiwgMTAsIDQ3ODgpO1xuXHRcdFx0YXR0cihsaTIsIFwiY2xhc3NcIiwgXCJtZW51LWl0ZW1cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkyLCBmaWxlLCAxNzUsIDgsIDQ3NTQpO1xuXHRcdFx0YXR0cihhMTMsIFwiaHJlZlwiLCBcIiMvcHVibGljXCIpO1xuXHRcdFx0YXR0cihhMTMsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTEzLCBmaWxlLCAxODQsIDEwLCA1MDE2KTtcblx0XHRcdGF0dHIobGkzLCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMywgZmlsZSwgMTgzLCA4LCA0OTgyKTtcblx0XHRcdGF0dHIoYTE0LCBcImhyZWZcIiwgXCIjL2NoYW5uZWxzXCIpO1xuXHRcdFx0YXR0cihhMTQsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTE0LCBmaWxlLCAxOTIsIDEwLCA1MjQxKTtcblx0XHRcdGF0dHIobGk0LCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNCwgZmlsZSwgMTkxLCA4LCA1MjA3KTtcblx0XHRcdGF0dHIoYTE1LCBcImhyZWZcIiwgXCIjL21lbnRpb25zXCIpO1xuXHRcdFx0YXR0cihhMTUsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTE1LCBmaWxlLCAyMDAsIDEwLCA1NDcyKTtcblx0XHRcdGF0dHIobGk1LCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNSwgZmlsZSwgMTk5LCA4LCA1NDM4KTtcblx0XHRcdGF0dHIoYTE2LCBcImhyZWZcIiwgXCIjL3NldHRpbmdzXCIpO1xuXHRcdFx0YXR0cihhMTYsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTE2LCBmaWxlLCAyMDgsIDEwLCA1NzAzKTtcblx0XHRcdGF0dHIobGk2LCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNiwgZmlsZSwgMjA3LCA4LCA1NjY5KTtcblx0XHRcdGF0dHIoYTE3LCBcImhyZWZcIiwgXCIvZG9jcy9pbmRleC5odG1sXCIpO1xuXHRcdFx0YXR0cihhMTcsIFwiY2xhc3NcIiwgXCJidG4gYnRuLWxpbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTE3LCBmaWxlLCAyMTMsIDEwLCA1ODY0KTtcblx0XHRcdGF0dHIobGk3LCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNywgZmlsZSwgMjEyLCA4LCA1ODMwKTtcblx0XHRcdGF0dHIoYTE4LCBcImhyZWZcIiwgXCIjL3NpZGViYXJcIik7XG5cdFx0XHRhdHRyKGExOCwgXCJjbGFzc1wiLCBcImJ0biBidG4tbGlua1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMTgsIGZpbGUsIDIxNiwgMTAsIDU5NzkpO1xuXHRcdFx0YXR0cihsaTgsIFwiY2xhc3NcIiwgXCJtZW51LWl0ZW1cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGk4LCBmaWxlLCAyMTUsIDgsIDU5NDUpO1xuXHRcdFx0YXR0cih1bDEsIFwiY2xhc3NcIiwgXCJtZW51XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHVsMSwgZmlsZSwgMTc0LCA2LCA0NzI3KTtcblx0XHRcdGF0dHIoZGl2MywgXCJjbGFzc1wiLCBcImRyb3Bkb3duIGZsb2F0LXJpZ2h0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjMsIGZpbGUsIDE2NCwgNCwgNDQzMik7XG5cdFx0XHRhdHRyKHNlY3Rpb24zLCBcImNsYXNzXCIsIFwibmF2YmFyLXNlY3Rpb24gc2hvdy1zbSBiZy1ncmF5IGFib3ZlIHN2ZWx0ZS0xYXZhYXhiXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNlY3Rpb24zLCBmaWxlLCAxNTQsIDIsIDQwMzMpO1xuXHRcdFx0YXR0cihkaXY0LCBcImNsYXNzXCIsIFwiYmxvY2tlciBzaG93LXNtIHN2ZWx0ZS0xYXZhYXhiXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjQsIGZpbGUsIDIyMywgMiwgNjE0NSk7XG5cdFx0XHRhdHRyKGhlYWRlciwgXCJjbGFzc1wiLCBcIm5hdmJhclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihoZWFkZXIsIGZpbGUsIDgzLCAwLCAxODAxKTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGEwLCBcImNsaWNrXCIsIGN0eC5vcGVuU2lkZWJhciksXG5cdFx0XHRcdGxpc3RlbihhMSwgXCJjbGlja1wiLCBjdHgub3Blbk15UHJvZmlsZSksXG5cdFx0XHRcdGxpc3RlbihhMywgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZ29Db21wb3NlKSkpLFxuXHRcdFx0XHRsaXN0ZW4oYTQsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY3R4LmdvQ29tcG9zZUJsb2cpKSksXG5cdFx0XHRcdGxpc3RlbihhNSwgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZ29QdWJsaWMpKSksXG5cdFx0XHRcdGxpc3RlbihhNiwgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZ29NZW50aW9ucykpKSxcblx0XHRcdFx0bGlzdGVuKGE3LCBcImNsaWNrXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5nb0NoYW5uZWxzKSkpLFxuXHRcdFx0XHRsaXN0ZW4oYTgsIFwiY2xpY2tcIiwgY3R4LmdvU2V0dGluZ3MpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiaW5wdXRcIiwgY3R4LmlucHV0X2lucHV0X2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uMCwgXCJjbGlja1wiLCBjdHguZ29TZWFyY2gpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uMSwgXCJjbGlja1wiLCBjbGlja19oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGExMSwgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjbGlja19oYW5kbGVyXzEpKSksXG5cdFx0XHRcdGxpc3RlbihhMTIsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY3R4LmdvQ29tcG9zZSkpKSxcblx0XHRcdFx0bGlzdGVuKGExMywgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZ29QdWJsaWMpKSksXG5cdFx0XHRcdGxpc3RlbihhMTQsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY3R4LmdvQ2hhbm5lbHMpKSksXG5cdFx0XHRcdGxpc3RlbihhMTUsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY3R4LmdvTWVudGlvbnMpKSksXG5cdFx0XHRcdGxpc3RlbihhMTYsIFwiY2xpY2tcIiwgY3R4LmdvU2V0dGluZ3MpLFxuXHRcdFx0XHRsaXN0ZW4oYTE4LCBcImNsaWNrXCIsIGN0eC5jbG9zZVNpZGViYXIpXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGhlYWRlciwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChoZWFkZXIsIHNlY3Rpb24wKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgYTApO1xuXHRcdFx0YXBwZW5kKGEwLCBpMCk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIHQwKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgYTEpO1xuXHRcdFx0YXBwZW5kKGExLCBmaWd1cmUwKTtcblx0XHRcdGFwcGVuZChmaWd1cmUwLCBpbWcwKTtcblx0XHRcdGFwcGVuZChmaWd1cmUwLCB0MSk7XG5cdFx0XHRhcHBlbmQoZmlndXJlMCwgaTEpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24wLCB0Mik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIGRpdjApO1xuXHRcdFx0YXBwZW5kKGRpdjAsIGEyKTtcblx0XHRcdGFwcGVuZChhMiwgdDMpO1xuXHRcdFx0YXBwZW5kKGEyLCBpMik7XG5cdFx0XHRhcHBlbmQoZGl2MCwgdDQpO1xuXHRcdFx0YXBwZW5kKGRpdjAsIHVsMCk7XG5cdFx0XHRhcHBlbmQodWwwLCBsaTApO1xuXHRcdFx0YXBwZW5kKGxpMCwgYTMpO1xuXHRcdFx0YXBwZW5kKHVsMCwgdDYpO1xuXHRcdFx0YXBwZW5kKHVsMCwgbGkxKTtcblx0XHRcdGFwcGVuZChsaTEsIGE0KTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgdDgpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24wLCBhNSk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIHQxMCk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIGE2KTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgdDEyKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMCwgYTcpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24wLCB0MTQpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24wLCBhOCk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIHQxNik7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjAsIGE5KTtcblx0XHRcdGFwcGVuZChoZWFkZXIsIHQxOCk7XG5cdFx0XHRhcHBlbmQoaGVhZGVyLCBzZWN0aW9uMSk7XG5cdFx0XHRhcHBlbmQoaGVhZGVyLCB0MTkpO1xuXHRcdFx0YXBwZW5kKGhlYWRlciwgc2VjdGlvbjIpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24yLCBkaXYyKTtcblx0XHRcdGFwcGVuZChkaXYyLCBkaXYxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBpbnB1dCk7XG5cblx0XHRcdGlucHV0LnZhbHVlID0gY3R4LnF1ZXJ5O1xuXG5cdFx0XHRhcHBlbmQoZGl2MSwgdDIwKTtcblx0XHRcdGFwcGVuZChkaXYxLCBidXR0b24wKTtcblx0XHRcdGFwcGVuZChoZWFkZXIsIHQyMik7XG5cdFx0XHRhcHBlbmQoaGVhZGVyLCBzZWN0aW9uMyk7XG5cdFx0XHRhcHBlbmQoc2VjdGlvbjMsIGJ1dHRvbjEpO1xuXHRcdFx0YXBwZW5kKGJ1dHRvbjEsIGkzKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMywgdDIzKTtcblx0XHRcdGFwcGVuZChzZWN0aW9uMywgYTEwKTtcblx0XHRcdGFwcGVuZChhMTAsIGZpZ3VyZTEpO1xuXHRcdFx0YXBwZW5kKGZpZ3VyZTEsIGltZzEpO1xuXHRcdFx0YXBwZW5kKGZpZ3VyZTEsIHQyNCk7XG5cdFx0XHRhcHBlbmQoZmlndXJlMSwgaTQpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24zLCB0MjUpO1xuXHRcdFx0YXBwZW5kKHNlY3Rpb24zLCBkaXYzKTtcblx0XHRcdGFwcGVuZChkaXYzLCBhMTEpO1xuXHRcdFx0YXBwZW5kKGExMSwgdDI2KTtcblx0XHRcdGFwcGVuZChhMTEsIGk1KTtcblx0XHRcdGFwcGVuZChkaXYzLCB0MjcpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIHVsMSk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTIpO1xuXHRcdFx0YXBwZW5kKGxpMiwgYTEyKTtcblx0XHRcdGFwcGVuZCh1bDEsIHQyOSk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTMpO1xuXHRcdFx0YXBwZW5kKGxpMywgYTEzKTtcblx0XHRcdGFwcGVuZCh1bDEsIHQzMSk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTQpO1xuXHRcdFx0YXBwZW5kKGxpNCwgYTE0KTtcblx0XHRcdGFwcGVuZCh1bDEsIHQzMyk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTUpO1xuXHRcdFx0YXBwZW5kKGxpNSwgYTE1KTtcblx0XHRcdGFwcGVuZCh1bDEsIHQzNSk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTYpO1xuXHRcdFx0YXBwZW5kKGxpNiwgYTE2KTtcblx0XHRcdGFwcGVuZCh1bDEsIHQzNyk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTcpO1xuXHRcdFx0YXBwZW5kKGxpNywgYTE3KTtcblx0XHRcdGFwcGVuZCh1bDEsIHQzOSk7XG5cdFx0XHRhcHBlbmQodWwxLCBsaTgpO1xuXHRcdFx0YXBwZW5kKGxpOCwgYTE4KTtcblx0XHRcdGFwcGVuZChoZWFkZXIsIHQ0MSk7XG5cdFx0XHRhcHBlbmQoaGVhZGVyLCBkaXY0KTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuYXZhdGFyKSB7XG5cdFx0XHRcdGF0dHIoaW1nMCwgXCJzcmNcIiwgY3R4LmF2YXRhcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoY2hhbmdlZC4kY29ubmVjdGVkKSAmJiBpMV9jbGFzc192YWx1ZSAhPT0gKGkxX2NsYXNzX3ZhbHVlID0gXCJhdmF0YXItcHJlc2VuY2UgXCIgKyAoY3R4LiRjb25uZWN0ZWQgPyAnb25saW5lJyA6ICdvZmZsaW5lJykgKyBcIiBzdmVsdGUtMWF2YWF4YlwiKSkge1xuXHRcdFx0XHRhdHRyKGkxLCBcImNsYXNzXCIsIGkxX2NsYXNzX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQucXVlcnkgJiYgKGlucHV0LnZhbHVlICE9PSBjdHgucXVlcnkpKSBpbnB1dC52YWx1ZSA9IGN0eC5xdWVyeTtcblxuXHRcdFx0aWYgKGNoYW5nZWQuYXZhdGFyKSB7XG5cdFx0XHRcdGF0dHIoaW1nMSwgXCJzcmNcIiwgY3R4LmF2YXRhcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoY2hhbmdlZC4kY29ubmVjdGVkKSAmJiBpNF9jbGFzc192YWx1ZSAhPT0gKGk0X2NsYXNzX3ZhbHVlID0gXCJhdmF0YXItcHJlc2VuY2UgXCIgKyAoY3R4LiRjb25uZWN0ZWQgPyAnb25saW5lJyA6ICdvZmZsaW5lJykgKyBcIiBzdmVsdGUtMWF2YWF4YlwiKSkge1xuXHRcdFx0XHRhdHRyKGk0LCBcImNsYXNzXCIsIGk0X2NsYXNzX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGhlYWRlcik7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRyZXR1cm4gaGlzdG9yeS5iYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGNsaWNrX2hhbmRsZXJfMSgpIHtcblx0cmV0dXJuICcnO1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgJGNvbm5lY3RlZDtcblxuXHRjb25zdCB7XHJcbiAgICBjb25uZWN0ZWQsXHJcbiAgICBuYXZpZ2F0ZSxcclxuICAgIHJvdXRlTG9jYXRpb24sXHJcbiAgICBpbnRlcmNlcHRcclxuICB9ID0gcmVxdWlyZShcIi4vdXRpbHMuanNcIik7IHZhbGlkYXRlX3N0b3JlKGNvbm5lY3RlZCwgJ2Nvbm5lY3RlZCcpOyBjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgY29ubmVjdGVkLCAkJHZhbHVlID0+IHsgJGNvbm5lY3RlZCA9ICQkdmFsdWU7ICQkaW52YWxpZGF0ZSgnJGNvbm5lY3RlZCcsICRjb25uZWN0ZWQpIH0pO1xyXG5cclxuICBsZXQgYXZhdGFyID0gXCIvaW1hZ2VzL2ljb24ucG5nXCI7XHJcblxyXG4gIGxldCBxdWVyeSA9IFwiXCI7XHJcblxyXG4gIGNvbnN0IGdvU2V0dGluZ3MgPSBldiA9PiBuYXZpZ2F0ZShcIi9zZXR0aW5nc1wiKTtcclxuICBjb25zdCBnb0NvbXBvc2UgPSAoKSA9PiBuYXZpZ2F0ZShcIi9jb21wb3NlL3Bvc3RcIik7XHJcbiAgY29uc3QgZ29Db21wb3NlQmxvZyA9ICgpID0+IG5hdmlnYXRlKFwiL2NvbXBvc2UvYmxvZ1wiKTtcclxuICBjb25zdCBnb1B1YmxpYyA9ICgpID0+IG5hdmlnYXRlKFwiL3B1YmxpY1wiKTtcclxuICBjb25zdCBnb0NoYW5uZWxzID0gKCkgPT4gbmF2aWdhdGUoXCIvY2hhbm5lbHNcIik7XHJcbiAgY29uc3QgZ29NZW50aW9ucyA9ICgpID0+IG5hdmlnYXRlKFwiL21lbnRpb25zXCIpO1xyXG5cclxuICBjb25zdCBnb1NlYXJjaCA9ICgpID0+IHtcclxuICAgIGxldCBjID0gcXVlcnlbMF07XHJcbiAgICBpZiAoYyA9PT0gXCIjXCIgfHwgYyA9PT0gXCJAXCIgfHwgYyA9PT0gXCImXCIpIHtcclxuICAgICAgbmF2aWdhdGUoXCIvaW50ZXJjZXB0XCIsIHsgcXVlcnkgfSk7XHJcbiAgICAgIGludGVyY2VwdCgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmF2aWdhdGUoXCIvc2VhcmNoXCIsIHsgcXVlcnkgfSk7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb3BlblNpZGViYXIgPSBhc3luYyBldiA9PiB7XHJcbiAgICBsZXQgbG9jID0gd2luZG93LmxvY2F0aW9uLmhyZWY7XHJcbiAgICBicm93c2VyLnNpZGViYXJBY3Rpb24uc2V0UGFuZWwoeyBwYW5lbDogbG9jIH0pO1xyXG4gICAgYnJvd3Nlci5zaWRlYmFyQWN0aW9uLm9wZW4oKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjbG9zZVNpZGViYXIgPSBhc3luYyBldiA9PiB7XHJcbiAgICBsZXQgbG9jID0gYXdhaXQgYnJvd3Nlci5zaWRlYmFyQWN0aW9uLmdldFBhbmVsKHt9KTtcclxuICAgIGF3YWl0IGJyb3dzZXIudGFicy5jcmVhdGUoeyB1cmw6IGxvYyB9KTtcclxuICAgIGF3YWl0IGJyb3dzZXIuc2lkZWJhckFjdGlvbi5jbG9zZSgpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IG9wZW5NeVByb2ZpbGUgPSBldiA9PiB7XHJcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgaWYgKHNzYi5mZWVkKSB7XHJcbiAgICAgIG5hdmlnYXRlKFwiL3Byb2ZpbGVcIiwgeyBmZWVkOiBzc2IuZmVlZCB9KTtcclxuICAgIH1cclxuICB9O1xuXG5cdGZ1bmN0aW9uIGlucHV0X2lucHV0X2hhbmRsZXIoKSB7XG5cdFx0cXVlcnkgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgncXVlcnknLCBxdWVyeSk7XG5cdH1cblxuXHQkJHNlbGYuJCQudXBkYXRlID0gKCQkZGlydHkgPSB7ICRjb25uZWN0ZWQ6IDEgfSkgPT4ge1xuXHRcdGlmICgkJGRpcnR5LiRjb25uZWN0ZWQpIHsgaWYgKCRjb25uZWN0ZWQpIHtcclxuICAgICAgICBzc2IuYXZhdGFyKHNzYi5mZWVkKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdhdmF0YXInLCBhdmF0YXIgPSBgaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC8ke2RhdGEuaW1hZ2V9YCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gfVxuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0Y29ubmVjdGVkLFxuXHRcdGF2YXRhcixcblx0XHRxdWVyeSxcblx0XHRnb1NldHRpbmdzLFxuXHRcdGdvQ29tcG9zZSxcblx0XHRnb0NvbXBvc2VCbG9nLFxuXHRcdGdvUHVibGljLFxuXHRcdGdvQ2hhbm5lbHMsXG5cdFx0Z29NZW50aW9ucyxcblx0XHRnb1NlYXJjaCxcblx0XHRvcGVuU2lkZWJhcixcblx0XHRjbG9zZVNpZGViYXIsXG5cdFx0b3Blbk15UHJvZmlsZSxcblx0XHQkY29ubmVjdGVkLFxuXHRcdGlucHV0X2lucHV0X2hhbmRsZXJcblx0fTtcbn1cblxuY2xhc3MgTmF2aWdhdGlvbiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZlbHRlLTFhdmFheGItc3R5bGVcIikpIGFkZF9jc3MoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXSk7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBOYXZpZ2F0aW9uO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2VG1GMmFXZGhkR2x2Ymk1emRtVnNkR1VpWFN3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2x0dWRXeHNYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUU3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRVGhtUVN4cFFrRkJhMElpZlE9PSIsIi8qIFBhdGNoZm94LnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0Y2hlY2tfb3V0cm9zLFxuXHRjb21wb25lbnRfc3Vic2NyaWJlLFxuXHRkZXN0cm95X2NvbXBvbmVudCxcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRnbG9iYWxzLFxuXHRncm91cF9vdXRyb3MsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzcGFjZSxcblx0dG9nZ2xlX2NsYXNzLFxuXHR0cmFuc2l0aW9uX2luLFxuXHR0cmFuc2l0aW9uX291dCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCB7IHdpbmRvdzogd2luZG93XzEgfSA9IGdsb2JhbHM7XG5cbmNvbnN0IGZpbGUgPSBcIlBhdGNoZm94LnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBhZGRfY3NzKCkge1xuXHR2YXIgc3R5bGUgPSBlbGVtZW50KFwic3R5bGVcIik7XG5cdHN0eWxlLmlkID0gJ3N2ZWx0ZS02NGhodzAtc3R5bGUnO1xuXHRzdHlsZS50ZXh0Q29udGVudCA9IFwiLnJlZHVjZWQtbGluZS1sZW5ndGguc3ZlbHRlLTY0aGh3MHttYXgtd2lkdGg6ODQwcHg7bWFyZ2luOmF1dG99XFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lVR0YwWTJobWIzZ3VjM1psYkhSbElpd2ljMjkxY21ObGN5STZXeUpRWVhSamFHWnZlQzV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpUEhOamNtbHdkRDVjY2x4dUlDQmpiMjV6ZENCN0lHOXVUVzkxYm5Rc0lHOXVSR1Z6ZEhKdmVTQjlJRDBnY21WeGRXbHlaU2hjSW5OMlpXeDBaVndpS1R0Y2NseHVJQ0JqYjI1emRDQjdYSEpjYmlBZ0lDQmpiMjV1WldOMFpXUXNYSEpjYmlBZ0lDQnliM1YwWlN4Y2NseHVJQ0FnSUc1aGRtbG5ZWFJsTEZ4eVhHNGdJQ0FnWTNWeWNtVnVkRlpwWlhjc1hISmNiaUFnSUNCamIyNXVaV04wTEZ4eVhHNGdJQ0FnY21WamIyNXVaV04wTEZ4eVhHNGdJQ0FnY205MWRHVk1iMk5oZEdsdmJpeGNjbHh1SUNBZ0lHdGxaWEJRYVc1bmFXNW5MRnh5WEc0Z0lDQWdiRzloWkVOaFkyaGxjeXhjY2x4dUlDQjlJRDBnY21WeGRXbHlaU2hjSWk0dmRYUnBiSE11YW5OY0lpazdYSEpjYmlBZ1kyOXVjM1FnZXlCblpYUlFjbVZtSUgwZ1BTQnlaWEYxYVhKbEtGd2lMaTl3Y21WbWN5NXFjMXdpS1R0Y2NseHVJQ0JqYjI1emRDQk9ZWFpwWjJGMGFXOXVJRDBnY21WeGRXbHlaU2hjSWk0dlRtRjJhV2RoZEdsdmJpNXpkbVZzZEdWY0lpazdYSEpjYmx4eVhHNGdJR3hsZENCMWMyVlRhRzl5ZEVOdmJIVnRiaUE5SUdkbGRGQnlaV1lvWENKamIyeDFiVzVUYVhwbFhDSXNJRndpYzJodmNuUmNJaWtnUFQwZ1hDSnphRzl5ZEZ3aU8xeHlYRzRnSUdOdmJuTnZiR1V1Ykc5bktGd2lZMjlzZFcxdVUybDZaVndpTENCMWMyVlRhRzl5ZEVOdmJIVnRiaWs3WEhKY2JseHlYRzRnSUc5dVRXOTFiblFvWVhONWJtTWdLQ2tnUFQ0Z2UxeHlYRzRnSUNBZ2RISjVJSHRjY2x4dUlDQWdJQ0FnWVhkaGFYUWdZMjl1Ym1WamRDZ3BPMXh5WEc0Z0lDQWdJQ0JoZDJGcGRDQnNiMkZrUTJGamFHVnpLQ2s3WEhKY2JseHlYRzRnSUNBZ0lDQnJaV1Z3VUdsdVoybHVaeWdwTzF4eVhHNGdJQ0FnZlNCallYUmphQ0FvYmlrZ2UxeHlYRzRnSUNBZ0lDQmpiMjV6YjJ4bExtVnljbTl5S0Z3aVkyOXVibVZqZENCbGNuSnZjbHdpTENCdUtUdGNjbHh1SUNBZ0lDQWdjM2RwZEdOb0lDaHVLU0I3WEhKY2JpQWdJQ0FnSUNBZ1kyRnpaU0JjSWtOaGJpZDBJR052Ym01bFkzUWdkRzhnYzJKdmRGd2lPbHh5WEc0Z0lDQWdJQ0FnSUNBZ0x5OGdibVZsWkNCMGJ5QmlaU0JoWW14bElIUnZJR2R2SUhSdklITmxkSFJwYm1keklHVjJaVzRnZEdodmRXZG9JRzV2SUdOdmJtNWxZM1JwYjI0Z2FYTmNjbHh1SUNBZ0lDQWdJQ0FnSUM4dklHVnpkR0ZpYkdsemFHVmtMbHh5WEc0Z0lDQWdJQ0FnSUNBZ2FXWWdLQ1J5YjNWMFpVeHZZMkYwYVc5dUlDRTlQU0JjSWk5elpYUjBhVzVuYzF3aUtTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIZHBibVJ2ZHk1c2IyTmhkR2x2YmlBOUlGd2lMMlJ2WTNNdmFXNWtaWGd1YUhSdGJDTXZkSEp2ZFdKc1pYTm9iMjkwYVc1bkwyNXZMV052Ym01bFkzUnBiMjVjSWp0Y2NseHVJQ0FnSUNBZ0lDQWdJSDFjY2x4dUlDQWdJQ0FnSUNBZ0lHSnlaV0ZyTzF4eVhHNGdJQ0FnSUNBZ0lHUmxabUYxYkhRNlhISmNiaUFnSUNBZ0lDQWdJQ0J1WVhacFoyRjBaU2hjSWk5bGNuSnZjbHdpTENCN0lHVnljbTl5T2lCdUlIMHBPMXh5WEc0Z0lDQWdJQ0FnSUNBZ1luSmxZV3M3WEhKY2JpQWdJQ0FnSUgxY2NseHVJQ0FnSUgxY2NseHVJQ0I5S1R0Y2NseHVYSEpjYmlBZ1kyOXVjM1FnY0c5d1UzUmhkR1VnUFNCbGRtVnVkQ0E5UGlCN1hISmNiaUFnSUNCcFppQW9aWFpsYm5RdWMzUmhkR1VnSVQwOUlHNTFiR3dwSUh0Y2NseHVJQ0FnSUNBZ1kyOXVjMjlzWlM1a2FYSW9YQ0p3YjNCY0lpd2daWFpsYm5RdWMzUmhkR1VwTzF4eVhHNGdJQ0FnSUNCc1pYUWdleUJzYjJOaGRHbHZiaXdnWkdGMFlTQjlJRDBnWlhabGJuUXVjM1JoZEdVN1hISmNiaUFnSUNBZ0lISnZkWFJsTG5ObGRDaDdJR3h2WTJGMGFXOXVMQ0JrWVhSaElIMHBPMXh5WEc0Z0lDQWdmVnh5WEc0Z0lIMDdYSEpjYmx4eVhHNGdJR052Ym5OMElHaGhibVJzWlZWdVkyRjFaMmgwUlhoalpYQjBhVzl1SUQwZ1pYWmxiblFnUFQ0Z2UxeHlYRzRnSUNBZ1kyOXVjMjlzWlM1bGNuSnZjaWhjSWxWdVkyRjFaMmgwSUdWNFkyVndkR2x2Ymx3aUxDQmxkbVZ1ZENrN1hISmNiaUFnSUNCdVlYWnBaMkYwWlNoY0lpOWxjbkp2Y2x3aUxDQjdJR1Z5Y205eU9pQmxkbVZ1ZEM1dFpYTnpZV2RsSUgwcE8xeHlYRzRnSUgwN1hISmNibHh5WEc0Z0lHTnZibk4wSUdoaGMyaERhR0Z1WjJVZ1BTQmxkbVZ1ZENBOVBpQjdYSEpjYmlBZ0lDQmpiMjV6YjJ4bExtUnBjaWhjSW1oaGMyZ2dZMmhoYm1kbFhDSXNJR1YyWlc1MEtUdGNjbHh1SUNCOU8xeHlYRzQ4TDNOamNtbHdkRDVjY2x4dVhISmNianh6ZEhsc1pUNWNjbHh1SUNBdWNtVmtkV05sWkMxc2FXNWxMV3hsYm1kMGFDQjdYSEpjYmlBZ0lDQnRZWGd0ZDJsa2RHZzZJRGcwTUhCNE8xeHlYRzRnSUNBZ2JXRnlaMmx1T2lCaGRYUnZPMXh5WEc0Z0lIMWNjbHh1UEM5emRIbHNaVDVjY2x4dVhISmNianh6ZG1Wc2RHVTZkMmx1Wkc5M1hISmNiaUFnYjI0NmNHOXdjM1JoZEdVOWUzQnZjRk4wWVhSbGZWeHlYRzRnSUc5dU9tVnljbTl5UFh0b1lXNWtiR1ZWYm1OaGRXZG9kRVY0WTJWd2RHbHZibjFjY2x4dUlDQnZianBvWVhOb1kyaGhibWRsUFh0b1lYTm9RMmhoYm1kbGZTQXZQbHh5WEc1Y2NseHVQR1JwZGlCamJHRnpjejFjSW1OdmJuUmhhVzVsY2lCaVp5MW5jbUY1WENJK1hISmNiaUFnUEU1aGRtbG5ZWFJwYjI0Z0x6NWNjbHh1SUNBOFpHbDJJR05zWVhOelBWd2lZMjlzZFcxdWMxd2lQbHh5WEc0Z0lDQWdQR1JwZGlCamJHRnpjejFjSW1OdmJIVnRibHdpSUdOc1lYTnpPbkpsWkhWalpXUXRiR2x1WlMxc1pXNW5kR2c5ZTNWelpWTm9iM0owUTI5c2RXMXVmVDVjY2x4dUlDQWdJQ0FnUEhOMlpXeDBaVHBqYjIxd2IyNWxiblFnZEdocGN6MTdKR04xY25KbGJuUldhV1YzZlNBdlBseHlYRzRnSUNBZ1BDOWthWFkrWEhKY2JpQWdQQzlrYVhZK1hISmNiand2WkdsMlBseHlYRzRpWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCTmtSRkxHOUNRVUZ2UWl4alFVRkRMRU5CUVVNc1FVRkRjRUlzVTBGQlV5eERRVUZGTEV0QlFVc3NRMEZEYUVJc1RVRkJUU3hEUVVGRkxFbEJRVWtzUVVGRFpDeERRVUZESW4wPSAqL1wiO1xuXHRhcHBlbmQoZG9jdW1lbnQuaGVhZCwgc3R5bGUpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBkaXYyLCB0LCBkaXYxLCBkaXYwLCBjdXJyZW50LCBkaXNwb3NlO1xuXG5cdHZhciBuYXZpZ2F0aW9uID0gbmV3IGN0eC5OYXZpZ2F0aW9uKHsgJCRpbmxpbmU6IHRydWUgfSk7XG5cblx0dmFyIHN3aXRjaF92YWx1ZSA9IGN0eC4kY3VycmVudFZpZXc7XG5cblx0ZnVuY3Rpb24gc3dpdGNoX3Byb3BzKGN0eCkge1xuXHRcdHJldHVybiB7ICQkaW5saW5lOiB0cnVlIH07XG5cdH1cblxuXHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0dmFyIHN3aXRjaF9pbnN0YW5jZSA9IG5ldyBzd2l0Y2hfdmFsdWUoc3dpdGNoX3Byb3BzKGN0eCkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYyID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdG5hdmlnYXRpb24uJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0dCA9IHNwYWNlKCk7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjAgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LmMoKTtcblx0XHRcdGF0dHIoZGl2MCwgXCJjbGFzc1wiLCBcImNvbHVtbiBzdmVsdGUtNjRoaHcwXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGRpdjAsIFwicmVkdWNlZC1saW5lLWxlbmd0aFwiLCBjdHgudXNlU2hvcnRDb2x1bW4pO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDc1LCA0LCAxODA3KTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbHVtbnNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgNzQsIDIsIDE3ODApO1xuXHRcdFx0YXR0cihkaXYyLCBcImNsYXNzXCIsIFwiY29udGFpbmVyIGJnLWdyYXlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgNzIsIDAsIDE3MjcpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4od2luZG93XzEsIFwicG9wc3RhdGVcIiwgY3R4LnBvcFN0YXRlKSxcblx0XHRcdFx0bGlzdGVuKHdpbmRvd18xLCBcImVycm9yXCIsIGN0eC5oYW5kbGVVbmNhdWdodEV4Y2VwdGlvbiksXG5cdFx0XHRcdGxpc3Rlbih3aW5kb3dfMSwgXCJoYXNoY2hhbmdlXCIsIGN0eC5oYXNoQ2hhbmdlKVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYyLCBhbmNob3IpO1xuXHRcdFx0bW91bnRfY29tcG9uZW50KG5hdmlnYXRpb24sIGRpdjIsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIHQpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGRpdjApO1xuXG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB7XG5cdFx0XHRcdG1vdW50X2NvbXBvbmVudChzd2l0Y2hfaW5zdGFuY2UsIGRpdjAsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKHN3aXRjaF92YWx1ZSAhPT0gKHN3aXRjaF92YWx1ZSA9IGN0eC4kY3VycmVudFZpZXcpKSB7XG5cdFx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHtcblx0XHRcdFx0XHRncm91cF9vdXRyb3MoKTtcblx0XHRcdFx0XHRjb25zdCBvbGRfY29tcG9uZW50ID0gc3dpdGNoX2luc3RhbmNlO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25fb3V0KG9sZF9jb21wb25lbnQuJCQuZnJhZ21lbnQsIDEsIDAsICgpID0+IHtcblx0XHRcdFx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG9sZF9jb21wb25lbnQsIDEpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdFx0XHRcdHN3aXRjaF9pbnN0YW5jZSA9IG5ldyBzd2l0Y2hfdmFsdWUoc3dpdGNoX3Byb3BzKGN0eCkpO1xuXG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LmMoKTtcblx0XHRcdFx0XHR0cmFuc2l0aW9uX2luKHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgMSk7XG5cdFx0XHRcdFx0bW91bnRfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgZGl2MCwgbnVsbCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlID0gbnVsbDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC51c2VTaG9ydENvbHVtbikge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MoZGl2MCwgXCJyZWR1Y2VkLWxpbmUtbGVuZ3RoXCIsIGN0eC51c2VTaG9ydENvbHVtbik7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihuYXZpZ2F0aW9uLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobmF2aWdhdGlvbi4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgdHJhbnNpdGlvbl9vdXQoc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYyKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobmF2aWdhdGlvbik7XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGRlc3Ryb3lfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSk7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0ICRyb3V0ZUxvY2F0aW9uLCAkY3VycmVudFZpZXc7XG5cblx0Y29uc3QgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSA9IHJlcXVpcmUoXCJzdmVsdGVcIik7XHJcbiAgY29uc3Qge1xyXG4gICAgY29ubmVjdGVkLFxyXG4gICAgcm91dGUsXHJcbiAgICBuYXZpZ2F0ZSxcclxuICAgIGN1cnJlbnRWaWV3LFxyXG4gICAgY29ubmVjdCxcclxuICAgIHJlY29ubmVjdCxcclxuICAgIHJvdXRlTG9jYXRpb24sXHJcbiAgICBrZWVwUGluZ2luZyxcclxuICAgIGxvYWRDYWNoZXMsXHJcbiAgfSA9IHJlcXVpcmUoXCIuL3V0aWxzLmpzXCIpOyB2YWxpZGF0ZV9zdG9yZShjdXJyZW50VmlldywgJ2N1cnJlbnRWaWV3Jyk7IGNvbXBvbmVudF9zdWJzY3JpYmUoJCRzZWxmLCBjdXJyZW50VmlldywgJCR2YWx1ZSA9PiB7ICRjdXJyZW50VmlldyA9ICQkdmFsdWU7ICQkaW52YWxpZGF0ZSgnJGN1cnJlbnRWaWV3JywgJGN1cnJlbnRWaWV3KSB9KTsgdmFsaWRhdGVfc3RvcmUocm91dGVMb2NhdGlvbiwgJ3JvdXRlTG9jYXRpb24nKTsgY29tcG9uZW50X3N1YnNjcmliZSgkJHNlbGYsIHJvdXRlTG9jYXRpb24sICQkdmFsdWUgPT4geyAkcm91dGVMb2NhdGlvbiA9ICQkdmFsdWU7ICQkaW52YWxpZGF0ZSgnJHJvdXRlTG9jYXRpb24nLCAkcm91dGVMb2NhdGlvbikgfSk7XHJcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi9wcmVmcy5qc1wiKTtcclxuICBjb25zdCBOYXZpZ2F0aW9uID0gcmVxdWlyZShcIi4vTmF2aWdhdGlvbi5zdmVsdGVcIik7XHJcblxyXG4gIGxldCB1c2VTaG9ydENvbHVtbiA9IGdldFByZWYoXCJjb2x1bW5TaXplXCIsIFwic2hvcnRcIikgPT0gXCJzaG9ydFwiO1xyXG4gIGNvbnNvbGUubG9nKFwiY29sdW1uU2l6ZVwiLCB1c2VTaG9ydENvbHVtbik7XHJcblxyXG4gIG9uTW91bnQoYXN5bmMgKCkgPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgY29ubmVjdCgpO1xyXG4gICAgICBhd2FpdCBsb2FkQ2FjaGVzKCk7XHJcblxyXG4gICAgICBrZWVwUGluZ2luZygpO1xyXG4gICAgfSBjYXRjaCAobikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKFwiY29ubmVjdCBlcnJvclwiLCBuKTtcclxuICAgICAgc3dpdGNoIChuKSB7XHJcbiAgICAgICAgY2FzZSBcIkNhbid0IGNvbm5lY3QgdG8gc2JvdFwiOlxyXG4gICAgICAgICAgLy8gbmVlZCB0byBiZSBhYmxlIHRvIGdvIHRvIHNldHRpbmdzIGV2ZW4gdGhvdWdoIG5vIGNvbm5lY3Rpb24gaXNcclxuICAgICAgICAgIC8vIGVzdGFibGlzaGVkLlxyXG4gICAgICAgICAgaWYgKCRyb3V0ZUxvY2F0aW9uICE9PSBcIi9zZXR0aW5nc1wiKSB7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IFwiL2RvY3MvaW5kZXguaHRtbCMvdHJvdWJsZXNob290aW5nL25vLWNvbm5lY3Rpb25cIjtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICBuYXZpZ2F0ZShcIi9lcnJvclwiLCB7IGVycm9yOiBuIH0pO1xyXG4gICAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgY29uc3QgcG9wU3RhdGUgPSBldmVudCA9PiB7XHJcbiAgICBpZiAoZXZlbnQuc3RhdGUgIT09IG51bGwpIHtcclxuICAgICAgY29uc29sZS5kaXIoXCJwb3BcIiwgZXZlbnQuc3RhdGUpO1xyXG4gICAgICBsZXQgeyBsb2NhdGlvbiwgZGF0YSB9ID0gZXZlbnQuc3RhdGU7XHJcbiAgICAgIHJvdXRlLnNldCh7IGxvY2F0aW9uLCBkYXRhIH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhbmRsZVVuY2F1Z2h0RXhjZXB0aW9uID0gZXZlbnQgPT4ge1xyXG4gICAgY29uc29sZS5lcnJvcihcIlVuY2F1Z2h0IGV4Y2VwdGlvblwiLCBldmVudCk7XHJcbiAgICBuYXZpZ2F0ZShcIi9lcnJvclwiLCB7IGVycm9yOiBldmVudC5tZXNzYWdlIH0pO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGhhc2hDaGFuZ2UgPSBldmVudCA9PiB7XHJcbiAgICBjb25zb2xlLmRpcihcImhhc2ggY2hhbmdlXCIsIGV2ZW50KTtcclxuICB9O1xuXG5cdHJldHVybiB7XG5cdFx0Y3VycmVudFZpZXcsXG5cdFx0cm91dGVMb2NhdGlvbixcblx0XHROYXZpZ2F0aW9uLFxuXHRcdHVzZVNob3J0Q29sdW1uLFxuXHRcdHBvcFN0YXRlLFxuXHRcdGhhbmRsZVVuY2F1Z2h0RXhjZXB0aW9uLFxuXHRcdGhhc2hDaGFuZ2UsXG5cdFx0JGN1cnJlbnRWaWV3XG5cdH07XG59XG5cbmNsYXNzIFBhdGNoZm94IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUtNjRoaHcwLXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGF0Y2hmb3g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZVR0YwWTJobWIzZ3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVGMVQwRXNhVUpCUVd0Q0luMD0iLCJjb25zdCB7IGdldFByZWYsIHNldFByZWYgfSA9IHJlcXVpcmUoXCIuL3ByZWZzLmpzXCIpXHJcblxyXG5jb25zdCBnZXRGaWx0ZXJzID0gKCkgPT4gZ2V0UHJlZihcImZpbHRlcnNcIiwgW10pXHJcblxyXG5jb25zdCBhZGRGaWx0ZXIgPSAoZmlsdGVyKSA9PiB7XHJcbiAgICBsZXQgY3VycmVudEZpbHRlcnMgPSBnZXRGaWx0ZXJzKClcclxuXHJcbiAgICBjdXJyZW50RmlsdGVycy5wdXNoKGZpbHRlcilcclxuXHJcbiAgICBzZXRQcmVmKFwiZmlsdGVyc1wiLCBjdXJyZW50RmlsdGVycylcclxufVxyXG5cclxuY29uc3QgZGVsZXRlRmlsdGVyID0gKGZpbHRlcikgPT4ge1xyXG4gICAgbGV0IGN1cnJlbnRGaWx0ZXJzID0gZ2V0RmlsdGVycygpXHJcblxyXG4gICAgc2V0UHJlZihcImZpbHRlcnNcIiwgY3VycmVudEZpbHRlcnMuZmlsdGVyKGYgPT4gZiAhPT0gZmlsdGVyKSlcclxufVxyXG5cclxuY29uc3QgaXNNZXNzYWdlQmx1cmVkID0gKG1zZykgPT4ge1xyXG4gICAgbGV0IGN1cnJlbnRGaWx0ZXJzID0gZ2V0RmlsdGVycygpLmZpbHRlcihmID0+IGYuYWN0aW9uID09IFwiYmx1clwiKVxyXG4gICAgaWYgKGN1cnJlbnRGaWx0ZXJzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgcmVzID0gY3VycmVudEZpbHRlcnMubWFwKChmKSA9PiBpc01lc3NhZ2VGaWx0ZXJlZChtc2csIGYsIFwiYmx1clwiKSlcclxuICAgICAgICByZXR1cm4gIXJlcy5zb21lKHIgPT4gcilcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5jb25zdCBpc01lc3NhZ2VIaWRkZW4gPSAobXNnKSA9PiB7XHJcbiAgICBsZXQgY3VycmVudEZpbHRlcnMgPSBnZXRGaWx0ZXJzKCkuZmlsdGVyKGYgPT4gZi5hY3Rpb24gPT0gXCJoaWRlXCIpXHJcbiAgICBpZiAoY3VycmVudEZpbHRlcnMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgIGxldCByZXMgPSBjdXJyZW50RmlsdGVycy5tYXAoKGYpID0+IGlzTWVzc2FnZUZpbHRlcmVkKG1zZywgZiwgXCJoaWRlXCIpKVxyXG4gICAgICAgIHJldHVybiByZXMuc29tZShyID0+IHIpXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiB0cnVlIC8vIHRydWUgYmVjYXVzZSBpdCBpcyB1c2VkIGJ5IGEgcHVsbC5maWx0ZXIoKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBpc01lc3NhZ2VGaWx0ZXJlZCA9IChtc2csIGZpbHRlciwgYWN0aW9uKSA9PiB7XHJcbiAgICBsZXQgZmlsdGVyUmVzdWx0cyA9IFtdXHJcbiAgICBpZiAoZmlsdGVyLmFjdGlvbiAhPT0gYWN0aW9uKSB7XHJcbiAgICAgICAgcmV0dXJuIHRydWVcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVyLmV4cGlyZXMpIHtcclxuICAgICAgICBsZXQgZXhwaXJhdGlvbkRhdGUgPSBuZXcgRGF0ZShmaWx0ZXIuZXhwaXJlcylcclxuICAgICAgICBsZXQgdG9kYXkgPSBuZXcgRGF0ZSgpXHJcblxyXG4gICAgICAgIGlmICh0b2RheSA+IGV4cGlyYXRpb25EYXRlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0cnVlXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXIuZmVlZCkge1xyXG4gICAgICAgIGlmIChmaWx0ZXIuZmVlZCA9PSBtc2cudmFsdWUuYXV0aG9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmlsdGVyZWQgZHVlIHRvIGZlZWRcIilcclxuICAgICAgICAgICAgZmlsdGVyUmVzdWx0cy5wdXNoKHRydWUpXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgZmlsdGVyUmVzdWx0cy5wdXNoKGZhbHNlKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlsdGVyLmNoYW5uZWwpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImZpbHRlcmVkIGR1ZSB0byBjaGFubmVsXCIpXHJcbiAgICAgICAgaWYgKG1zZy52YWx1ZS5jb250ZW50LmNoYW5uZWwgJiYgZmlsdGVyLmNoYW5uZWwgPT0gbXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbCkge1xyXG4gICAgICAgICAgICBmaWx0ZXJSZXN1bHRzLnB1c2godHJ1ZSlcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBmaWx0ZXJSZXN1bHRzLnB1c2goZmFsc2UpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlmIChmaWx0ZXIua2V5d29yZHMubGVuZ3RoID4gMCAmJiBtc2cudmFsdWUuY29udGVudC50eXBlID09IFwicG9zdFwiICYmIG1zZy52YWx1ZS5jb250ZW50LnRleHQpIHtcclxuICAgICAgICBsZXQga2V5d29yZHMgPSBmaWx0ZXIua2V5d29yZHNcclxuICAgICAgICBsZXQgY29udGVudCA9IG1zZy52YWx1ZS5jb250ZW50LnRleHQudG9Mb3dlckNhc2UoKVxyXG5cclxuICAgICAgICBsZXQgcmVzID0ga2V5d29yZHMubWFwKGsgPT4gY29udGVudC5pbmNsdWRlcyhrLnRvTG93ZXJDYXNlKCkpKS5zb21lKHIgPT4gcilcclxuICAgICAgICBpZiAocmVzKSBjb25zb2xlLmxvZyhcImZpbHRlcmVkIGR1ZSB0byBrZXl3b3Jkc1wiKVxyXG4gICAgICAgIGZpbHRlclJlc3VsdHMucHVzaChyZXMpXHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJyZXNcIiwgIWZpbHRlclJlc3VsdHMuc29tZShuID0+IG4gPT0gdHJ1ZSkpXHJcbiAgICByZXR1cm4gIWZpbHRlclJlc3VsdHMuc29tZShuID0+IG4gPT0gdHJ1ZSlcclxufVxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBnZXRGaWx0ZXJzLFxyXG4gICAgaXNNZXNzYWdlQmx1cmVkLFxyXG4gICAgaXNNZXNzYWdlRmlsdGVyZWQsXHJcbiAgICBpc01lc3NhZ2VIaWRkZW4sXHJcbiAgICBhZGRGaWx0ZXIsXHJcbiAgICBkZWxldGVGaWx0ZXJcclxufSIsImNvbnN0IFBhdGNoZm94ID0gcmVxdWlyZShcIi4vUGF0Y2hmb3guc3ZlbHRlXCIpO1xyXG5cclxuY29uc3Qge1xyXG4gICAgbmF2aWdhdGUsXHJcbiAgICBpbnRlcmNlcHQsXHJcbn0gPSAgcmVxdWlyZShcIi4vdXRpbHMuanNcIik7XHJcblxyXG5jb25zdCB7IGxvYWRDb25maWd1cmF0aW9uIH0gPSByZXF1aXJlKFwiLi9wcmVmcy5qc1wiKVxyXG5cclxuY29uc3QgbWFpbiA9IGFzeW5jICgpID0+IHtcclxuICAgIHdpbmRvdy5zc2IgPSBmYWxzZTtcclxuXHJcbiAgICBpbnRlcmNlcHQoKVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgYXdhaXQgbG9hZENvbmZpZ3VyYXRpb24oKVxyXG5cclxuICAgIH0gY2F0Y2ggKG4pIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiaW5pdGlhbGl6YXRpb24gZXJyb3JcIiwgbilcclxuICAgICAgICBzd2l0Y2ggKG4pIHtcclxuICAgICAgICAgICAgY2FzZSBcIkNvbmZpZ3VyYXRpb24gaXMgbWlzc2luZ1wiOlxyXG4gICAgICAgICAgICAgICAgbmF2aWdhdGUoXCIvc2V0dGluZ3NcIilcclxuICAgICAgICAgICAgICAgIGJyZWFrXHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICBuYXZpZ2F0ZShcIi9lcnJvclwiLCB7IGVycm9yOiBuIH0pXHJcbiAgICAgICAgICAgICAgICBicmVha1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGF0Y2hmb3ggPSBuZXcgUGF0Y2hmb3goe1xyXG4gICAgICAgIHRhcmdldDogZG9jdW1lbnQuYm9keVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbm1haW4oKSIsIi8qIEFib3V0TXNnLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRlbXB0eSxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0XG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiQWJvdXRNc2cuc3ZlbHRlXCI7XG5cbi8vICg1MjoyKSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9ja18xKGN0eCkge1xuXHR2YXIgZGl2LCB0MCwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KGN0eC5wZXJzb24pO1xuXHRcdFx0dDEgPSB0ZXh0KFwiIGlzIGRvaW5nIHNvbWV0aGluZyByZWxhdGVkIHRvIGEgZ2F0aGVyaW5nIGJ1dCBnYXRoZXJpbmdzIGFyZSBub3RcXHJcXG4gICAgICBzdXBwb3J0ZWQgeWV0LCBzb3JyeS5cIik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNTIsIDQsIDE0NTQpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDEpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5wZXJzb24pIHtcblx0XHRcdFx0c2V0X2RhdGEodDAsIGN0eC5wZXJzb24pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgzNToyKSB7I2lmIGlzVGhpc0Fib3V0RmVlZHN9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciB0MCwgdDEsIHQyLCB0MywgYSwgYV9ocmVmX3ZhbHVlLCB0NCwgaWZfYmxvY2sxX2FuY2hvcjtcblxuXHRmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZV8xKGN0eCkge1xuXHRcdGlmIChjdHguaW1hZ2UpIHJldHVybiBjcmVhdGVfaWZfYmxvY2tfMjtcblx0XHRyZXR1cm4gY3JlYXRlX2Vsc2VfYmxvY2s7XG5cdH1cblxuXHR2YXIgY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGVfMShjdHgpO1xuXHR2YXIgaWZfYmxvY2swID0gY3VycmVudF9ibG9ja190eXBlKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrMSA9IChjdHgubXNnLnZhbHVlLmNvbnRlbnQuZGVzY3JpcHRpb24pICYmIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHR0MCA9IHRleHQoY3R4LnBlcnNvbik7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHR0MiA9IHRleHQoY3R4LnZlcmIpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0aWZfYmxvY2swLmMoKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRpZl9ibG9jazFfYW5jaG9yID0gZW1wdHkoKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiP2ZlZWQ9XCIgKyBjdHgub3RoZXJMaW5rICsgXCIjL3Byb2ZpbGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgMzYsIDQsIDEwMDIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDAsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQyLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDMsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBhLCBhbmNob3IpO1xuXHRcdFx0aWZfYmxvY2swLm0oYSwgbnVsbCk7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0NCwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGlmX2Jsb2NrMV9hbmNob3IsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLnBlcnNvbikge1xuXHRcdFx0XHRzZXRfZGF0YSh0MCwgY3R4LnBlcnNvbik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjaGFuZ2VkLnZlcmIpIHtcblx0XHRcdFx0c2V0X2RhdGEodDIsIGN0eC52ZXJiKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZSA9PT0gKGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KSkgJiYgaWZfYmxvY2swKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMC5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gY3VycmVudF9ibG9ja190eXBlKGN0eCk7XG5cdFx0XHRcdGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGEsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHgubXNnLnZhbHVlLmNvbnRlbnQuZGVzY3JpcHRpb24pIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGlmX2Jsb2NrMV9hbmNob3IucGFyZW50Tm9kZSwgaWZfYmxvY2sxX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godDApO1xuXHRcdFx0XHRkZXRhY2godDEpO1xuXHRcdFx0XHRkZXRhY2godDIpO1xuXHRcdFx0XHRkZXRhY2godDMpO1xuXHRcdFx0XHRkZXRhY2goYSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmX2Jsb2NrMC5kKCk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQ0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaWZfYmxvY2sxX2FuY2hvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNDM6NikgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KSB7XG5cdHZhciBzcGFuLCB0O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dCA9IHRleHQoY3R4Lm90aGVyTmFtZSk7XG5cdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgXCJjaGlwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4sIGZpbGUsIDQzLCA4LCAxMjIzKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNwYW4sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLm90aGVyTmFtZSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0LCBjdHgub3RoZXJOYW1lKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHNwYW4pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDM4OjYpIHsjaWYgaW1hZ2V9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpIHtcblx0dmFyIGRpdiwgaW1nLCB0MCwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aW1nID0gZWxlbWVudChcImltZ1wiKTtcblx0XHRcdHQwID0gc3BhY2UoKTtcblx0XHRcdHQxID0gdGV4dChjdHgub3RoZXJOYW1lKTtcblx0XHRcdGF0dHIoaW1nLCBcInNyY1wiLCBjdHguaW1hZ2UpO1xuXHRcdFx0YXR0cihpbWcsIFwiY2xhc3NcIiwgXCJhdmF0YXIgYXZhdGFyLXNtXCIpO1xuXHRcdFx0YXR0cihpbWcsIFwiYWx0XCIsIGN0eC5vdGhlck5hbWUpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGltZywgZmlsZSwgMzksIDEwLCAxMDk4KTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiY2hpcFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDM4LCA4LCAxMDY4KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIGltZyk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLm90aGVyTmFtZSkge1xuXHRcdFx0XHRhdHRyKGltZywgXCJhbHRcIiwgY3R4Lm90aGVyTmFtZSk7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCBjdHgub3RoZXJOYW1lKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNDc6NCkgeyNpZiBtc2cudmFsdWUuY29udGVudC5kZXNjcmlwdGlvbn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCkge1xuXHR2YXIgYmxvY2txdW90ZSwgcmF3X3ZhbHVlID0gY3R4LnNzYi5tYXJrZG93bihjdHgubXNnLnZhbHVlLmNvbnRlbnQuZGVzY3JpcHRpb24pO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0YmxvY2txdW90ZSA9IGVsZW1lbnQoXCJibG9ja3F1b3RlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJsb2NrcXVvdGUsIGZpbGUsIDQ3LCA2LCAxMzMyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJsb2NrcXVvdGUsIGFuY2hvcik7XG5cdFx0XHRibG9ja3F1b3RlLmlubmVySFRNTCA9IHJhd192YWx1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLm1zZykgJiYgcmF3X3ZhbHVlICE9PSAocmF3X3ZhbHVlID0gY3R4LnNzYi5tYXJrZG93bihjdHgubXNnLnZhbHVlLmNvbnRlbnQuZGVzY3JpcHRpb24pKSkge1xuXHRcdFx0XHRibG9ja3F1b3RlLmlubmVySFRNTCA9IHJhd192YWx1ZTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGJsb2NrcXVvdGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgZGl2O1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCkge1xuXHRcdGlmIChjdHguaXNUaGlzQWJvdXRGZWVkcykgcmV0dXJuIGNyZWF0ZV9pZl9ibG9jaztcblx0XHRyZXR1cm4gY3JlYXRlX2Vsc2VfYmxvY2tfMTtcblx0fVxuXG5cdHZhciBjdXJyZW50X2Jsb2NrX3R5cGUgPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXHR2YXIgaWZfYmxvY2sgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNhcmQtYm9keVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDMzLCAwLCA5MjYpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGlmX2Jsb2NrLm0oZGl2LCBudWxsKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZSA9PT0gKGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCkpICYmIGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGlmX2Jsb2NrLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmX2Jsb2NrLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrID0gY3VycmVudF9ibG9ja190eXBlKGN0eCk7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKGRpdiwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cblx0XHRcdGlmX2Jsb2NrLmQoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCB7IG1zZyB9ID0gJCRwcm9wcztcclxuXHJcbiAgbGV0IHBlcnNvbiA9IG1zZy52YWx1ZS5hdXRob3I7XHJcbiAgbGV0IG90aGVyTGluayA9IGVuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5hYm91dCk7XHJcbiAgbGV0IG90aGVyTmFtZSA9IG1zZy52YWx1ZS5jb250ZW50Lm5hbWUgfHwgbXNnLnZhbHVlLmNvbnRlbnQuYWJvdXQ7XHJcbiAgbGV0IGlzVGhpc0Fib3V0RmVlZHMgPSB0cnVlO1xyXG4gIGxldCB2ZXJiID1cclxuICAgIG1zZy52YWx1ZS5jb250ZW50LmFib3V0ID09PSBtc2cudmFsdWUuYXV0aG9yXHJcbiAgICAgID8gXCJzZWxmLWlkZW50aWZpZXNcIlxyXG4gICAgICA6IFwiaWRlbnRpZmllc1wiO1xyXG5cclxuICBzc2IuYXZhdGFyKG1zZy52YWx1ZS5hdXRob3IpLnRoZW4oZGF0YSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKHBlcnNvbiA9IGRhdGEubmFtZSk7ICQkaW52YWxpZGF0ZSgncGVyc29uJywgcGVyc29uKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuXHJcbiAgaWYgKG90aGVyTmFtZSA9PT0gbXNnLnZhbHVlLmNvbnRlbnQuYWJvdXQpIHtcclxuICAgIHNzYi5hdmF0YXIobXNnLnZhbHVlLmNvbnRlbnQuYWJvdXQpLnRoZW4oZGF0YSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKG90aGVyTmFtZSA9IGRhdGEubmFtZSk7ICQkaW52YWxpZGF0ZSgnb3RoZXJOYW1lJywgb3RoZXJOYW1lKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuICB9XHJcblxyXG4gIGxldCBpbWFnZSA9IG1zZy52YWx1ZS5jb250ZW50LmltYWdlXHJcbiAgICA/IGBodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0LyR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICAgIG1zZy52YWx1ZS5jb250ZW50LmltYWdlXHJcbiAgICAgICl9YFxyXG4gICAgOiBmYWxzZTtcclxuXHJcbiAgaWYgKG1zZy52YWx1ZS5jb250ZW50LmRlc2NyaXB0aW9uKSB7XHJcbiAgICAkJGludmFsaWRhdGUoJ3ZlcmInLCB2ZXJiICs9IFwiIHdpdGggZGVzY3JpcHRpb25cIik7XHJcbiAgfVxyXG5cclxuICBpZiAobXNnLnZhbHVlLmNvbnRlbnQuYWJvdXQuc3RhcnRzV2l0aChcIiVcIikpIHtcclxuICAgICQkaW52YWxpZGF0ZSgnaXNUaGlzQWJvdXRGZWVkcycsIGlzVGhpc0Fib3V0RmVlZHMgPSBmYWxzZSk7IC8vIHRoaXMgYXBwZWFyIHRvIGJlIGEgZ2F0aGVyaW5nXHJcbiAgfVxuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydtc2cnXTtcblx0T2JqZWN0LmtleXMoJCRwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGlmICghd3JpdGFibGVfcHJvcHMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJyQkJykpIGNvbnNvbGUud2FybihgPEFib3V0TXNnPiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbXNnJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9ICQkcHJvcHMubXNnKTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdG1zZyxcblx0XHRwZXJzb24sXG5cdFx0b3RoZXJMaW5rLFxuXHRcdG90aGVyTmFtZSxcblx0XHRpc1RoaXNBYm91dEZlZWRzLFxuXHRcdHZlcmIsXG5cdFx0aW1hZ2UsXG5cdFx0c3NiXG5cdH07XG59XG5cbmNsYXNzIEFib3V0TXNnIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtcIm1zZ1wiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5tc2cgPT09IHVuZGVmaW5lZCAmJiAhKCdtc2cnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiPEFib3V0TXNnPiB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGVjdGVkIHByb3AgJ21zZydcIik7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IG1zZygpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8QWJvdXRNc2c+OiBQcm9wcyBjYW5ub3QgYmUgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG5cblx0c2V0IG1zZyh2YWx1ZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxBYm91dE1zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBYm91dE1zZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmJXVnpjMkZuWlZSNWNHVnpMMEZpYjNWMFRYTm5Mbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenRCUVRoWVFTeHBRa0ZCYTBJaWZRPT0iLCIvKiBCbG9nTXNnLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0SHRtbFRhZyxcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0Y29tcG9uZW50X3N1YnNjcmliZSxcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRnbG9iYWxzLFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdGxpc3Rlbixcblx0bm9vcCxcblx0cHJldmVudF9kZWZhdWx0LFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0LFxuXHR0b2dnbGVfY2xhc3MsXG5cdHZhbGlkYXRlX3N0b3JlXG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgeyBjb25zb2xlOiBjb25zb2xlXzEgfSA9IGdsb2JhbHM7XG5cbmNvbnN0IGZpbGUgPSBcIkJsb2dNc2cuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGFkZF9jc3MoKSB7XG5cdHZhciBzdHlsZSA9IGVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGUuaWQgPSAnc3ZlbHRlLTFhd25hNTYtc3R5bGUnO1xuXHRzdHlsZS50ZXh0Q29udGVudCA9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lRbXh2WjAxelp5NXpkbVZzZEdVaUxDSnpiM1Z5WTJWeklqcGJJa0pzYjJkTmMyY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJanh6WTNKcGNIUStYRzRnSUdOdmJuTjBJSHNnYm1GMmFXZGhkR1VzSUhKdmRYUmxURzlqWVhScGIyNGdmU0E5SUhKbGNYVnBjbVVvWENJdUxpOTFkR2xzY3k1cWMxd2lLVHRjYmx4dUlDQmxlSEJ2Y25RZ2JHVjBJRzF6Wnp0Y2JseHVJQ0JzWlhRZ1kyOXVkR1Z1ZENBOUlHMXpaeTUyWVd4MVpTNWpiMjUwWlc1ME8xeHVYRzRnSUd4bGRDQnpkVzF0WVhKNUlEMGdjM05pTG0xaGNtdGtiM2R1S0dOdmJuUmxiblF1YzNWdGJXRnllU2s3WEc0Z0lHeGxkQ0IwYUhWdFltNWhhV3dnUFNCamIyNTBaVzUwTG5Sb2RXMWlibUZwYkNCOGZDQm1ZV3h6WlR0Y2JpQWdiR1YwSUhScGRHeGxJRDBnWTI5dWRHVnVkQzUwYVhSc1pTQjhmQ0JtWVd4elpUdGNiaUFnYkdWMElITm9iM2RDYkc5bmNHOXpkQ0E5SUdaaGJITmxPMXh1SUNCc1pYUWdiRzloWkdsdVp5QTlJR1poYkhObE8xeHVJQ0JzWlhRZ2RHOWhjM1FnUFNCbVlXeHpaVHRjYmlBZ2JHVjBJSFJ2WVhOMFRYTm5JRDBnWENKY0lqdGNiaUFnYkdWMElIQnZjM1FnUFNCemRXMXRZWEo1TzF4dUlDQnNaWFFnYUdGelEyOXVkR1Z1ZEZkaGNtNXBibWNnUFNCamIyNTBaVzUwTG1OdmJuUmxiblJYWVhKdWFXNW5JQ1ltSUdOdmJuUmxiblF1WTI5dWRHVnVkRmRoY201cGJtY3ViR1Z1WjNSb0lENGdNRHRjYmx4dUlDQnNaWFFnYkdsclpXUWdQU0JtWVd4elpUdGNibHh1SUNCemMySXVkbTkwWlhNb2JYTm5MbXRsZVNrdWRHaGxiaWh0Y3lBOVBpQjdYRzRnSUNBZ2JYTXVabTl5UldGamFDaHRJRDArSUh0Y2JpQWdJQ0FnSUd4bGRDQmhkWFJvYjNJZ1BTQnRMblpoYkhWbExtRjFkR2h2Y2p0Y2JpQWdJQ0FnSUdsbUlDZ29ZWFYwYUc5eUlEMDlQU0J6YzJJdVptVmxaQ0FtSmlCdExuWmhiSFZsTG1OdmJuUmxiblF1ZG05MFpTNTJZV3gxWlNBOVBUMGdNU2twSUh0Y2JpQWdJQ0FnSUNBZ2JHbHJaV1FnUFNCMGNuVmxPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lIMHBPMXh1SUNCOUtUdGNibHh1SUNCamIyNXpkQ0JzYVd0bFEyaGhibWRsWkNBOUlHVjJJRDArSUh0Y2JpQWdJQ0JzWlhRZ2RpQTlJR1YyTG5SaGNtZGxkQzVqYUdWamEyVmtPMXh1SUNBZ0lHbG1JQ2gyS1NCN1hHNGdJQ0FnSUNCemMySmNiaUFnSUNBZ0lDQWdMbXhwYTJVb2JYTm5MbXRsZVNsY2JpQWdJQ0FnSUNBZ0xuUm9aVzRvS0NrZ1BUNGdZMjl1YzI5c1pTNXNiMmNvWENKc2FXdGxaRndpTENCdGMyY3VhMlY1S1NsY2JpQWdJQ0FnSUNBZ0xtTmhkR05vS0NncElEMCtJQ2hzYVd0bFpDQTlJR1poYkhObEtTazdYRzRnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUhOellseHVJQ0FnSUNBZ0lDQXVkVzVzYVd0bEtHMXpaeTVyWlhrcFhHNGdJQ0FnSUNBZ0lDNTBhR1Z1S0NncElEMCtJR052Ym5OdmJHVXViRzluS0Z3aWRXNXNhV3RsWkZ3aUxDQnRjMmN1YTJWNUtTbGNiaUFnSUNBZ0lDQWdMbU5oZEdOb0tDZ3BJRDArSUNoc2FXdGxaQ0E5SUhSeWRXVXBLVHRjYmlBZ0lDQjlYRzRnSUgwN1hHNWNiaUFnWTI5dWMzUWdaR2x6Y0d4aGVVSnNiMmRRYjNOMElEMGdaWFlnUFQ0Z2UxeHVJQ0FnSUd4dllXUnBibWNnUFNCMGNuVmxPMXh1SUNBZ0lHTnZibk52YkdVdWJHOW5LRndpYkc5aFpHbHVaeUJpYkc5bmNHOXpkRndpTENCamIyNTBaVzUwTG1Kc2IyY3BPMXh1WEc0Z0lDQWdjM05pWEc0Z0lDQWdJQ0F1WjJWMFFteHZZaWhqYjI1MFpXNTBMbUpzYjJjcFhHNGdJQ0FnSUNBdWRHaGxiaWhrWVhSaElEMCtJSHRjYmlBZ0lDQWdJQ0FnY0c5emRDQTlJSE56WWk1dFlYSnJaRzkzYmloa1lYUmhLVHRjYmlBZ0lDQWdJQ0FnYzJodmQwSnNiMmR3YjNOMElEMGdkSEoxWlR0Y2JpQWdJQ0FnSUgwcFhHNGdJQ0FnSUNBdVkyRjBZMmdvWlhKeUlEMCtJSHRjYmlBZ0lDQWdJQ0FnWTI5dWMyOXNaUzVsY25KdmNpaGNJbU5oYmlkMElHeHZZV1FnWW14dlp5QndiM04wWENJc0lHVnljaWs3WEc0Z0lDQWdJQ0FnSUhSdllYTjBJRDBnZEhKMVpUdGNiaUFnSUNBZ0lDQWdkRzloYzNSTmMyY2dQU0JsY25JN1hHNGdJQ0FnSUNCOUtUdGNiaUFnZlR0Y2JseHVJQ0JqYjI1emRDQnlaWEJzZVNBOUlHVjJJRDArSUh0Y2JpQWdJQ0JzWlhRZ2NtOXZkRWxrSUQwZ2JYTm5MblpoYkhWbExtTnZiblJsYm5RdWNtOXZkQ0I4ZkNCdGMyY3VhMlY1TzF4dUlDQWdJR3hsZENCamFHRnVibVZzSUQwZ2JYTm5MblpoYkhWbExtTnZiblJsYm5RdVkyaGhibTVsYkR0Y2JpQWdJQ0J1WVhacFoyRjBaU2hjSWk5amIyMXdiM05sWENJc0lIc2djbTl2ZERvZ2NtOXZkRWxrTENCaWNtRnVZMmc2SUcxelp5NXJaWGtzSUdOb1lXNXVaV3dnZlNrN1hHNGdJSDA3WEc1Y2JpQWdZMjl1YzNRZ1oyOVNiMjkwSUQwZ1pYWWdQVDRnZTF4dUlDQWdJR3hsZENCeWIyOTBTV1FnUFNCdGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1eWIyOTBJSHg4SUcxelp5NXJaWGs3WEc0Z0lDQWdibUYyYVdkaGRHVW9YQ0l2ZEdoeVpXRmtYQ0lzSUhzZ2RHaHlaV0ZrT2lCeWIyOTBTV1FnZlNrN1hHNGdJSDA3WEc1Y2JpQWdZMjl1YzNRZ1oyOUNjbUZ1WTJnZ1BTQmxkaUE5UGlCN1hHNGdJQ0FnYkdWMElHSnlZVzVqYUVsa0lEMGdiWE5uTG5aaGJIVmxMbU52Ym5SbGJuUXVZbkpoYm1Ob0lIeDhJRzF6Wnk1clpYazdYRzRnSUNBZ2JtRjJhV2RoZEdVb1hDSXZkR2h5WldGa1hDSXNJSHNnZEdoeVpXRmtPaUJpY21GdVkyaEpaQ0I5S1R0Y2JpQWdmVHRjYmx4dUlDQnBaaUFvSVdoaGMwTnZiblJsYm5SWFlYSnVhVzVuSUNZbUlDUnliM1YwWlV4dlkyRjBhVzl1SUQwOVBTQmNJaTkwYUhKbFlXUmNJaWtnZTF4dUlDQWdJSE5sZEZScGJXVnZkWFFvWkdsemNHeGhlVUpzYjJkUWIzTjBMQ0F4TURBcE8xeHVJQ0I5WEc0OEwzTmpjbWx3ZEQ1Y2JseHVQSE4wZVd4bFBseHVJQ0JrYVhZZ2FXMW5MbWx6TFdsdFlXZGxMV1p5YjIwdFlteHZZaUI3WEc0Z0lDQWdiV0Y0TFhkcFpIUm9PaUE1TUNVN1hHNGdJSDFjYmp3dmMzUjViR1UrWEc1Y2Juc2phV1lnZEdoMWJXSnVZV2xzZlZ4dUlDQThaR2wySUdOc1lYTnpQVndpWTJGeVpDMXBiV0ZuWlZ3aVBseHVJQ0FnSUR4cGJXZGNiaUFnSUNBZ0lITnlZejFjSW1oMGRIQTZMeTlzYjJOaGJHaHZjM1E2T0RrNE9TOWliRzlpY3k5blpYUXZlMlZ1WTI5a1pWVlNTVU52YlhCdmJtVnVkQ2gwYUhWdFltNWhhV3dwZlZ3aVhHNGdJQ0FnSUNCamJHRnpjejFjSW1sdFp5MXlaWE53YjI1emFYWmxYQ0pjYmlBZ0lDQWdJR0ZzZEQxN2RHbDBiR1Y5SUM4K1hHNGdJRHd2WkdsMlBseHVleTlwWm4xY2JqeGthWFlnWTJ4aGMzTTlYQ0pqWVhKa0xXSnZaSGxjSWo1Y2JpQWdleU5wWmlCMGFYUnNaWDFjYmlBZ0lDQThhREVnWTJ4aGMzTTlYQ0pqWVhKa0xYUnBkR3hsSUdnMVhDSStlM1JwZEd4bGZUd3ZhREUrWEc0Z0lIc3ZhV1o5WEc1Y2JpQWdleU5wWmlCMGIyRnpkSDFjYmlBZ0lDQThaR2wySUdOc1lYTnpQVndpZEc5aGMzUWdkRzloYzNRdFpYSnliM0pjSWo1RFlXNG5kQ0JzYjJGa0lHSnNiMmR3YjNOME9pQjdkRzloYzNSTmMyZDlQQzlrYVhZK1hHNGdJSHN2YVdaOVhHNGdJSHNqYVdZZ2FHRnpRMjl1ZEdWdWRGZGhjbTVwYm1kOVhHNGdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0luUnZZWE4wSUhSdllYTjBMWEJ5YVcxaGNubGNJajVjYmlBZ0lDQWdJRHh3UGx4dUlDQWdJQ0FnSUNBOFlqNURiMjUwWlc1MElGZGhjbTVwYm1jNlBDOWlQbHh1SUNBZ0lDQWdJQ0I3YlhObkxuWmhiSFZsTG1OdmJuUmxiblF1WTI5dWRHVnVkRmRoY201cGJtZDlYRzRnSUNBZ0lDQThMM0ErWEc0Z0lDQWdQQzlrYVhZK1hHNGdJSHN2YVdaOVhHNGdJSHNqYVdZZ2MyaHZkMEpzYjJkd2IzTjBmVnh1SUNBZ0lIdEFhSFJ0YkNCd2IzTjBmVnh1SUNCN09tVnNjMlY5WEc0Z0lDQWdlMEJvZEcxc0lITjFiVzFoY25sOVhHNGdJSHN2YVdaOVhHNDhMMlJwZGo1Y2JqeGthWFlnWTJ4aGMzTTlYQ0pqWVhKa0xXWnZiM1JsY2x3aVBseHVJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1Y3lCamIyd3RaMkZ3YkdWemMxd2lQbHh1SUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pqYjJ4MWJXNGdZMjlzTFRaY0lqNWNiaUFnSUNBZ0lEeHNZV0psYkNCamJHRnpjejFjSW1admNtMHRjM2RwZEdOb0lHUXRhVzVzYVc1bFhDSStYRzRnSUNBZ0lDQWdJRHhwYm5CMWRDQjBlWEJsUFZ3aVkyaGxZMnRpYjNoY0lpQnZianBqYUdGdVoyVTllMnhwYTJWRGFHRnVaMlZrZlNCamFHVmphMlZrUFh0c2FXdGxaSDBnTHo1Y2JpQWdJQ0FnSUNBZ1BHa2dZMnhoYzNNOVhDSm1iM0p0TFdsamIyNWNJaUF2UGx4dUlDQWdJQ0FnSUNCTWFXdGxYRzRnSUNBZ0lDQThMMnhoWW1Wc1BseHVJQ0FnSUNBZ2V5TnBaaUJ0YzJjdWRtRnNkV1V1WTI5dWRHVnVkQzV5YjI5MGZWeHVJQ0FnSUNBZ0lDQThjM0JoYmo1Y2JpQWdJQ0FnSUNBZ0lDQThZVnh1SUNBZ0lDQWdJQ0FnSUNBZ2FISmxaajFjSWo5MGFISmxZV1E5ZTJWdVkyOWtaVlZTU1VOdmJYQnZibVZ1ZENodGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1eWIyOTBLWDBqTDNSb2NtVmhaRndpWEc0Z0lDQWdJQ0FnSUNBZ0lDQnZianBqYkdsamEzeHdjbVYyWlc1MFJHVm1ZWFZzZEQxN1oyOVNiMjkwZlQ1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ2h5YjI5MEtWeHVJQ0FnSUNBZ0lDQWdJRHd2WVQ1Y2JpQWdJQ0FnSUNBZ1BDOXpjR0Z1UGx4dUlDQWdJQ0FnZXk5cFpuMWNiaUFnSUNBZ0lIc2phV1lnYlhObkxuWmhiSFZsTG1OdmJuUmxiblF1WW5KaGJtTm9mVnh1SUNBZ0lDQWdJQ0E4YzNCaGJqNWNiaUFnSUNBZ0lDQWdJQ0E4WVZ4dUlDQWdJQ0FnSUNBZ0lDQWdhSEpsWmoxY0lqOTBhSEpsWVdROWUyVnVZMjlrWlZWU1NVTnZiWEJ2Ym1WdWRDaHRjMmN1ZG1Gc2RXVXVZMjl1ZEdWdWRDNWljbUZ1WTJncGZTTXZkR2h5WldGa1hDSmNiaUFnSUNBZ0lDQWdJQ0FnSUc5dU9tTnNhV05yZkhCeVpYWmxiblJFWldaaGRXeDBQWHRuYjBKeVlXNWphSDArWEc0Z0lDQWdJQ0FnSUNBZ0lDQW9hVzRnY21Wd2JIa2dkRzhwWEc0Z0lDQWdJQ0FnSUNBZ1BDOWhQbHh1SUNBZ0lDQWdJQ0E4TDNOd1lXNCtYRzRnSUNBZ0lDQjdMMmxtZlZ4dUlDQWdJRHd2WkdsMlBseHVJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc0Z1kyOXNMVFlnZEdWNGRDMXlhV2RvZEZ3aVBseHVJQ0FnSUNBZ1BHSjFkSFJ2YmlCamJHRnpjejFjSW1KMGJsd2lJRzl1T21Oc2FXTnJQWHR5WlhCc2VYMCtVbVZ3YkhrOEwySjFkSFJ2Ymo1Y2JpQWdJQ0FnSUhzamFXWWdJWE5vYjNkQ2JHOW5jRzl6ZEgxY2JpQWdJQ0FnSUNBZ1BHSjFkSFJ2Ymx4dUlDQWdJQ0FnSUNBZ0lHTnNZWE56UFZ3aVluUnVJR0owYmkxd2NtbHRZWEo1WENKY2JpQWdJQ0FnSUNBZ0lDQmpiR0Z6Y3pwc2IyTmhkR2x1WnoxN2JHOWhaR2x1WjMxY2JpQWdJQ0FnSUNBZ0lDQnZianBqYkdsamF6MTdaR2x6Y0d4aGVVSnNiMmRRYjNOMGZUNWNiaUFnSUNBZ0lDQWdJQ0JTWldGa0lFSnNiMmR3YjNOMFhHNGdJQ0FnSUNBZ0lEd3ZZblYwZEc5dVBseHVJQ0FnSUNBZ2V6cGxiSE5sZlZ4dUlDQWdJQ0FnSUNBOFluVjBkRzl1WEc0Z0lDQWdJQ0FnSUNBZ1kyeGhjM005WENKaWRHNGdZblJ1TFhCeWFXMWhjbmxjSWx4dUlDQWdJQ0FnSUNBZ0lHTnNZWE56T214dlkyRjBhVzVuUFh0c2IyRmthVzVuZlZ4dUlDQWdJQ0FnSUNBZ0lHOXVPbU5zYVdOclBYc29LU0E5UGlBb2MyaHZkMEpzYjJkd2IzTjBJRDBnWm1Gc2MyVXBmVDVjYmlBZ0lDQWdJQ0FnSUNCRGJHOXpaU0JDYkc5bmNHOXpkRnh1SUNBZ0lDQWdJQ0E4TDJKMWRIUnZiajVjYmlBZ0lDQWdJSHN2YVdaOVhHNGdJQ0FnUEM5a2FYWStYRzRnSUR3dlpHbDJQbHh1WEc0OEwyUnBkajVjYmlKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pSW4wPSAqL1wiO1xuXHRhcHBlbmQoZG9jdW1lbnQuaGVhZCwgc3R5bGUpO1xufVxuXG4vLyAoODg6MCkgeyNpZiB0aHVtYm5haWx9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfNyhjdHgpIHtcblx0dmFyIGRpdiwgaW1nLCBpbWdfc3JjX3ZhbHVlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGltZyA9IGVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHRhdHRyKGltZywgXCJzcmNcIiwgaW1nX3NyY192YWx1ZSA9IFwiaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC9cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgudGh1bWJuYWlsKSk7XG5cdFx0XHRhdHRyKGltZywgXCJjbGFzc1wiLCBcImltZy1yZXNwb25zaXZlXCIpO1xuXHRcdFx0YXR0cihpbWcsIFwiYWx0XCIsIGN0eC50aXRsZSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW1nLCBmaWxlLCA4OSwgNCwgMjEwNik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNhcmQtaW1hZ2VcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCA4OCwgMiwgMjA3Nyk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBpbWcpO1xuXHRcdH0sXG5cblx0XHRwOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoOTc6MikgeyNpZiB0aXRsZX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja182KGN0eCkge1xuXHR2YXIgaDEsIHQ7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRoMSA9IGVsZW1lbnQoXCJoMVwiKTtcblx0XHRcdHQgPSB0ZXh0KGN0eC50aXRsZSk7XG5cdFx0XHRhdHRyKGgxLCBcImNsYXNzXCIsIFwiY2FyZC10aXRsZSBoNVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihoMSwgZmlsZSwgOTcsIDQsIDIyOTQpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaDEsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoaDEsIHQpO1xuXHRcdH0sXG5cblx0XHRwOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGgxKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxMDE6MikgeyNpZiB0b2FzdH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja181KGN0eCkge1xuXHR2YXIgZGl2LCB0MCwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KFwiQ2FuJ3QgbG9hZCBibG9ncG9zdDogXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KGN0eC50b2FzdE1zZyk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0IHRvYXN0LWVycm9yXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMTAxLCA0LCAyMzYwKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHQwKTtcblx0XHRcdGFwcGVuZChkaXYsIHQxKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQudG9hc3RNc2cpIHtcblx0XHRcdFx0c2V0X2RhdGEodDEsIGN0eC50b2FzdE1zZyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDEwNDoyKSB7I2lmIGhhc0NvbnRlbnRXYXJuaW5nfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KSB7XG5cdHZhciBkaXYsIHAsIGIsIHQxLCB0Ml92YWx1ZSA9IGN0eC5tc2cudmFsdWUuY29udGVudC5jb250ZW50V2FybmluZywgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0cCA9IGVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0YiA9IGVsZW1lbnQoXCJiXCIpO1xuXHRcdFx0Yi50ZXh0Q29udGVudCA9IFwiQ29udGVudCBXYXJuaW5nOlwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0dDIgPSB0ZXh0KHQyX3ZhbHVlKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiLCBmaWxlLCAxMDYsIDgsIDI1MTkpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDEwNSwgNiwgMjUwNyk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0IHRvYXN0LXByaW1hcnlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAxMDQsIDQsIDI0NjcpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgcCk7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLm1zZykgJiYgdDJfdmFsdWUgIT09ICh0Ml92YWx1ZSA9IGN0eC5tc2cudmFsdWUuY29udGVudC5jb250ZW50V2FybmluZykpIHtcblx0XHRcdFx0c2V0X2RhdGEodDIsIHQyX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTE0OjIpIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciBodG1sX3RhZztcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGh0bWxfdGFnID0gbmV3IEh0bWxUYWcoY3R4LnN1bW1hcnksIG51bGwpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aHRtbF90YWcubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRodG1sX3RhZy5kKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTEyOjIpIHsjaWYgc2hvd0Jsb2dwb3N0fVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KSB7XG5cdHZhciBodG1sX3RhZztcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGh0bWxfdGFnID0gbmV3IEh0bWxUYWcoY3R4LnBvc3QsIG51bGwpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aHRtbF90YWcubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLnBvc3QpIHtcblx0XHRcdFx0aHRtbF90YWcucChjdHgucG9zdCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGh0bWxfdGFnLmQoKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxMjY6NikgeyNpZiBtc2cudmFsdWUuY29udGVudC5yb290fVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KSB7XG5cdHZhciBzcGFuLCBhLCB0LCBhX2hyZWZfdmFsdWUsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0ID0gdGV4dChcIihyb290KVwiKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLnZhbHVlLmNvbnRlbnQucm9vdCkgKyBcIiMvdGhyZWFkXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEsIGZpbGUsIDEyNywgMTAsIDMwMjkpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4sIGZpbGUsIDEyNiwgOCwgMzAxMik7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKGEsIFwiY2xpY2tcIiwgcHJldmVudF9kZWZhdWx0KGN0eC5nb1Jvb3QpKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNwYW4sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLnZhbHVlLmNvbnRlbnQucm9vdCkgKyBcIiMvdGhyZWFkXCIpKSB7XG5cdFx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChzcGFuKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDEzNTo2KSB7I2lmIG1zZy52YWx1ZS5jb250ZW50LmJyYW5jaH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCkge1xuXHR2YXIgc3BhbiwgYSwgdCwgYV9ocmVmX3ZhbHVlLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dCA9IHRleHQoXCIoaW4gcmVwbHkgdG8pXCIpO1xuXHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlID0gXCI/dGhyZWFkPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGN0eC5tc2cudmFsdWUuY29udGVudC5icmFuY2gpICsgXCIjL3RocmVhZFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCAxMzYsIDEwLCAzMjgyKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzcGFuLCBmaWxlLCAxMzUsIDgsIDMyNjUpO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihhLCBcImNsaWNrXCIsIHByZXZlbnRfZGVmYXVsdChjdHguZ29CcmFuY2gpKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNwYW4sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNoKSArIFwiIy90aHJlYWRcIikpIHtcblx0XHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHNwYW4pO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTU0OjYpIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrKGN0eCkge1xuXHR2YXIgYnV0dG9uLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0YnV0dG9uID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQ2xvc2UgQmxvZ3Bvc3RcIjtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5XCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGJ1dHRvbiwgXCJsb2NhdGluZ1wiLCBjdHgubG9hZGluZyk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uLCBmaWxlLCAxNTQsIDgsIDM4MDgpO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihidXR0b24sIFwiY2xpY2tcIiwgY3R4LmNsaWNrX2hhbmRsZXIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgYnV0dG9uLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5sb2FkaW5nKSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24sIFwibG9jYXRpbmdcIiwgY3R4LmxvYWRpbmcpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goYnV0dG9uKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE0Nzo2KSB7I2lmICFzaG93QmxvZ3Bvc3R9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBidXR0b24sIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRidXR0b24gPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gXCJSZWFkIEJsb2dwb3N0XCI7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcImJ0biBidG4tcHJpbWFyeVwiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24sIFwibG9jYXRpbmdcIiwgY3R4LmxvYWRpbmcpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbiwgZmlsZSwgMTQ3LCA4LCAzNjI5KTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIGN0eC5kaXNwbGF5QmxvZ1Bvc3QpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgYnV0dG9uLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5sb2FkaW5nKSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24sIFwibG9jYXRpbmdcIiwgY3R4LmxvYWRpbmcpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goYnV0dG9uKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgdDAsIGRpdjAsIHQxLCB0MiwgdDMsIHQ0LCBkaXY0LCBkaXYzLCBkaXYxLCBsYWJlbCwgaW5wdXQsIHQ1LCBpLCB0NiwgdDcsIHQ4LCB0OSwgZGl2MiwgYnV0dG9uLCB0MTEsIGRpc3Bvc2U7XG5cblx0dmFyIGlmX2Jsb2NrMCA9IChjdHgudGh1bWJuYWlsKSAmJiBjcmVhdGVfaWZfYmxvY2tfNyhjdHgpO1xuXG5cdHZhciBpZl9ibG9jazEgPSAoY3R4LnRpdGxlKSAmJiBjcmVhdGVfaWZfYmxvY2tfNihjdHgpO1xuXG5cdHZhciBpZl9ibG9jazIgPSAoY3R4LnRvYXN0KSAmJiBjcmVhdGVfaWZfYmxvY2tfNShjdHgpO1xuXG5cdHZhciBpZl9ibG9jazMgPSAoY3R4Lmhhc0NvbnRlbnRXYXJuaW5nKSAmJiBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCkge1xuXHRcdGlmIChjdHguc2hvd0Jsb2dwb3N0KSByZXR1cm4gY3JlYXRlX2lmX2Jsb2NrXzM7XG5cdFx0cmV0dXJuIGNyZWF0ZV9lbHNlX2Jsb2NrXzE7XG5cdH1cblxuXHR2YXIgY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0dmFyIGlmX2Jsb2NrNCA9IGN1cnJlbnRfYmxvY2tfdHlwZShjdHgpO1xuXG5cdHZhciBpZl9ibG9jazUgPSAoY3R4Lm1zZy52YWx1ZS5jb250ZW50LnJvb3QpICYmIGNyZWF0ZV9pZl9ibG9ja18yKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrNiA9IChjdHgubXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNoKSAmJiBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KSB7XG5cdFx0aWYgKCFjdHguc2hvd0Jsb2dwb3N0KSByZXR1cm4gY3JlYXRlX2lmX2Jsb2NrO1xuXHRcdHJldHVybiBjcmVhdGVfZWxzZV9ibG9jaztcblx0fVxuXG5cdHZhciBjdXJyZW50X2Jsb2NrX3R5cGVfMSA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KTtcblx0dmFyIGlmX2Jsb2NrNyA9IGN1cnJlbnRfYmxvY2tfdHlwZV8xKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuYygpO1xuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuYygpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmMoKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHR0MyA9IHNwYWNlKCk7XG5cdFx0XHRpZl9ibG9jazQuYygpO1xuXHRcdFx0dDQgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2NCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYzID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0bGFiZWwgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQ1ID0gc3BhY2UoKTtcblx0XHRcdGkgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ2ID0gdGV4dChcIlxcbiAgICAgICAgTGlrZVwiKTtcblx0XHRcdHQ3ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazUpIGlmX2Jsb2NrNS5jKCk7XG5cdFx0XHR0OCA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2s2KSBpZl9ibG9jazYuYygpO1xuXHRcdFx0dDkgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRidXR0b24gPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gXCJSZXBseVwiO1xuXHRcdFx0dDExID0gc3BhY2UoKTtcblx0XHRcdGlmX2Jsb2NrNy5jKCk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJjYXJkLWJvZHlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgOTUsIDAsIDIyNTIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG5cdFx0XHRpbnB1dC5jaGVja2VkID0gY3R4Lmxpa2VkO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0LCBmaWxlLCAxMjEsIDgsIDI4NDMpO1xuXHRcdFx0YXR0cihpLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGksIGZpbGUsIDEyMiwgOCwgMjkxNyk7XG5cdFx0XHRhdHRyKGxhYmVsLCBcImNsYXNzXCIsIFwiZm9ybS1zd2l0Y2ggZC1pbmxpbmVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwsIGZpbGUsIDEyMCwgNiwgMjc5OCk7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJjb2x1bW4gY29sLTZcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgMTE5LCA0LCAyNzY1KTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIFwiYnRuXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbiwgZmlsZSwgMTQ1LCA2LCAzNTQzKTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtNiB0ZXh0LXJpZ2h0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjIsIGZpbGUsIDE0NCwgNCwgMzQ5OSk7XG5cdFx0XHRhdHRyKGRpdjMsIFwiY2xhc3NcIiwgXCJjb2x1bW5zIGNvbC1nYXBsZXNzXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjMsIGZpbGUsIDExOCwgMiwgMjcyNyk7XG5cdFx0XHRhdHRyKGRpdjQsIFwiY2xhc3NcIiwgXCJjYXJkLWZvb3RlclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXY0LCBmaWxlLCAxMTcsIDAsIDI2OTkpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiY2hhbmdlXCIsIGN0eC5saWtlQ2hhbmdlZCksXG5cdFx0XHRcdGxpc3RlbihidXR0b24sIFwiY2xpY2tcIiwgY3R4LnJlcGx5KVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjAsIGFuY2hvcik7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubShkaXYwLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYwLCB0MSk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIubShkaXYwLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYwLCB0Mik7XG5cdFx0XHRpZiAoaWZfYmxvY2szKSBpZl9ibG9jazMubShkaXYwLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYwLCB0Myk7XG5cdFx0XHRpZl9ibG9jazQubShkaXYwLCBudWxsKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQ0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2NCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXY0LCBkaXYzKTtcblx0XHRcdGFwcGVuZChkaXYzLCBkaXYxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBsYWJlbCk7XG5cdFx0XHRhcHBlbmQobGFiZWwsIGlucHV0KTtcblx0XHRcdGFwcGVuZChsYWJlbCwgdDUpO1xuXHRcdFx0YXBwZW5kKGxhYmVsLCBpKTtcblx0XHRcdGFwcGVuZChsYWJlbCwgdDYpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQ3KTtcblx0XHRcdGlmIChpZl9ibG9jazUpIGlmX2Jsb2NrNS5tKGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQ4KTtcblx0XHRcdGlmIChpZl9ibG9jazYpIGlmX2Jsb2NrNi5tKGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIHQ5KTtcblx0XHRcdGFwcGVuZChkaXYzLCBkaXYyKTtcblx0XHRcdGFwcGVuZChkaXYyLCBidXR0b24pO1xuXHRcdFx0YXBwZW5kKGRpdjIsIHQxMSk7XG5cdFx0XHRpZl9ibG9jazcubShkaXYyLCBudWxsKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGN0eC50aHVtYm5haWwpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gY3JlYXRlX2lmX2Jsb2NrXzcoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKHQwLnBhcmVudE5vZGUsIHQwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0aWZfYmxvY2swLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHgudGl0bGUpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gY3JlYXRlX2lmX2Jsb2NrXzYoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGRpdjAsIHQxKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0aWZfYmxvY2sxLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHgudG9hc3QpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMikge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syID0gY3JlYXRlX2lmX2Jsb2NrXzUoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazIuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5tKGRpdjAsIHQyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazIpIHtcblx0XHRcdFx0aWZfYmxvY2syLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMiA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHguaGFzQ29udGVudFdhcm5pbmcpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMy5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2szID0gY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazMuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMy5tKGRpdjAsIHQzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazMpIHtcblx0XHRcdFx0aWZfYmxvY2szLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMyA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGUgPT09IChjdXJyZW50X2Jsb2NrX3R5cGUgPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpKSAmJiBpZl9ibG9jazQpIHtcblx0XHRcdFx0aWZfYmxvY2s0LnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmX2Jsb2NrNC5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazQgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrNCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrNC5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2s0Lm0oZGl2MCwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQubGlrZWQpIHtcblx0XHRcdFx0aW5wdXQuY2hlY2tlZCA9IGN0eC5saWtlZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5tc2cudmFsdWUuY29udGVudC5yb290KSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazUpIHtcblx0XHRcdFx0XHRpZl9ibG9jazUucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrNSA9IGNyZWF0ZV9pZl9ibG9ja18yKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2s1LmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazUubShkaXYxLCB0OCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2s1KSB7XG5cdFx0XHRcdGlmX2Jsb2NrNS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazUgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4Lm1zZy52YWx1ZS5jb250ZW50LmJyYW5jaCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2s2KSB7XG5cdFx0XHRcdFx0aWZfYmxvY2s2LnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazYgPSBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrNi5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2s2Lm0oZGl2MSwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2s2KSB7XG5cdFx0XHRcdGlmX2Jsb2NrNi5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazYgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3VycmVudF9ibG9ja190eXBlXzEgPT09IChjdXJyZW50X2Jsb2NrX3R5cGVfMSA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KSkgJiYgaWZfYmxvY2s3KSB7XG5cdFx0XHRcdGlmX2Jsb2NrNy5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZl9ibG9jazcuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2s3ID0gY3VycmVudF9ibG9ja190eXBlXzEoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrNykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrNy5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2s3Lm0oZGl2MiwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKGRldGFjaGluZyk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQwKTtcblx0XHRcdFx0ZGV0YWNoKGRpdjApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5kKCk7XG5cdFx0XHRpZl9ibG9jazQuZCgpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0NCk7XG5cdFx0XHRcdGRldGFjaChkaXY0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlmX2Jsb2NrNSkgaWZfYmxvY2s1LmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazYpIGlmX2Jsb2NrNi5kKCk7XG5cdFx0XHRpZl9ibG9jazcuZCgpO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCAkcm91dGVMb2NhdGlvbjtcblxuXHRjb25zdCB7IG5hdmlnYXRlLCByb3V0ZUxvY2F0aW9uIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMuanNcIik7IHZhbGlkYXRlX3N0b3JlKHJvdXRlTG9jYXRpb24sICdyb3V0ZUxvY2F0aW9uJyk7IGNvbXBvbmVudF9zdWJzY3JpYmUoJCRzZWxmLCByb3V0ZUxvY2F0aW9uLCAkJHZhbHVlID0+IHsgJHJvdXRlTG9jYXRpb24gPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZUxvY2F0aW9uJywgJHJvdXRlTG9jYXRpb24pIH0pO1xuXG4gIGxldCB7IG1zZyB9ID0gJCRwcm9wcztcblxuICBsZXQgY29udGVudCA9IG1zZy52YWx1ZS5jb250ZW50O1xuXG4gIGxldCBzdW1tYXJ5ID0gc3NiLm1hcmtkb3duKGNvbnRlbnQuc3VtbWFyeSk7XG4gIGxldCB0aHVtYm5haWwgPSBjb250ZW50LnRodW1ibmFpbCB8fCBmYWxzZTtcbiAgbGV0IHRpdGxlID0gY29udGVudC50aXRsZSB8fCBmYWxzZTtcbiAgbGV0IHNob3dCbG9ncG9zdCA9IGZhbHNlO1xuICBsZXQgbG9hZGluZyA9IGZhbHNlO1xuICBsZXQgdG9hc3QgPSBmYWxzZTtcbiAgbGV0IHRvYXN0TXNnID0gXCJcIjtcbiAgbGV0IHBvc3QgPSBzdW1tYXJ5O1xuICBsZXQgaGFzQ29udGVudFdhcm5pbmcgPSBjb250ZW50LmNvbnRlbnRXYXJuaW5nICYmIGNvbnRlbnQuY29udGVudFdhcm5pbmcubGVuZ3RoID4gMDtcblxuICBsZXQgbGlrZWQgPSBmYWxzZTtcblxuICBzc2Iudm90ZXMobXNnLmtleSkudGhlbihtcyA9PiB7XG4gICAgbXMuZm9yRWFjaChtID0+IHtcbiAgICAgIGxldCBhdXRob3IgPSBtLnZhbHVlLmF1dGhvcjtcbiAgICAgIGlmICgoYXV0aG9yID09PSBzc2IuZmVlZCAmJiBtLnZhbHVlLmNvbnRlbnQudm90ZS52YWx1ZSA9PT0gMSkpIHtcbiAgICAgICAgJCRpbnZhbGlkYXRlKCdsaWtlZCcsIGxpa2VkID0gdHJ1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGNvbnN0IGxpa2VDaGFuZ2VkID0gZXYgPT4ge1xuICAgIGxldCB2ID0gZXYudGFyZ2V0LmNoZWNrZWQ7XG4gICAgaWYgKHYpIHtcbiAgICAgIHNzYlxuICAgICAgICAubGlrZShtc2cua2V5KVxuICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcImxpa2VkXCIsIG1zZy5rZXkpKVxuICAgICAgICAuY2F0Y2goKCkgPT4geyBjb25zdCAkJHJlc3VsdCA9IChsaWtlZCA9IGZhbHNlKTsgJCRpbnZhbGlkYXRlKCdsaWtlZCcsIGxpa2VkKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3NiXG4gICAgICAgIC51bmxpa2UobXNnLmtleSlcbiAgICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJ1bmxpa2VkXCIsIG1zZy5rZXkpKVxuICAgICAgICAuY2F0Y2goKCkgPT4geyBjb25zdCAkJHJlc3VsdCA9IChsaWtlZCA9IHRydWUpOyAkJGludmFsaWRhdGUoJ2xpa2VkJywgbGlrZWQpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBkaXNwbGF5QmxvZ1Bvc3QgPSBldiA9PiB7XG4gICAgJCRpbnZhbGlkYXRlKCdsb2FkaW5nJywgbG9hZGluZyA9IHRydWUpO1xuICAgIGNvbnNvbGUubG9nKFwibG9hZGluZyBibG9ncG9zdFwiLCBjb250ZW50LmJsb2cpO1xuXG4gICAgc3NiXG4gICAgICAuZ2V0QmxvYihjb250ZW50LmJsb2cpXG4gICAgICAudGhlbihkYXRhID0+IHtcbiAgICAgICAgJCRpbnZhbGlkYXRlKCdwb3N0JywgcG9zdCA9IHNzYi5tYXJrZG93bihkYXRhKSk7XG4gICAgICAgICQkaW52YWxpZGF0ZSgnc2hvd0Jsb2dwb3N0Jywgc2hvd0Jsb2dwb3N0ID0gdHJ1ZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBsb2FkIGJsb2cgcG9zdFwiLCBlcnIpO1xuICAgICAgICAkJGludmFsaWRhdGUoJ3RvYXN0JywgdG9hc3QgPSB0cnVlKTtcbiAgICAgICAgJCRpbnZhbGlkYXRlKCd0b2FzdE1zZycsIHRvYXN0TXNnID0gZXJyKTtcbiAgICAgIH0pO1xuICB9O1xuXG4gIGNvbnN0IHJlcGx5ID0gZXYgPT4ge1xuICAgIGxldCByb290SWQgPSBtc2cudmFsdWUuY29udGVudC5yb290IHx8IG1zZy5rZXk7XG4gICAgbGV0IGNoYW5uZWwgPSBtc2cudmFsdWUuY29udGVudC5jaGFubmVsO1xuICAgIG5hdmlnYXRlKFwiL2NvbXBvc2VcIiwgeyByb290OiByb290SWQsIGJyYW5jaDogbXNnLmtleSwgY2hhbm5lbCB9KTtcbiAgfTtcblxuICBjb25zdCBnb1Jvb3QgPSBldiA9PiB7XG4gICAgbGV0IHJvb3RJZCA9IG1zZy52YWx1ZS5jb250ZW50LnJvb3QgfHwgbXNnLmtleTtcbiAgICBuYXZpZ2F0ZShcIi90aHJlYWRcIiwgeyB0aHJlYWQ6IHJvb3RJZCB9KTtcbiAgfTtcblxuICBjb25zdCBnb0JyYW5jaCA9IGV2ID0+IHtcbiAgICBsZXQgYnJhbmNoSWQgPSBtc2cudmFsdWUuY29udGVudC5icmFuY2ggfHwgbXNnLmtleTtcbiAgICBuYXZpZ2F0ZShcIi90aHJlYWRcIiwgeyB0aHJlYWQ6IGJyYW5jaElkIH0pO1xuICB9O1xuXG4gIGlmICghaGFzQ29udGVudFdhcm5pbmcgJiYgJHJvdXRlTG9jYXRpb24gPT09IFwiL3RocmVhZFwiKSB7XG4gICAgc2V0VGltZW91dChkaXNwbGF5QmxvZ1Bvc3QsIDEwMCk7XG4gIH1cblxuXHRjb25zdCB3cml0YWJsZV9wcm9wcyA9IFsnbXNnJ107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlXzEud2FybihgPEJsb2dNc2c+IHdhcyBjcmVhdGVkIHdpdGggdW5rbm93biBwcm9wICcke2tleX0nYCk7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXIoKSB7XG5cdFx0Y29uc3QgJCRyZXN1bHQgPSAoc2hvd0Jsb2dwb3N0ID0gZmFsc2UpO1xuXHRcdCQkaW52YWxpZGF0ZSgnc2hvd0Jsb2dwb3N0Jywgc2hvd0Jsb2dwb3N0KTtcblx0XHRyZXR1cm4gJCRyZXN1bHQ7XG5cdH1cblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbXNnJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9ICQkcHJvcHMubXNnKTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdHJvdXRlTG9jYXRpb24sXG5cdFx0bXNnLFxuXHRcdHN1bW1hcnksXG5cdFx0dGh1bWJuYWlsLFxuXHRcdHRpdGxlLFxuXHRcdHNob3dCbG9ncG9zdCxcblx0XHRsb2FkaW5nLFxuXHRcdHRvYXN0LFxuXHRcdHRvYXN0TXNnLFxuXHRcdHBvc3QsXG5cdFx0aGFzQ29udGVudFdhcm5pbmcsXG5cdFx0bGlrZWQsXG5cdFx0bGlrZUNoYW5nZWQsXG5cdFx0ZGlzcGxheUJsb2dQb3N0LFxuXHRcdHJlcGx5LFxuXHRcdGdvUm9vdCxcblx0XHRnb0JyYW5jaCxcblx0XHRjbGlja19oYW5kbGVyXG5cdH07XG59XG5cbmNsYXNzIEJsb2dNc2cgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInN2ZWx0ZS0xYXduYTU2LXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW1wibXNnXCJdKTtcblxuXHRcdGNvbnN0IHsgY3R4IH0gPSB0aGlzLiQkO1xuXHRcdGNvbnN0IHByb3BzID0gb3B0aW9ucy5wcm9wcyB8fCB7fTtcblx0XHRpZiAoY3R4Lm1zZyA9PT0gdW5kZWZpbmVkICYmICEoJ21zZycgaW4gcHJvcHMpKSB7XG5cdFx0XHRjb25zb2xlXzEud2FybihcIjxCbG9nTXNnPiB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGVjdGVkIHByb3AgJ21zZydcIik7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IG1zZygpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8QmxvZ01zZz46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgbXNnKHZhbHVlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPEJsb2dNc2c+OiBQcm9wcyBjYW5ub3QgYmUgc2V0IGRpcmVjdGx5IG9uIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQmxvZ01zZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmJXVnpjMkZuWlZSNWNHVnpMMEpzYjJkTmMyY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCZDNaQ1FTeHBRa0ZCYTBJaWZRPT0iLCIvKiBDaGFubmVsTXNnLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdGxpc3Rlbixcblx0bm9vcCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNldF9kYXRhLFxuXHRzcGFjZSxcblx0dGV4dFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIkNoYW5uZWxNc2cuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgdDAsIHQxLCB0MiwgdDMsIGEsIHQ0LCB0NSwgYV9ocmVmX3ZhbHVlLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHQwID0gdGV4dChjdHgucGVyc29uKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdHQyID0gdGV4dChjdHgudmVyYik7XG5cdFx0XHR0MyA9IHNwYWNlKCk7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0NCA9IHRleHQoXCIjXCIpO1xuXHRcdFx0dDUgPSB0ZXh0KGN0eC5jaGFubmVsKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiP2NoYW5uZWw9XCIgKyBjdHguY2hhbm5lbCArIFwiIy9jaGFubmVsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEsIGZpbGUsIDIwLCAyLCA1NDMpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJjYXJkLWJvZHlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAxOCwgMCwgNDk2KTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oYSwgXCJjbGlja1wiLCBjdHguZ29DaGFubmVsKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MSk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0Mik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0Myk7XG5cdFx0XHRhcHBlbmQoZGl2LCBhKTtcblx0XHRcdGFwcGVuZChhLCB0NCk7XG5cdFx0XHRhcHBlbmQoYSwgdDUpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5wZXJzb24pIHtcblx0XHRcdFx0c2V0X2RhdGEodDAsIGN0eC5wZXJzb24pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgeyBuYXZpZ2F0ZSB9ID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xyXG5cclxuICBsZXQgeyBtc2cgfSA9ICQkcHJvcHM7XHJcblxyXG4gIGxldCBwZXJzb24gPSBtc2cudmFsdWUuYXV0aG9yO1xyXG4gIGxldCB2ZXJiID0gbXNnLnZhbHVlLmNvbnRlbnQuc3Vic2NyaWJlZCA/IFwic3Vic2NyaWJlZFwiIDogXCJ1bnN1YnNjcmliZWRcIjtcclxuICBsZXQgY2hhbm5lbCA9IGVuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5jaGFubmVsKTtcclxuXHJcbiAgc3NiLmF2YXRhcihtc2cudmFsdWUuYXV0aG9yKS50aGVuKGRhdGEgPT4geyBjb25zdCAkJHJlc3VsdCA9IChwZXJzb24gPSBkYXRhLm5hbWUpOyAkJGludmFsaWRhdGUoJ3BlcnNvbicsIHBlcnNvbik7IHJldHVybiAkJHJlc3VsdDsgfSk7XHJcblxyXG4gICBjb25zdCBnb0NoYW5uZWwgPSBldiA9PiB7XHJcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBuYXZpZ2F0ZShcIi9jaGFubmVsXCIsIHsgY2hhbm5lbDogbXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbCB9KTtcclxuICB9O1xuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydtc2cnXTtcblx0T2JqZWN0LmtleXMoJCRwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGlmICghd3JpdGFibGVfcHJvcHMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJyQkJykpIGNvbnNvbGUud2FybihgPENoYW5uZWxNc2c+IHdhcyBjcmVhdGVkIHdpdGggdW5rbm93biBwcm9wICcke2tleX0nYCk7XG5cdH0pO1xuXG5cdCQkc2VsZi4kc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdtc2cnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gJCRwcm9wcy5tc2cpO1xuXHR9O1xuXG5cdHJldHVybiB7IG1zZywgcGVyc29uLCB2ZXJiLCBjaGFubmVsLCBnb0NoYW5uZWwgfTtcbn1cblxuY2xhc3MgQ2hhbm5lbE1zZyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXCJtc2dcIl0pO1xuXG5cdFx0Y29uc3QgeyBjdHggfSA9IHRoaXMuJCQ7XG5cdFx0Y29uc3QgcHJvcHMgPSBvcHRpb25zLnByb3BzIHx8IHt9O1xuXHRcdGlmIChjdHgubXNnID09PSB1bmRlZmluZWQgJiYgISgnbXNnJyBpbiBwcm9wcykpIHtcblx0XHRcdGNvbnNvbGUud2FybihcIjxDaGFubmVsTXNnPiB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGVjdGVkIHByb3AgJ21zZydcIik7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IG1zZygpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8Q2hhbm5lbE1zZz46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgbXNnKHZhbHVlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPENoYW5uZWxNc2c+OiBQcm9wcyBjYW5ub3QgYmUgc2V0IGRpcmVjdGx5IG9uIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhbm5lbE1zZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmJXVnpjMkZuWlZSNWNHVnpMME5vWVc1dVpXeE5jMmN1YzNabGJIUmxJbDBzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiYm5Wc2JGMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdRVUU0U0VFc2FVSkJRV3RDSW4wPSIsIi8qIENvbnRhY3RNc2cuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGdsb2JhbHMsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0XG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgeyBjb25zb2xlOiBjb25zb2xlXzEgfSA9IGdsb2JhbHM7XG5cbmNvbnN0IGZpbGUgPSBcIkNvbnRhY3RNc2cuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgdDAsIHQxLCB0MiwgdDMsIGEsIHQ0LCBhX2hyZWZfdmFsdWUsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KGN0eC5wZXJzb24pO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0dDIgPSB0ZXh0KGN0eC52ZXJiKTtcblx0XHRcdHQzID0gc3BhY2UoKTtcblx0XHRcdGEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQ0ID0gdGV4dChjdHgub3RoZXJQZXJzb25OYW1lKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiP2ZlZWQ9XCIgKyBjdHgub3RoZXJQZXJzb25GZWVkICsgXCIjL3Byb2ZpbGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgMzEsIDIsIDc5Nyk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNhcmQtYm9keVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDI5LCAwLCA3NTApO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihhLCBcImNsaWNrXCIsIGN0eC5nb1Byb2ZpbGUpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHQwKTtcblx0XHRcdGFwcGVuZChkaXYsIHQxKTtcblx0XHRcdGFwcGVuZChkaXYsIHQyKTtcblx0XHRcdGFwcGVuZChkaXYsIHQzKTtcblx0XHRcdGFwcGVuZChkaXYsIGEpO1xuXHRcdFx0YXBwZW5kKGEsIHQ0KTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQucGVyc29uKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQwLCBjdHgucGVyc29uKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQudmVyYikge1xuXHRcdFx0XHRzZXRfZGF0YSh0MiwgY3R4LnZlcmIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5vdGhlclBlcnNvbk5hbWUpIHtcblx0XHRcdFx0c2V0X2RhdGEodDQsIGN0eC5vdGhlclBlcnNvbk5hbWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgeyBuYXZpZ2F0ZSB9ID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xyXG5cclxuICBsZXQgeyBtc2cgfSA9ICQkcHJvcHM7XHJcblxyXG4gIGxldCBwZXJzb24gPSBtc2cudmFsdWUuYXV0aG9yO1xyXG4gIGxldCBvdGhlclBlcnNvbkZlZWQgPSBlbmNvZGVVUklDb21wb25lbnQobXNnLnZhbHVlLmNvbnRlbnQuY29udGFjdCk7XHJcbiAgbGV0IG90aGVyUGVyc29uTmFtZSA9IG90aGVyUGVyc29uRmVlZDtcclxuICBsZXQgdmVyYiA9IG1zZy52YWx1ZS5jb250ZW50LmZvbGxvd2luZyA/IFwiZm9sbG93ZWRcIiA6IFwidW5mb2xsb3dlZFwiO1xyXG5cclxuICBpZiAobXNnLnZhbHVlLmNvbnRlbnQuYmxvY2tpbmcpIHtcclxuICAgICQkaW52YWxpZGF0ZSgndmVyYicsIHZlcmIgPSBcImJsb2NrZWRcIik7XHJcbiAgfVxyXG5cclxuICBzc2IuYXZhdGFyKG1zZy52YWx1ZS5hdXRob3IpLnRoZW4oZGF0YSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKHBlcnNvbiA9IGRhdGEubmFtZSk7ICQkaW52YWxpZGF0ZSgncGVyc29uJywgcGVyc29uKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuICBzc2JcclxuICAgIC5hdmF0YXIobXNnLnZhbHVlLmNvbnRlbnQuY29udGFjdClcclxuICAgIC50aGVuKGRhdGEgPT4ge1xyXG4gICAgICAkJGludmFsaWRhdGUoJ290aGVyUGVyc29uTmFtZScsIG90aGVyUGVyc29uTmFtZSA9IGRhdGEubmFtZSk7XHJcbiAgICB9KVxyXG4gICAgLmNhdGNoKG4gPT4gY29uc29sZS5sb2cobikpO1xyXG5cclxuICBjb25zdCBnb1Byb2ZpbGUgPSBldiA9PiB7XHJcbiAgICBldi5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBuYXZpZ2F0ZShcIi9wcm9maWxlXCIsIHsgZmVlZDogbXNnLnZhbHVlLmNvbnRlbnQuY29udGFjdCB9KTtcclxuICB9O1xuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydtc2cnXTtcblx0T2JqZWN0LmtleXMoJCRwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGlmICghd3JpdGFibGVfcHJvcHMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJyQkJykpIGNvbnNvbGVfMS53YXJuKGA8Q29udGFjdE1zZz4gd2FzIGNyZWF0ZWQgd2l0aCB1bmtub3duIHByb3AgJyR7a2V5fSdgKTtcblx0fSk7XG5cblx0JCRzZWxmLiRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ21zZycgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSAkJHByb3BzLm1zZyk7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRtc2csXG5cdFx0cGVyc29uLFxuXHRcdG90aGVyUGVyc29uRmVlZCxcblx0XHRvdGhlclBlcnNvbk5hbWUsXG5cdFx0dmVyYixcblx0XHRnb1Byb2ZpbGVcblx0fTtcbn1cblxuY2xhc3MgQ29udGFjdE1zZyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXCJtc2dcIl0pO1xuXG5cdFx0Y29uc3QgeyBjdHggfSA9IHRoaXMuJCQ7XG5cdFx0Y29uc3QgcHJvcHMgPSBvcHRpb25zLnByb3BzIHx8IHt9O1xuXHRcdGlmIChjdHgubXNnID09PSB1bmRlZmluZWQgJiYgISgnbXNnJyBpbiBwcm9wcykpIHtcblx0XHRcdGNvbnNvbGVfMS53YXJuKFwiPENvbnRhY3RNc2c+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAnbXNnJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgbXNnKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxDb250YWN0TXNnPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBtc2codmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8Q29udGFjdE1zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0TXNnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2YldWemMyRm5aVlI1Y0dWekwwTnZiblJoWTNSTmMyY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN1FVRjVTa0VzYVVKQlFXdENJbjA9IiwiLyogR2VuZXJpY01zZy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0dGV4dFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIkdlbmVyaWNNc2cuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGFkZF9jc3MoKSB7XG5cdHZhciBzdHlsZSA9IGVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGUuaWQgPSAnc3ZlbHRlLW1wNzB3ai1zdHlsZSc7XG5cdHN0eWxlLnRleHRDb250ZW50ID0gXCJwcmUuY29kZS5zdmVsdGUtbXA3MHdqe292ZXJmbG93OnNjcm9sbH1cXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVIyVnVaWEpwWTAxelp5NXpkbVZzZEdVaUxDSnpiM1Z5WTJWeklqcGJJa2RsYm1WeWFXTk5jMmN1YzNabGJIUmxJbDBzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiSWp4elkzSnBjSFErWEhKY2JpQWdaWGh3YjNKMElHeGxkQ0J0YzJjN1hISmNibHh5WEc0Z0lHeGxkQ0J5WVhkRGIyNTBaVzUwSUQwZ1NsTlBUaTV6ZEhKcGJtZHBabmtvYlhObkxDQnVkV3hzTENBeUtUdGNjbHh1UEM5elkzSnBjSFErWEhKY2JqeHpkSGxzWlQ1Y2NseHVjSEpsTG1OdlpHVWdlMXh5WEc0Z0lDQWdiM1psY21ac2IzYzZJSE5qY205c2JEdGNjbHh1ZlZ4eVhHNDhMM04wZVd4bFBseHlYRzVjY2x4dVBHUnBkaUJqYkdGemN6MWNJbU5oY21RdFltOWtlVndpUGx4eVhHNGdJRHh3Y21VZ1kyeGhjM005WENKamIyUmxYQ0krWEhKY2JpQWdJQ0E4WTI5a1pUNGdlM0poZDBOdmJuUmxiblI5SUR3dlkyOWtaVDVjY2x4dUlDQThMM0J5WlQ1Y2NseHVQQzlrYVhZK1hISmNiaUpkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZOUVN4SFFVRkhMRXRCUVVzc1kwRkJReXhEUVVGRExFRkJRMDRzVVVGQlVTeERRVUZGTEUxQlFVMHNRVUZEY0VJc1EwRkJReUo5ICovXCI7XG5cdGFwcGVuZChkb2N1bWVudC5oZWFkLCBzdHlsZSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgcHJlLCBjb2RlLCB0O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHByZSA9IGVsZW1lbnQoXCJwcmVcIik7XG5cdFx0XHRjb2RlID0gZWxlbWVudChcImNvZGVcIik7XG5cdFx0XHR0ID0gdGV4dChjdHgucmF3Q29udGVudCk7XG5cdFx0XHRhZGRfbG9jYXRpb24oY29kZSwgZmlsZSwgMTMsIDQsIDIwMik7XG5cdFx0XHRhdHRyKHByZSwgXCJjbGFzc1wiLCBcImNvZGUgc3ZlbHRlLW1wNzB3alwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwcmUsIGZpbGUsIDEyLCAyLCAxNzgpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJjYXJkLWJvZHlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAxMSwgMCwgMTUxKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBwcmUpO1xuXHRcdFx0YXBwZW5kKHByZSwgY29kZSk7XG5cdFx0XHRhcHBlbmQoY29kZSwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBtc2cgfSA9ICQkcHJvcHM7XHJcblxyXG4gIGxldCByYXdDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKTtcblxuXHRjb25zdCB3cml0YWJsZV9wcm9wcyA9IFsnbXNnJ107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlLndhcm4oYDxHZW5lcmljTXNnPiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbXNnJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9ICQkcHJvcHMubXNnKTtcblx0fTtcblxuXHRyZXR1cm4geyBtc2csIHJhd0NvbnRlbnQgfTtcbn1cblxuY2xhc3MgR2VuZXJpY01zZyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZlbHRlLW1wNzB3ai1zdHlsZVwiKSkgYWRkX2NzcygpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtcIm1zZ1wiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5tc2cgPT09IHVuZGVmaW5lZCAmJiAhKCdtc2cnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiPEdlbmVyaWNNc2c+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAnbXNnJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgbXNnKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxHZW5lcmljTXNnPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBtc2codmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8R2VuZXJpY01zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBHZW5lcmljTXNnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2YldWemMyRm5aVlI1Y0dWekwwZGxibVZ5YVdOTmMyY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenRCUVhkSFFTeHBRa0ZCYTBJaWZRPT0iLCIvKiBNZXNzYWdlUmVuZGVyZXIuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRjaGVja19vdXRyb3MsXG5cdGRlc3Ryb3lfY29tcG9uZW50LFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGVtcHR5LFxuXHRnbG9iYWxzLFxuXHRncm91cF9vdXRyb3MsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdG5vb3AsXG5cdHByZXZlbnRfZGVmYXVsdCxcblx0cnVuX2FsbCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNldF9kYXRhLFxuXHRzcGFjZSxcblx0dGV4dCxcblx0dG9nZ2xlX2NsYXNzLFxuXHR0cmFuc2l0aW9uX2luLFxuXHR0cmFuc2l0aW9uX291dFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IHsgY29uc29sZTogY29uc29sZV8xIH0gPSBnbG9iYWxzO1xuXG5jb25zdCBmaWxlID0gXCJNZXNzYWdlUmVuZGVyZXIuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGFkZF9jc3MoKSB7XG5cdHZhciBzdHlsZSA9IGVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGUuaWQgPSAnc3ZlbHRlLTFqbjF3ZWstc3R5bGUnO1xuXHRzdHlsZS50ZXh0Q29udGVudCA9IFwiLmJsdXJlZC5zdmVsdGUtMWpuMXdlayBpbWcuc3ZlbHRlLTFqbjF3ZWt7ZmlsdGVyOmJsdXIoMjBweCkgIWltcG9ydGFudH0uYmx1cmVkLnN2ZWx0ZS0xam4xd2Vre2JvcmRlcjpzb2xpZCAycHggcmVkfS5mZWVkLWRpc3BsYXkuc3ZlbHRlLTFqbjF3ZWt7Y3Vyc29yOnBvaW50ZXJ9LmNoYW5uZWwtZGlzcGxheS5zdmVsdGUtMWpuMXdla3tjdXJzb3I6cG9pbnRlcn0ubWVudS1yaWdodC5zdmVsdGUtMWpuMXdla3tyaWdodDowcHg7bGVmdDp1bnNldDttaW4td2lkdGg6MzAwcHh9LnByaXZhdGUuc3ZlbHRlLTFqbjF3ZWt7Ym9yZGVyOnNvbGlkIDJweCBvcmFuZ2V9XFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lUV1Z6YzJGblpWSmxibVJsY21WeUxuTjJaV3gwWlNJc0luTnZkWEpqWlhNaU9sc2lUV1Z6YzJGblpWSmxibVJsY21WeUxuTjJaV3gwWlNKZExDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNld5SThjMk55YVhCMFBseHlYRzRnSUdOdmJuTjBJRkJ2YzNSTmMyY2dQU0J5WlhGMWFYSmxLRndpTGk5UWIzTjBUWE5uTG5OMlpXeDBaVndpS1R0Y2NseHVJQ0JqYjI1emRDQkhaVzVsY21salRYTm5JRDBnY21WeGRXbHlaU2hjSWk0dlIyVnVaWEpwWTAxelp5NXpkbVZzZEdWY0lpazdYSEpjYmlBZ1kyOXVjM1FnVm05MFpVMXpaeUE5SUhKbGNYVnBjbVVvWENJdUwxWnZkR1ZOYzJjdWMzWmxiSFJsWENJcE8xeHlYRzRnSUdOdmJuTjBJRkJ5YVhaaGRHVk5jMmNnUFNCeVpYRjFhWEpsS0Z3aUxpOVFjbWwyWVhSbFRYTm5Mbk4yWld4MFpWd2lLVHRjY2x4dUlDQmpiMjV6ZENCRGIyNTBZV04wVFhObklEMGdjbVZ4ZFdseVpTaGNJaTR2UTI5dWRHRmpkRTF6Wnk1emRtVnNkR1ZjSWlrN1hISmNiaUFnWTI5dWMzUWdRMmhoYm01bGJFMXpaeUE5SUhKbGNYVnBjbVVvWENJdUwwTm9ZVzV1Wld4TmMyY3VjM1psYkhSbFhDSXBPMXh5WEc0Z0lHTnZibk4wSUVGaWIzVjBUWE5uSUQwZ2NtVnhkV2x5WlNoY0lpNHZRV0p2ZFhSTmMyY3VjM1psYkhSbFhDSXBPMXh5WEc0Z0lHTnZibk4wSUZCMVlrMXpaeUE5SUhKbGNYVnBjbVVvWENJdUwxQjFZazF6Wnk1emRtVnNkR1ZjSWlrN1hISmNiaUFnWTI5dWMzUWdRbXh2WjAxelp5QTlJSEpsY1hWcGNtVW9YQ0l1TDBKc2IyZE5jMmN1YzNabGJIUmxYQ0lwTzF4eVhHNGdJR052Ym5OMElFRjJZWFJoY2tOb2FYQWdQU0J5WlhGMWFYSmxLRndpTGk0dmNHRnlkSE12UVhaaGRHRnlRMmhwY0M1emRtVnNkR1ZjSWlrN1hISmNiaUFnWTI5dWMzUWdlM1JwYldWemRHRnRjSDBnUFNCeVpYRjFhWEpsS0Z3aUxpNHZjR0Z5ZEhNdmRHbHRaWE4wWVcxd0xtcHpYQ0lwTzF4eVhHNGdJR052Ym5OMElIc2dibUYyYVdkaGRHVWdmU0E5SUhKbGNYVnBjbVVvWENJdUxpOTFkR2xzY3k1cWMxd2lLVHRjY2x4dUlDQmpiMjV6ZENCN0lHbHpUV1Z6YzJGblpVSnNkWEpsWkNCOUlEMGdjbVZ4ZFdseVpTaGNJaTR1TDJGaWRYTmxVSEpsZG1WdWRHbHZiaTVxYzF3aUtUdGNjbHh1WEhKY2JpQWdaWGh3YjNKMElHeGxkQ0J0YzJjN1hISmNibHh5WEc0Z0lHeGxkQ0IwZVhCbE8xeHlYRzRnSUd4bGRDQm1aV1ZrSUQwZ2JYTm5MblpoYkhWbExtRjFkR2h2Y2p0Y2NseHVJQ0JzWlhRZ2MyaHZkMUpoZHlBOUlHWmhiSE5sTzF4eVhHNGdJR3hsZENCeVlYZERiMjUwWlc1MElEMGdTbE5QVGk1emRISnBibWRwWm5rb2JYTm5MQ0J1ZFd4c0xDQXlLVHRjY2x4dUlDQnNaWFFnWkhKdmNHUnZkMjVCWTNScGRtVWdQU0JtWVd4elpUdGNjbHh1SUNCc1pYUWdjSEpwZG1GMFpVMXpaMFp2Y2xsdmRTQTlJR1poYkhObE8xeHlYRzVjY2x4dUlDQnNaWFFnYldWemMyRm5aVlI1Y0dWeklEMGdlMXh5WEc0Z0lDQWdYQ0lxWENJNklFZGxibVZ5YVdOTmMyY3NYSEpjYmlBZ0lDQndiM04wT2lCUWIzTjBUWE5uTEZ4eVhHNGdJQ0FnZG05MFpUb2dWbTkwWlUxelp5eGNjbHh1SUNBZ0lIQnlhWFpoZEdVNklGQnlhWFpoZEdWTmMyY3NYSEpjYmlBZ0lDQmpiMjUwWVdOME9pQkRiMjUwWVdOMFRYTm5MRnh5WEc0Z0lDQWdZMmhoYm01bGJEb2dRMmhoYm01bGJFMXpaeXhjY2x4dUlDQWdJR0ZpYjNWME9pQkJZbTkxZEUxelp5eGNjbHh1SUNBZ0lIQjFZam9nVUhWaVRYTm5MRnh5WEc0Z0lDQWdZbXh2WnpvZ1FteHZaMDF6WjF4eVhHNGdJSDA3WEhKY2JseHlYRzRnSUd4bGRDQnpaV3hsWTNSbFpGSmxibVJsY21WeU8xeHlYRzVjY2x4dUlDQnBaaUFvZEhsd1pXOW1JRzF6Wnk1MllXeDFaUzVqYjI1MFpXNTBJRDA5UFNCY0luTjBjbWx1WjF3aUtTQjdYSEpjYmlBZ0lDQjBlWEJsSUQwZ1hDSndjbWwyWVhSbFhDSTdYSEpjYmlBZ2ZTQmxiSE5sSUh0Y2NseHVJQ0FnSUhSNWNHVWdQU0J0YzJjdWRtRnNkV1V1WTI5dWRHVnVkQzUwZVhCbE8xeHlYRzRnSUgxY2NseHVYSEpjYmlBZ2FXWWdLRzF6Wnk1MllXeDFaUzV3Y21sMllYUmxLU0I3WEhKY2JpQWdJQ0J3Y21sMllYUmxUWE5uUm05eVdXOTFJRDBnZEhKMVpUdGNjbHh1SUNCOVhISmNibHh5WEc0Z0lHbG1JQ2h0WlhOellXZGxWSGx3WlhNdWFHRnpUM2R1VUhKdmNHVnlkSGtvZEhsd1pTa3BJSHRjY2x4dUlDQWdJSE5sYkdWamRHVmtVbVZ1WkdWeVpYSWdQU0J0WlhOellXZGxWSGx3WlhOYmRIbHdaVjA3WEhKY2JpQWdmU0JsYkhObElIdGNjbHh1SUNBZ0lITmxiR1ZqZEdWa1VtVnVaR1Z5WlhJZ1BTQnRaWE56WVdkbFZIbHdaWE5iWENJcVhDSmRPMXh5WEc0Z0lIMWNjbHh1WEhKY2JpQWdiR1YwSUdsdFlXZGxJRDBnWENKcGJXRm5aWE12YVdOdmJpNXdibWRjSWp0Y2NseHVJQ0JzWlhRZ2JtRnRaU0E5SUdabFpXUTdYSEpjYmlBZ2JHVjBJR0pzZFhKbFpDQTlJR2x6VFdWemMyRm5aVUpzZFhKbFpDaHRjMmNwTzF4eVhHNWNjbHh1SUNCemMySXVZWFpoZEdGeUtHWmxaV1FwTG5Sb1pXNG9aR0YwWVNBOVBpQjdYSEpjYmlBZ0lDQnBaaUFvWkdGMFlTNXBiV0ZuWlNBaFBUMGdiblZzYkNrZ2UxeHlYRzRnSUNBZ0lDQnBiV0ZuWlNBOUlHQm9kSFJ3T2k4dmJHOWpZV3hvYjNOME9qZzVPRGt2WW14dlluTXZaMlYwTHlSN1pHRjBZUzVwYldGblpYMWdPMXh5WEc0Z0lDQWdmVnh5WEc0Z0lDQWdibUZ0WlNBOUlHUmhkR0V1Ym1GdFpUdGNjbHh1SUNCOUtUdGNjbHh1WEhKY2JpQWdZMjl1YzNRZ2RHOW5aMnhsVW1GM1RXVnpjMkZuWlNBOUlDZ3BJRDArSUh0Y2NseHVJQ0FnSUhOb2IzZFNZWGNnUFNBaGMyaHZkMUpoZHp0Y2NseHVJQ0FnSUdSeWIzQmtiM2R1UVdOMGFYWmxJRDBnWm1Gc2MyVTdYSEpjYmlBZ2ZUdGNjbHh1WEhKY2JpQWdZMjl1YzNRZ1kyOXdlVkJsY20xaGJHbHVheUE5SUNncElEMCtJSHRjY2x4dUlDQWdJRzVoZG1sbllYUnZjaTVqYkdsd1ltOWhjbVJjY2x4dUlDQWdJQ0FnTG5keWFYUmxWR1Y0ZENoZ2MzTmlPaVI3YlhObkxtdGxlWDFnS1Z4eVhHNGdJQ0FnSUNBdWRHaGxiaWdvS1NBOVBpQmpiMjV6YjJ4bExteHZaeWhjSW5CbGNtMWhiR2x1YXlCamIzQnBaV1JjSWlrcFhISmNiaUFnSUNBZ0lDNWpZWFJqYUNobGNuSWdQVDRnWTI5dWMyOXNaUzVsY25KdmNpaGNJbU5oYmlkMElHTnZjSGtnY0dWeWJXRnNhVzVyWENJc0lHVnljaWtwTzF4eVhHNWNjbHh1SUNBZ0lHUnliM0JrYjNkdVFXTjBhWFpsSUQwZ1ptRnNjMlU3WEhKY2JpQWdmVHRjY2x4dVhISmNiaUFnWTI5dWMzUWdZMjl3ZVVoaGMyZ2dQU0FvS1NBOVBpQjdYSEpjYmlBZ0lDQnVZWFpwWjJGMGIzSXVZMnhwY0dKdllYSmtYSEpjYmlBZ0lDQWdJQzUzY21sMFpWUmxlSFFvWUNSN2JYTm5MbXRsZVgxZ0tWeHlYRzRnSUNBZ0lDQXVkR2hsYmlnb0tTQTlQaUJqYjI1emIyeGxMbXh2WnloY0ltaGhjMmdnWTI5d2FXVmtYQ0lwS1Z4eVhHNGdJQ0FnSUNBdVkyRjBZMmdvWlhKeUlEMCtJR052Ym5OdmJHVXVaWEp5YjNJb1hDSmpZVzRuZENCamIzQjVJR2hoYzJoY0lpd2daWEp5S1NrN1hISmNibHh5WEc0Z0lDQWdaSEp2Y0dSdmQyNUJZM1JwZG1VZ1BTQm1ZV3h6WlR0Y2NseHVJQ0I5TzF4eVhHNWNjbHh1SUNCamIyNXpkQ0JuYjFCeWIyWnBiR1VnUFNCbGRpQTlQaUI3WEhKY2JpQWdJQ0JwWmlBb1pYWXVZM1J5YkV0bGVTa2dlMXh5WEc0Z0lDQWdJQ0IzYVc1a2IzY3ViM0JsYmloZ1AyWmxaV1E5Skh0bGJtTnZaR1ZWVWtsRGIyMXdiMjVsYm5Rb1ptVmxaQ2w5SXk5d2NtOW1hV3hsWUNrN1hISmNiaUFnSUNCOUlHVnNjMlVnZTF4eVhHNGdJQ0FnSUNCdVlYWnBaMkYwWlNoY0lpOXdjbTltYVd4bFhDSXNJSHNnWm1WbFpDQjlLVHRjY2x4dUlDQWdJSDFjY2x4dUlDQjlPMXh5WEc0OEwzTmpjbWx3ZEQ1Y2NseHVYSEpjYmp4emRIbHNaVDVjY2x4dUlDQXVZbXgxY21Wa0lHbHRaeUI3WEhKY2JpQWdJQ0JtYVd4MFpYSTZJR0pzZFhJb01qQndlQ2tnSVdsdGNHOXlkR0Z1ZER0Y2NseHVJQ0I5WEhKY2JseHlYRzRnSUM1aWJIVnlaV1FnZTF4eVhHNGdJQ0FnWW05eVpHVnlPaUJ6YjJ4cFpDQXljSGdnY21Wa08xeHlYRzRnSUgxY2NseHVJQ0F1Y21GM0xXTnZiblJsYm5RZ2UxeHlYRzRnSUNBZ2QybGtkR2c2SURVd0pUdGNjbHh1SUNCOVhISmNibHh5WEc0Z0lDNW1aV1ZrTFdScGMzQnNZWGtnZTF4eVhHNGdJQ0FnWTNWeWMyOXlPaUJ3YjJsdWRHVnlPMXh5WEc0Z0lIMWNjbHh1WEhKY2JpQWdMbU5vWVc1dVpXd3RaR2x6Y0d4aGVTQjdYSEpjYmlBZ0lDQmpkWEp6YjNJNklIQnZhVzUwWlhJN1hISmNiaUFnZlZ4eVhHNWNjbHh1SUNBdWJXVnVkUzF5YVdkb2RDQjdYSEpjYmlBZ0lDQnlhV2RvZERvZ01IQjRPMXh5WEc0Z0lDQWdiR1ZtZERvZ2RXNXpaWFE3WEhKY2JpQWdJQ0J0YVc0dGQybGtkR2c2SURNd01IQjRPMXh5WEc0Z0lIMWNjbHh1WEhKY2JpQWdMbkJ5YVhaaGRHVWdlMXh5WEc0Z0lDQWdZbTl5WkdWeU9pQnpiMnhwWkNBeWNIZ2diM0poYm1kbE8xeHlYRzRnSUgxY2NseHVQQzl6ZEhsc1pUNWNjbHh1WEhKY2JqeGthWFlnWTJ4aGMzTTlYQ0pqWVhKa0lHMHRNbHdpSUdOc1lYTnpPbkJ5YVhaaGRHVTllM0J5YVhaaGRHVk5jMmRHYjNKWmIzVjlJR05zWVhOek9tSnNkWEpsWkQ1Y2NseHVJQ0E4WkdsMklHTnNZWE56UFZ3aVkyRnlaQzFvWldGa1pYSmNJajVjY2x4dUlDQWdJRHhrYVhZZ1kyeGhjM005WENKbWJHOWhkQzFzWldaMFhDSStYSEpjYmlBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKallYSmtMWFJwZEd4bFhDSStYSEpjYmlBZ0lDQWdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0luUnBiR1VnZEdsc1pTMWpaVzUwWlhKbFpDQm1aV1ZrTFdScGMzQnNZWGxjSWlCdmJqcGpiR2xqYXoxN1oyOVFjbTltYVd4bGZUNWNjbHh1SUNBZ0lDQWdJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSjBhV3hsTFdsamIyNWNJajVjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdQR1JwZGlCamJHRnpjejFjSW1WNFlXMXdiR1V0ZEdsc1pTMXBZMjl1WENJK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1BHbHRaeUJ6Y21NOWUybHRZV2RsZlNCamJHRnpjejFjSW1GMllYUmhjaUJoZG1GMFlYSXRiR2RjSWlCaGJIUTllMlpsWldSOUlDOCtYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lEd3ZaR2wyUGx4eVhHNGdJQ0FnSUNBZ0lDQWdQQzlrYVhZK1hISmNiaUFnSUNBZ0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aWRHbHNaUzFqYjI1MFpXNTBYQ0krWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKMGFXeGxMWFJwZEd4bFhDSStlMjVoYldWOVBDOWthWFkrWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHh6YldGc2JDQmpiR0Z6Y3oxY0luUnBiR1V0YzNWaWRHbDBiR1VnZEdWNGRDMW5jbUY1WENJK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lIdDBhVzFsYzNSaGJYQW9iWE5uTG5aaGJIVmxMblJwYldWemRHRnRjQ2w5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHd2YzIxaGJHdytYSEpjYmlBZ0lDQWdJQ0FnSUNBOEwyUnBkajVjY2x4dUlDQWdJQ0FnSUNBOEwyUnBkajVjY2x4dUlDQWdJQ0FnUEM5a2FYWStYSEpjYmlBZ0lDQThMMlJwZGo1Y2NseHVJQ0FnSUhzamFXWWdjSEpwZG1GMFpVMXpaMFp2Y2xsdmRYMWNjbHh1SUNBZ0lDQWdQSE53WVc0Z1kyeGhjM005WENKc1lXSmxiRndpUGxCU1NWWkJWRVU4TDNOd1lXNCtYSEpjYmlBZ0lDQjdMMmxtZlZ4eVhHNGdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0ltWnNiMkYwTFhKcFoyaDBYQ0krWEhKY2JpQWdJQ0FnSUR4emNHRnVYSEpjYmlBZ0lDQWdJQ0FnWTJ4aGMzTTlYQ0owWlhoMExXZHlZWGtnWTJoaGJtNWxiQzFrYVhOd2JHRjVYQ0pjY2x4dUlDQWdJQ0FnSUNCdmJqcGpiR2xqYXoxN0tDa2dQVDRnYm1GMmFXZGhkR1VvSnk5amFHRnVibVZzSnl3Z2UxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCamFHRnVibVZzT2lCdGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1amFHRnVibVZzWEhKY2JpQWdJQ0FnSUNBZ0lDQjlLWDArWEhKY2JpQWdJQ0FnSUNBZ2V5TnBaaUJ0YzJjdWRtRnNkV1V1WTI5dWRHVnVkQzVqYUdGdWJtVnNmU043YlhObkxuWmhiSFZsTG1OdmJuUmxiblF1WTJoaGJtNWxiSDE3TDJsbWZWeHlYRzRnSUNBZ0lDQThMM053WVc0K1hISmNiaUFnSUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0prY205d1pHOTNibHdpUGx4eVhHNGdJQ0FnSUNBZ0lEeHpjR0Z1WEhKY2JpQWdJQ0FnSUNBZ0lDQmpiR0Z6Y3oxY0ltSjBiaUJpZEc0dGJHbHVheUJrY205d1pHOTNiaTEwYjJkbmJHVmNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ2RHRmlhVzVrWlhnOVhDSXdYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lHTnNZWE56T21GamRHbDJaVDE3WkhKdmNHUnZkMjVCWTNScGRtVjlYSEpjYmlBZ0lDQWdJQ0FnSUNCdmJqcGpiR2xqYXoxN0tDa2dQVDRnS0dSeWIzQmtiM2R1UVdOMGFYWmxJRDBnSVdSeWIzQmtiM2R1UVdOMGFYWmxLWDArWEhKY2JpQWdJQ0FnSUNBZ0lDQThhU0JqYkdGemN6MWNJbWxqYjI0Z2FXTnZiaTF0YjNKbExYWmxjblJjSWlBdlBseHlYRzRnSUNBZ0lDQWdJRHd2YzNCaGJqNWNjbHh1SUNBZ0lDQWdJQ0E4ZFd3Z1kyeGhjM005WENKdFpXNTFJRzFsYm5VdGNtbG5hSFJjSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJRHhzYVNCamJHRnpjejFjSW0xbGJuVXRhWFJsYlZ3aVBseHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdQR0ZjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JvY21WbVBWd2lQM1JvY21WaFpEMTdaVzVqYjJSbFZWSkpRMjl0Y0c5dVpXNTBLRzF6Wnk1clpYa3BmU012ZEdoeVpXRmtYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0IwWVhKblpYUTlYQ0pmWW14aGJtdGNJajVjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0E4YVNCamJHRnpjejFjSW1samIyNGdhV052YmkxemFHRnlaVndpSUM4K1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1QzQmxiaUJwYmlCdVpYY2dkR0ZpWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHd2WVQ1Y2NseHVJQ0FnSUNBZ0lDQWdJRHd2YkdrK1hISmNiaUFnSUNBZ0lDQWdJQ0E4YkdrZ1kyeGhjM005WENKdFpXNTFMV2wwWlcxY0lqNWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1BHRWdhSEpsWmoxY0lpTmNJaUJ2YmpwamJHbGphM3h3Y21WMlpXNTBSR1ZtWVhWc2REMTdZMjl3ZVZCbGNtMWhiR2x1YTMwK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1BHa2dZMnhoYzNNOVhDSnBZMjl1SUdsamIyNHRZMjl3ZVZ3aUlDOCtYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdRMjl3ZVNCd1pYSnRZV3hwYm1zZ2RHOGdZMnhwY0dKdllYSmtYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lEd3ZZVDVjY2x4dUlDQWdJQ0FnSUNBZ0lEd3ZiR2srWEhKY2JpQWdJQ0FnSUNBZ0lDQThiR2tnWTJ4aGMzTTlYQ0p0Wlc1MUxXbDBaVzFjSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnUEdFZ2FISmxaajFjSWlOY0lpQnZianBqYkdsamEzeHdjbVYyWlc1MFJHVm1ZWFZzZEQxN1kyOXdlVWhoYzJoOVBseHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHBJR05zWVhOelBWd2lhV052YmlCcFkyOXVMV052Y0hsY0lpQXZQbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJRU52Y0hrZ2JXVnpjMkZuWlNCcFpDQjBieUJqYkdsd1ltOWhjbVJjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdQQzloUGx4eVhHNGdJQ0FnSUNBZ0lDQWdQQzlzYVQ1Y2NseHVJQ0FnSUNBZ0lDQWdJRHhzYVNCamJHRnpjejFjSW1ScGRtbGtaWEpjSWlCa1lYUmhMV052Ym5SbGJuUTlYQ0pHVDFJZ1ZFaEZJRU5WVWtsUFZWTmNJaUF2UGx4eVhHNGdJQ0FnSUNBZ0lDQWdQR3hwSUdOc1lYTnpQVndpYldWdWRTMXBkR1Z0WENJK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUR4aElHaHlaV1k5WENJalhDSWdiMjQ2WTJ4cFkydDhjSEpsZG1WdWRFUmxabUYxYkhROWUzUnZaMmRzWlZKaGQwMWxjM05oWjJWOVBseHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lEeHBJR05zWVhOelBWd2lhV052YmlCcFkyOXVMVzFsYzNOaFoyVmNJaUF2UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhzamFXWWdJWE5vYjNkU1lYZDlVMmh2ZHlCeVlYY2diV1Z6YzJGblpYczZaV3h6WlgxRGJHOXpaU0J5WVhjZ2JXVnpjMkZuWlhzdmFXWjlYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lEd3ZZVDVjY2x4dUlDQWdJQ0FnSUNBZ0lEd3ZiR2srWEhKY2JpQWdJQ0FnSUNBZ1BDOTFiRDVjY2x4dUlDQWdJQ0FnUEM5a2FYWStYSEpjYmlBZ0lDQThMMlJwZGo1Y2NseHVJQ0E4TDJScGRqNWNjbHh1SUNCN0kybG1JQ0Z6YUc5M1VtRjNmVnh5WEc0Z0lDQWdQSE4yWld4MFpUcGpiMjF3YjI1bGJuUWdkR2hwY3oxN2MyVnNaV04wWldSU1pXNWtaWEpsY24wZ2UyMXpaMzBnTHo1Y2NseHVJQ0I3T21Wc2MyVjlYSEpjYmlBZ0lDQThaR2wySUdOc1lYTnpQVndpWTJGeVpDMWliMlI1WENJK1hISmNiaUFnSUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pqYjJ4MWJXNXpYQ0krWEhKY2JpQWdJQ0FnSUNBZ1BHUnBkaUJqYkdGemN6MWNJbU52YkhWdGJpQmpiMnd0T1Z3aVBseHlYRzRnSUNBZ0lDQWdJQ0FnUEhCeVpTQmpiR0Z6Y3oxY0ltTnZaR1ZjSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnUEdOdlpHVStlM0poZDBOdmJuUmxiblI5UEM5amIyUmxQbHh5WEc0Z0lDQWdJQ0FnSUNBZ1BDOXdjbVUrWEhKY2JpQWdJQ0FnSUNBZ1BDOWthWFkrWEhKY2JpQWdJQ0FnSUNBZ1BHUnBkaUJqYkdGemN6MWNJbU52YkhWdGJpQmpiMnd0TTF3aVBseHlYRzRnSUNBZ0lDQWdJQ0FnUEhBK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUZSb2FYTWdhWE1nWVNCdFpYTnpZV2RsSUc5bUlIUjVjR1ZjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdQR1Z0UG50MGVYQmxmVHd2WlcwK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUM1Y2NseHVJQ0FnSUNBZ0lDQWdJRHd2Y0Q1Y2NseHVJQ0FnSUNBZ0lDQWdJRHh3UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JVYnlCc1pXRnliaUJ0YjNKbElHRmliM1YwSUdsMExDQm5ieUIwYjF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0E4WVNCMFlYSm5aWFE5WENKZllteGhibXRjSWlCb2NtVm1QVndpTDJSdlkzTXZhVzVrWlhndWFIUnRiQ012YldWemMyRm5aVjkwZVhCbGN5OTdkSGx3WlgxY0lqNWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQjBhR1VnWkc5amRXMWxiblJoZEdsdmJpQmhZbTkxZENCdFpYTnpZV2RsY3lCM2FYUm9JSFI1Y0dVZ2UzUjVjR1Y5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHd2WVQ1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnTGx4eVhHNGdJQ0FnSUNBZ0lDQWdQQzl3UGx4eVhHNGdJQ0FnSUNBZ0lEd3ZaR2wyUGx4eVhHNGdJQ0FnSUNBOEwyUnBkajVjY2x4dUlDQWdJRHd2WkdsMlBseHlYRzRnSUhzdmFXWjlYSEpjYmp3dlpHbDJQbHh5WEc0aVhTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQmEwZEZMSE5DUVVGUExFTkJRVU1zUjBGQlJ5eGxRVUZETEVOQlFVTXNRVUZEV0N4TlFVRk5MRU5CUVVVc1MwRkJTeXhKUVVGSkxFTkJRVU1zUTBGQlF5eFZRVUZWTEVGQlF5OUNMRU5CUVVNc1FVRkZSQ3hQUVVGUExHVkJRVU1zUTBGQlF5eEJRVU5RTEUxQlFVMHNRMEZCUlN4TFFVRkxMRU5CUVVNc1IwRkJSeXhEUVVGRExFZEJRVWNzUVVGRGRrSXNRMEZCUXl4QlFVdEVMR0ZCUVdFc1pVRkJReXhEUVVGRExFRkJRMklzVFVGQlRTeERRVUZGTEU5QlFVOHNRVUZEYWtJc1EwRkJReXhCUVVWRUxHZENRVUZuUWl4bFFVRkRMRU5CUVVNc1FVRkRhRUlzVFVGQlRTeERRVUZGTEU5QlFVOHNRVUZEYWtJc1EwRkJReXhCUVVWRUxGZEJRVmNzWlVGQlF5eERRVUZETEVGQlExZ3NTMEZCU3l4RFFVRkZMRWRCUVVjc1EwRkRWaXhKUVVGSkxFTkJRVVVzUzBGQlN5eERRVU5ZTEZOQlFWTXNRMEZCUlN4TFFVRkxMRUZCUTJ4Q0xFTkJRVU1zUVVGRlJDeFJRVUZSTEdWQlFVTXNRMEZCUXl4QlFVTlNMRTFCUVUwc1EwRkJSU3hMUVVGTExFTkJRVU1zUjBGQlJ5eERRVUZETEUxQlFVMHNRVUZETVVJc1EwRkJReUo5ICovXCI7XG5cdGFwcGVuZChkb2N1bWVudC5oZWFkLCBzdHlsZSk7XG59XG5cbi8vICgxNDg6NCkgeyNpZiBwcml2YXRlTXNnRm9yWW91fVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KSB7XG5cdHZhciBzcGFuO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0c3Bhbi50ZXh0Q29udGVudCA9IFwiUFJJVkFURVwiO1xuXHRcdFx0YXR0cihzcGFuLCBcImNsYXNzXCIsIFwibGFiZWxcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oc3BhbiwgZmlsZSwgMTQ4LCA2LCAzNjc4KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNwYW4sIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChzcGFuKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxNTc6OCkgeyNpZiBtc2cudmFsdWUuY29udGVudC5jaGFubmVsfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KSB7XG5cdHZhciB0MCwgdDFfdmFsdWUgPSBjdHgubXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbCwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHR0MCA9IHRleHQoXCIjXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KHQxX3ZhbHVlKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQwLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDEsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIHQxX3ZhbHVlICE9PSAodDFfdmFsdWUgPSBjdHgubXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbCkpIHtcblx0XHRcdFx0c2V0X2RhdGEodDEsIHQxX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQwKTtcblx0XHRcdFx0ZGV0YWNoKHQxKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxOTM6NDQpIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciB0O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0dCA9IHRleHQoXCJDbG9zZSByYXcgbWVzc2FnZVwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxOTM6MTQpIHsjaWYgIXNob3dSYXd9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMShjdHgpIHtcblx0dmFyIHQ7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHR0ID0gdGV4dChcIlNob3cgcmF3IG1lc3NhZ2VcIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0LCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMjAyOjIpIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrKGN0eCkge1xuXHR2YXIgZGl2MywgZGl2MiwgZGl2MCwgcHJlLCBjb2RlLCB0MCwgdDEsIGRpdjEsIHAwLCB0MiwgZW0sIHQzLCB0NCwgdDUsIHAxLCB0NiwgYSwgdDcsIHQ4LCBhX2hyZWZfdmFsdWUsIHQ5O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2MyA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYyID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjAgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0cHJlID0gZWxlbWVudChcInByZVwiKTtcblx0XHRcdGNvZGUgPSBlbGVtZW50KFwiY29kZVwiKTtcblx0XHRcdHQwID0gdGV4dChjdHgucmF3Q29udGVudCk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHAwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHR0MiA9IHRleHQoXCJUaGlzIGlzIGEgbWVzc2FnZSBvZiB0eXBlXFxyXFxuICAgICAgICAgICAgXCIpO1xuXHRcdFx0ZW0gPSBlbGVtZW50KFwiZW1cIik7XG5cdFx0XHR0MyA9IHRleHQoY3R4LnR5cGUpO1xuXHRcdFx0dDQgPSB0ZXh0KFwiXFxyXFxuICAgICAgICAgICAgLlwiKTtcblx0XHRcdHQ1ID0gc3BhY2UoKTtcblx0XHRcdHAxID0gZWxlbWVudChcInBcIik7XG5cdFx0XHR0NiA9IHRleHQoXCJUbyBsZWFybiBtb3JlIGFib3V0IGl0LCBnbyB0b1xcclxcbiAgICAgICAgICAgIFwiKTtcblx0XHRcdGEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQ3ID0gdGV4dChcInRoZSBkb2N1bWVudGF0aW9uIGFib3V0IG1lc3NhZ2VzIHdpdGggdHlwZSBcIik7XG5cdFx0XHR0OCA9IHRleHQoY3R4LnR5cGUpO1xuXHRcdFx0dDkgPSB0ZXh0KFwiXFxyXFxuICAgICAgICAgICAgLlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihjb2RlLCBmaWxlLCAyMDYsIDEyLCA1NjM1KTtcblx0XHRcdGF0dHIocHJlLCBcImNsYXNzXCIsIFwiY29kZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwcmUsIGZpbGUsIDIwNSwgMTAsIDU2MDMpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiY29sdW1uIGNvbC05XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDIwNCwgOCwgNTU2NSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oZW0sIGZpbGUsIDIxMiwgMTIsIDU3OTgpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAwLCBmaWxlLCAyMTAsIDEwLCA1NzQyKTtcblx0XHRcdGF0dHIoYSwgXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIik7XG5cdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUgPSBcIi9kb2NzL2luZGV4Lmh0bWwjL21lc3NhZ2VfdHlwZXMvXCIgKyBjdHgudHlwZSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgMjE3LCAxMiwgNTkxNik7XG5cdFx0XHRhZGRfbG9jYXRpb24ocDEsIGZpbGUsIDIxNSwgMTAsIDU4NTYpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwiY29sdW1uIGNvbC0zXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjEsIGZpbGUsIDIwOSwgOCwgNTcwNCk7XG5cdFx0XHRhdHRyKGRpdjIsIFwiY2xhc3NcIiwgXCJjb2x1bW5zXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjIsIGZpbGUsIDIwMywgNiwgNTUzNCk7XG5cdFx0XHRhdHRyKGRpdjMsIFwiY2xhc3NcIiwgXCJjYXJkLWJvZHlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MywgZmlsZSwgMjAyLCA0LCA1NTAzKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjMsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MywgZGl2Mik7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgcHJlKTtcblx0XHRcdGFwcGVuZChwcmUsIGNvZGUpO1xuXHRcdFx0YXBwZW5kKGNvZGUsIHQwKTtcblx0XHRcdGFwcGVuZChkaXYyLCB0MSk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgcDApO1xuXHRcdFx0YXBwZW5kKHAwLCB0Mik7XG5cdFx0XHRhcHBlbmQocDAsIGVtKTtcblx0XHRcdGFwcGVuZChlbSwgdDMpO1xuXHRcdFx0YXBwZW5kKHAwLCB0NCk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDUpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHAxKTtcblx0XHRcdGFwcGVuZChwMSwgdDYpO1xuXHRcdFx0YXBwZW5kKHAxLCBhKTtcblx0XHRcdGFwcGVuZChhLCB0Nyk7XG5cdFx0XHRhcHBlbmQoYSwgdDgpO1xuXHRcdFx0YXBwZW5kKHAxLCB0OSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLnR5cGUpIHtcblx0XHRcdFx0c2V0X2RhdGEodDMsIGN0eC50eXBlKTtcblx0XHRcdFx0c2V0X2RhdGEodDgsIGN0eC50eXBlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKChjaGFuZ2VkLnR5cGUpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiL2RvY3MvaW5kZXguaHRtbCMvbWVzc2FnZV90eXBlcy9cIiArIGN0eC50eXBlKSkge1xuXHRcdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2Myk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMjAwOjIpIHsjaWYgIXNob3dSYXd9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yLCBjdXJyZW50O1xuXG5cdHZhciBzd2l0Y2hfdmFsdWUgPSBjdHguc2VsZWN0ZWRSZW5kZXJlcjtcblxuXHRmdW5jdGlvbiBzd2l0Y2hfcHJvcHMoY3R4KSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdHByb3BzOiB7IG1zZzogY3R4Lm1zZyB9LFxuXHRcdFx0JCRpbmxpbmU6IHRydWVcblx0XHR9O1xuXHR9XG5cblx0aWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdHZhciBzd2l0Y2hfaW5zdGFuY2UgPSBuZXcgc3dpdGNoX3ZhbHVlKHN3aXRjaF9wcm9wcyhjdHgpKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LmMoKTtcblx0XHRcdHN3aXRjaF9pbnN0YW5jZV9hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkge1xuXHRcdFx0XHRtb3VudF9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHR9XG5cblx0XHRcdGluc2VydCh0YXJnZXQsIHN3aXRjaF9pbnN0YW5jZV9hbmNob3IsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0dmFyIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2cpIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzLm1zZyA9IGN0eC5tc2c7XG5cblx0XHRcdGlmIChzd2l0Y2hfdmFsdWUgIT09IChzd2l0Y2hfdmFsdWUgPSBjdHguc2VsZWN0ZWRSZW5kZXJlcikpIHtcblx0XHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHRcdGNvbnN0IG9sZF9jb21wb25lbnQgPSBzd2l0Y2hfaW5zdGFuY2U7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9vdXQob2xkX2NvbXBvbmVudC4kJC5mcmFnbWVudCwgMSwgMCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0ZGVzdHJveV9jb21wb25lbnQob2xkX2NvbXBvbmVudCwgMSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCAxKTtcblx0XHRcdFx0XHRtb3VudF9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLCBzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yLnBhcmVudE5vZGUsIHN3aXRjaF9pbnN0YW5jZV9hbmNob3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN3aXRjaF9pbnN0YW5jZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdHN3aXRjaF9pbnN0YW5jZS4kc2V0KHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB0cmFuc2l0aW9uX2luKHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25fb3V0KHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goc3dpdGNoX2luc3RhbmNlX2FuY2hvcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGRlc3Ryb3lfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdjEwLCBkaXY5LCBkaXY2LCBkaXY1LCBkaXY0LCBkaXYxLCBkaXYwLCBpbWcsIHQwLCBkaXYzLCBkaXYyLCB0MSwgdDIsIHNtYWxsLCB0M192YWx1ZSA9IGN0eC50aW1lc3RhbXAoY3R4Lm1zZy52YWx1ZS50aW1lc3RhbXApLCB0MywgdDQsIHQ1LCBkaXY4LCBzcGFuMCwgdDYsIGRpdjcsIHNwYW4xLCBpMCwgdDcsIHVsLCBsaTAsIGEwLCBpMSwgdDgsIGEwX2hyZWZfdmFsdWUsIHQ5LCBsaTEsIGExLCBpMiwgdDEwLCB0MTEsIGxpMiwgYTIsIGkzLCB0MTIsIHQxMywgbGkzLCB0MTQsIGxpNCwgYTMsIGk0LCB0MTUsIHQxNiwgY3VycmVudF9ibG9ja190eXBlX2luZGV4LCBpZl9ibG9jazMsIGN1cnJlbnQsIGRpc3Bvc2U7XG5cblx0dmFyIGlmX2Jsb2NrMCA9IChjdHgucHJpdmF0ZU1zZ0ZvcllvdSkgJiYgY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2sxID0gKGN0eC5tc2cudmFsdWUuY29udGVudC5jaGFubmVsKSAmJiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCkge1xuXHRcdGlmICghY3R4LnNob3dSYXcpIHJldHVybiBjcmVhdGVfaWZfYmxvY2tfMTtcblx0XHRyZXR1cm4gY3JlYXRlX2Vsc2VfYmxvY2tfMTtcblx0fVxuXG5cdHZhciBjdXJyZW50X2Jsb2NrX3R5cGUgPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXHR2YXIgaWZfYmxvY2syID0gY3VycmVudF9ibG9ja190eXBlKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrX2NyZWF0b3JzID0gW1xuXHRcdGNyZWF0ZV9pZl9ibG9jayxcblx0XHRjcmVhdGVfZWxzZV9ibG9ja1xuXHRdO1xuXG5cdHZhciBpZl9ibG9ja3MgPSBbXTtcblxuXHRmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZV8xKGN0eCkge1xuXHRcdGlmICghY3R4LnNob3dSYXcpIHJldHVybiAwO1xuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGVfMShjdHgpO1xuXHRpZl9ibG9jazMgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSA9IGlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdjEwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjkgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2NiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXY1ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjQgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MSA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGltZyA9IGVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRkaXYzID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjIgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDEgPSB0ZXh0KGN0eC5uYW1lKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdHNtYWxsID0gZWxlbWVudChcInNtYWxsXCIpO1xuXHRcdFx0dDMgPSB0ZXh0KHQzX3ZhbHVlKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0NSA9IHNwYWNlKCk7XG5cdFx0XHRkaXY4ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHNwYW4wID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuYygpO1xuXHRcdFx0dDYgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2NyA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRzcGFuMSA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0aTAgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ3ID0gc3BhY2UoKTtcblx0XHRcdHVsID0gZWxlbWVudChcInVsXCIpO1xuXHRcdFx0bGkwID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTAgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGkxID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0OCA9IHRleHQoXCJcXHJcXG4gICAgICAgICAgICAgIE9wZW4gaW4gbmV3IHRhYlwiKTtcblx0XHRcdHQ5ID0gc3BhY2UoKTtcblx0XHRcdGxpMSA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGExID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRpMiA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDEwID0gdGV4dChcIlxcclxcbiAgICAgICAgICAgICAgQ29weSBwZXJtYWxpbmsgdG8gY2xpcGJvYXJkXCIpO1xuXHRcdFx0dDExID0gc3BhY2UoKTtcblx0XHRcdGxpMiA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGEyID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRpMyA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDEyID0gdGV4dChcIlxcclxcbiAgICAgICAgICAgICAgQ29weSBtZXNzYWdlIGlkIHRvIGNsaXBib2FyZFwiKTtcblx0XHRcdHQxMyA9IHNwYWNlKCk7XG5cdFx0XHRsaTMgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHR0MTQgPSBzcGFjZSgpO1xuXHRcdFx0bGk0ID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTMgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGk0ID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0MTUgPSBzcGFjZSgpO1xuXHRcdFx0aWZfYmxvY2syLmMoKTtcblx0XHRcdHQxNiA9IHNwYWNlKCk7XG5cdFx0XHRpZl9ibG9jazMuYygpO1xuXHRcdFx0YXR0cihpbWcsIFwic3JjXCIsIGN0eC5pbWFnZSk7XG5cdFx0XHRhdHRyKGltZywgXCJjbGFzc1wiLCBcImF2YXRhciBhdmF0YXItbGcgc3ZlbHRlLTFqbjF3ZWtcIik7XG5cdFx0XHRhdHRyKGltZywgXCJhbHRcIiwgY3R4LmZlZWQpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGltZywgZmlsZSwgMTM1LCAxNCwgMzI3Nyk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJleGFtcGxlLXRpbGUtaWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYwLCBmaWxlLCAxMzQsIDEyLCAzMjMwKTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcInRpbGUtaWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCAxMzMsIDEwLCAzMTkzKTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcInRpbGUtdGl0bGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgMTM5LCAxMiwgMzQyMik7XG5cdFx0XHRhdHRyKHNtYWxsLCBcImNsYXNzXCIsIFwidGlsZS1zdWJ0aXRsZSB0ZXh0LWdyYXlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oc21hbGwsIGZpbGUsIDE0MCwgMTIsIDM0NzIpO1xuXHRcdFx0YXR0cihkaXYzLCBcImNsYXNzXCIsIFwidGlsZS1jb250ZW50XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjMsIGZpbGUsIDEzOCwgMTAsIDMzODIpO1xuXHRcdFx0YXR0cihkaXY0LCBcImNsYXNzXCIsIFwidGlsZSB0aWxlLWNlbnRlcmVkIGZlZWQtZGlzcGxheSBzdmVsdGUtMWpuMXdla1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXY0LCBmaWxlLCAxMzIsIDgsIDMxMTUpO1xuXHRcdFx0YXR0cihkaXY1LCBcImNsYXNzXCIsIFwiY2FyZC10aXRsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXY1LCBmaWxlLCAxMzEsIDYsIDMwODEpO1xuXHRcdFx0YXR0cihkaXY2LCBcImNsYXNzXCIsIFwiZmxvYXQtbGVmdFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXY2LCBmaWxlLCAxMzAsIDQsIDMwNDkpO1xuXHRcdFx0YXR0cihzcGFuMCwgXCJjbGFzc1wiLCBcInRleHQtZ3JheSBjaGFubmVsLWRpc3BsYXkgc3ZlbHRlLTFqbjF3ZWtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oc3BhbjAsIGZpbGUsIDE1MSwgNiwgMzc2Mik7XG5cdFx0XHRhdHRyKGkwLCBcImNsYXNzXCIsIFwiaWNvbiBpY29uLW1vcmUtdmVydFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMCwgZmlsZSwgMTY0LCAxMCwgNDI0NSk7XG5cdFx0XHRhdHRyKHNwYW4xLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rIGRyb3Bkb3duLXRvZ2dsZVwiKTtcblx0XHRcdGF0dHIoc3BhbjEsIFwidGFiaW5kZXhcIiwgXCIwXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKHNwYW4xLCBcImFjdGl2ZVwiLCBjdHguZHJvcGRvd25BY3RpdmUpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4xLCBmaWxlLCAxNTksIDgsIDQwNTEpO1xuXHRcdFx0YXR0cihpMSwgXCJjbGFzc1wiLCBcImljb24gaWNvbi1zaGFyZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMSwgZmlsZSwgMTcyLCAxNCwgNDUwMSk7XG5cdFx0XHRhdHRyKGEwLCBcImhyZWZcIiwgYTBfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGN0eC5lbmNvZGVVUklDb21wb25lbnQoY3R4Lm1zZy5rZXkpICsgXCIjL3RocmVhZFwiKTtcblx0XHRcdGF0dHIoYTAsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEwLCBmaWxlLCAxNjksIDEyLCA0MzgzKTtcblx0XHRcdGF0dHIobGkwLCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMCwgZmlsZSwgMTY3LCAxMCwgNDM0NSk7XG5cdFx0XHRhdHRyKGkyLCBcImNsYXNzXCIsIFwiaWNvbiBpY29uLWNvcHlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTIsIGZpbGUsIDE3OCwgMTQsIDQ3MTIpO1xuXHRcdFx0YXR0cihhMSwgXCJocmVmXCIsIFwiI1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMSwgZmlsZSwgMTc3LCAxMiwgNDY0NCk7XG5cdFx0XHRhdHRyKGxpMSwgXCJjbGFzc1wiLCBcIm1lbnUtaXRlbVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTEsIGZpbGUsIDE3NiwgMTAsIDQ2MDgpO1xuXHRcdFx0YXR0cihpMywgXCJjbGFzc1wiLCBcImljb24gaWNvbi1jb3B5XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkzLCBmaWxlLCAxODQsIDE0LCA0OTI5KTtcblx0XHRcdGF0dHIoYTIsIFwiaHJlZlwiLCBcIiNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTIsIGZpbGUsIDE4MywgMTIsIDQ4NjYpO1xuXHRcdFx0YXR0cihsaTIsIFwiY2xhc3NcIiwgXCJtZW51LWl0ZW1cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkyLCBmaWxlLCAxODIsIDEwLCA0ODMwKTtcblx0XHRcdGF0dHIobGkzLCBcImNsYXNzXCIsIFwiZGl2aWRlclwiKTtcblx0XHRcdGF0dHIobGkzLCBcImRhdGEtY29udGVudFwiLCBcIkZPUiBUSEUgQ1VSSU9VU1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTMsIGZpbGUsIDE4OCwgMTAsIDUwNDgpO1xuXHRcdFx0YXR0cihpNCwgXCJjbGFzc1wiLCBcImljb24gaWNvbi1tZXNzYWdlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGk0LCBmaWxlLCAxOTEsIDE0LCA1MjIwKTtcblx0XHRcdGF0dHIoYTMsIFwiaHJlZlwiLCBcIiNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTMsIGZpbGUsIDE5MCwgMTIsIDUxNDkpO1xuXHRcdFx0YXR0cihsaTQsIFwiY2xhc3NcIiwgXCJtZW51LWl0ZW1cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGk0LCBmaWxlLCAxODksIDEwLCA1MTEzKTtcblx0XHRcdGF0dHIodWwsIFwiY2xhc3NcIiwgXCJtZW51IG1lbnUtcmlnaHQgc3ZlbHRlLTFqbjF3ZWtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24odWwsIGZpbGUsIDE2NiwgOCwgNDMwNSk7XG5cdFx0XHRhdHRyKGRpdjcsIFwiY2xhc3NcIiwgXCJkcm9wZG93blwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXY3LCBmaWxlLCAxNTgsIDYsIDQwMTkpO1xuXHRcdFx0YXR0cihkaXY4LCBcImNsYXNzXCIsIFwiZmxvYXQtcmlnaHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2OCwgZmlsZSwgMTUwLCA0LCAzNzI5KTtcblx0XHRcdGF0dHIoZGl2OSwgXCJjbGFzc1wiLCBcImNhcmQtaGVhZGVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjksIGZpbGUsIDEyOSwgMiwgMzAxOCk7XG5cdFx0XHRhdHRyKGRpdjEwLCBcImNsYXNzXCIsIFwiY2FyZCBtLTIgc3ZlbHRlLTFqbjF3ZWtcIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MoZGl2MTAsIFwicHJpdmF0ZVwiLCBjdHgucHJpdmF0ZU1zZ0ZvcllvdSk7XG5cdFx0XHR0b2dnbGVfY2xhc3MoZGl2MTAsIFwiYmx1cmVkXCIsIGN0eC5ibHVyZWQpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjEwLCBmaWxlLCAxMjgsIDAsIDI5NDYpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oZGl2NCwgXCJjbGlja1wiLCBjdHguZ29Qcm9maWxlKSxcblx0XHRcdFx0bGlzdGVuKHNwYW4wLCBcImNsaWNrXCIsIGN0eC5jbGlja19oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKHNwYW4xLCBcImNsaWNrXCIsIGN0eC5jbGlja19oYW5kbGVyXzEpLFxuXHRcdFx0XHRsaXN0ZW4oYTEsIFwiY2xpY2tcIiwgcHJldmVudF9kZWZhdWx0KGN0eC5jb3B5UGVybWFsaW5rKSksXG5cdFx0XHRcdGxpc3RlbihhMiwgXCJjbGlja1wiLCBwcmV2ZW50X2RlZmF1bHQoY3R4LmNvcHlIYXNoKSksXG5cdFx0XHRcdGxpc3RlbihhMywgXCJjbGlja1wiLCBwcmV2ZW50X2RlZmF1bHQoY3R4LnRvZ2dsZVJhd01lc3NhZ2UpKVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYxMCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYxMCwgZGl2OSk7XG5cdFx0XHRhcHBlbmQoZGl2OSwgZGl2Nik7XG5cdFx0XHRhcHBlbmQoZGl2NiwgZGl2NSk7XG5cdFx0XHRhcHBlbmQoZGl2NSwgZGl2NCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgaW1nKTtcblx0XHRcdGFwcGVuZChkaXY0LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgZGl2Myk7XG5cdFx0XHRhcHBlbmQoZGl2MywgZGl2Mik7XG5cdFx0XHRhcHBlbmQoZGl2MiwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIHQyKTtcblx0XHRcdGFwcGVuZChkaXYzLCBzbWFsbCk7XG5cdFx0XHRhcHBlbmQoc21hbGwsIHQzKTtcblx0XHRcdGFwcGVuZChkaXY5LCB0NCk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubShkaXY5LCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXY5LCB0NSk7XG5cdFx0XHRhcHBlbmQoZGl2OSwgZGl2OCk7XG5cdFx0XHRhcHBlbmQoZGl2OCwgc3BhbjApO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLm0oc3BhbjAsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjgsIHQ2KTtcblx0XHRcdGFwcGVuZChkaXY4LCBkaXY3KTtcblx0XHRcdGFwcGVuZChkaXY3LCBzcGFuMSk7XG5cdFx0XHRhcHBlbmQoc3BhbjEsIGkwKTtcblx0XHRcdGFwcGVuZChkaXY3LCB0Nyk7XG5cdFx0XHRhcHBlbmQoZGl2NywgdWwpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTApO1xuXHRcdFx0YXBwZW5kKGxpMCwgYTApO1xuXHRcdFx0YXBwZW5kKGEwLCBpMSk7XG5cdFx0XHRhcHBlbmQoYTAsIHQ4KTtcblx0XHRcdGFwcGVuZCh1bCwgdDkpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTEpO1xuXHRcdFx0YXBwZW5kKGxpMSwgYTEpO1xuXHRcdFx0YXBwZW5kKGExLCBpMik7XG5cdFx0XHRhcHBlbmQoYTEsIHQxMCk7XG5cdFx0XHRhcHBlbmQodWwsIHQxMSk7XG5cdFx0XHRhcHBlbmQodWwsIGxpMik7XG5cdFx0XHRhcHBlbmQobGkyLCBhMik7XG5cdFx0XHRhcHBlbmQoYTIsIGkzKTtcblx0XHRcdGFwcGVuZChhMiwgdDEyKTtcblx0XHRcdGFwcGVuZCh1bCwgdDEzKTtcblx0XHRcdGFwcGVuZCh1bCwgbGkzKTtcblx0XHRcdGFwcGVuZCh1bCwgdDE0KTtcblx0XHRcdGFwcGVuZCh1bCwgbGk0KTtcblx0XHRcdGFwcGVuZChsaTQsIGEzKTtcblx0XHRcdGFwcGVuZChhMywgaTQpO1xuXHRcdFx0YXBwZW5kKGEzLCB0MTUpO1xuXHRcdFx0aWZfYmxvY2syLm0oYTMsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEwLCB0MTYpO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ubShkaXYxMCwgbnVsbCk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKCFjdXJyZW50IHx8IGNoYW5nZWQuaW1hZ2UpIHtcblx0XHRcdFx0YXR0cihpbWcsIFwic3JjXCIsIGN0eC5pbWFnZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghY3VycmVudCB8fCBjaGFuZ2VkLm5hbWUpIHtcblx0XHRcdFx0c2V0X2RhdGEodDEsIGN0eC5uYW1lKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCghY3VycmVudCB8fCBjaGFuZ2VkLm1zZykgJiYgdDNfdmFsdWUgIT09ICh0M192YWx1ZSA9IGN0eC50aW1lc3RhbXAoY3R4Lm1zZy52YWx1ZS50aW1lc3RhbXApKSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0MywgdDNfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LnByaXZhdGVNc2dGb3JZb3UpIHtcblx0XHRcdFx0aWYgKCFpZl9ibG9jazApIHtcblx0XHRcdFx0XHRpZl9ibG9jazAgPSBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLm0oZGl2OSwgdDUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5tc2cudmFsdWUuY29udGVudC5jaGFubmVsKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9ja18yKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazEubShzcGFuMCwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5kcm9wZG93bkFjdGl2ZSkge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3Moc3BhbjEsIFwiYWN0aXZlXCIsIGN0eC5kcm9wZG93bkFjdGl2ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoIWN1cnJlbnQgfHwgY2hhbmdlZC5tc2cpICYmIGEwX2hyZWZfdmFsdWUgIT09IChhMF9ocmVmX3ZhbHVlID0gXCI/dGhyZWFkPVwiICsgY3R4LmVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLmtleSkgKyBcIiMvdGhyZWFkXCIpKSB7XG5cdFx0XHRcdGF0dHIoYTAsIFwiaHJlZlwiLCBhMF9ocmVmX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZSAhPT0gKGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCkpKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMi5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazIgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMikge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLm0oYTMsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcmV2aW91c19ibG9ja19pbmRleCA9IGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleDtcblx0XHRcdGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KTtcblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPT09IHByZXZpb3VzX2Jsb2NrX2luZGV4KSB7XG5cdFx0XHRcdGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblxuXHRcdFx0XHRpZl9ibG9jazMgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XTtcblx0XHRcdFx0aWYgKCFpZl9ibG9jazMpIHtcblx0XHRcdFx0XHRpZl9ibG9jazMgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSA9IGlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazMuYygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2szLCAxKTtcblx0XHRcdFx0aWZfYmxvY2szLm0oZGl2MTAsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5wcml2YXRlTXNnRm9yWW91KSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhkaXYxMCwgXCJwcml2YXRlXCIsIGN0eC5wcml2YXRlTXNnRm9yWW91KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQuYmx1cmVkKSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhkaXYxMCwgXCJibHVyZWRcIiwgY3R4LmJsdXJlZCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazMpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdG86IGZ1bmN0aW9uIG91dHJvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazMpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2MTApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmQoKTtcblx0XHRcdGlmX2Jsb2NrMi5kKCk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKCk7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgUG9zdE1zZyA9IHJlcXVpcmUoXCIuL1Bvc3RNc2cuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IEdlbmVyaWNNc2cgPSByZXF1aXJlKFwiLi9HZW5lcmljTXNnLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBWb3RlTXNnID0gcmVxdWlyZShcIi4vVm90ZU1zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgUHJpdmF0ZU1zZyA9IHJlcXVpcmUoXCIuL1ByaXZhdGVNc2cuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IENvbnRhY3RNc2cgPSByZXF1aXJlKFwiLi9Db250YWN0TXNnLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBDaGFubmVsTXNnID0gcmVxdWlyZShcIi4vQ2hhbm5lbE1zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgQWJvdXRNc2cgPSByZXF1aXJlKFwiLi9BYm91dE1zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgUHViTXNnID0gcmVxdWlyZShcIi4vUHViTXNnLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBCbG9nTXNnID0gcmVxdWlyZShcIi4vQmxvZ01zZy5zdmVsdGVcIik7XHJcbiAgY29uc3QgQXZhdGFyQ2hpcCA9IHJlcXVpcmUoXCIuLi9wYXJ0cy9BdmF0YXJDaGlwLnN2ZWx0ZVwiKTtcclxuICBjb25zdCB7dGltZXN0YW1wfSA9IHJlcXVpcmUoXCIuLi9wYXJ0cy90aW1lc3RhbXAuanNcIik7XHJcbiAgY29uc3QgeyBuYXZpZ2F0ZSB9ID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xyXG4gIGNvbnN0IHsgaXNNZXNzYWdlQmx1cmVkIH0gPSByZXF1aXJlKFwiLi4vYWJ1c2VQcmV2ZW50aW9uLmpzXCIpO1xyXG5cclxuICBsZXQgeyBtc2cgfSA9ICQkcHJvcHM7XHJcblxyXG4gIGxldCB0eXBlO1xyXG4gIGxldCBmZWVkID0gbXNnLnZhbHVlLmF1dGhvcjtcclxuICBsZXQgc2hvd1JhdyA9IGZhbHNlO1xyXG4gIGxldCByYXdDb250ZW50ID0gSlNPTi5zdHJpbmdpZnkobXNnLCBudWxsLCAyKTtcclxuICBsZXQgZHJvcGRvd25BY3RpdmUgPSBmYWxzZTtcclxuICBsZXQgcHJpdmF0ZU1zZ0ZvcllvdSA9IGZhbHNlO1xyXG5cclxuICBsZXQgbWVzc2FnZVR5cGVzID0ge1xyXG4gICAgXCIqXCI6IEdlbmVyaWNNc2csXHJcbiAgICBwb3N0OiBQb3N0TXNnLFxyXG4gICAgdm90ZTogVm90ZU1zZyxcclxuICAgIHByaXZhdGU6IFByaXZhdGVNc2csXHJcbiAgICBjb250YWN0OiBDb250YWN0TXNnLFxyXG4gICAgY2hhbm5lbDogQ2hhbm5lbE1zZyxcclxuICAgIGFib3V0OiBBYm91dE1zZyxcclxuICAgIHB1YjogUHViTXNnLFxyXG4gICAgYmxvZzogQmxvZ01zZ1xyXG4gIH07XHJcblxyXG4gIGxldCBzZWxlY3RlZFJlbmRlcmVyO1xyXG5cclxuICBpZiAodHlwZW9mIG1zZy52YWx1ZS5jb250ZW50ID09PSBcInN0cmluZ1wiKSB7XHJcbiAgICAkJGludmFsaWRhdGUoJ3R5cGUnLCB0eXBlID0gXCJwcml2YXRlXCIpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkJGludmFsaWRhdGUoJ3R5cGUnLCB0eXBlID0gbXNnLnZhbHVlLmNvbnRlbnQudHlwZSk7XHJcbiAgfVxyXG5cclxuICBpZiAobXNnLnZhbHVlLnByaXZhdGUpIHtcclxuICAgICQkaW52YWxpZGF0ZSgncHJpdmF0ZU1zZ0ZvcllvdScsIHByaXZhdGVNc2dGb3JZb3UgPSB0cnVlKTtcclxuICB9XHJcblxyXG4gIGlmIChtZXNzYWdlVHlwZXMuaGFzT3duUHJvcGVydHkodHlwZSkpIHtcclxuICAgICQkaW52YWxpZGF0ZSgnc2VsZWN0ZWRSZW5kZXJlcicsIHNlbGVjdGVkUmVuZGVyZXIgPSBtZXNzYWdlVHlwZXNbdHlwZV0pO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAkJGludmFsaWRhdGUoJ3NlbGVjdGVkUmVuZGVyZXInLCBzZWxlY3RlZFJlbmRlcmVyID0gbWVzc2FnZVR5cGVzW1wiKlwiXSk7XHJcbiAgfVxyXG5cclxuICBsZXQgaW1hZ2UgPSBcImltYWdlcy9pY29uLnBuZ1wiO1xyXG4gIGxldCBuYW1lID0gZmVlZDtcclxuICBsZXQgYmx1cmVkID0gaXNNZXNzYWdlQmx1cmVkKG1zZyk7XHJcblxyXG4gIHNzYi5hdmF0YXIoZmVlZCkudGhlbihkYXRhID0+IHtcclxuICAgIGlmIChkYXRhLmltYWdlICE9PSBudWxsKSB7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnaW1hZ2UnLCBpbWFnZSA9IGBodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0LyR7ZGF0YS5pbWFnZX1gKTtcclxuICAgIH1cclxuICAgICQkaW52YWxpZGF0ZSgnbmFtZScsIG5hbWUgPSBkYXRhLm5hbWUpO1xyXG4gIH0pO1xyXG5cclxuICBjb25zdCB0b2dnbGVSYXdNZXNzYWdlID0gKCkgPT4ge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdzaG93UmF3Jywgc2hvd1JhdyA9ICFzaG93UmF3KTtcclxuICAgICQkaW52YWxpZGF0ZSgnZHJvcGRvd25BY3RpdmUnLCBkcm9wZG93bkFjdGl2ZSA9IGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBjb3B5UGVybWFsaW5rID0gKCkgPT4ge1xyXG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZFxyXG4gICAgICAud3JpdGVUZXh0KGBzc2I6JHttc2cua2V5fWApXHJcbiAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwicGVybWFsaW5rIGNvcGllZFwiKSlcclxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKFwiY2FuJ3QgY29weSBwZXJtYWxpbmtcIiwgZXJyKSk7XHJcblxyXG4gICAgJCRpbnZhbGlkYXRlKCdkcm9wZG93bkFjdGl2ZScsIGRyb3Bkb3duQWN0aXZlID0gZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGNvcHlIYXNoID0gKCkgPT4ge1xyXG4gICAgbmF2aWdhdG9yLmNsaXBib2FyZFxyXG4gICAgICAud3JpdGVUZXh0KGAke21zZy5rZXl9YClcclxuICAgICAgLnRoZW4oKCkgPT4gY29uc29sZS5sb2coXCJoYXNoIGNvcGllZFwiKSlcclxuICAgICAgLmNhdGNoKGVyciA9PiBjb25zb2xlLmVycm9yKFwiY2FuJ3QgY29weSBoYXNoXCIsIGVycikpO1xyXG5cclxuICAgICQkaW52YWxpZGF0ZSgnZHJvcGRvd25BY3RpdmUnLCBkcm9wZG93bkFjdGl2ZSA9IGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBnb1Byb2ZpbGUgPSBldiA9PiB7XHJcbiAgICBpZiAoZXYuY3RybEtleSkge1xyXG4gICAgICB3aW5kb3cub3BlbihgP2ZlZWQ9JHtlbmNvZGVVUklDb21wb25lbnQoZmVlZCl9Iy9wcm9maWxlYCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBuYXZpZ2F0ZShcIi9wcm9maWxlXCIsIHsgZmVlZCB9KTtcclxuICAgIH1cclxuICB9O1xuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydtc2cnXTtcblx0T2JqZWN0LmtleXMoJCRwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGlmICghd3JpdGFibGVfcHJvcHMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJyQkJykpIGNvbnNvbGVfMS53YXJuKGA8TWVzc2FnZVJlbmRlcmVyPiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRcdHJldHVybiBuYXZpZ2F0ZSgnL2NoYW5uZWwnLCB7XHJcblx0ICAgICAgICAgICAgY2hhbm5lbDogbXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbFxyXG5cdCAgICAgICAgICB9KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXJfMSgpIHtcblx0XHRjb25zdCAkJHJlc3VsdCA9IChkcm9wZG93bkFjdGl2ZSA9ICFkcm9wZG93bkFjdGl2ZSk7XG5cdFx0JCRpbnZhbGlkYXRlKCdkcm9wZG93bkFjdGl2ZScsIGRyb3Bkb3duQWN0aXZlKTtcblx0XHRyZXR1cm4gJCRyZXN1bHQ7XG5cdH1cblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbXNnJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9ICQkcHJvcHMubXNnKTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdHRpbWVzdGFtcCxcblx0XHRuYXZpZ2F0ZSxcblx0XHRtc2csXG5cdFx0dHlwZSxcblx0XHRmZWVkLFxuXHRcdHNob3dSYXcsXG5cdFx0cmF3Q29udGVudCxcblx0XHRkcm9wZG93bkFjdGl2ZSxcblx0XHRwcml2YXRlTXNnRm9yWW91LFxuXHRcdHNlbGVjdGVkUmVuZGVyZXIsXG5cdFx0aW1hZ2UsXG5cdFx0bmFtZSxcblx0XHRibHVyZWQsXG5cdFx0dG9nZ2xlUmF3TWVzc2FnZSxcblx0XHRjb3B5UGVybWFsaW5rLFxuXHRcdGNvcHlIYXNoLFxuXHRcdGdvUHJvZmlsZSxcblx0XHRlbmNvZGVVUklDb21wb25lbnQsXG5cdFx0Y2xpY2tfaGFuZGxlcixcblx0XHRjbGlja19oYW5kbGVyXzFcblx0fTtcbn1cblxuY2xhc3MgTWVzc2FnZVJlbmRlcmVyIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUtMWpuMXdlay1zdHlsZVwiKSkgYWRkX2NzcygpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtcIm1zZ1wiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5tc2cgPT09IHVuZGVmaW5lZCAmJiAhKCdtc2cnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZV8xLndhcm4oXCI8TWVzc2FnZVJlbmRlcmVyPiB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGVjdGVkIHByb3AgJ21zZydcIik7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IG1zZygpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8TWVzc2FnZVJlbmRlcmVyPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBtc2codmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8TWVzc2FnZVJlbmRlcmVyPjogUHJvcHMgY2Fubm90IGJlIHNldCBkaXJlY3RseSBvbiB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1lc3NhZ2VSZW5kZXJlcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmJXVnpjMkZuWlZSNWNHVnpMMDFsYzNOaFoyVlNaVzVrWlhKbGNpNXpkbVZzZEdVaVhTd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdHVkV3hzWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRVzk1UWtFc2FVSkJRV3RDSW4wPSIsIi8qIFBvc3RNc2cuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRIdG1sVGFnLFxuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGdsb2JhbHMsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRwcmV2ZW50X2RlZmF1bHQsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzZXRfZGF0YSxcblx0c3BhY2UsXG5cdHRleHRcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCB7IGNvbnNvbGU6IGNvbnNvbGVfMSB9ID0gZ2xvYmFscztcblxuY29uc3QgZmlsZSA9IFwiUG9zdE1zZy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gYWRkX2NzcygpIHtcblx0dmFyIHN0eWxlID0gZWxlbWVudChcInN0eWxlXCIpO1xuXHRzdHlsZS5pZCA9ICdzdmVsdGUtMTBramNuai1zdHlsZSc7XG5cdHN0eWxlLnRleHRDb250ZW50ID0gXCIuY2FyZC1ib2R5LnN2ZWx0ZS0xMGtqY25qe292ZXJmbG93LXdyYXA6YnJlYWstd29yZH1cXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVVHOXpkRTF6Wnk1emRtVnNkR1VpTENKemIzVnlZMlZ6SWpwYklsQnZjM1JOYzJjdWMzWmxiSFJsSWwwc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklqeHpZM0pwY0hRK1hHNGdJR052Ym5OMElIc2dibUYyYVdkaGRHVWdmU0E5SUhKbGNYVnBjbVVvWENJdUxpOTFkR2xzY3k1cWMxd2lLVHRjYmlBZ1kyOXVjM1FnZXlCblpYUlFjbVZtSUgwZ1BTQnlaWEYxYVhKbEtGd2lMaTR2Y0hKbFpuTXVhbk5jSWlsY2JseHVJQ0JsZUhCdmNuUWdiR1YwSUcxelp6dGNiaUFnYkdWMElHTnZiblJsYm5SWFlYSnVhVzVuYzBWNGNHRnVaRUo1UkdWbVlYVnNkQ0E5SUdkbGRGQnlaV1lvWENKamIyNTBaVzUwTFhkaGNtNXBibWR6TFdWNGNHRnVaRndpTENCY0ltTnZiR3hoY0hObFpGd2lLVnh1SUNCc1pYUWdZMjl1ZEdWdWRDQTlJSE56WWk1dFlYSnJaRzkzYmlodGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1MFpYaDBLVHRjYmlBZ2JHVjBJR3hwYTJWa0lEMGdabUZzYzJVN1hHNGdJR3hsZENCb1lYTkRiMjUwWlc1MFYyRnlibWx1WnlBOUlHMXpaeTUyWVd4MVpTNWpiMjUwWlc1MExtTnZiblJsYm5SWFlYSnVhVzVuSUh4OElHWmhiSE5sTzF4dUlDQnNaWFFnYzJodmQwTnZiblJsYm5SWFlYSnVhVzVuSUQwZ1kyOXVkR1Z1ZEZkaGNtNXBibWR6Ulhod1lXNWtRbmxFWldaaGRXeDBJRDA5UFNCY0ltTnZiR3hoY0hObFpGd2lPMXh1WEc0Z0lITnpZaTUyYjNSbGN5aHRjMmN1YTJWNUtTNTBhR1Z1S0cxeklEMCtJSHRjYmlBZ0lDQnRjeTVtYjNKRllXTm9LRzBnUFQ0Z2UxeHVJQ0FnSUNBZ2JHVjBJR0YxZEdodmNpQTlJRzB1ZG1Gc2RXVXVZWFYwYUc5eU8xeHVJQ0FnSUNBZ2FXWWdLR0YxZEdodmNpQTlQVDBnYzNOaUxtWmxaV1FnSmlZZ2JTNTJZV3gxWlM1amIyNTBaVzUwTG5admRHVXVkbUZzZFdVZ1BUMDlJREVwSUh0Y2JpQWdJQ0FnSUNBZ2JHbHJaV1FnUFNCMGNuVmxPMXh1SUNBZ0lDQWdmVnh1SUNBZ0lIMHBPMXh1SUNCOUtUdGNibHh1SUNCamIyNXpkQ0JzYVd0bFEyaGhibWRsWkNBOUlHVjJJRDArSUh0Y2JpQWdJQ0JzWlhRZ2RpQTlJR1YyTG5SaGNtZGxkQzVqYUdWamEyVmtPMXh1SUNBZ0lHbG1JQ2gyS1NCN1hHNGdJQ0FnSUNCemMySmNiaUFnSUNBZ0lDQWdMbXhwYTJVb2JYTm5MbXRsZVNsY2JpQWdJQ0FnSUNBZ0xuUm9aVzRvS0NrZ1BUNGdZMjl1YzI5c1pTNXNiMmNvWENKc2FXdGxaRndpTENCdGMyY3VhMlY1S1NsY2JpQWdJQ0FnSUNBZ0xtTmhkR05vS0NncElEMCtJQ2hzYVd0bFpDQTlJR1poYkhObEtTazdYRzRnSUNBZ2ZTQmxiSE5sSUh0Y2JpQWdJQ0FnSUhOellseHVJQ0FnSUNBZ0lDQXVkVzVzYVd0bEtHMXpaeTVyWlhrcFhHNGdJQ0FnSUNBZ0lDNTBhR1Z1S0NncElEMCtJR052Ym5OdmJHVXViRzluS0Z3aWRXNXNhV3RsWkZ3aUxDQnRjMmN1YTJWNUtTbGNiaUFnSUNBZ0lDQWdMbU5oZEdOb0tDZ3BJRDArSUNoc2FXdGxaQ0E5SUhSeWRXVXBLVHRjYmlBZ0lDQjlYRzRnSUgwN1hHNWNiaUFnWTI5dWMzUWdjbVZ3YkhrZ1BTQmxkaUE5UGlCN1hHNGdJQ0FnYkdWMElISnZiM1FnUFNCdGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1eWIyOTBJSHg4SUcxelp5NXJaWGs3WEc0Z0lDQWdiR1YwSUdOb1lXNXVaV3dnUFNCdGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1amFHRnVibVZzTzF4dUlDQWdJR3hsZENCeVpYQnNlV1psWldRZ1BTQnRjMmN1ZG1Gc2RXVXVZWFYwYUc5eU8xeHVJQ0FnSUc1aGRtbG5ZWFJsS0Z3aUwyTnZiWEJ2YzJWY0lpd2dleUJ5YjI5MExDQmljbUZ1WTJnNklHMXpaeTVyWlhrc0lHTm9ZVzV1Wld3c0lISmxjR3g1Wm1WbFpDQjlLVHRjYmlBZ2ZUdGNibHh1SUNCamIyNXpkQ0JtYjNKcklEMGdaWFlnUFQ0Z2UxeHVJQ0FnSUd4bGRDQnZjbWxuYVc1aGJGSnZiM1FnUFNCdGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1eWIyOTBJSHg4SUcxelp5NXJaWGs3WEc0Z0lDQWdiR1YwSUdOb1lXNXVaV3dnUFNCdGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1amFHRnVibVZzTzF4dUlDQWdJR3hsZENCeVpYQnNlV1psWldRZ1BTQnRjMmN1ZG1Gc2RXVXVZWFYwYUc5eU8xeHVJQ0FnSUc1aGRtbG5ZWFJsS0Z3aUwyTnZiWEJ2YzJWY0lpd2dlMXh1SUNBZ0lDQWdjbTl2ZERvZ2JYTm5MbXRsZVN4Y2JpQWdJQ0FnSUdKeVlXNWphRG9nYlhObkxtdGxlU3hjYmlBZ0lDQWdJR1p2Y21zNklHOXlhV2RwYm1Gc1VtOXZkQ3hjYmlBZ0lDQWdJR05vWVc1dVpXd3NYRzRnSUNBZ0lDQnlaWEJzZVdabFpXUmNiaUFnSUNCOUtUdGNiaUFnZlR0Y2JseHVJQ0JqYjI1emRDQm5iMUp2YjNRZ1BTQmxkaUE5UGlCN1hHNGdJQ0FnYkdWMElISnZiM1JKWkNBOUlHMXpaeTUyWVd4MVpTNWpiMjUwWlc1MExuSnZiM1FnZkh3Z2JYTm5MbXRsZVR0Y2JpQWdJQ0J1WVhacFoyRjBaU2hjSWk5MGFISmxZV1JjSWl3Z2V5QjBhSEpsWVdRNklISnZiM1JKWkNCOUtUdGNiaUFnZlR0Y2JseHVJQ0JqYjI1emRDQm5iMEp5WVc1amFDQTlJR1YySUQwK0lIdGNiaUFnSUNCc1pYUWdZbkpoYm1Ob1NXUWdQU0J0YzJjdWRtRnNkV1V1WTI5dWRHVnVkQzVpY21GdVkyZ2dmSHdnYlhObkxtdGxlVHRjYmlBZ0lDQnVZWFpwWjJGMFpTaGNJaTkwYUhKbFlXUmNJaXdnZXlCMGFISmxZV1E2SUdKeVlXNWphRWxrSUgwcE8xeHVJQ0I5TzF4dVBDOXpZM0pwY0hRK1hHNWNianh6ZEhsc1pUNWNiaUFnWkdsMklHbHRaeTVwY3kxcGJXRm5aUzFtY205dExXSnNiMklnZTF4dUlDQWdJRzFoZUMxM2FXUjBhRG9nT1RBbE8xeHVJQ0I5WEc1Y2JpQWdMbU5oY21RdFltOWtlU0I3WEc0Z0lDQWdiM1psY21ac2IzY3RkM0poY0RvZ1luSmxZV3N0ZDI5eVpEdGNiaUFnZlZ4dVBDOXpkSGxzWlQ1Y2JseHVQR1JwZGlCamJHRnpjejFjSW1OaGNtUXRZbTlrZVZ3aVBseHVJQ0I3STJsbUlHaGhjME52Ym5SbGJuUlhZWEp1YVc1bklDWW1JSE5vYjNkRGIyNTBaVzUwVjJGeWJtbHVaMzFjYmlBZ0lDQThjRDU3YlhObkxuWmhiSFZsTG1OdmJuUmxiblF1WTI5dWRHVnVkRmRoY201cGJtZDlQQzl3UGx4dUlDQWdJRHhpZFhSMGIyNWNiaUFnSUNBZ0lHTnNZWE56UFZ3aVluUnVYQ0pjYmlBZ0lDQWdJRzl1T21Oc2FXTnJQWHNvS1NBOVBpQW9jMmh2ZDBOdmJuUmxiblJYWVhKdWFXNW5JRDBnSVhOb2IzZERiMjUwWlc1MFYyRnlibWx1WnlsOVBseHVJQ0FnSUNBZ1UyaHZkeUJOWlhOellXZGxYRzRnSUNBZ1BDOWlkWFIwYjI0K1hHNGdJSHM2Wld4elpYMWNiaUFnSUNCN0kybG1JR2hoYzBOdmJuUmxiblJYWVhKdWFXNW5mVnh1SUNBZ0lDQWdQR1JwZGlCamJHRnpjejFjSW5SdllYTjBJSFJ2WVhOMExYQnlhVzFoY25sY0lqNWNiaUFnSUNBZ0lDQWdQSEErWEc0Z0lDQWdJQ0FnSUNBZ1BHSStRMjl1ZEdWdWRDQlhZWEp1YVc1bk9qd3ZZajVjYmlBZ0lDQWdJQ0FnSUNCN2JYTm5MblpoYkhWbExtTnZiblJsYm5RdVkyOXVkR1Z1ZEZkaGNtNXBibWQ5WEc0Z0lDQWdJQ0FnSUNBZ1BHSjFkSFJ2Ymx4dUlDQWdJQ0FnSUNBZ0lDQWdZMnhoYzNNOVhDSmlkRzRnWW5SdUxYTnRJR1pzYjJGMExYSnBaMmgwWENKY2JpQWdJQ0FnSUNBZ0lDQWdJRzl1T21Oc2FXTnJQWHNvS1NBOVBpQW9jMmh2ZDBOdmJuUmxiblJYWVhKdWFXNW5JRDBnSVhOb2IzZERiMjUwWlc1MFYyRnlibWx1WnlsOVBseHVJQ0FnSUNBZ0lDQWdJQ0FnU0dsa1pTQk5aWE56WVdkbFhHNGdJQ0FnSUNBZ0lDQWdQQzlpZFhSMGIyNCtYRzRnSUNBZ0lDQWdJRHd2Y0Q1Y2JpQWdJQ0FnSUR3dlpHbDJQbHh1SUNBZ0lIc3ZhV1o5WEc0Z0lDQWdlMEJvZEcxc0lHTnZiblJsYm5SOVhHNGdJSHN2YVdaOVhHNDhMMlJwZGo1Y2JqeGthWFlnWTJ4aGMzTTlYQ0pqWVhKa0xXWnZiM1JsY2x3aVBseHVJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1Y3lCamIyd3RaMkZ3YkdWemMxd2lQbHh1SUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pqYjJ4MWJXNGdZMjlzTFRaY0lqNWNiaUFnSUNBZ0lEeHNZV0psYkNCamJHRnpjejFjSW1admNtMHRjM2RwZEdOb0lHUXRhVzVzYVc1bFhDSStYRzRnSUNBZ0lDQWdJRHhwYm5CMWRDQjBlWEJsUFZ3aVkyaGxZMnRpYjNoY0lpQnZianBqYUdGdVoyVTllMnhwYTJWRGFHRnVaMlZrZlNCamFHVmphMlZrUFh0c2FXdGxaSDBnTHo1Y2JpQWdJQ0FnSUNBZ1BHa2dZMnhoYzNNOVhDSm1iM0p0TFdsamIyNWNJaUF2UGx4dUlDQWdJQ0FnSUNCTWFXdGxYRzRnSUNBZ0lDQThMMnhoWW1Wc1BseHVJQ0FnSUNBZ2V5TnBaaUJ0YzJjdWRtRnNkV1V1WTI5dWRHVnVkQzV5YjI5MGZWeHVJQ0FnSUNBZ0lDQThjM0JoYmo1Y2JpQWdJQ0FnSUNBZ0lDQThZVnh1SUNBZ0lDQWdJQ0FnSUNBZ2FISmxaajFjSWo5MGFISmxZV1E5ZTJWdVkyOWtaVlZTU1VOdmJYQnZibVZ1ZENodGMyY3VkbUZzZFdVdVkyOXVkR1Z1ZEM1eWIyOTBLWDBqTDNSb2NtVmhaRndpWEc0Z0lDQWdJQ0FnSUNBZ0lDQnZianBqYkdsamEzeHdjbVYyWlc1MFJHVm1ZWFZzZEQxN1oyOVNiMjkwZlQ1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ2h5YjI5MEtWeHVJQ0FnSUNBZ0lDQWdJRHd2WVQ1Y2JpQWdJQ0FnSUNBZ1BDOXpjR0Z1UGx4dUlDQWdJQ0FnZXk5cFpuMWNiaUFnSUNBZ0lIc2phV1lnYlhObkxuWmhiSFZsTG1OdmJuUmxiblF1WW5KaGJtTm9mVnh1SUNBZ0lDQWdJQ0E4YzNCaGJqNWNiaUFnSUNBZ0lDQWdJQ0E4WVZ4dUlDQWdJQ0FnSUNBZ0lDQWdhSEpsWmoxY0lqOTBhSEpsWVdROWUyVnVZMjlrWlZWU1NVTnZiWEJ2Ym1WdWRDaHRjMmN1ZG1Gc2RXVXVZMjl1ZEdWdWRDNWljbUZ1WTJncGZTTXZkR2h5WldGa1hDSmNiaUFnSUNBZ0lDQWdJQ0FnSUc5dU9tTnNhV05yZkhCeVpYWmxiblJFWldaaGRXeDBQWHRuYjBKeVlXNWphSDArWEc0Z0lDQWdJQ0FnSUNBZ0lDQW9hVzRnY21Wd2JIa2dkRzhwWEc0Z0lDQWdJQ0FnSUNBZ1BDOWhQbHh1SUNBZ0lDQWdJQ0E4TDNOd1lXNCtYRzRnSUNBZ0lDQjdMMmxtZlZ4dUlDQWdJRHd2WkdsMlBseHVYRzRnSUNBZ2V5TnBaaUFoYlhObkxuWmhiSFZsTG5CeWFYWmhkR1Y5WEc0Z0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1SUdOdmJDMDJJSFJsZUhRdGNtbG5hSFJjSWo1Y2JpQWdJQ0FnSUNBZ1BHSjFkSFJ2YmlCamJHRnpjejFjSW1KMGJsd2lJRzl1T21Oc2FXTnJQWHRtYjNKcmZUNUdiM0pyUEM5aWRYUjBiMjQrWEc1Y2JpQWdJQ0FnSUNBZ1BHSjFkSFJ2YmlCamJHRnpjejFjSW1KMGJsd2lJRzl1T21Oc2FXTnJQWHR5WlhCc2VYMCtVbVZ3YkhrOEwySjFkSFJ2Ymo1Y2JpQWdJQ0FnSUR3dlpHbDJQbHh1SUNBZ0lIc3ZhV1o5WEc0Z0lEd3ZaR2wyUGx4dVhHNDhMMlJwZGo1Y2JpSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRjFSVVVzVlVGQlZTeGxRVUZETEVOQlFVTXNRVUZEVml4aFFVRmhMRU5CUVVVc1ZVRkJWU3hCUVVNelFpeERRVUZESW4wPSAqL1wiO1xuXHRhcHBlbmQoZG9jdW1lbnQuaGVhZCwgc3R5bGUpO1xufVxuXG4vLyAoODU6MikgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KSB7XG5cdHZhciB0LCBodG1sX3RhZztcblxuXHR2YXIgaWZfYmxvY2sgPSAoY3R4Lmhhc0NvbnRlbnRXYXJuaW5nKSAmJiBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5jKCk7XG5cdFx0XHR0ID0gc3BhY2UoKTtcblx0XHRcdGh0bWxfdGFnID0gbmV3IEh0bWxUYWcoY3R4LmNvbnRlbnQsIG51bGwpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQsIGFuY2hvcik7XG5cdFx0XHRodG1sX3RhZy5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGN0eC5oYXNDb250ZW50V2FybmluZykge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKHQucGFyZW50Tm9kZSwgdCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5kKGRldGFjaGluZyk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQpO1xuXHRcdFx0XHRodG1sX3RhZy5kKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNzg6MikgeyNpZiBoYXNDb250ZW50V2FybmluZyAmJiBzaG93Q29udGVudFdhcm5pbmd9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpIHtcblx0dmFyIHAsIHQwX3ZhbHVlID0gY3R4Lm1zZy52YWx1ZS5jb250ZW50LmNvbnRlbnRXYXJuaW5nLCB0MCwgdDEsIGJ1dHRvbiwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdHAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdHQwID0gdGV4dCh0MF92YWx1ZSk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRidXR0b24gPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gXCJTaG93IE1lc3NhZ2VcIjtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCA3OCwgNCwgMTk5Nik7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcImJ0blwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihidXR0b24sIGZpbGUsIDc5LCA0LCAyMDQyKTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIGN0eC5jbGlja19oYW5kbGVyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocCwgdDApO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIHQwX3ZhbHVlICE9PSAodDBfdmFsdWUgPSBjdHgubXNnLnZhbHVlLmNvbnRlbnQuY29udGVudFdhcm5pbmcpKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQwLCB0MF92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdFx0ZGV0YWNoKHQxKTtcblx0XHRcdFx0ZGV0YWNoKGJ1dHRvbik7XG5cdFx0XHR9XG5cblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg4Njo0KSB7I2lmIGhhc0NvbnRlbnRXYXJuaW5nfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KSB7XG5cdHZhciBkaXYsIHAsIGIsIHQxLCB0Ml92YWx1ZSA9IGN0eC5tc2cudmFsdWUuY29udGVudC5jb250ZW50V2FybmluZywgdDIsIHQzLCBidXR0b24sIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0cCA9IGVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0YiA9IGVsZW1lbnQoXCJiXCIpO1xuXHRcdFx0Yi50ZXh0Q29udGVudCA9IFwiQ29udGVudCBXYXJuaW5nOlwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0dDIgPSB0ZXh0KHQyX3ZhbHVlKTtcblx0XHRcdHQzID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24udGV4dENvbnRlbnQgPSBcIkhpZGUgTWVzc2FnZVwiO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGIsIGZpbGUsIDg4LCAxMCwgMjI2OCk7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcImJ0biBidG4tc20gZmxvYXQtcmlnaHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uLCBmaWxlLCA5MCwgMTAsIDIzNDcpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDg3LCA4LCAyMjU0KTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwidG9hc3QgdG9hc3QtcHJpbWFyeVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDg2LCA2LCAyMjEyKTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIGN0eC5jbGlja19oYW5kbGVyXzEpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgcCk7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHRcdGFwcGVuZChwLCB0Myk7XG5cdFx0XHRhcHBlbmQocCwgYnV0dG9uKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLm1zZykgJiYgdDJfdmFsdWUgIT09ICh0Ml92YWx1ZSA9IGN0eC5tc2cudmFsdWUuY29udGVudC5jb250ZW50V2FybmluZykpIHtcblx0XHRcdFx0c2V0X2RhdGEodDIsIHQyX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgxMTA6NikgeyNpZiBtc2cudmFsdWUuY29udGVudC5yb290fVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KSB7XG5cdHZhciBzcGFuLCBhLCB0LCBhX2hyZWZfdmFsdWUsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0ID0gdGV4dChcIihyb290KVwiKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLnZhbHVlLmNvbnRlbnQucm9vdCkgKyBcIiMvdGhyZWFkXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEsIGZpbGUsIDExMSwgMTAsIDI5MTcpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4sIGZpbGUsIDExMCwgOCwgMjkwMCk7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKGEsIFwiY2xpY2tcIiwgcHJldmVudF9kZWZhdWx0KGN0eC5nb1Jvb3QpKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNwYW4sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLnZhbHVlLmNvbnRlbnQucm9vdCkgKyBcIiMvdGhyZWFkXCIpKSB7XG5cdFx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChzcGFuKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDExOTo2KSB7I2lmIG1zZy52YWx1ZS5jb250ZW50LmJyYW5jaH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCkge1xuXHR2YXIgc3BhbiwgYSwgdCwgYV9ocmVmX3ZhbHVlLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dCA9IHRleHQoXCIoaW4gcmVwbHkgdG8pXCIpO1xuXHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlID0gXCI/dGhyZWFkPVwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGN0eC5tc2cudmFsdWUuY29udGVudC5icmFuY2gpICsgXCIjL3RocmVhZFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCAxMjAsIDEwLCAzMTcwKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzcGFuLCBmaWxlLCAxMTksIDgsIDMxNTMpO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihhLCBcImNsaWNrXCIsIHByZXZlbnRfZGVmYXVsdChjdHguZ29CcmFuY2gpKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHNwYW4sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNoKSArIFwiIy90aHJlYWRcIikpIHtcblx0XHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHNwYW4pO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTMwOjQpIHsjaWYgIW1zZy52YWx1ZS5wcml2YXRlfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrKGN0eCkge1xuXHR2YXIgZGl2LCBidXR0b24wLCB0XzEsIGJ1dHRvbjEsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YnV0dG9uMCA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24wLnRleHRDb250ZW50ID0gXCJGb3JrXCI7XG5cdFx0XHR0XzEgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uMSA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24xLnRleHRDb250ZW50ID0gXCJSZXBseVwiO1xuXHRcdFx0YXR0cihidXR0b24wLCBcImNsYXNzXCIsIFwiYnRuXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjAsIGZpbGUsIDEzMSwgOCwgMzQ2NSk7XG5cdFx0XHRhdHRyKGJ1dHRvbjEsIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uMSwgZmlsZSwgMTMzLCA4LCAzNTI0KTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiY29sdW1uIGNvbC02IHRleHQtcmlnaHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAxMzAsIDYsIDM0MTkpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uMCwgXCJjbGlja1wiLCBjdHguZm9yayksXG5cdFx0XHRcdGxpc3RlbihidXR0b24xLCBcImNsaWNrXCIsIGN0eC5yZXBseSlcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBidXR0b24wKTtcblx0XHRcdGFwcGVuZChkaXYsIHRfMSk7XG5cdFx0XHRhcHBlbmQoZGl2LCBidXR0b24xKTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBkaXYwLCB0MCwgZGl2MywgZGl2MiwgZGl2MSwgbGFiZWwsIGlucHV0LCB0MSwgaSwgdDIsIHQzLCB0NCwgdDUsIGRpc3Bvc2U7XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSB7XG5cdFx0aWYgKGN0eC5oYXNDb250ZW50V2FybmluZyAmJiBjdHguc2hvd0NvbnRlbnRXYXJuaW5nKSByZXR1cm4gY3JlYXRlX2lmX2Jsb2NrXzM7XG5cdFx0cmV0dXJuIGNyZWF0ZV9lbHNlX2Jsb2NrO1xuXHR9XG5cblx0dmFyIGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCk7XG5cdHZhciBpZl9ibG9jazAgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2sxID0gKGN0eC5tc2cudmFsdWUuY29udGVudC5yb290KSAmJiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpO1xuXG5cdHZhciBpZl9ibG9jazIgPSAoY3R4Lm1zZy52YWx1ZS5jb250ZW50LmJyYW5jaCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2szID0gKCFjdHgubXNnLnZhbHVlLnByaXZhdGUpICYmIGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MyA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYyID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0bGFiZWwgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGkgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQyID0gdGV4dChcIlxcbiAgICAgICAgTGlrZVwiKTtcblx0XHRcdHQzID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHR0NCA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuYygpO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMykgaWZfYmxvY2szLmMoKTtcblx0XHRcdGF0dHIoZGl2MCwgXCJjbGFzc1wiLCBcImNhcmQtYm9keSBzdmVsdGUtMTBramNualwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYwLCBmaWxlLCA3NiwgMCwgMTkyMCk7XG5cdFx0XHRhdHRyKGlucHV0LCBcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRcdGlucHV0LmNoZWNrZWQgPSBjdHgubGlrZWQ7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQsIGZpbGUsIDEwNSwgOCwgMjczMSk7XG5cdFx0XHRhdHRyKGksIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaSwgZmlsZSwgMTA2LCA4LCAyODA1KTtcblx0XHRcdGF0dHIobGFiZWwsIFwiY2xhc3NcIiwgXCJmb3JtLXN3aXRjaCBkLWlubGluZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbCwgZmlsZSwgMTA0LCA2LCAyNjg2KTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtNlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCAxMDMsIDQsIDI2NTMpO1xuXHRcdFx0YXR0cihkaXYyLCBcImNsYXNzXCIsIFwiY29sdW1ucyBjb2wtZ2FwbGVzc1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYyLCBmaWxlLCAxMDIsIDIsIDI2MTUpO1xuXHRcdFx0YXR0cihkaXYzLCBcImNsYXNzXCIsIFwiY2FyZC1mb290ZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MywgZmlsZSwgMTAxLCAwLCAyNTg3KTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oaW5wdXQsIFwiY2hhbmdlXCIsIGN0eC5saWtlQ2hhbmdlZCk7XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2MCwgYW5jaG9yKTtcblx0XHRcdGlmX2Jsb2NrMC5tKGRpdjAsIG51bGwpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDAsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYzLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGRpdjIpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGxhYmVsKTtcblx0XHRcdGFwcGVuZChsYWJlbCwgaW5wdXQpO1xuXHRcdFx0YXBwZW5kKGxhYmVsLCB0MSk7XG5cdFx0XHRhcHBlbmQobGFiZWwsIGkpO1xuXHRcdFx0YXBwZW5kKGxhYmVsLCB0Mik7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDMpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLm0oZGl2MSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDQpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLm0oZGl2MSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgdDUpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMykgaWZfYmxvY2szLm0oZGl2MiwgbnVsbCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGUgPT09IChjdXJyZW50X2Jsb2NrX3R5cGUgPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpKSAmJiBpZl9ibG9jazApIHtcblx0XHRcdFx0aWZfYmxvY2swLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmX2Jsb2NrMC5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazAgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLm0oZGl2MCwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQubGlrZWQpIHtcblx0XHRcdFx0aW5wdXQuY2hlY2tlZCA9IGN0eC5saWtlZDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5tc2cudmFsdWUuY29udGVudC5yb290KSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9ja18yKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazEubShkaXYxLCB0NCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4Lm1zZy52YWx1ZS5jb250ZW50LmJyYW5jaCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazIgPSBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLm0oZGl2MSwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMi5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazIgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWN0eC5tc2cudmFsdWUucHJpdmF0ZSkge1xuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrMykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMyA9IGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2szLm0oZGl2MiwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2szKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMy5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazMgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2MCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmX2Jsb2NrMC5kKCk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQwKTtcblx0XHRcdFx0ZGV0YWNoKGRpdjMpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5kKCk7XG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRjb25zdCB7IG5hdmlnYXRlIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMuanNcIik7XG4gIGNvbnN0IHsgZ2V0UHJlZiB9ID0gcmVxdWlyZShcIi4uL3ByZWZzLmpzXCIpXG5cbiAgbGV0IHsgbXNnIH0gPSAkJHByb3BzO1xuICBsZXQgY29udGVudFdhcm5pbmdzRXhwYW5kQnlEZWZhdWx0ID0gZ2V0UHJlZihcImNvbnRlbnQtd2FybmluZ3MtZXhwYW5kXCIsIFwiY29sbGFwc2VkXCIpXG4gIGxldCBjb250ZW50ID0gc3NiLm1hcmtkb3duKG1zZy52YWx1ZS5jb250ZW50LnRleHQpO1xuICBsZXQgbGlrZWQgPSBmYWxzZTtcbiAgbGV0IGhhc0NvbnRlbnRXYXJuaW5nID0gbXNnLnZhbHVlLmNvbnRlbnQuY29udGVudFdhcm5pbmcgfHwgZmFsc2U7XG4gIGxldCBzaG93Q29udGVudFdhcm5pbmcgPSBjb250ZW50V2FybmluZ3NFeHBhbmRCeURlZmF1bHQgPT09IFwiY29sbGFwc2VkXCI7XG5cbiAgc3NiLnZvdGVzKG1zZy5rZXkpLnRoZW4obXMgPT4ge1xuICAgIG1zLmZvckVhY2gobSA9PiB7XG4gICAgICBsZXQgYXV0aG9yID0gbS52YWx1ZS5hdXRob3I7XG4gICAgICBpZiAoYXV0aG9yID09PSBzc2IuZmVlZCAmJiBtLnZhbHVlLmNvbnRlbnQudm90ZS52YWx1ZSA9PT0gMSkge1xuICAgICAgICAkJGludmFsaWRhdGUoJ2xpa2VkJywgbGlrZWQgPSB0cnVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgY29uc3QgbGlrZUNoYW5nZWQgPSBldiA9PiB7XG4gICAgbGV0IHYgPSBldi50YXJnZXQuY2hlY2tlZDtcbiAgICBpZiAodikge1xuICAgICAgc3NiXG4gICAgICAgIC5saWtlKG1zZy5rZXkpXG4gICAgICAgIC50aGVuKCgpID0+IGNvbnNvbGUubG9nKFwibGlrZWRcIiwgbXNnLmtleSkpXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKGxpa2VkID0gZmFsc2UpOyAkJGludmFsaWRhdGUoJ2xpa2VkJywgbGlrZWQpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzc2JcbiAgICAgICAgLnVubGlrZShtc2cua2V5KVxuICAgICAgICAudGhlbigoKSA9PiBjb25zb2xlLmxvZyhcInVubGlrZWRcIiwgbXNnLmtleSkpXG4gICAgICAgIC5jYXRjaCgoKSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKGxpa2VkID0gdHJ1ZSk7ICQkaW52YWxpZGF0ZSgnbGlrZWQnLCBsaWtlZCk7IHJldHVybiAkJHJlc3VsdDsgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHJlcGx5ID0gZXYgPT4ge1xuICAgIGxldCByb290ID0gbXNnLnZhbHVlLmNvbnRlbnQucm9vdCB8fCBtc2cua2V5O1xuICAgIGxldCBjaGFubmVsID0gbXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbDtcbiAgICBsZXQgcmVwbHlmZWVkID0gbXNnLnZhbHVlLmF1dGhvcjtcbiAgICBuYXZpZ2F0ZShcIi9jb21wb3NlXCIsIHsgcm9vdCwgYnJhbmNoOiBtc2cua2V5LCBjaGFubmVsLCByZXBseWZlZWQgfSk7XG4gIH07XG5cbiAgY29uc3QgZm9yayA9IGV2ID0+IHtcbiAgICBsZXQgb3JpZ2luYWxSb290ID0gbXNnLnZhbHVlLmNvbnRlbnQucm9vdCB8fCBtc2cua2V5O1xuICAgIGxldCBjaGFubmVsID0gbXNnLnZhbHVlLmNvbnRlbnQuY2hhbm5lbDtcbiAgICBsZXQgcmVwbHlmZWVkID0gbXNnLnZhbHVlLmF1dGhvcjtcbiAgICBuYXZpZ2F0ZShcIi9jb21wb3NlXCIsIHtcbiAgICAgIHJvb3Q6IG1zZy5rZXksXG4gICAgICBicmFuY2g6IG1zZy5rZXksXG4gICAgICBmb3JrOiBvcmlnaW5hbFJvb3QsXG4gICAgICBjaGFubmVsLFxuICAgICAgcmVwbHlmZWVkXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ29Sb290ID0gZXYgPT4ge1xuICAgIGxldCByb290SWQgPSBtc2cudmFsdWUuY29udGVudC5yb290IHx8IG1zZy5rZXk7XG4gICAgbmF2aWdhdGUoXCIvdGhyZWFkXCIsIHsgdGhyZWFkOiByb290SWQgfSk7XG4gIH07XG5cbiAgY29uc3QgZ29CcmFuY2ggPSBldiA9PiB7XG4gICAgbGV0IGJyYW5jaElkID0gbXNnLnZhbHVlLmNvbnRlbnQuYnJhbmNoIHx8IG1zZy5rZXk7XG4gICAgbmF2aWdhdGUoXCIvdGhyZWFkXCIsIHsgdGhyZWFkOiBicmFuY2hJZCB9KTtcbiAgfTtcblxuXHRjb25zdCB3cml0YWJsZV9wcm9wcyA9IFsnbXNnJ107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlXzEud2FybihgPFBvc3RNc2c+IHdhcyBjcmVhdGVkIHdpdGggdW5rbm93biBwcm9wICcke2tleX0nYCk7XG5cdH0pO1xuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXIoKSB7XG5cdFx0Y29uc3QgJCRyZXN1bHQgPSAoc2hvd0NvbnRlbnRXYXJuaW5nID0gIXNob3dDb250ZW50V2FybmluZyk7XG5cdFx0JCRpbnZhbGlkYXRlKCdzaG93Q29udGVudFdhcm5pbmcnLCBzaG93Q29udGVudFdhcm5pbmcpO1xuXHRcdHJldHVybiAkJHJlc3VsdDtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXJfMSgpIHtcblx0XHRjb25zdCAkJHJlc3VsdCA9IChzaG93Q29udGVudFdhcm5pbmcgPSAhc2hvd0NvbnRlbnRXYXJuaW5nKTtcblx0XHQkJGludmFsaWRhdGUoJ3Nob3dDb250ZW50V2FybmluZycsIHNob3dDb250ZW50V2FybmluZyk7XG5cdFx0cmV0dXJuICQkcmVzdWx0O1xuXHR9XG5cblx0JCRzZWxmLiRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ21zZycgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSAkJHByb3BzLm1zZyk7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRtc2csXG5cdFx0Y29udGVudCxcblx0XHRsaWtlZCxcblx0XHRoYXNDb250ZW50V2FybmluZyxcblx0XHRzaG93Q29udGVudFdhcm5pbmcsXG5cdFx0bGlrZUNoYW5nZWQsXG5cdFx0cmVwbHksXG5cdFx0Zm9yayxcblx0XHRnb1Jvb3QsXG5cdFx0Z29CcmFuY2gsXG5cdFx0Y2xpY2tfaGFuZGxlcixcblx0XHRjbGlja19oYW5kbGVyXzFcblx0fTtcbn1cblxuY2xhc3MgUG9zdE1zZyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZlbHRlLTEwa2pjbmotc3R5bGVcIikpIGFkZF9jc3MoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXCJtc2dcIl0pO1xuXG5cdFx0Y29uc3QgeyBjdHggfSA9IHRoaXMuJCQ7XG5cdFx0Y29uc3QgcHJvcHMgPSBvcHRpb25zLnByb3BzIHx8IHt9O1xuXHRcdGlmIChjdHgubXNnID09PSB1bmRlZmluZWQgJiYgISgnbXNnJyBpbiBwcm9wcykpIHtcblx0XHRcdGNvbnNvbGVfMS53YXJuKFwiPFBvc3RNc2c+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAnbXNnJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgbXNnKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxQb3N0TXNnPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBtc2codmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UG9zdE1zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQb3N0TXNnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2YldWemMyRm5aVlI1Y0dWekwxQnZjM1JOYzJjdWMzWmxiSFJsSWwwc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYmJuVnNiRjBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVGMWFrSkJMR2xDUVVGclFpSjkiLCIvKiBQcml2YXRlTXNnLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdG5vb3AsXG5cdHNhZmVfbm90X2VxdWFsXG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiUHJpdmF0ZU1zZy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgZGl2LCBwO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdHAudGV4dENvbnRlbnQgPSBcIvCflJIgUFJJVkFURVwiO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDUsIDAsIDY3KTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiY2FyZC1ib2R5XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNCwgMCwgNDIpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHApO1xuXHRcdH0sXG5cblx0XHRwOiBub29wLFxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0IHsgbXNnIH0gPSAkJHByb3BzO1xuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydtc2cnXTtcblx0T2JqZWN0LmtleXMoJCRwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGlmICghd3JpdGFibGVfcHJvcHMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJyQkJykpIGNvbnNvbGUud2FybihgPFByaXZhdGVNc2c+IHdhcyBjcmVhdGVkIHdpdGggdW5rbm93biBwcm9wICcke2tleX0nYCk7XG5cdH0pO1xuXG5cdCQkc2VsZi4kc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdtc2cnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gJCRwcm9wcy5tc2cpO1xuXHR9O1xuXG5cdHJldHVybiB7IG1zZyB9O1xufVxuXG5jbGFzcyBQcml2YXRlTXNnIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtcIm1zZ1wiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5tc2cgPT09IHVuZGVmaW5lZCAmJiAhKCdtc2cnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiPFByaXZhdGVNc2c+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAnbXNnJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgbXNnKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxQcml2YXRlTXNnPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBtc2codmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UHJpdmF0ZU1zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcml2YXRlTXNnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2YldWemMyRm5aVlI1Y0dWekwxQnlhWFpoZEdWTmMyY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3TzBGQmQwWkJMR2xDUVVGclFpSjkiLCIvKiBQdWJNc2cuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHRleHRcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJQdWJNc2cuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgdDAsIHQxLCBhLCB0MiwgdDMsIHQ0LCBhX2hyZWZfdmFsdWUsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KGN0eC5wZXJzb24pO1xuXHRcdFx0dDEgPSB0ZXh0KFwiIGFubm91bmNlZCBwdWJcXHJcXG4gIFwiKTtcblx0XHRcdGEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQyID0gdGV4dChjdHguaG9zdCk7XG5cdFx0XHR0MyA9IHRleHQoXCI6XCIpO1xuXHRcdFx0dDQgPSB0ZXh0KGN0eC5wb3J0KTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiL2luZGV4Lmh0bWw/ZmVlZD1cIiArIGN0eC5lbmNvZGVkaWQgKyBcIiMvcHJvZmlsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCAyMiwgMiwgNTc0KTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiY2FyZC1ib2R5XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMjAsIDAsIDUyMCk7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKGEsIFwiY2xpY2tcIiwgY3R4LmdvUHJvZmlsZSk7XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdDIpO1xuXHRcdFx0YXBwZW5kKGEsIHQzKTtcblx0XHRcdGFwcGVuZChhLCB0NCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLnBlcnNvbikge1xuXHRcdFx0XHRzZXRfZGF0YSh0MCwgY3R4LnBlcnNvbik7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRjb25zdCB7IG5hdmlnYXRlIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMuanNcIik7XHJcblxyXG4gIGxldCB7IG1zZyB9ID0gJCRwcm9wcztcclxuXHJcbiAgbGV0IGVuY29kZWRpZCA9IGVuY29kZVVSSUNvbXBvbmVudChtc2cudmFsdWUuY29udGVudC5hZGRyZXNzLmtleSk7XHJcbiAgbGV0IHBlcnNvbiA9IG1zZy52YWx1ZS5hdXRob3I7XHJcbiAgbGV0IGhvc3QgPSBtc2cudmFsdWUuY29udGVudC5hZGRyZXNzLmhvc3RcclxuICBsZXQgcG9ydCA9IG1zZy52YWx1ZS5jb250ZW50LmFkZHJlc3MucG9ydFxyXG5cclxuICBzc2IuYXZhdGFyKG1zZy52YWx1ZS5hdXRob3IpLnRoZW4oZGF0YSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKHBlcnNvbiA9IGRhdGEubmFtZSk7ICQkaW52YWxpZGF0ZSgncGVyc29uJywgcGVyc29uKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuXHJcbiAgXHJcbiAgY29uc3QgZ29Qcm9maWxlID0gZXYgPT4ge1xyXG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgbmF2aWdhdGUoXCIvcHJvZmlsZVwiLCB7IGZlZWQ6IG1zZy52YWx1ZS5jb250ZW50LmFkZHJlc3Mua2V5IH0pO1xyXG4gIH07XG5cblx0Y29uc3Qgd3JpdGFibGVfcHJvcHMgPSBbJ21zZyddO1xuXHRPYmplY3Qua2V5cygkJHByb3BzKS5mb3JFYWNoKGtleSA9PiB7XG5cdFx0aWYgKCF3cml0YWJsZV9wcm9wcy5pbmNsdWRlcyhrZXkpICYmICFrZXkuc3RhcnRzV2l0aCgnJCQnKSkgY29uc29sZS53YXJuKGA8UHViTXNnPiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnbXNnJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9ICQkcHJvcHMubXNnKTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdG1zZyxcblx0XHRlbmNvZGVkaWQsXG5cdFx0cGVyc29uLFxuXHRcdGhvc3QsXG5cdFx0cG9ydCxcblx0XHRnb1Byb2ZpbGVcblx0fTtcbn1cblxuY2xhc3MgUHViTXNnIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtcIm1zZ1wiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5tc2cgPT09IHVuZGVmaW5lZCAmJiAhKCdtc2cnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiPFB1Yk1zZz4gd2FzIGNyZWF0ZWQgd2l0aG91dCBleHBlY3RlZCBwcm9wICdtc2cnXCIpO1xuXHRcdH1cblx0fVxuXG5cdGdldCBtc2coKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFB1Yk1zZz46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgbXNnKHZhbHVlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFB1Yk1zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQdWJNc2c7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZiV1Z6YzJGblpWUjVjR1Z6TDFCMVlrMXpaeTV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHR1ZFd4c1hTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRTdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3p0QlFXOUpRU3hwUWtGQmEwSWlmUT09IiwiLyogVm90ZU1zZy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRsaXN0ZW4sXG5cdG5vb3AsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzZXRfZGF0YSxcblx0c3BhY2UsXG5cdHRleHRcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJWb3RlTXNnLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBkaXYsIHQwLCB0MSwgdDIsIHQzLCBhLCB0NCwgYV9ocmVmX3ZhbHVlLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHQwID0gdGV4dChjdHgucGVyc29uKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdHQyID0gdGV4dChjdHguZXhwcmVzc2lvbik7XG5cdFx0XHR0MyA9IHNwYWNlKCk7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0NCA9IHRleHQoY3R4LmxhYmVsKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSA9IFwiL2luZGV4Lmh0bWw/dGhyZWFkPVwiICsgY3R4LmVuY29kZWRpZCArIFwiIy90aHJlYWRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgMjksIDIsIDc1Mik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNhcmQtYm9keVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDI3LCAwLCA2OTkpO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihhLCBcImNsaWNrXCIsIGN0eC5nb1RocmVhZCk7XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDIpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDMpO1xuXHRcdFx0YXBwZW5kKGRpdiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdDQpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5wZXJzb24pIHtcblx0XHRcdFx0c2V0X2RhdGEodDAsIGN0eC5wZXJzb24pO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5sYWJlbCkge1xuXHRcdFx0XHRzZXRfZGF0YSh0NCwgY3R4LmxhYmVsKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGNvbnN0IHsgbmF2aWdhdGUgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTtcclxuICBsZXQgeyBtc2cgfSA9ICQkcHJvcHM7XHJcblxyXG4gIGxldCBleHByZXNzaW9uID0gbXNnLnZhbHVlLmNvbnRlbnQudm90ZS5leHByZXNzaW9uIHx8IFwibGlrZWRcIjtcclxuICBsZXQgbXNnaWQgPSBtc2cudmFsdWUuY29udGVudC52b3RlLmxpbms7XHJcbiAgbGV0IGVuY29kZWRpZCA9IGVuY29kZVVSSUNvbXBvbmVudChtc2dpZCk7XHJcbiAgbGV0IGxhYmVsID0gbXNnaWQ7XHJcbiAgbGV0IHBlcnNvbiA9IG1zZy52YWx1ZS5hdXRob3I7XHJcblxyXG4gIHNzYi5ibHVyYkZyb21Nc2cobXNnaWQsIDEwMCkudGhlbihibHVyYiA9PiB7XHJcbiAgICAkJGludmFsaWRhdGUoJ2xhYmVsJywgbGFiZWwgPSBibHVyYik7XHJcbiAgfSk7XHJcblxyXG4gIHNzYi5hdmF0YXIobXNnLnZhbHVlLmF1dGhvcikudGhlbihkYXRhID0+IHsgY29uc3QgJCRyZXN1bHQgPSAocGVyc29uID0gZGF0YS5uYW1lKTsgJCRpbnZhbGlkYXRlKCdwZXJzb24nLCBwZXJzb24pOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG5cclxuICBjb25zdCBnb1RocmVhZCA9IGV2ID0+IHtcclxuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgZXYucHJldmVudERlZmF1bHQoKTtcclxuICAgIGlmIChldi5jdHJsS2V5KSB7XHJcbiAgICAgIHdpbmRvdy5vcGVuKGA/dGhyZWFkPSR7ZW5jb2RlVVJJQ29tcG9uZW50KG1zZ2lkKX0jL3RocmVhZGApO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbmF2aWdhdGUoXCIvdGhyZWFkXCIsIHsgdGhyZWFkOiBtc2dpZCB9KTtcclxuICAgIH1cclxuICB9O1xuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydtc2cnXTtcblx0T2JqZWN0LmtleXMoJCRwcm9wcykuZm9yRWFjaChrZXkgPT4ge1xuXHRcdGlmICghd3JpdGFibGVfcHJvcHMuaW5jbHVkZXMoa2V5KSAmJiAha2V5LnN0YXJ0c1dpdGgoJyQkJykpIGNvbnNvbGUud2FybihgPFZvdGVNc2c+IHdhcyBjcmVhdGVkIHdpdGggdW5rbm93biBwcm9wICcke2tleX0nYCk7XG5cdH0pO1xuXG5cdCQkc2VsZi4kc2V0ID0gJCRwcm9wcyA9PiB7XG5cdFx0aWYgKCdtc2cnIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gJCRwcm9wcy5tc2cpO1xuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0bXNnLFxuXHRcdGV4cHJlc3Npb24sXG5cdFx0ZW5jb2RlZGlkLFxuXHRcdGxhYmVsLFxuXHRcdHBlcnNvbixcblx0XHRnb1RocmVhZFxuXHR9O1xufVxuXG5jbGFzcyBWb3RlTXNnIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtcIm1zZ1wiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5tc2cgPT09IHVuZGVmaW5lZCAmJiAhKCdtc2cnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiPFZvdGVNc2c+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAnbXNnJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgbXNnKCkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxWb3RlTXNnPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBtc2codmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8Vm90ZU1zZz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBWb3RlTXNnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2YldWemMyRm5aVlI1Y0dWekwxWnZkR1ZOYzJjdWMzWmxiSFJsSWwwc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYmJuVnNiRjBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVGblNrRXNhVUpCUVd0Q0luMD0iLCIvKiBBdmF0YXJDaGlwLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRlbXB0eSxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRsaXN0ZW4sXG5cdG5vb3AsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzZXRfZGF0YSxcblx0c3BhY2UsXG5cdHRleHRcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJBdmF0YXJDaGlwLnN2ZWx0ZVwiO1xuXG4vLyAoMjk6MCkgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KSB7XG5cdHZhciBzcGFuLCB0LCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dCA9IHRleHQoY3R4Lm5hbWUpO1xuXHRcdFx0YXR0cihzcGFuLCBcImNsYXNzXCIsIFwiY2hpcFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzcGFuLCBmaWxlLCAyOSwgMiwgNjAwKTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oc3BhbiwgXCJjbGlja1wiLCBjdHguYXZhdGFyQ2xpY2spO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgc3BhbiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0KTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQubmFtZSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0LCBjdHgubmFtZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChzcGFuKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDI0OjApIHsjaWYgaW1hZ2V9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBkaXYsIGltZywgdDAsIHQxLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGltZyA9IGVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHR0MSA9IHRleHQoY3R4Lm5hbWUpO1xuXHRcdFx0YXR0cihpbWcsIFwic3JjXCIsIGN0eC5pbWFnZSk7XG5cdFx0XHRhdHRyKGltZywgXCJjbGFzc1wiLCBcImF2YXRhciBhdmF0YXItc21cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW1nLCBmaWxlLCAyNSwgNCwgNTIwKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiY2hpcFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDI0LCAyLCA0NzMpO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihkaXYsIFwiY2xpY2tcIiwgY3R4LmF2YXRhckNsaWNrKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIGltZyk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLmltYWdlKSB7XG5cdFx0XHRcdGF0dHIoaW1nLCBcInNyY1wiLCBjdHguaW1hZ2UpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5uYW1lKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCBjdHgubmFtZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBpZl9ibG9ja19hbmNob3I7XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSB7XG5cdFx0aWYgKGN0eC5pbWFnZSkgcmV0dXJuIGNyZWF0ZV9pZl9ibG9jaztcblx0XHRyZXR1cm4gY3JlYXRlX2Vsc2VfYmxvY2s7XG5cdH1cblxuXHR2YXIgY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0dmFyIGlmX2Jsb2NrID0gY3VycmVudF9ibG9ja190eXBlKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRpZl9ibG9ja19hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGlmX2Jsb2NrLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaWZfYmxvY2tfYW5jaG9yLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY3VycmVudF9ibG9ja190eXBlID09PSAoY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSkgJiYgaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2sucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaWZfYmxvY2tfYW5jaG9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGNvbnN0IHsgY3JlYXRlRXZlbnREaXNwYXRjaGVyIH0gPSByZXF1aXJlKFwic3ZlbHRlXCIpO1xyXG4gIGxldCB7IGZlZWQgfSA9ICQkcHJvcHM7XHJcblxyXG4gIGxldCBpbWFnZSA9IGZhbHNlO1xyXG4gIGxldCBuYW1lID0gZmVlZDtcclxuICBjb25zdCBkaXNwYXRjaCA9IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcigpO1xyXG5cclxuICBzc2IuYXZhdGFyKGZlZWQpLnRoZW4oZGF0YSA9PiB7XHJcbiAgICBpZiAoZGF0YS5pbWFnZSAhPT0gbnVsbCkge1xyXG4gICAgICAkJGludmFsaWRhdGUoJ2ltYWdlJywgaW1hZ2UgPSBgaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC8ke2RhdGEuaW1hZ2V9YCk7XHJcbiAgICB9XHJcbiAgICAkJGludmFsaWRhdGUoJ25hbWUnLCBuYW1lID0gZGF0YS5uYW1lKTtcclxuICB9KTtcclxuXHJcbiAgZnVuY3Rpb24gYXZhdGFyQ2xpY2soKSB7XHJcbiAgICBkaXNwYXRjaChcImF2YXRhckNsaWNrXCIsIHtcclxuICAgICAgZmVlZCxcclxuICAgICAgbmFtZVxyXG4gICAgfSk7XHJcbiAgfVxuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydmZWVkJ107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlLndhcm4oYDxBdmF0YXJDaGlwPiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnZmVlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCdmZWVkJywgZmVlZCA9ICQkcHJvcHMuZmVlZCk7XG5cdH07XG5cblx0cmV0dXJuIHsgZmVlZCwgaW1hZ2UsIG5hbWUsIGF2YXRhckNsaWNrIH07XG59XG5cbmNsYXNzIEF2YXRhckNoaXAgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW1wiZmVlZFwiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5mZWVkID09PSB1bmRlZmluZWQgJiYgISgnZmVlZCcgaW4gcHJvcHMpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCI8QXZhdGFyQ2hpcD4gd2FzIGNyZWF0ZWQgd2l0aG91dCBleHBlY3RlZCBwcm9wICdmZWVkJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgZmVlZCgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8QXZhdGFyQ2hpcD46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgZmVlZCh2YWx1ZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxBdmF0YXJDaGlwPjogUHJvcHMgY2Fubm90IGJlIHNldCBkaXJlY3RseSBvbiB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEF2YXRhckNoaXA7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZjR0Z5ZEhNdlFYWmhkR0Z5UTJocGNDNXpkbVZzZEdVaVhTd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdHVkV3hzWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN08wRkJhVTVCTEdsQ1FVRnJRaUo5IiwiY29uc3QgdGltZWFnbyA9IHJlcXVpcmUoXCJ0aW1lYWdvLXNpbXBsZVwiKVxyXG5cclxuY29uc3QgdGltZXN0YW1wID0gdCA9PiB7XHJcblxyXG4gICAgcmV0dXJuIHRpbWVhZ28uc2ltcGxlKG5ldyBEYXRlKHQpKVxyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHt0aW1lc3RhbXB9IiwibGV0IHNhdmVkRGF0YSA9IHt9XHJcblxyXG5jb25zdCBsb2FkQ29uZmlndXJhdGlvbiA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBjb25maWd1cmF0aW9uLi4uXCIpXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBkYXRhID0gYXdhaXQgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLmdldCgpXHJcblxyXG4gICAgICAgIGlmIChkYXRhLmhhc093blByb3BlcnR5KFwia2V5c1wiKSkge1xyXG4gICAgICAgICAgICBzYXZlZERhdGEgPSBkYXRhXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdGhyb3cgXCJDb25maWd1cmF0aW9uIGlzIG1pc3NpbmdcIlxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKG4pIHtcclxuICAgICAgICB0aHJvdyBcIkNvbmZpZ3VyYXRpb24gaXMgbWlzc2luZ1wiXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGdldFByZWYgPSAoa2V5LCBkZWZhdWx0VmFsdWUpID0+IHtcclxuICAgIGlmIChzYXZlZERhdGEucHJlZmVyZW5jZXMpIHtcclxuICAgICAgICBpZiAoc2F2ZWREYXRhLnByZWZlcmVuY2VzLmhhc093blByb3BlcnR5KGtleSkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNhdmVkRGF0YS5wcmVmZXJlbmNlc1trZXldXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlZmF1bHRWYWx1ZVxyXG59XHJcblxyXG5cclxuY29uc3Qgc2V0Q29ubmVjdGlvbkNvbmZpZ3VyYXRpb24gPSAoeyBrZXlzLCByZW1vdGUsIG1hbmlmZXN0IH0pID0+IHtcclxuICAgIHNhdmVkRGF0YS5rZXlzID0ga2V5c1xyXG4gICAgc2F2ZWREYXRhLnJlbW90ZSA9IHJlbW90ZVxyXG4gICAgc2F2ZWREYXRhLm1hbmlmZXN0ID0gbWFuaWZlc3RcclxuXHJcbiAgICBicm93c2VyLnN0b3JhZ2UubG9jYWwuc2V0KHNhdmVkRGF0YSlcclxuXHJcbn1cclxuXHJcbmNvbnN0IHNldFByZWYgPSAoa2V5LCB2YWx1ZSkgPT4ge1xyXG4gICAgc2F2ZWREYXRhLnByZWZlcmVuY2VzID0gc2F2ZWREYXRhLnByZWZlcmVuY2VzIHx8IHt9XHJcbiAgICBzYXZlZERhdGEucHJlZmVyZW5jZXNba2V5XSA9IHZhbHVlXHJcblxyXG4gICAgYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldChzYXZlZERhdGEpXHJcbn1cclxuXHJcbmNvbnN0IHNhdmVkS2V5cyA9ICgpID0+IHtcclxuICAgIHJldHVybiBzYXZlZERhdGEua2V5c1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHtcclxuICAgIGxvYWRDb25maWd1cmF0aW9uLFxyXG4gICAgc2V0UHJlZixcclxuICAgIGdldFByZWYsXHJcbiAgICBzZXRDb25uZWN0aW9uQ29uZmlndXJhdGlvbixcclxuICAgIHNhdmVkS2V5c1xyXG59IiwiLyoqXG4gKiBTU0JcbiAqXG4gKiBUTDtEUjogU1NCIEFQSSBmb3IgUGF0Y2hmb3ggdXNpbmcgSGVybWllYm94LlxuICpcbiAqIE9CSkVDVElWRTpcbiAqIFRoZSBTU0IgaXMgaW4gZmx1eCByaWdodCBub3cuIFRoZXJlIGFyZSBtYW55IGFwcHJvYWNoZXMgYmVpbmcgcGxheWVkIHdpdGggd2hpY2ggbWlnaHRcbiAqIGFmZmVjdCBob3cgdGhpcyBXZWJFeHRlbnNpb24gY29ubmVjdCB0byBzYm90LiBTb21lIG9mIHRoZSBleHBlcmltZW50cyBiZWluZyB0cmllZCBvdXQgYXJlOlxuICpcbiAqIC0gbGVzc2JvdC9ub2JvdDogZWFjaCBhcHAgbWFpbnRhaW4gaXRzIG93biBkYXRhYmFzZSBhbmQgaW5kZXggYnV0IHBvc3QgdGhyb3VnaCBhIHNoYXJlZCBzYm90LlxuICogLSBncmFwaHFsOiBleHBvcnQgYSBHcmFwaFFMIHNlcnZlciB3aGljaCBvZmZlcnMgU1NCIGZlYXR1cmVzLlxuICogLSBqc29uLXJwYzogZXhwb3J0IGEgSlNPTi1SUEMgc2VydmVyIG9mZmVyaW5nIFNTQiBmZWF0dXJlcy5cbiAqXG4gKiBUaGlzIGRyaXZlciBmb2xkZXIgd2lsbCBjb250YWluIHRoZSB2YXJpb3VzIGFkYXB0ZXJzIHRvIHVzZSB0aGVzZSBtb2RlcyBvZiBjb25uZWN0aW9uIGFzIHRoZXlcbiAqIGJlY29tZSBhdmFpbGFibGUuIEZvciBub3csIHdlJ2xsIHVzZSBoZXJtaWVib3guXG4gKlxuICogKipJbXBvcnRhbnQ6IEVhY2ggZHJpdmVyIHNob3VsZCBleHBvcnQgdGhlIGV4YWN0IHNhbWUgQVBJIHRvIFBhdGNoZm94KiouIFRoaXMgd2F5IHdlIGNhblxuICogc3dpdGNoIGRyaXZlcnMgd2l0aG91dCBoYXZpbmcgdG8gcmVmYWN0b3IgdGhlIGFkZC1vbi5cbiAqXG4gKiBIT1cgSVQgV09SS1M6XG4gKiBIZXJtaWVib3ggaXMgYSBicm93c2VyaWZpZWQgZmF0IHBhY2thZ2Ugb2YgY29tbW9uIE5vZGVKUyBtb2R1bGVzIGZyb20gb3VyIGNvbW11bml0eSBhbmQgYWxzb1xuICogZmV3IGhpZ2hsZXZlbCBBUEkgbWV0aG9kcyBmb3IgY29tbW9uIHRhc2tzLiBJdCB1c2VzIFdlYlNvY2tldHMgdG8gY29ubmVjdCB0byBhIHJ1bm5pbmcgc2JvdFxuICogdXNpbmcgbXV4cnBjIGFuZCBzaHMgc3R1ZmYsIHNvIGl0IG5lZWRzIHlvdXIgYHNlY3JldGAgdG8gYmUgYXZhaWxhYmxlLlxuICogXG4gKiBBVFRFTlRJT046XG4gKiBUaGlzIGlzIGEgbGVnYWN5IGZyb20gd2hlbiBQYXRjaGZveCB3YXMgdmFuaWxsYSBKUy4gSSdtIGdvbm5hIG5lZWQgdG8gcmVmYWN0b3IgdGhpcyBhIGxvdFxuICogXG4gKiBUT0RPOiBSZWZhY3RvciB0byB1c2UgYHNzYi1xdWVyeWBcbiAqL1xuXG5cbmNvbnN0IHsgZ2V0UHJlZiB9ID0gcmVxdWlyZShcIi4vcHJlZnMuanNcIilcbmNvbnN0IHsgaXNNZXNzYWdlSGlkZGVuIH0gPSByZXF1aXJlKFwiLi9hYnVzZVByZXZlbnRpb24uanNcIilcblxuY29uc3QgcHVsbCA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxTdHJlYW1cbmNvbnN0IHNvcnQgPSBoZXJtaWVib3gubW9kdWxlcy5zc2JTb3J0XG5cbmxldCBzYm90ID0gZmFsc2VcblxubGV0IGF2YXRhckNhY2hlID0ge31cbmxldCBtc2dDYWNoZSA9IHt9XG5cbmNsYXNzIFNTQiB7XG5cbiAgICBsb2cocE1zZywgcFZhbCA9IFwiXCIpIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtTU0IgQVBJXSAtICR7cE1zZ31gLCBwVmFsKVxuICAgIH1cblxuICAgIGFzeW5jIGNvbm5lY3QocEtleXMpIHtcbiAgICAgICAgdmFyIHNlcnZlciA9IGF3YWl0IGhlcm1pZWJveC5hcGkuY29ubmVjdChwS2V5cylcbiAgICAgICAgdGhpcy5sb2coXCJ5b3UgYXJlXCIsIHNlcnZlci5pZClcbiAgICAgICAgdGhpcy5mZWVkID0gc2VydmVyLmlkXG4gICAgICAgIHNib3QgPSBzZXJ2ZXJcbiAgICB9XG5cbiAgICBmaWx0ZXJMaW1pdCgpIHtcbiAgICAgICAgbGV0IGxpbWl0ID0gZ2V0UHJlZihcImxpbWl0XCIsIDEwKVxuICAgICAgICByZXR1cm4gcHVsbC50YWtlKGxpbWl0KVxuICAgIH1cblxuICAgIGZpbHRlcldpdGhVc2VyRmlsdGVycygpIHtcbiAgICAgICAgcmV0dXJuIHB1bGwuZmlsdGVyKG0gPT4gaXNNZXNzYWdlSGlkZGVuKG0pKVxuICAgIH1cblxuICAgIGZpbHRlclR5cGVzKCkge1xuICAgICAgICBsZXQga25vd25NZXNzYWdlVHlwZXMgPSB7XG4gICAgICAgICAgICBcInBvc3RcIjogXCJzaG93VHlwZVBvc3RcIixcbiAgICAgICAgICAgIFwiYWJvdXRcIjogXCJzaG93VHlwZUFib3V0XCIsXG4gICAgICAgICAgICBcInZvdGVcIjogXCJzaG93VHlwZVZvdGVcIixcbiAgICAgICAgICAgIFwiY29udGFjdFwiOiBcInNob3dUeXBlQ29udGFjdFwiLFxuICAgICAgICAgICAgXCJwdWJcIjogXCJzaG93VHlwZVB1YlwiLFxuICAgICAgICAgICAgXCJibG9nXCI6IFwic2hvd1R5cGVCbG9nXCIsXG4gICAgICAgICAgICBcImNoYW5uZWxcIjogXCJzaG93VHlwZUNoYW5uZWxcIlxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHNob3dVbmtub3duID0gZmFsc2VcblxuICAgICAgICBpZiAoc2hvd1Vua25vd24pIHtcbiAgICAgICAgICAgIHJldHVybiBwdWxsLmZpbHRlcigoKSA9PiB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwdWxsLmZpbHRlcihtc2cgPT4ge1xuICAgICAgICAgICAgbGV0IHR5cGUgPSBtc2cudmFsdWUuY29udGVudC50eXBlXG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdHlwZSA9PSBcInN0cmluZ1wiICYmIGtub3duTWVzc2FnZVR5cGVzW3R5cGVdKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFByZWYoa25vd25NZXNzYWdlVHlwZXNbdHlwZV0sIHRydWUpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ2V0UHJlZihcInNob3dUeXBlVW5rbm93blwiLCBmYWxzZSlcbiAgICAgICAgfSlcbiAgICB9XG5cblxuXG4gICAgcHVibGljKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgb3B0cyA9IG9wdHMgfHwge31cbiAgICAgICAgICAgIG9wdHMucmV2ZXJzZSA9IG9wdHMucmV2ZXJzZSB8fCB0cnVlXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib3B0c1wiLCBvcHRzKVxuXG4gICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgIHNib3QuY3JlYXRlRmVlZFN0cmVhbShvcHRzKSxcbiAgICAgICAgICAgICAgICBwdWxsLmZpbHRlcihtc2cgPT4gbXNnICYmIG1zZy52YWx1ZSAmJiBtc2cudmFsdWUuY29udGVudCksXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJUeXBlcygpLFxuICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyV2l0aFVzZXJGaWx0ZXJzKCksXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJMaW1pdCgpLFxuICAgICAgICAgICAgICAgIHB1bGwuY29sbGVjdCgoZXJyLCBtc2dzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibXNnc1wiLCBtc2dzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKVxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtc2dzKVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdGhyZWFkKGlkKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBzYm90LmdldChpZCwgKGVyciwgdmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyKSByZXR1cm4gY2IoZXJyKVxuICAgICAgICAgICAgICAgIHZhciByb290TXNnID0geyBrZXk6IGlkLCB2YWx1ZTogdmFsdWUgfVxuICAgICAgICAgICAgICAgIHB1bGwoXG4gICAgICAgICAgICAgICAgICAgIHNib3QuYmFja2xpbmtzICYmIHNib3QuYmFja2xpbmtzLnJlYWQgPyBzYm90LmJhY2tsaW5rcy5yZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkZmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXN0OiBpZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb3Q6IGlkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9KSA6IHB1bGwoXG4gICAgICAgICAgICAgICAgICAgICAgICBzYm90LmxpbmtzKHsgZGVzdDogaWQsIHZhbHVlczogdHJ1ZSwgcmVsOiAncm9vdCcgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwdWxsLmZpbHRlcihmdW5jdGlvbiAobXNnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGMgPSBtc2cgJiYgbXNnLnZhbHVlICYmIG1zZy52YWx1ZS5jb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGMgJiYgYy50eXBlID09PSAncG9zdCcgJiYgYy5yb290ID09PSBpZFxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBwdWxsLnVuaXF1ZSgna2V5JylcbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJUeXBlcygpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcldpdGhVc2VyRmlsdGVycygpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckxpbWl0KCksXG4gICAgICAgICAgICAgICAgICAgIHB1bGwuY29sbGVjdCgoZXJyLCBtc2dzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSByZWplY3QoZXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShzb3J0KFtyb290TXNnXS5jb25jYXQobXNncykpKVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgbWVudGlvbnMoZmVlZCwgbHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZUJhY2tsaW5rU3RyZWFtID0gaWQgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBmaWx0ZXJRdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgJGZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVzdDogaWRcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICBpZiAobHQpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyUXVlcnkuJGZpbHRlci52YWx1ZSA9IHsgdGltZXN0YW1wOiB7ICRsdDogbHQgfSB9O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzYm90LmJhY2tsaW5rcy5yZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFtmaWx0ZXJRdWVyeV0sXG4gICAgICAgICAgICAgICAgICAgIGluZGV4OiBcIkRUQVwiLCAvLyB1c2UgYXNzZXJ0ZWQgdGltZXN0YW1wc1xuICAgICAgICAgICAgICAgICAgICByZXZlcnNlOiB0cnVlLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgdW5pcXVlUm9vdHMgPSBtc2cgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdWxsLmZpbHRlcihtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgbXNnS2V5ID0gbXNnLmtleTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1zZy52YWx1ZS5jb250ZW50LnR5cGUgIT09IFwicG9zdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBsZXQgcm9vdEtleSA9IG1zZy52YWx1ZS5jb250ZW50LnJvb3QgfHwgZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb290S2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobXNncy5zb21lKG0gPT4gbS52YWx1ZS5jb250ZW50LnJvb3QgPT09IHJvb3RLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY29uc3QgbWVudGlvblVzZXIgPSBtc2cgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBwdWxsLmZpbHRlcihtc2cgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAobXNnLnZhbHVlLmNvbnRlbnQudHlwZSAhPT0gXCJwb3N0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxldCBtZW50aW9ucyA9IG1zZy52YWx1ZS5jb250ZW50Lm1lbnRpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAobWVudGlvbnMuc29tZShtID0+IG0ubGluayA9PSBzYm90LmlkKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcHVsbChcbiAgICAgICAgICAgICAgICBjcmVhdGVCYWNrbGlua1N0cmVhbShzYm90LmlkKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclR5cGVzKCksXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJXaXRoVXNlckZpbHRlcnMoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckxpbWl0KCksXG4gICAgICAgICAgICAgICAgcHVsbC5jb2xsZWN0KChlcnIsIG1zZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobXNncylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHNlYXJjaChxdWVyeSwgbHQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBxID0gcXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGxldCBsaW1pdCA9IHBhcnNlSW50KGdldFByZWYoXCJsaW1pdFwiLCAxMCkpXG4gICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgIHB1bGwoc2JvdCA9PiBzYm90LnNlYXJjaC5xdWVyeSh7IHEsIGxpbWl0IH0pKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlclR5cGVzKCksXG4gICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJXaXRoVXNlckZpbHRlcnMoKSxcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckxpbWl0KCksXG4gICAgICAgICAgICAgICAgcHVsbC5jb2xsZWN0KChlcnIsIG1zZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobXNncylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHNlYXJjaFdpdGhDYWxsYmFjayhxdWVyeSwgY2IpIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlc1F1ZXJ5ID0gc2VhcmNoRmlsdGVyKHF1ZXJ5LnNwbGl0KFwiIFwiKSlcbiAgICAgICAgY29uc3Qgb3B0cyA9IHsgcmV2ZXJzZTogdHJ1ZSwgbGl2ZTogdHJ1ZSwgcHJpdmF0ZTogdHJ1ZSB9XG5cbiAgICAgICAgZnVuY3Rpb24gc2VhcmNoRmlsdGVyKHRlcm1zKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKG1zZykge1xuICAgICAgICAgICAgICAgIGlmIChtc2cuc3luYykgcmV0dXJuIHRydWVcbiAgICAgICAgICAgICAgICBjb25zdCBjID0gbXNnICYmIG1zZy52YWx1ZSAmJiBtc2cudmFsdWUuY29udGVudFxuICAgICAgICAgICAgICAgIHJldHVybiBjICYmIChcbiAgICAgICAgICAgICAgICAgICAgbXNnLmtleSA9PT0gdGVybXNbMF0gfHwgYW5kU2VhcmNoKHRlcm1zLm1hcChmdW5jdGlvbiAodGVybSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBSZWdFeHAoJ1xcXFxiJyArIHRlcm0gKyAnXFxcXGInLCAnaScpXG4gICAgICAgICAgICAgICAgICAgIH0pLCBbYy50ZXh0LCBjLm5hbWUsIGMudGl0bGVdKVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGFuZFNlYXJjaCh0ZXJtcywgaW5wdXRzKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRlcm1zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gZmFsc2VcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGlucHV0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGVybXNbaV0udGVzdChpbnB1dHNbal0pKSBtYXRjaCA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gaWYgYSB0ZXJtIHdhcyBub3QgbWF0Y2hlZCBieSBhbnl0aGluZywgZmlsdGVyIHRoaXMgb25lXG4gICAgICAgICAgICAgICAgaWYgKCFtYXRjaCkgcmV0dXJuIGZhbHNlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHEgPSBxdWVyeS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2JvdC5jcmVhdGVMb2dTdHJlYW0ob3B0cyksXG4gICAgICAgICAgICAgICAgICAgICAgICBwdWxsLmZpbHRlcihtYXRjaGVzUXVlcnkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJUeXBlcygpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJXaXRoVXNlckZpbHRlcnMoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyTGltaXQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHB1bGwuZHJhaW4oKG1zZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghbXNnLnN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2IobXNnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0sICgpID0+IHJlc29sdmUoKSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwibm8gc2JvdFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGFzeW5jIHByb2ZpbGUoZmVlZGlkKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB2YXIgdXNlciA9IGF3YWl0IGhlcm1pZWJveC5hcGkucHJvZmlsZShmZWVkaWQpXG4gICAgICAgICAgICByZXR1cm4gdXNlclxuXG4gICAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobilcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgZ2V0KG1zZ2lkKSB7XG4gICAgICAgIHZhciBtc2cgPSBhd2FpdCBoZXJtaWVib3guYXBpLmdldChtc2dpZClcbiAgICAgICAgcmV0dXJuIG1zZ1xuICAgIH1cblxuICAgIGFzeW5jIHNldEF2YXRhckNhY2hlKGZlZWQsIGRhdGEpIHtcbiAgICAgICAgbGV0IHMgPSB7fVxuICAgICAgICBzW2BhdmF0YXItJHtmZWVkfWBdID0gZGF0YVxuICAgICAgICByZXR1cm4gYnJvd3Nlci5zdG9yYWdlLmxvY2FsLnNldChzKVxuICAgIH1cblxuICAgIGFzeW5jIGdldENhY2hlZEF2YXRhcihmZWVkKSB7XG4gICAgICAgIHJldHVybiBicm93c2VyLnN0b3JhZ2UubG9jYWwuZ2V0KGBhdmF0YXItJHtmZWVkfWApXG4gICAgfVxuXG4gICAgYXN5bmMgYXZhdGFyKGZlZWQpIHtcbiAgICAgICAgY29uc3QgZ2V0QXZhdGFyQXV4ID0gYXN5bmMgZmVlZCA9PiB7XG4gICAgICAgICAgICBsZXQgYXZhdGFyID0gYXdhaXQgaGVybWllYm94LmFwaS5hdmF0YXIoZmVlZClcbiAgICAgICAgICAgIC8vIGF3YWl0IHRoaXMuc2V0QXZhdGFyQ2FjaGUoZmVlZCwgYXZhdGFyKVxuICAgICAgICAgICAgYXZhdGFyQ2FjaGVbZmVlZF0gPSBhdmF0YXJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGBwcm9maWxlLSR7ZmVlZH1gLCBKU09OLnN0cmluZ2lmeShhdmF0YXIpKVxuICAgICAgICAgICAgcmV0dXJuIGF2YXRhclxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGF2YXRhckNhY2hlW2ZlZWRdKSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGdldEF2YXRhckF1eChmZWVkKSwgMzAwKSAvLyB1cGRhdGUgY2FjaGUuLi5cbiAgICAgICAgICAgIHJldHVybiBhdmF0YXJDYWNoZVtmZWVkXVxuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0QXZhdGFyQXV4KGZlZWQpXG4gICAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgICAgIHRocm93IG5cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZENhY2hlcygpIHtcbiAgICAgICAgY29uc29sZS50aW1lKFwiYXZhdGFyIGNhY2hlXCIpXG4gICAgICAgIGxldCBhbGxTYXZlZERhdGEgPSB7IC4uLmxvY2FsU3RvcmFnZSB9XG4gICAgICAgIGRlbGV0ZSBhbGxTYXZlZERhdGFbXCIvLnNzYi9zZWNyZXRcIl1cbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhhbGxTYXZlZERhdGEpXG4gICAgICAgIGtleXMuZm9yRWFjaChrID0+IHtcbiAgICAgICAgICAgIGxldCBrZXkgPSBrLnJlcGxhY2UoXCJwcm9maWxlLVwiLCBcIlwiKVxuICAgICAgICAgICAgYXZhdGFyQ2FjaGVba2V5XSA9IEpTT04ucGFyc2UoYWxsU2F2ZWREYXRhW2tdKVxuICAgICAgICB9KVxuXG4gICAgICAgIGNvbnNvbGUudGltZUVuZChcImF2YXRhciBjYWNoZVwiKVxuICAgICAgICBjb25zb2xlLmxvZyhgY2FjaGVkICR7T2JqZWN0LmtleXMoYXZhdGFyQ2FjaGUpLmxlbmd0aH0gdXNlcnNgKVxuXG4gICAgfVxuXG4gICAgYXN5bmMgYmx1cmJGcm9tTXNnKG1zZ2lkLCBob3dNYW55Q2hhcnMpIHtcbiAgICAgICAgbGV0IHJldFZhbCA9IG1zZ2lkXG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChtc2dDYWNoZVttc2dpZF0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbXNnQ2FjaGVbbXNnaWRdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGF3YWl0IHNzYi5nZXQobXNnaWQpXG5cbiAgICAgICAgICAgIGlmIChkYXRhLmNvbnRlbnQudHlwZSA9PSBcInBvc3RcIikge1xuICAgICAgICAgICAgICAgIHJldFZhbCA9IHRoaXMucGxhaW5UZXh0RnJvbU1hcmtkb3duKGRhdGEuY29udGVudC50ZXh0LnNsaWNlKDAsIGhvd01hbnlDaGFycykgKyBcIi4uLlwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbXNnQ2FjaGVbbXNnaWRdID0gcmV0VmFsXG4gICAgICAgICAgICByZXR1cm4gcmV0VmFsXG4gICAgICAgIH0gY2F0Y2ggKG4pIHtcbiAgICAgICAgICAgIHJldHVybiByZXRWYWxcbiAgICAgICAgfVxuICAgIH1cbiAgICBwbGFpblRleHRGcm9tTWFya2Rvd24odGV4dCkge1xuICAgICAgICAvLyBUT0RPOiB0aGlzIGRvZXNuJ3QgYmVsb25nIGhlcmVcbiAgICAgICAgbGV0IGh0bWwgPSB0aGlzLm1hcmtkb3duKHRleHQpXG4gICAgICAgIGxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgICAgIGRpdi5pbm5lckhUTUwgPSBodG1sXG4gICAgICAgIHJldHVybiBkaXYuaW5uZXJUZXh0XG4gICAgfVxuXG4gICAgbWFya2Rvd24odGV4dCkge1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VNc2dJRChtYXRjaCwgaWQsIG9mZnNldCwgc3RyaW5nKSB7XG4gICAgICAgICAgICBsZXQgZWlkID0gZW5jb2RlVVJJQ29tcG9uZW50KGAlJHtpZH1gKTtcblxuICAgICAgICAgICAgcmV0dXJuIGA8YSBjbGFzcz1cInRocmVhZC1saW5rXCIgaHJlZj1cIj90aHJlYWQ9JHtlaWR9Iy90aHJlYWRgO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUNoYW5uZWwobWF0Y2gsIGlkLCBvZmZzZXQsIHN0cmluZykge1xuICAgICAgICAgICAgbGV0IGVpZCA9IGVuY29kZVVSSUNvbXBvbmVudChpZCk7XG5cbiAgICAgICAgICAgIHJldHVybiBgPGEgY2xhc3M9XCJjaGFubmVsLWxpbmtcIiBocmVmPVwiP2NoYW5uZWw9JHtlaWR9Iy9jaGFubmVsYDtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUZlZWRJRChtYXRjaCwgaWQsIG9mZnNldCwgc3RyaW5nKSB7XG4gICAgICAgICAgICBsZXQgZWlkID0gZW5jb2RlVVJJQ29tcG9uZW50KGBAJHtpZH1gKTtcbiAgICAgICAgICAgIHJldHVybiBcIjxhIGNsYXNzPVxcXCJwcm9maWxlLWxpbmtcXFwiIGhyZWY9XFxcIj9mZWVkPVwiICsgZWlkICsgXCIjL3Byb2ZpbGVcIjtcbiAgICAgICAgfVxuXG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUltYWdlTGlua3MobWF0Y2gsIGlkLCBvZmZzZXQsIHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIFwiPGEgY2xhc3M9XFxcImltYWdlLWxpbmtcXFwiIHRhcmdldD1cXFwiX2JsYW5rXFxcIiBocmVmPVxcXCJodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0LyZcIiArIGVuY29kZVVSSUNvbXBvbmVudChpZCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VJbWFnZXMobWF0Y2gsIGlkLCBvZmZzZXQsIHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIFwiPGltZyBjbGFzcz1cXFwiaXMtaW1hZ2UtZnJvbS1ibG9iXFxcIiBzcmM9XFxcImh0dHA6Ly9sb2NhbGhvc3Q6ODk4OS9ibG9icy9nZXQvJlwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIHJlcGxhY2VWaWRlb3MobWF0Y2gsIGlkLCBvZmZzZXQsIHN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIFwiPHZpZGVvIGNvbnRyb2xzIGNsYXNzPVxcXCJpcy12aWRlby1mcm9tLWJsb2JcXFwiIHNyYz1cXFwiaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC8mXCIgKyBlbmNvZGVVUklDb21wb25lbnQoaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgZnVuY3Rpb24gcmVwbGFjZUF1ZGlvcyhtYXRjaCwgaWQsIG9mZnNldCwgc3RyaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gXCI8YXVkaW8gY29udHJvbHMgY2xhc3M9XFxcImlzLWF1ZGlvLWZyb20tYmxvYlxcXCIgc3JjPVxcXCJodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0LyZcIiArIGVuY29kZVVSSUNvbXBvbmVudChpZCk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgb3B0cyA9IHtcbiAgICAgICAgICAgIHRvVXJsOiByZWYgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiByZWZcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgaHRtbCA9IGhlcm1pZWJveC5tb2R1bGVzLnNzYk1hcmtkb3duLmJsb2NrKHRleHQsIG9wdHMpXG4gICAgICAgIGh0bWwgPSBodG1sXG4gICAgICAgICAgICAucmVwbGFjZSgvPHByZT4vZ2ksIFwiPHByZSBjbGFzcz1cXFwiY29kZVxcXCI+XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGEgaHJlZj1cIiMoW15cIl0qKS9naSwgcmVwbGFjZUNoYW5uZWwpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGEgaHJlZj1cIkAoW15cIl0qKS9naSwgcmVwbGFjZUZlZWRJRClcbiAgICAgICAgICAgIC5yZXBsYWNlKC90YXJnZXQ9XCJfYmxhbmtcIi9naSwgXCJcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC88YSBocmVmPVwiJShbXlwiXSopL2dpLCByZXBsYWNlTXNnSUQpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGltZyBzcmM9XCImKFteXCJdKikvZ2ksIHJlcGxhY2VJbWFnZXMpXG4gICAgICAgICAgICAucmVwbGFjZSgvPHZpZGVvIGNvbnRyb2xzIHNyYz1cIiYoW15cIl0qKS9naSwgcmVwbGFjZVZpZGVvcylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88YXVkaW8gY29udHJvbHMgc3JjPVwiJihbXlwiXSopL2dpLCByZXBsYWNlQXVkaW9zKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxhIGhyZWY9XCImKFteXCJdKikvZ2ksIHJlcGxhY2VJbWFnZUxpbmtzKVxuXG4gICAgICAgIHJldHVybiBodG1sXG4gICAgfVxuXG4gICAgcmVmKCkge1xuICAgICAgICByZXR1cm4gaGVybWllYm94Lm1vZHVsZXMuc3NiUmVmXG4gICAgfVxuXG4gICAgZ2V0VGltZXN0YW1wKG1zZykge1xuICAgICAgICBjb25zdCBhcnJpdmFsVGltZXN0YW1wID0gbXNnLnRpbWVzdGFtcDtcbiAgICAgICAgY29uc3QgZGVjbGFyZWRUaW1lc3RhbXAgPSBtc2cudmFsdWUudGltZXN0YW1wO1xuICAgICAgICByZXR1cm4gTWF0aC5taW4oYXJyaXZhbFRpbWVzdGFtcCwgZGVjbGFyZWRUaW1lc3RhbXApO1xuICAgIH1cblxuICAgIGdldFJvb3RNc2dJZChtc2cpIHtcbiAgICAgICAgaWYgKG1zZyAmJiBtc2cudmFsdWUgJiYgbXNnLnZhbHVlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBtc2cudmFsdWUuY29udGVudC5yb290O1xuICAgICAgICAgICAgaWYgKGhlcm1pZWJveC5tb2R1bGVzLnNzYlJlZi5pc01zZ0lkKHJvb3QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvb3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZXdQb3N0KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBtc2dUb1Bvc3QgPSB7IHR5cGU6IFwicG9zdFwiLCB0ZXh0OiBkYXRhLnRleHQgfVxuXG4gICAgICAgICAgICBjb25zdCBjb21tb25GaWVsZHMgPSBbXG4gICAgICAgICAgICAgICAgXCJyb290XCIsXG4gICAgICAgICAgICAgICAgXCJicmFuY2hcIixcbiAgICAgICAgICAgICAgICBcImNoYW5uZWxcIixcbiAgICAgICAgICAgICAgICBcImZvcmtcIixcbiAgICAgICAgICAgICAgICBcImNvbnRlbnRXYXJuaW5nXCJcbiAgICAgICAgICAgIF1cblxuICAgICAgICAgICAgY29tbW9uRmllbGRzLmZvckVhY2goZiA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBkYXRhW2ZdICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIG1zZ1RvUG9zdFtmXSA9IGRhdGFbZl1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuXG4gICAgICAgICAgICBtc2dUb1Bvc3QubWVudGlvbnMgPSBoZXJtaWVib3gubW9kdWxlcy5zc2JNZW50aW9ucyhtc2dUb1Bvc3QudGV4dCkgfHwgW11cblxuICAgICAgICAgICAgaWYgKG1zZ1RvUG9zdC5jb250ZW50V2FybmluZyAmJiBtc2dUb1Bvc3QuY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBtb3JlTWVudGlvbnMgPSBoZXJtaWVib3gubW9kdWxlcy5zc2JNZW50aW9ucyhtc2dUb1Bvc3QuY29udGVudFdhcm5pbmcpXG4gICAgICAgICAgICAgICAgbXNnVG9Qb3N0Lm1lbnRpb25zID0gbXNnVG9Qb3N0Lm1lbnRpb25zLmNvbmNhdChtb3JlTWVudGlvbnMpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1zZ1RvUG9zdC5tZW50aW9ucyA9IG1zZ1RvUG9zdC5tZW50aW9ucy5maWx0ZXIobiA9PiBuKSAvLyBwcmV2ZW50IG51bGwgZWxlbWVudHMuLi5cblxuICAgICAgICAgICAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicG9zdFwiLCBtc2dUb1Bvc3QpXG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgc2JvdC5wdWJsaXNoKG1zZ1RvUG9zdCwgZnVuY3Rpb24gKGVyciwgbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1zZylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIlRoZXJlIGlzIG5vIHNib3QgY29ubmVjdGlvblwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIG5ld0Jsb2dQb3N0KGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBtc2dUb1Bvc3QgPSB7IHR5cGU6IFwiYmxvZ1wiIH1cbiAgICAgICAgICAgIGxldCBibG9nQ29udGVudCA9IGRhdGEuY29udGVudFxuXG4gICAgICAgICAgICBjb25zdCBjb21tb25GaWVsZHMgPSBbXG4gICAgICAgICAgICAgICAgXCJjaGFubmVsXCIsXG4gICAgICAgICAgICAgICAgXCJjb250ZW50V2FybmluZ1wiLFxuICAgICAgICAgICAgICAgIFwidGh1bWJuYWlsXCIsXG4gICAgICAgICAgICAgICAgXCJ0aXRsZVwiLFxuICAgICAgICAgICAgICAgIFwic3VtbWFyeVwiXG4gICAgICAgICAgICBdXG5cbiAgICAgICAgICAgIGNvbW1vbkZpZWxkcy5mb3JFYWNoKGYgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZGF0YVtmXSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhW2ZdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgbXNnVG9Qb3N0W2ZdID0gZGF0YVtmXVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG5cbiAgICAgICAgICAgIG1zZ1RvUG9zdC5tZW50aW9ucyA9IGhlcm1pZWJveC5tb2R1bGVzLnNzYk1lbnRpb25zKGJsb2dDb250ZW50KSB8fCBbXVxuXG4gICAgICAgICAgICBpZiAobXNnVG9Qb3N0LmNvbnRlbnRXYXJuaW5nICYmIG1zZ1RvUG9zdC5jb250ZW50V2FybmluZy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgbGV0IG1vcmVNZW50aW9ucyA9IGhlcm1pZWJveC5tb2R1bGVzLnNzYk1lbnRpb25zKG1zZ1RvUG9zdC5jb250ZW50V2FybmluZylcbiAgICAgICAgICAgICAgICBtc2dUb1Bvc3QubWVudGlvbnMgPSBtc2dUb1Bvc3QubWVudGlvbnMuY29uY2F0KG1vcmVNZW50aW9ucylcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbXNnVG9Qb3N0Lm1lbnRpb25zID0gbXNnVG9Qb3N0Lm1lbnRpb25zLmZpbHRlcihuID0+IG4pIC8vIHByZXZlbnQgbnVsbCBlbGVtZW50cy4uLlxuXG4gICAgICAgICAgICBjb25zdCBzYm90ID0gaGVybWllYm94LnNib3QgfHwgZmFsc2VcblxuICAgICAgICAgICAgaWYgKHNib3QpIHtcbiAgICAgICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgICAgICBwdWxsLnZhbHVlcyhbYmxvZ0NvbnRlbnRdKSxcbiAgICAgICAgICAgICAgICAgICAgc2JvdC5ibG9icy5hZGQoZnVuY3Rpb24gKGVyciwgaGFzaCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gJ2hhc2gnIGlzIHRoZSBoYXNoLWlkIG9mIHRoZSBibG9iXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KFwiY291bGQgbm90IGNyZWF0ZSBibG9nIHBvc3QgYmxvYjogXCIgKyBlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1zZ1RvUG9zdC5ibG9nID0gaGFzaDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmxvZyBwb3N0XCIsIG1zZ1RvUG9zdClcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNib3QucHVibGlzaChtc2dUb1Bvc3QsIGZ1bmN0aW9uIChlcnIsIG1zZykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtc2cpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG5cblxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZWplY3QoXCJUaGVyZSBpcyBubyBzYm90IGNvbm5lY3Rpb25cIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIGdldEJsb2IoYmxvYmlkKSB7XG4gICAgICAgIHJldHVybiBoZXJtaWVib3guYXBpLmdldEJsb2IoYmxvYmlkKVxuICAgIH1cblxuICAgIHZvdGVzKG1zZ2lkKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcHVsbCA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxTdHJlYW1cbiAgICAgICAgICAgIGxldCBzYm90ID0gaGVybWllYm94LnNib3RcblxuICAgICAgICAgICAgaWYgKHNib3QpIHtcbiAgICAgICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgICAgICBzYm90LmxpbmtzKHsgZGVzdDogbXNnaWQsIHJlbDogXCJ2b3RlXCIsIHZhbHVlczogdHJ1ZSB9KSxcbiAgICAgICAgICAgICAgICAgICAgcHVsbC5jb2xsZWN0KChlcnIsIG1zZ3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKVxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1zZ3MpXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGxpa2UobXNnaWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcblxuICAgICAgICAgICAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGNvbnN0IG1zZ1RvUG9zdCA9IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJ2b3RlXCIsXG4gICAgICAgICAgICAgICAgXCJ2b3RlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJsaW5rXCI6IG1zZ2lkLFxuICAgICAgICAgICAgICAgICAgICBcInZhbHVlXCI6IDEsXG4gICAgICAgICAgICAgICAgICAgIFwiZXhwcmVzc2lvblwiOiBcIkxpa2VcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNib3QpIHtcbiAgICAgICAgICAgICAgICBzYm90LnB1Ymxpc2gobXNnVG9Qb3N0LCBmdW5jdGlvbiAoZXJyLCBtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobXNnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICB1bmxpa2UobXNnaWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNib3QgPSBoZXJtaWVib3guc2JvdCB8fCBmYWxzZVxuXG4gICAgICAgICAgICBjb25zdCBtc2dUb1Bvc3QgPSB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwidm90ZVwiLFxuICAgICAgICAgICAgICAgIFwidm90ZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwibGlua1wiOiBtc2dpZCxcbiAgICAgICAgICAgICAgICAgICAgXCJ2YWx1ZVwiOiAwLFxuICAgICAgICAgICAgICAgICAgICBcImV4cHJlc3Npb25cIjogXCJVbmxpa2VcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNib3QpIHtcbiAgICAgICAgICAgICAgICBzYm90LnB1Ymxpc2gobXNnVG9Qb3N0LCBmdW5jdGlvbiAoZXJyLCBtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobXNnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjaGFubmVscygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBwdWxsID0gaGVybWllYm94Lm1vZHVsZXMucHVsbFN0cmVhbVxuICAgICAgICAgICAgbGV0IHNib3QgPSBoZXJtaWVib3guc2JvdCB8fCBmYWxzZVxuXG4gICAgICAgICAgICBpZiAoc2JvdCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwicXVlcnlpbmcgY2hhbm5lbHNcIilcbiAgICAgICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgICAgICBzYm90LnF1ZXJ5LnJlYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IFwiJGZpbHRlclwiOiB7IFwidmFsdWVcIjogeyBcImNvbnRlbnRcIjogeyBcImNoYW5uZWxcIjogeyBcIiRpc1wiOiBcInN0cmluZ1wiIH0sIFwidHlwZVwiOiBcInBvc3RcIiB9IH0gfSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCIkcmVkdWNlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2hhbm5lbFwiOiBbXCJ2YWx1ZVwiLCBcImNvbnRlbnRcIiwgXCJjaGFubmVsXCJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjb3VudFwiOiB7IFwiJGNvdW50XCI6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwidGltZXN0YW1wXCI6IHsgXCIkbWF4XCI6IFtcInZhbHVlXCIsIFwidGltZXN0YW1wXCJdIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBcIiRzb3J0XCI6IFtbXCJ0aW1lc3RhbXBcIl0sIFtcImNvdW50XCJdXSB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGltaXQ6IDIwXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBwdWxsLmNvbGxlY3QoZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjaGFubmVsc1wiLCBkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIm5vIHNib3RcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjaGFubmVsKGNoYW5uZWwsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCBwdWxsID0gaGVybWllYm94Lm1vZHVsZXMucHVsbFN0cmVhbVxuICAgICAgICAgICAgbGV0IHNib3QgPSBoZXJtaWVib3guc2JvdCB8fCBmYWxzZVxuICAgICAgICAgICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgIFwiJGZpbHRlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiB7IGNoYW5uZWwgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcIiRzb3J0XCI6IFtbXCJ2YWx1ZVwiLCBcInRpbWVzdGFtcFwiXV1cblxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3B0cy5sdCkge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LiRmaWx0ZXIudmFsdWUudGltZXN0YW1wID0geyAkbHQ6IG9wdHMubHQgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2JvdCkge1xuICAgICAgICAgICAgICAgIHB1bGwoXG4gICAgICAgICAgICAgICAgICAgIHNib3QucXVlcnkucmVhZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJUeXBlcygpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlcldpdGhVc2VyRmlsdGVycygpLFxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpbHRlckxpbWl0KCksXG4gICAgICAgICAgICAgICAgICAgIHB1bGwuY29sbGVjdChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwibm8gc2JvdFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGNoYW5uZWxTdWJzY3JpYmUoY2hhbm5lbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGNvbnN0IG1zZ1RvUG9zdCA9IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJjaGFubmVsXCIsXG4gICAgICAgICAgICAgICAgXCJjaGFubmVsXCI6IGNoYW5uZWwsXG4gICAgICAgICAgICAgICAgXCJzdWJzY3JpYmVkXCI6IHRydWVcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNib3QpIHtcbiAgICAgICAgICAgICAgICBzYm90LnB1Ymxpc2gobXNnVG9Qb3N0LCBmdW5jdGlvbiAoZXJyLCBtc2cpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUobXNnKVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBjaGFubmVsVW5zdWJzY3JpYmUoY2hhbm5lbCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGNvbnN0IG1zZ1RvUG9zdCA9IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJjaGFubmVsXCIsXG4gICAgICAgICAgICAgICAgXCJjaGFubmVsXCI6IGNoYW5uZWwsXG4gICAgICAgICAgICAgICAgXCJzdWJzY3JpYmVkXCI6IGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgc2JvdC5wdWJsaXNoKG1zZ1RvUG9zdCwgZnVuY3Rpb24gKGVyciwgbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1zZylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgY2hhbm5lbFN1YnNjcmliZWQoY2hhbm5lbCwgZmVlZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtXG4gICAgICAgICAgICBsZXQgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlZWQgPSBzYm90LmlkXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIiRmaWx0ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGZlZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNoYW5uZWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbm5lbFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcHVsbChcbiAgICAgICAgICAgICAgICAgICAgc2JvdC5xdWVyeS5yZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBwdWxsLmNvbGxlY3QoZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhWzBdLnZhbHVlLmNvbnRlbnQuc3Vic2NyaWJlZCB8fCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIm5vIHNib3RcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBzdWJzY3JpYmVkQ2hhbm5lbHMoY2hhbm5lbCwgZmVlZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtXG4gICAgICAgICAgICBsZXQgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFmZWVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlZWQgPSBzYm90LmlkXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIiRmaWx0ZXJcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdXRob3I6IGZlZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNoYW5uZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCIkbWFwXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6IFtcInZhbHVlXCIsIFwiY29udGVudFwiLCBcImNoYW5uZWxcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVkOiBbXCJ2YWx1ZVwiLCBcImNvbnRlbnRcIiwgXCJzdWJzY3JpYmVkXCJdXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiJHNvcnRcIjogW1tcInZhbHVlXCIsIFwidGltZXN0YW1wXCJdXVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcHVsbChcbiAgICAgICAgICAgICAgICAgICAgc2JvdC5xdWVyeS5yZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBwdWxsLmNvbGxlY3QoZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIm5vIHNib3RcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBmb2xsb3coZmVlZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGNvbnN0IG1zZ1RvUG9zdCA9IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJjb250YWN0XCIsXG4gICAgICAgICAgICAgICAgXCJjb250YWN0XCI6IGZlZWQsXG4gICAgICAgICAgICAgICAgXCJmb2xsb3dpbmdcIjogdHJ1ZVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2JvdCkge1xuICAgICAgICAgICAgICAgIHNib3QucHVibGlzaChtc2dUb1Bvc3QsIGZ1bmN0aW9uIChlcnIsIG1zZykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyKVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShtc2cpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHVuZm9sbG93KGZlZWQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNib3QgPSBoZXJtaWVib3guc2JvdCB8fCBmYWxzZVxuXG4gICAgICAgICAgICBjb25zdCBtc2dUb1Bvc3QgPSB7XG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiY29udGFjdFwiLFxuICAgICAgICAgICAgICAgIFwiY29udGFjdFwiOiBmZWVkLFxuICAgICAgICAgICAgICAgIFwiZm9sbG93aW5nXCI6IGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgc2JvdC5wdWJsaXNoKG1zZ1RvUG9zdCwgZnVuY3Rpb24gKGVyciwgbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1zZylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgYmxvY2soZmVlZCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGNvbnN0IG1zZ1RvUG9zdCA9IHtcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJjb250YWN0XCIsXG4gICAgICAgICAgICAgICAgXCJjb250YWN0XCI6IGZlZWQsXG4gICAgICAgICAgICAgICAgXCJibG9ja2luZ1wiOiB0cnVlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgc2JvdC5wdWJsaXNoKG1zZ1RvUG9zdCwgZnVuY3Rpb24gKGVyciwgbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1zZylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgdW5ibG9jayhmZWVkKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzYm90ID0gaGVybWllYm94LnNib3QgfHwgZmFsc2VcblxuICAgICAgICAgICAgY29uc3QgbXNnVG9Qb3N0ID0ge1xuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImNvbnRhY3RcIixcbiAgICAgICAgICAgICAgICBcImNvbnRhY3RcIjogZmVlZCxcbiAgICAgICAgICAgICAgICBcImJsb2NraW5nXCI6IGZhbHNlXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgc2JvdC5wdWJsaXNoKG1zZ1RvUG9zdCwgZnVuY3Rpb24gKGVyciwgbXNnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG1zZylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgZm9sbG93aW5nKGZlZWQsIGJ5V2hvbSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtXG4gICAgICAgICAgICBsZXQgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFieVdob20pIHtcbiAgICAgICAgICAgICAgICAgICAgYnlXaG9tID0gc2JvdC5pZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCIkZmlsdGVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBieVdob20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbnRhY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdDogZmVlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nOiB7ICRpczogXCJib29sZWFuXCIgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICAgICAgcHVsbChcbiAgICAgICAgICAgICAgICAgICAgc2JvdC5xdWVyeS5yZWFkKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlcbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXZlcnNlOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBwdWxsLmNvbGxlY3QoZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhWzBdLnZhbHVlLmNvbnRlbnQuZm9sbG93aW5nIHx8IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZmFsc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwibm8gc2JvdFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGJsb2NraW5nKGZlZWQsIGJ5V2hvbSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtXG4gICAgICAgICAgICBsZXQgc2JvdCA9IGhlcm1pZWJveC5zYm90IHx8IGZhbHNlXG5cbiAgICAgICAgICAgIGlmIChzYm90KSB7XG4gICAgICAgICAgICAgICAgaWYgKCFieVdob20pIHtcbiAgICAgICAgICAgICAgICAgICAgYnlXaG9tID0gc2JvdC5pZFxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBxdWVyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgXCIkZmlsdGVyXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXV0aG9yOiBieVdob20sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImNvbnRhY3RcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGFjdDogZmVlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvY2tpbmc6IHsgJGlzOiBcImJvb2xlYW5cIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG5cbiAgICAgICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgICAgICBzYm90LnF1ZXJ5LnJlYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2U6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHB1bGwuY29sbGVjdChmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGRhdGFbMF0udmFsdWUuY29udGVudC5ibG9ja2luZyB8fCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIm5vIHNib3RcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICBxdWVyeShmaWx0ZXIsIHJldmVyc2UsIG1hcCwgcmVkdWNlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2JvdCkge1xuXG4gICAgICAgICAgICAgICAgbGV0IHF1ZXJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIiRmaWx0ZXJcIjogZmlsdGVyXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG1hcCkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS4kbWFwID0gbWFwXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHJlZHVjZSkge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeS4kcmVkdWNlID0gcmVkdWNlXG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXZlcnNlID09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV2ZXJzZSA9IHRydWVcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwdWxsKFxuICAgICAgICAgICAgICAgICAgICBzYm90LnF1ZXJ5LnJlYWQoe1xuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdWVyeVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmVyc2U6IHJldmVyc2VcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmlsdGVyVHlwZXMoKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWx0ZXJMaW1pdCgpLFxuICAgICAgICAgICAgICAgICAgICBwdWxsLmNvbGxlY3QoKGVyciwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJlamVjdChcIm5vIHNib3RcIilcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICB9XG5cblxuICAgIGZyaWVuZHNoaXAoc291cmNlLCBkZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgcHVsbCA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxTdHJlYW1cbiAgICAgICAgICAgIGxldCBzYm90ID0gaGVybWllYm94LnNib3QgfHwgZmFsc2VcblxuICAgICAgICAgICAgaWYgKHNib3QpIHtcbiAgICAgICAgICAgICAgICBsZXQgcXVlcnkgPSB7XG4gICAgICAgICAgICAgICAgICAgIFwiJGZpbHRlclwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcjogc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJjb250YWN0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cblxuICAgICAgICAgICAgICAgIHB1bGwoXG4gICAgICAgICAgICAgICAgICAgIHNib3QucXVlcnkucmVhZCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWVyeTogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5XG4gICAgICAgICAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBwdWxsLmNvbGxlY3QoKGVycixkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycilcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KFwibm8gc2JvdFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMuU1NCID0gU1NCXG4iLCJjb25zdCB7IHdyaXRhYmxlLCBkZXJpdmVkIH0gPSByZXF1aXJlKFwic3ZlbHRlL3N0b3JlXCIpXHJcbmNvbnN0IHsgU1NCIH0gPSByZXF1aXJlKFwiLi9zc2JcIilcclxuY29uc3QgeyBzYXZlZEtleXMgfSA9IHJlcXVpcmUoXCIuL3ByZWZzLmpzXCIpXHJcblxyXG5jb25zdCBxdWVyeVN0cmluZyA9IHJlcXVpcmUoXCJxdWVyeS1zdHJpbmdcIilcclxuY29uc3QgUHVibGljID0gcmVxdWlyZShcIi4vdmlld3MvUHVibGljLnN2ZWx0ZVwiKVxyXG5jb25zdCBEZWZhdWx0ID0gcmVxdWlyZShcIi4vdmlld3MvRGVmYXVsdC5zdmVsdGVcIilcclxuY29uc3QgQ29tcG9zZSA9IHJlcXVpcmUoXCIuL3ZpZXdzL2NvbXBvc2UvQ29tcG9zZS5zdmVsdGVcIilcclxuY29uc3QgQ29tcG9zZUJsb2cgPSByZXF1aXJlKFwiLi92aWV3cy9jb21wb3NlL2Jsb2cvQ29tcG9zZUJsb2cuc3ZlbHRlXCIpXHJcbmNvbnN0IFRocmVhZCA9IHJlcXVpcmUoXCIuL3ZpZXdzL1RocmVhZC5zdmVsdGVcIilcclxuY29uc3QgUHJvZmlsZSA9IHJlcXVpcmUoXCIuL3ZpZXdzL3Byb2ZpbGUvUHJvZmlsZS5zdmVsdGVcIilcclxuY29uc3QgRXJyb3JWaWV3ID0gcmVxdWlyZShcIi4vdmlld3MvRXJyb3JWaWV3LnN2ZWx0ZVwiKVxyXG5jb25zdCBDaGFubmVscyA9IHJlcXVpcmUoXCIuL3ZpZXdzL0NoYW5uZWxzLnN2ZWx0ZVwiKVxyXG5jb25zdCBDaGFubmVsID0gcmVxdWlyZShcIi4vdmlld3MvQ2hhbm5lbC5zdmVsdGVcIilcclxuY29uc3QgTWVudGlvbnMgPSByZXF1aXJlKFwiLi92aWV3cy9NZW50aW9ucy5zdmVsdGVcIilcclxuY29uc3QgU2V0dGluZ3MgPSByZXF1aXJlKFwiLi92aWV3cy9zZXR0aW5ncy9TZXR0aW5ncy5zdmVsdGVcIilcclxuY29uc3QgU2VhcmNoID0gcmVxdWlyZShcIi4vdmlld3MvU2VhcmNoLnN2ZWx0ZVwiKTtcclxuXHJcbmNvbnN0IHBhcnNlTG9jYXRpb24gPSAoKSA9PiB7XHJcbiAgbGV0IGRhdGEgPSBxdWVyeVN0cmluZy5wYXJzZSh3aW5kb3cubG9jYXRpb24uc2VhcmNoKVxyXG4gIGxldCBsb2MgPSB3aW5kb3cubG9jYXRpb24uaGFzaC5zbGljZSgxKS5yZXBsYWNlKFwiP1wiLCBcIlwiKVxyXG4gIHJldHVybiB7IGRhdGEsIGxvY2F0aW9uOiBsb2MgfVxyXG59O1xyXG5cclxuY29uc3QgaW50ZXJjZXB0ID0gKCkgPT4ge1xyXG4gIGxldCByID0gcGFyc2VMb2NhdGlvbigpXHJcbiAgaWYgKHIubG9jYXRpb24gPT0gXCIvaW50ZXJjZXB0XCIgJiYgci5kYXRhLnF1ZXJ5KSB7XHJcbiAgICBsZXQgaGFzaCA9IHIuZGF0YS5xdWVyeS5yZXBsYWNlKFwic3NiOlwiLCBcIlwiKVxyXG4gICAgbGV0IHNpZ2lsID0gaGFzaFswXVxyXG4gICAgc3dpdGNoIChzaWdpbCkge1xyXG4gICAgICBjYXNlIFwiJVwiOlxyXG4gICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9IGAvaW5kZXguaHRtbD90aHJlYWQ9JHtlbmNvZGVVUklDb21wb25lbnQoaGFzaCl9Iy90aHJlYWRgXHJcbiAgICAgICAgYnJlYWtcclxuICAgICAgY2FzZSBcIiZcIjpcclxuICAgICAgICB3aW5kb3cubG9jYXRpb24gPSBgaHR0cDovL2xvY2FsaG9zdDo4OTg5L2Jsb2JzL2dldC8ke2hhc2h9YFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgXCJAXCI6XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gYC9pbmRleC5odG1sP2ZlZWQ9JHtlbmNvZGVVUklDb21wb25lbnQoaGFzaCl9Iy9wcm9maWxlYFxyXG4gICAgICAgIGJyZWFrXHJcbiAgICAgIGNhc2UgXCIjXCI6XHJcbiAgICAgICAgd2luZG93LmxvY2F0aW9uID0gYC9pbmRleC5odG1sP2NoYW5uZWw9JHtoYXNoLnJlcGxhY2UoXCIjXCIsIFwiXCIpfSMvY2hhbm5lbGBcclxuICAgICAgICBicmVha1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgY29ubmVjdGVkID0gd3JpdGFibGUoZmFsc2UpO1xyXG5cclxuLy8gbWF5YmUgaW4gdGhlIGZ1dHVyZSwgbWlncmF0ZSByb3V0aW5nIHN5c3RlbSB0bzpcclxuLy8gaHR0cHM6Ly9naXRodWIuY29tL0l0YWx5UGFsZUFsZS9zdmVsdGUtc3BhLXJvdXRlclxyXG5jb25zdCByb3V0ZSA9IHdyaXRhYmxlKHBhcnNlTG9jYXRpb24oKSk7XHJcbmNvbnN0IHJvdXRlUGFyYW1zID0gZGVyaXZlZChyb3V0ZSwgJHJvdXRlID0+ICRyb3V0ZS5kYXRhKVxyXG5jb25zdCByb3V0ZUxvY2F0aW9uID0gZGVyaXZlZChyb3V0ZSwgJHJvdXRlID0+ICRyb3V0ZS5sb2NhdGlvbilcclxuXHJcbmNvbnN0IG5hdmlnYXRlID0gKGxvY2F0aW9uLCBkYXRhKSA9PiB7XHJcbiAgZGF0YSA9IGRhdGEgfHwge31cclxuICByb3V0ZS5zZXQoeyBsb2NhdGlvbiwgZGF0YSB9KTtcclxuICBsZXQgZGF0YUFzUXVlcnkgPSBxdWVyeVN0cmluZy5zdHJpbmdpZnkoZGF0YSk7XHJcbiAgbGV0IHVybCA9IGAvaW5kZXguaHRtbD8ke2RhdGFBc1F1ZXJ5fSMke2xvY2F0aW9ufWA7XHJcbiAgY29uc29sZS5sb2coXCJuYXZpZ2F0ZSB1cmxcIiwgdXJsKVxyXG4gIGhpc3RvcnkucHVzaFN0YXRlKHsgbG9jYXRpb24sIGRhdGEgfSwgYFBhdGNoZm94IC0gJHtsb2NhdGlvbn1gLCBgL2luZGV4Lmh0bWw/JHtkYXRhQXNRdWVyeX0jJHtsb2NhdGlvbn1gKTtcclxuICBjb25zb2xlLmxvZyhgTmF2aWdhdGUgJHtsb2NhdGlvbn1gLCBkYXRhKTtcclxufTtcclxuXHJcblxyXG5jb25zdCByb3V0ZXMgPSB7XHJcbiAgXCIvdGhyZWFkXCI6IFRocmVhZCxcclxuICBcIi9wdWJsaWNcIjogUHVibGljLFxyXG4gIFwiL2NvbXBvc2UvcG9zdFwiOiBDb21wb3NlLFxyXG4gIFwiL2NvbXBvc2UvYmxvZ1wiOiBDb21wb3NlQmxvZyxcclxuICBcIi9jb21wb3NlXCI6IENvbXBvc2UsXHJcbiAgXCIvcHJvZmlsZVwiOiBQcm9maWxlLFxyXG4gIFwiL2Vycm9yXCI6IEVycm9yVmlldyxcclxuICBcIi9jaGFubmVsc1wiOiBDaGFubmVscyxcclxuICBcIi9jaGFubmVsXCI6IENoYW5uZWwsXHJcbiAgXCIvc2V0dGluZ3NcIjogU2V0dGluZ3MsXHJcbiAgXCIvbWVudGlvbnNcIjogTWVudGlvbnMsXHJcbiAgXCIvc2VhcmNoXCI6IFNlYXJjaCxcclxuICBcIipcIjogRGVmYXVsdFxyXG59O1xyXG5cclxuXHJcblxyXG5jb25zdCBjdXJyZW50VmlldyA9IGRlcml2ZWQoW2Nvbm5lY3RlZCwgcm91dGVdLCAoWyRjb25uZWN0ZWQsICRyb3V0ZV0pID0+IHtcclxuICBsZXQgciA9ICRyb3V0ZS5sb2NhdGlvblxyXG4gIGlmICgkY29ubmVjdGVkKSB7XHJcbiAgICBpZiAocm91dGVzLmhhc093blByb3BlcnR5KHIpKSB7XHJcbiAgICAgIHJldHVybiByb3V0ZXNbcl07XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zb2xlLmxvZyhcImRpZG4ndCBmaW5kXCIsIHIpO1xyXG4gICAgICByZXR1cm4gcm91dGVzW1wiKlwiXTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKHIgPT09IFwiL3NldHRpbmdzXCIpIHtcclxuICAgICAgcmV0dXJuIFNldHRpbmdzXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gcm91dGVzW1wiKlwiXTtcclxuICAgIH1cclxuICB9XHJcblxyXG5cclxufSk7XHJcblxyXG5cclxuLy8vIGNvbm5lY3Rpb24gc3R1ZmZcclxuXHJcbmNvbnN0IGNvbmZpZ3VyYXRpb25NaXNzaW5nID0gKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiY29uZmlnIG1pc3NpbmdcIik7XHJcbiAgd2luZG93LmxvY2F0aW9uID0gXCIvZG9jcy9pbmRleC5odG1sIy90cm91Ymxlc2hvb3Rpbmcvbm8tY29uZmlndXJhdGlvblwiO1xyXG59O1xyXG5cclxuY29uc3QgY2FudENvbm5lY3QgPSAoKSA9PiB7XHJcbiAgY29uc29sZS5sb2coXCJjb25maWcgbWlzc2luZ1wiKTtcclxuICB3aW5kb3cubG9jYXRpb24gPSBcIi9kb2NzL2luZGV4Lmh0bWwjL3Ryb3VibGVzaG9vdGluZy9uby1jb25uZWN0aW9uXCI7XHJcbn07XHJcblxyXG5jb25zdCBjb25uZWN0ID0gYXN5bmMgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKFwiQ29ubmVjdGluZyB0byBzYm90Li4uXCIpXHJcbiAgd2luZG93LnNzYiA9IG5ldyBTU0IoKTtcclxuXHJcbiAgdHJ5IHtcclxuICAgIGF3YWl0IHNzYi5jb25uZWN0KHNhdmVkS2V5cygpKVxyXG4gICAgY29ubmVjdGVkLnNldCh0cnVlKTtcclxuICB9IGNhdGNoIChlcnIpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBjb25uZWN0XCIsIGVycik7XHJcbiAgICBjb25uZWN0ZWQuc2V0KGZhbHNlKVxyXG4gICAgdGhyb3cgXCJDYW4ndCBjb25uZWN0IHRvIHNib3RcIlxyXG4gIH1cclxufVxyXG5cclxuY29uc3QgcmVjb25uZWN0ID0gKCkgPT4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCB0cnlDb25uZWN0ID0gKGRhdGEpID0+IHtcclxuICAgICAgd2luZG93LnNzYiA9IG5ldyBTU0IoKTtcclxuXHJcbiAgICAgIHNzYlxyXG4gICAgICAgIC5jb25uZWN0KGRhdGEua2V5cylcclxuICAgICAgICAudGhlbihkYXRhID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29ubmVjdGVkXCIpO1xyXG4gICAgICAgICAgY29ubmVjdGVkLnNldCh0cnVlKTtcclxuICAgICAgICAgIHJlc29sdmUoKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY2FuJ3QgcmVjb25uZWN0XCIsIGVycik7XHJcbiAgICAgICAgICByZWplY3QoZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBicm93c2VyLnN0b3JhZ2UubG9jYWxcclxuICAgICAgLmdldCgpXHJcbiAgICAgIC50aGVuKHRyeUNvbm5lY3QsIHJlamVjdCk7XHJcbiAgfSlcclxufVxyXG5cclxuY29uc3QgbG9hZENhY2hlcyA9IGFzeW5jICgpID0+IHtcclxuICBhd2FpdCBzc2IubG9hZENhY2hlcygpO1xyXG59XHJcblxyXG5jb25zdCBrZWVwUGluZ2luZyA9ICgpID0+IHtcclxuICBsZXQgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICBpZiAoaGVybWllYm94LnNib3QpIHtcclxuICAgICAgaGVybWllYm94LnNib3Qud2hvYW1pKChlcnIsIHYpID0+IHtcclxuICAgICAgICBpZiAoZXJyKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY2FuJ3QgY2FsbCB3aG9hbWlcIiwgZXJyKTtcclxuICAgICAgICAgIHJlY29ubmVjdCgpLmNhdGNoKG4gPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiY2FuJ3QgcmVjb25uZWN0XCIpO1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsKTtcclxuICAgICAgICAgICAgbmF2aWdhdGUoXCIvZXJyb3JcIiwgeyBlcnJvcjogbiB9KTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSwgNTAwMCk7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0ge1xyXG4gIGNvbm5lY3RlZCxcclxuICBwYXJzZUxvY2F0aW9uLFxyXG4gIHJvdXRlUGFyYW1zLFxyXG4gIGludGVyY2VwdCxcclxuICBjb25uZWN0LFxyXG4gIHJvdXRlLFxyXG4gIHJvdXRlUGFyYW1zLFxyXG4gIHJvdXRlTG9jYXRpb24sXHJcbiAgbmF2aWdhdGUsXHJcbiAgY3VycmVudFZpZXcsXHJcbiAgcmVjb25uZWN0LFxyXG4gIGtlZXBQaW5naW5nLFxyXG4gIGxvYWRDYWNoZXNcclxufSIsIi8qIENoYW5uZWwuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhc3NpZ24sXG5cdGF0dHIsXG5cdGNoZWNrX291dHJvcyxcblx0Y29tcG9uZW50X3N1YnNjcmliZSxcblx0ZGVzdHJveV9jb21wb25lbnQsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0ZW1wdHksXG5cdGdsb2JhbHMsXG5cdGdyb3VwX291dHJvcyxcblx0aGFuZGxlX3Byb21pc2UsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdG5vb3AsXG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLFxuXHRwcmV2ZW50X2RlZmF1bHQsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzcGFjZSxcblx0c3RvcF9wcm9wYWdhdGlvbixcblx0dGV4dCxcblx0dHJhbnNpdGlvbl9pbixcblx0dHJhbnNpdGlvbl9vdXQsXG5cdHVwZGF0ZV9rZXllZF9lYWNoLFxuXHR2YWxpZGF0ZV9zdG9yZVxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IHsgT2JqZWN0OiBPYmplY3RfMSwgZG9jdW1lbnQ6IGRvY3VtZW50XzEgfSA9IGdsb2JhbHM7XG5cbmNvbnN0IGZpbGUgPSBcIkNoYW5uZWwuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGFkZF9jc3MoKSB7XG5cdHZhciBzdHlsZSA9IGVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGUuaWQgPSAnc3ZlbHRlLWtkaXU0NC1zdHlsZSc7XG5cdHN0eWxlLnRleHRDb250ZW50ID0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVEyaGhibTVsYkM1emRtVnNkR1VpTENKemIzVnlZMlZ6SWpwYklrTm9ZVzV1Wld3dWMzWmxiSFJsSWwwc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklqeHpZM0pwY0hRK1hISmNiaUFnWTI5dWMzUWdUV1Z6YzJGblpWSmxibVJsY21WeUlEMGdjbVZ4ZFdseVpTaGNJaTR1TDIxbGMzTmhaMlZVZVhCbGN5OU5aWE56WVdkbFVtVnVaR1Z5WlhJdWMzWmxiSFJsWENJcE8xeHlYRzRnSUdOdmJuTjBJSHNnYm1GMmFXZGhkR1VzSUhKdmRYUmxVR0Z5WVcxeklIMGdQU0J5WlhGMWFYSmxLRndpTGk0dmRYUnBiSE11YW5OY0lpazdYSEpjYmlBZ1kyOXVjM1FnZXlCblpYUlFjbVZtSUgwZ1BTQnlaWEYxYVhKbEtGd2lMaTR2Y0hKbFpuTXVhbk5jSWlrN1hISmNiaUFnWTI5dWMzUWdleUJ2YmsxdmRXNTBMQ0J2YmtSbGMzUnliM2tnZlNBOUlISmxjWFZwY21Vb1hDSnpkbVZzZEdWY0lpazdYSEpjYmx4eVhHNGdJR3hsZENCdGMyZHpJRDBnWm1Gc2MyVTdYSEpjYmlBZ2JHVjBJR1Z5Y205eUlEMGdKSEp2ZFhSbFVHRnlZVzF6TG1WeWNtOXlJSHg4SUdaaGJITmxPMXh5WEc0Z0lHeGxkQ0JqYUdGdWJtVnNJRDBnSkhKdmRYUmxVR0Z5WVcxekxtTm9ZVzV1Wld3Z2ZId2dabUZzYzJVN1hISmNiaUFnYkdWMElITjFZbk5qY21saVpXUWdQU0JtWVd4elpUdGNjbHh1SUNCc1pYUWdjSEp2YldselpUdGNjbHh1WEhKY2JpQWdhV1lnS0NGamFHRnVibVZzS1NCN1hISmNiaUFnSUNCamIyNXpiMnhsTG14dlp5aGNJbU5oYmlkMElHNWhkbWxuWVhSbElIUnZJSFZ1Ym1GdFpXUWdZMmhoYm01bGJDd2daMjlwYm1jZ1ltRmpheUIwYnlCd2RXSnNhV05jSWlrN1hISmNiaUFnSUNCc2IyTmhkR2x2YmlBOUlGd2lhVzVrWlhndWFIUnRiQ012Y0hWaWJHbGpYQ0k3SUM4dklHWnZjbU5sSUhKbGJHOWhaQzVjY2x4dUlDQjlYSEpjYmx4eVhHNGdJR3hsZENCdmNIUnpJRDBnZTF4eVhHNGdJQ0FnYkdsdGFYUTZJQ1J5YjNWMFpWQmhjbUZ0Y3k1c2FXMXBkQ0I4ZkNCblpYUlFjbVZtS0Z3aWJHbHRhWFJjSWl3Z01UQXBMRnh5WEc0Z0lDQWdjbVYyWlhKelpUb2dkSEoxWlZ4eVhHNGdJSDA3WEhKY2JseHlYRzRnSUhOellpNWphR0Z1Ym1Wc1UzVmljMk55YVdKbFpDaGphR0Z1Ym1Wc0tTNTBhR1Z1S0hNZ1BUNGdLSE4xWW5OamNtbGlaV1FnUFNCektTazdYSEpjYmx4eVhHNGdJQzh2SUhSdlpHODZJRzF2ZG1VZ1ltRmpheUJwYm5SdklIVnphVzVuSUhOMGIzSmxjeTVjY2x4dUlDQWtPaUI3WEhKY2JpQWdJQ0JQWW1wbFkzUXVZWE56YVdkdUtHOXdkSE1zSUNSeWIzVjBaVkJoY21GdGN5azdYSEpjYmx4eVhHNGdJQ0FnWkc5amRXMWxiblF1ZEdsMGJHVWdQU0JnVUdGMFkyaG1iM2dnTFNBakpIdGphR0Z1Ym1Wc2ZXQTdYSEpjYmx4eVhHNGdJQ0FnYVdZZ0tHOXdkSE11YUdGelQzZHVVSEp2Y0dWeWRIa29YQ0pzZEZ3aUtTa2dlMXh5WEc0Z0lDQWdJQ0J2Y0hSekxteDBJRDBnY0dGeWMyVkpiblFvYjNCMGN5NXNkQ2s3WEhKY2JpQWdJQ0I5WEhKY2JseHlYRzRnSUNBZ2FXWWdLRzl3ZEhNdWFHRnpUM2R1VUhKdmNHVnlkSGtvWENKc2FXMXBkRndpS1NrZ2UxeHlYRzRnSUNBZ0lDQnZjSFJ6TG14cGJXbDBJRDBnY0dGeWMyVkpiblFvYjNCMGN5NXNhVzFwZENrN1hISmNiaUFnSUNCOVhISmNibHh5WEc0Z0lDQWdjSEp2YldselpTQTlJSE56WWx4eVhHNGdJQ0FnSUNBdVkyaGhibTVsYkNoamFHRnVibVZzTENCdmNIUnpLVnh5WEc0Z0lDQWdJQ0F1ZEdobGJpaHRjeUE5UGlCN1hISmNiaUFnSUNBZ0lDQWdZMjl1YzI5c1pTNXNiMmNvWENKdGMyZGNJaXdnYlhNcE8xeHlYRzRnSUNBZ0lDQWdJRzF6WjNNZ1BTQnRjenRjY2x4dUlDQWdJQ0FnSUNCM2FXNWtiM2N1YzJOeWIyeHNWRzhvTUN3Z01DazdYSEpjYmlBZ0lDQWdJSDBwWEhKY2JpQWdJQ0FnSUM1allYUmphQ2h1SUQwK0lIdGNjbHh1SUNBZ0lDQWdJQ0JwWmlBb0lXVnljbTl5S1NCN1hISmNiaUFnSUNBZ0lDQWdJQ0JqYjI1emIyeGxMbVZ5Y205eUtGd2laWEp5Y25KdmIyOXZiM0pjSWl3Z2JpazdYSEpjYmlBZ0lDQWdJQ0FnZlZ4eVhHNGdJQ0FnSUNCOUtUdGNjbHh1SUNCOVhISmNibHh5WEc0Z0lHTnZibk4wSUhOMVluTmpjbWx3ZEdsdmJrTm9ZVzVuWldRZ1BTQmxkaUE5UGlCN1hISmNiaUFnSUNCc1pYUWdkaUE5SUdWMkxuUmhjbWRsZEM1amFHVmphMlZrTzF4eVhHNGdJQ0FnYVdZZ0tIWXBJSHRjY2x4dUlDQWdJQ0FnYzNOaUxtTm9ZVzV1Wld4VGRXSnpZM0pwWW1Vb1kyaGhibTVsYkNrdVkyRjBZMmdvS0NrZ1BUNGdLSE4xWW5OamNtbGlaV1FnUFNCbVlXeHpaU2twTzF4eVhHNGdJQ0FnZlNCbGJITmxJSHRjY2x4dUlDQWdJQ0FnYzNOaUxtTm9ZVzV1Wld4VmJuTjFZbk5qY21saVpTaGphR0Z1Ym1Wc0tTNWpZWFJqYUNnb0tTQTlQaUFvYzNWaWMyTnlhV0psWkNBOUlIUnlkV1VwS1R0Y2NseHVJQ0FnSUgxY2NseHVJQ0I5TzF4eVhHNWNjbHh1SUNCamIyNXpkQ0JuYjA1bGVIUWdQU0FvS1NBOVBpQjdYSEpjYmlBZ0lDQnNaWFFnYkhRZ1BTQnRjMmR6VzIxelozTXViR1Z1WjNSb0lDMGdNVjB1ZG1Gc2RXVXVkR2x0WlhOMFlXMXdPMXh5WEc0Z0lDQWdiWE5uY3lBOUlGdGRPMXh5WEc0Z0lDQWdibUYyYVdkaGRHVW9YQ0l2WTJoaGJtNWxiRndpTENCN1hISmNiaUFnSUNBZ0lHTm9ZVzV1Wld3c1hISmNiaUFnSUNBZ0lHeDBYSEpjYmlBZ0lDQjlLVHRjY2x4dUlDQjlPMXh5WEc0Z0lHTnZibk4wSUdkdlVISmxkbWx2ZFhNZ1BTQW9LU0E5UGlCN1hISmNiaUFnSUNCb2FYTjBiM0o1TG1KaFkyc29LVHRjY2x4dUlDQjlPMXh5WEc0OEwzTmpjbWx3ZEQ1Y2NseHVYSEpjYmp4emRIbHNaVDVjY2x4dUlDQXViV1Z1ZFMxeWFXZG9kQ0I3WEhKY2JpQWdJQ0J5YVdkb2REb2dNSEI0TzF4eVhHNGdJQ0FnYkdWbWREb2dkVzV6WlhRN1hISmNiaUFnSUNCdGFXNHRkMmxrZEdnNklETXdNSEI0TzF4eVhHNGdJSDFjY2x4dVBDOXpkSGxzWlQ1Y2NseHVYSEpjYmp4a2FYWWdZMnhoYzNNOVhDSmpiMjUwWVdsdVpYSmNJajVjY2x4dUlDQThaR2wySUdOc1lYTnpQVndpWTI5c2RXMXVjMXdpUGx4eVhHNGdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0ltTnZiSFZ0Ymx3aVBseHlYRzRnSUNBZ0lDQThhRFErUTJoaGJtNWxiRG9nSTN0amFHRnVibVZzZlR3dmFEUStYSEpjYmlBZ0lDQThMMlJwZGo1Y2NseHVJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc1Y0lqNWNjbHh1SUNBZ0lDQWdQR3hoWW1Wc0lHTnNZWE56UFZ3aVptOXliUzF6ZDJsMFkyZ2dabXh2WVhRdGNtbG5hSFJjSWo1Y2NseHVJQ0FnSUNBZ0lDQThhVzV3ZFhSY2NseHVJQ0FnSUNBZ0lDQWdJSFI1Y0dVOVhDSmphR1ZqYTJKdmVGd2lYSEpjYmlBZ0lDQWdJQ0FnSUNCdmJqcGphR0Z1WjJVOWUzTjFZbk5qY21sd2RHbHZia05vWVc1blpXUjlYSEpjYmlBZ0lDQWdJQ0FnSUNCaWFXNWtPbU5vWldOclpXUTllM04xWW5OamNtbGlaV1I5SUM4K1hISmNiaUFnSUNBZ0lDQWdQR2tnWTJ4aGMzTTlYQ0ptYjNKdExXbGpiMjVjSWlBdlBseHlYRzRnSUNBZ0lDQWdJRk4xWW5OamNtbGlaVnh5WEc0Z0lDQWdJQ0E4TDJ4aFltVnNQbHh5WEc0Z0lDQWdJQ0E4WW5WMGRHOXVYSEpjYmlBZ0lDQWdJQ0FnWTJ4aGMzTTlYQ0ppZEc0Z1luUnVMV3hwYm1zZ1pteHZZWFF0Y21sbmFIUmNJbHh5WEc0Z0lDQWdJQ0FnSUdoeVpXWTlYQ0kvWTJoaGJtNWxiRDE3WTJoaGJtNWxiSDBqTDJOdmJYQnZjMlZjSWx4eVhHNGdJQ0FnSUNBZ0lHOXVPbU5zYVdOcmZIQnlaWFpsYm5SRVpXWmhkV3gwUFhzb0tTQTlQaUJ1WVhacFoyRjBaU2duTDJOdmJYQnZjMlVuTENCN0lHTm9ZVzV1Wld3Z2ZTbDlQbHh5WEc0Z0lDQWdJQ0FnSUU1bGR5QlFiM04wWEhKY2JpQWdJQ0FnSUR3dlluVjBkRzl1UGx4eVhHNGdJQ0FnUEM5a2FYWStYSEpjYmlBZ1BDOWthWFkrWEhKY2Jqd3ZaR2wyUGx4eVhHNTdJMmxtSUdWeWNtOXlmVnh5WEc0Z0lEeGthWFlnWTJ4aGMzTTlYQ0owYjJGemRDQjBiMkZ6ZEMxbGNuSnZjbHdpUGtWeWNtOXlPaUI3WlhKeWIzSjlQQzlrYVhZK1hISmNibnN2YVdaOVhISmNibnNqWVhkaGFYUWdjSEp2YldselpYMWNjbHh1SUNBOFpHbDJJR05zWVhOelBWd2liRzloWkdsdVp5QnNiMkZrYVc1bkxXeG5YQ0lnTHo1Y2NseHVlenAwYUdWdWZWeHlYRzRnSUhzalpXRmphQ0J0YzJkeklHRnpJRzF6WnlBb2JYTm5MbXRsZVNsOVhISmNiaUFnSUNBOFRXVnpjMkZuWlZKbGJtUmxjbVZ5SUh0dGMyZDlJQzgrWEhKY2JpQWdlenBsYkhObGZWeHlYRzRnSUNBZ1BIQStUbThnYldWemMyRm5aWE11UEM5d1BseHlYRzRnSUhzdlpXRmphSDFjY2x4dUlDQThkV3dnWTJ4aGMzTTlYQ0p3WVdkcGJtRjBhVzl1WENJK1hISmNiaUFnSUNBOGJHa2dZMnhoYzNNOVhDSndZV2RsTFdsMFpXMGdjR0ZuWlMxd2NtVjJhVzkxYzF3aVBseHlYRzRnSUNBZ0lDQThZU0JvY21WbVBWd2lJeTl3ZFdKc2FXTmNJaUJ2YmpwamJHbGphM3h6ZEc5d1VISnZjR0ZuWVhScGIyNThjSEpsZG1WdWRFUmxabUYxYkhROWUyZHZVSEpsZG1sdmRYTjlQbHh5WEc0Z0lDQWdJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSndZV2RsTFdsMFpXMHRjM1ZpZEdsMGJHVmNJajVRY21WMmFXOTFjend2WkdsMlBseHlYRzRnSUNBZ0lDQThMMkUrWEhKY2JpQWdJQ0E4TDJ4cFBseHlYRzRnSUNBZ1BHeHBJR05zWVhOelBWd2ljR0ZuWlMxcGRHVnRJSEJoWjJVdGJtVjRkRndpUGx4eVhHNGdJQ0FnSUNBOFlTQm9jbVZtUFZ3aUl5OXdkV0pzYVdOY0lpQnZianBqYkdsamEzeHpkRzl3VUhKdmNHRm5ZWFJwYjI1OGNISmxkbVZ1ZEVSbFptRjFiSFE5ZTJkdlRtVjRkSDArWEhKY2JpQWdJQ0FnSUNBZ1BHUnBkaUJqYkdGemN6MWNJbkJoWjJVdGFYUmxiUzF6ZFdKMGFYUnNaVndpUGs1bGVIUThMMlJwZGo1Y2NseHVJQ0FnSUNBZ1BDOWhQbHh5WEc0Z0lDQWdQQzlzYVQ1Y2NseHVJQ0E4TDNWc1BseHlYRzU3TDJGM1lXbDBmU0pkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lJbjA9ICovXCI7XG5cdGFwcGVuZChkb2N1bWVudF8xLmhlYWQsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dChjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gT2JqZWN0XzEuY3JlYXRlKGN0eCk7XG5cdGNoaWxkX2N0eC5tc2cgPSBsaXN0W2ldO1xuXHRyZXR1cm4gY2hpbGRfY3R4O1xufVxuXG4vLyAoMTA2OjApIHsjaWYgZXJyb3J9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBkaXYsIHQwLCB0MTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJFcnJvcjogXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KGN0eC5lcnJvcik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0IHRvYXN0LWVycm9yXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMTA2LCAyLCAyNTcyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHQwKTtcblx0XHRcdGFwcGVuZChkaXYsIHQxKTtcblx0XHR9LFxuXG5cdFx0cDogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE6MCkgPHNjcmlwdD4gICAgY29uc3QgTWVzc2FnZVJlbmRlcmVyID0gcmVxdWlyZShcIi4uL21lc3NhZ2VUeXBlcy9NZXNzYWdlUmVuZGVyZXIuc3ZlbHRlXCIpOyAgICBjb25zdCB7IG5hdmlnYXRlLCByb3V0ZVBhcmFtcyB9XG5mdW5jdGlvbiBjcmVhdGVfY2F0Y2hfYmxvY2soY3R4KSB7XG5cdHJldHVybiB7XG5cdFx0Yzogbm9vcCxcblx0XHRtOiBub29wLFxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQ6IG5vb3Bcblx0fTtcbn1cblxuLy8gKDExMTowKSB7OnRoZW59XG5mdW5jdGlvbiBjcmVhdGVfdGhlbl9ibG9jayhjdHgpIHtcblx0dmFyIGVhY2hfYmxvY2tzID0gW10sIGVhY2hfMV9sb29rdXAgPSBuZXcgTWFwKCksIHQwLCB1bCwgbGkwLCBhMCwgZGl2MCwgdDIsIGxpMSwgYTEsIGRpdjEsIGN1cnJlbnQsIGRpc3Bvc2U7XG5cblx0dmFyIGVhY2hfdmFsdWUgPSBjdHgubXNncztcblxuXHRjb25zdCBnZXRfa2V5ID0gY3R4ID0+IGN0eC5tc2cua2V5O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGxldCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0KGN0eCwgZWFjaF92YWx1ZSwgaSk7XG5cdFx0bGV0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRlYWNoXzFfbG9va3VwLnNldChrZXksIGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpKTtcblx0fVxuXG5cdHZhciBlYWNoXzFfZWxzZSA9IG51bGw7XG5cblx0aWYgKCFlYWNoX3ZhbHVlLmxlbmd0aCkge1xuXHRcdGVhY2hfMV9lbHNlID0gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KTtcblx0XHRlYWNoXzFfZWxzZS5jKCk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgZWFjaF9ibG9ja3NbaV0uYygpO1xuXG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHR1bCA9IGVsZW1lbnQoXCJ1bFwiKTtcblx0XHRcdGxpMCA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGEwID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRkaXYwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjAudGV4dENvbnRlbnQgPSBcIlByZXZpb3VzXCI7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRsaTEgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0ZGl2MSA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYxLnRleHRDb250ZW50ID0gXCJOZXh0XCI7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJwYWdlLWl0ZW0tc3VidGl0bGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgMTE5LCA4LCAyOTY1KTtcblx0XHRcdGF0dHIoYTAsIFwiaHJlZlwiLCBcIiMvcHVibGljXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEwLCBmaWxlLCAxMTgsIDYsIDI4ODMpO1xuXHRcdFx0YXR0cihsaTAsIFwiY2xhc3NcIiwgXCJwYWdlLWl0ZW0gcGFnZS1wcmV2aW91c1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTAsIGZpbGUsIDExNywgNCwgMjgzOSk7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJwYWdlLWl0ZW0tc3VidGl0bGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgMTI0LCA4LCAzMTU4KTtcblx0XHRcdGF0dHIoYTEsIFwiaHJlZlwiLCBcIiMvcHVibGljXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGExLCBmaWxlLCAxMjMsIDYsIDMwODApO1xuXHRcdFx0YXR0cihsaTEsIFwiY2xhc3NcIiwgXCJwYWdlLWl0ZW0gcGFnZS1uZXh0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMSwgZmlsZSwgMTIyLCA0LCAzMDQwKTtcblx0XHRcdGF0dHIodWwsIFwiY2xhc3NcIiwgXCJwYWdpbmF0aW9uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHVsLCBmaWxlLCAxMTYsIDIsIDI4MTApO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oYTAsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY3R4LmdvUHJldmlvdXMpKSksXG5cdFx0XHRcdGxpc3RlbihhMSwgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZ29OZXh0KSkpXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSBlYWNoX2Jsb2Nrc1tpXS5tKHRhcmdldCwgYW5jaG9yKTtcblxuXHRcdFx0aWYgKGVhY2hfMV9lbHNlKSB7XG5cdFx0XHRcdGVhY2hfMV9lbHNlLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTApO1xuXHRcdFx0YXBwZW5kKGxpMCwgYTApO1xuXHRcdFx0YXBwZW5kKGEwLCBkaXYwKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTEpO1xuXHRcdFx0YXBwZW5kKGxpMSwgYTEpO1xuXHRcdFx0YXBwZW5kKGExLCBkaXYxKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRjb25zdCBlYWNoX3ZhbHVlID0gY3R4Lm1zZ3M7XG5cblx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0ZWFjaF9ibG9ja3MgPSB1cGRhdGVfa2V5ZWRfZWFjaChlYWNoX2Jsb2NrcywgY2hhbmdlZCwgZ2V0X2tleSwgMSwgY3R4LCBlYWNoX3ZhbHVlLCBlYWNoXzFfbG9va3VwLCB0MC5wYXJlbnROb2RlLCBvdXRyb19hbmRfZGVzdHJveV9ibG9jaywgY3JlYXRlX2VhY2hfYmxvY2ssIHQwLCBnZXRfZWFjaF9jb250ZXh0KTtcblx0XHRcdGNoZWNrX291dHJvcygpO1xuXG5cdFx0XHRpZiAoZWFjaF92YWx1ZS5sZW5ndGgpIHtcblx0XHRcdFx0aWYgKGVhY2hfMV9lbHNlKSB7XG5cdFx0XHRcdFx0ZWFjaF8xX2Vsc2UuZCgxKTtcblx0XHRcdFx0XHRlYWNoXzFfZWxzZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoIWVhY2hfMV9lbHNlKSB7XG5cdFx0XHRcdGVhY2hfMV9lbHNlID0gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KTtcblx0XHRcdFx0ZWFjaF8xX2Vsc2UuYygpO1xuXHRcdFx0XHRlYWNoXzFfZWxzZS5tKHQwLnBhcmVudE5vZGUsIHQwKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0pO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgdHJhbnNpdGlvbl9vdXQoZWFjaF9ibG9ja3NbaV0pO1xuXG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGVhY2hfMV9lbHNlKSBlYWNoXzFfZWxzZS5kKGRldGFjaGluZyk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQwKTtcblx0XHRcdFx0ZGV0YWNoKHVsKTtcblx0XHRcdH1cblxuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgxMTQ6MikgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2soY3R4KSB7XG5cdHZhciBwO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0cCA9IGVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0cC50ZXh0Q29udGVudCA9IFwiTm8gbWVzc2FnZXMuXCI7XG5cdFx0XHRhZGRfbG9jYXRpb24ocCwgZmlsZSwgMTE0LCA0LCAyNzc2KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxMTI6MikgeyNlYWNoIG1zZ3MgYXMgbXNnIChtc2cua2V5KX1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGtleV8xLCBjdHgpIHtcblx0dmFyIGZpcnN0LCBjdXJyZW50O1xuXG5cdHZhciBtZXNzYWdlcmVuZGVyZXIgPSBuZXcgY3R4Lk1lc3NhZ2VSZW5kZXJlcih7XG5cdFx0cHJvcHM6IHsgbXNnOiBjdHgubXNnIH0sXG5cdFx0JCRpbmxpbmU6IHRydWVcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRrZXk6IGtleV8xLFxuXG5cdFx0Zmlyc3Q6IG51bGwsXG5cblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmaXJzdCA9IGVtcHR5KCk7XG5cdFx0XHRtZXNzYWdlcmVuZGVyZXIuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0dGhpcy5maXJzdCA9IGZpcnN0O1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZmlyc3QsIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQobWVzc2FnZXJlbmRlcmVyLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0dmFyIG1lc3NhZ2VyZW5kZXJlcl9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2dzKSBtZXNzYWdlcmVuZGVyZXJfY2hhbmdlcy5tc2cgPSBjdHgubXNnO1xuXHRcdFx0bWVzc2FnZXJlbmRlcmVyLiRzZXQobWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChmaXJzdCk7XG5cdFx0XHR9XG5cblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1lc3NhZ2VyZW5kZXJlciwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgxMDk6MTYpICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZyBsb2FkaW5nLWxnXCIgLz4gIHs6dGhlbn1cbmZ1bmN0aW9uIGNyZWF0ZV9wZW5kaW5nX2Jsb2NrKGN0eCkge1xuXHR2YXIgZGl2O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwibG9hZGluZyBsb2FkaW5nLWxnXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMTA5LCAyLCAyNjUyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHR9LFxuXG5cdFx0cDogbm9vcCxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdjMsIGRpdjIsIGRpdjAsIGg0LCB0MCwgdDEsIHQyLCBkaXYxLCBsYWJlbCwgaW5wdXQsIHQzLCBpLCB0NCwgdDUsIGJ1dHRvbiwgdDYsIGJ1dHRvbl9ocmVmX3ZhbHVlLCB0NywgdDgsIGF3YWl0X2Jsb2NrX2FuY2hvciwgcHJvbWlzZV8xLCBjdXJyZW50LCBkaXNwb3NlO1xuXG5cdHZhciBpZl9ibG9jayA9IChjdHguZXJyb3IpICYmIGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXG5cdGxldCBpbmZvID0ge1xuXHRcdGN0eCxcblx0XHRjdXJyZW50OiBudWxsLFxuXHRcdHRva2VuOiBudWxsLFxuXHRcdHBlbmRpbmc6IGNyZWF0ZV9wZW5kaW5nX2Jsb2NrLFxuXHRcdHRoZW46IGNyZWF0ZV90aGVuX2Jsb2NrLFxuXHRcdGNhdGNoOiBjcmVhdGVfY2F0Y2hfYmxvY2ssXG5cdFx0dmFsdWU6ICdudWxsJyxcblx0XHRlcnJvcjogJ251bGwnLFxuXHRcdGJsb2NrczogWywsLF1cblx0fTtcblxuXHRoYW5kbGVfcHJvbWlzZShwcm9taXNlXzEgPSBjdHgucHJvbWlzZSwgaW5mbyk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYzID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjIgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRoNCA9IGVsZW1lbnQoXCJoNFwiKTtcblx0XHRcdHQwID0gdGV4dChcIkNoYW5uZWw6ICNcIik7XG5cdFx0XHR0MSA9IHRleHQoY3R4LmNoYW5uZWwpO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MSA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRsYWJlbCA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0aSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDQgPSB0ZXh0KFwiXFxyXFxuICAgICAgICBTdWJzY3JpYmVcIik7XG5cdFx0XHR0NSA9IHNwYWNlKCk7XG5cdFx0XHRidXR0b24gPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0dDYgPSB0ZXh0KFwiTmV3IFBvc3RcIik7XG5cdFx0XHR0NyA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmMoKTtcblx0XHRcdHQ4ID0gc3BhY2UoKTtcblx0XHRcdGF3YWl0X2Jsb2NrX2FuY2hvciA9IGVtcHR5KCk7XG5cblx0XHRcdGluZm8uYmxvY2suYygpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGg0LCBmaWxlLCA4NSwgNiwgMjAwNik7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJjb2x1bW5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgODQsIDQsIDE5NzgpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQsIGZpbGUsIDg5LCA4LCAyMTI5KTtcblx0XHRcdGF0dHIoaSwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpLCBmaWxlLCA5MywgOCwgMjI1NSk7XG5cdFx0XHRhdHRyKGxhYmVsLCBcImNsYXNzXCIsIFwiZm9ybS1zd2l0Y2ggZmxvYXQtcmlnaHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwsIGZpbGUsIDg4LCA2LCAyMDgwKTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rIGZsb2F0LXJpZ2h0XCIpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiaHJlZlwiLCBidXR0b25faHJlZl92YWx1ZSA9IFwiP2NoYW5uZWw9XCIgKyBjdHguY2hhbm5lbCArIFwiIy9jb21wb3NlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbiwgZmlsZSwgOTYsIDYsIDIzMjEpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwiY29sdW1uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjEsIGZpbGUsIDg3LCA0LCAyMDUyKTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImNvbHVtbnNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgODMsIDIsIDE5NTEpO1xuXHRcdFx0YXR0cihkaXYzLCBcImNsYXNzXCIsIFwiY29udGFpbmVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjMsIGZpbGUsIDgyLCAwLCAxOTI0KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0LCBcImNoYW5nZVwiLCBjdHguaW5wdXRfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiY2hhbmdlXCIsIGN0eC5zdWJzY3JpcHRpb25DaGFuZ2VkKSxcblx0XHRcdFx0bGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCBwcmV2ZW50X2RlZmF1bHQoY3R4LmNsaWNrX2hhbmRsZXIpKVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYzLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGRpdjIpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIGRpdjApO1xuXHRcdFx0YXBwZW5kKGRpdjAsIGg0KTtcblx0XHRcdGFwcGVuZChoNCwgdDApO1xuXHRcdFx0YXBwZW5kKGg0LCB0MSk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgdDIpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGxhYmVsKTtcblx0XHRcdGFwcGVuZChsYWJlbCwgaW5wdXQpO1xuXG5cdFx0XHRpbnB1dC5jaGVja2VkID0gY3R4LnN1YnNjcmliZWQ7XG5cblx0XHRcdGFwcGVuZChsYWJlbCwgdDMpO1xuXHRcdFx0YXBwZW5kKGxhYmVsLCBpKTtcblx0XHRcdGFwcGVuZChsYWJlbCwgdDQpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQ1KTtcblx0XHRcdGFwcGVuZChkaXYxLCBidXR0b24pO1xuXHRcdFx0YXBwZW5kKGJ1dHRvbiwgdDYpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDcsIGFuY2hvcik7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDgsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBhd2FpdF9ibG9ja19hbmNob3IsIGFuY2hvcik7XG5cblx0XHRcdGluZm8uYmxvY2subSh0YXJnZXQsIGluZm8uYW5jaG9yID0gYW5jaG9yKTtcblx0XHRcdGluZm8ubW91bnQgPSAoKSA9PiBhd2FpdF9ibG9ja19hbmNob3IucGFyZW50Tm9kZTtcblx0XHRcdGluZm8uYW5jaG9yID0gYXdhaXRfYmxvY2tfYW5jaG9yO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIG5ld19jdHgpIHtcblx0XHRcdGN0eCA9IG5ld19jdHg7XG5cdFx0XHRpZiAoY2hhbmdlZC5zdWJzY3JpYmVkKSBpbnB1dC5jaGVja2VkID0gY3R4LnN1YnNjcmliZWQ7XG5cblx0XHRcdGlmIChjdHguZXJyb3IpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gY3JlYXRlX2lmX2Jsb2NrKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0odDgucGFyZW50Tm9kZSwgdDgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdGlmX2Jsb2NrLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aW5mby5jdHggPSBjdHg7XG5cblx0XHRcdGlmICgoJ3Byb21pc2UnIGluIGNoYW5nZWQpICYmIHByb21pc2VfMSAhPT0gKHByb21pc2VfMSA9IGN0eC5wcm9taXNlKSAmJiBoYW5kbGVfcHJvbWlzZShwcm9taXNlXzEsIGluZm8pKSB7XG5cdFx0XHRcdC8vIG5vdGhpbmdcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGluZm8uYmxvY2sucChjaGFuZ2VkLCBhc3NpZ24oYXNzaWduKHt9LCBjdHgpLCBpbmZvLnJlc29sdmVkKSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpbmZvLmJsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0Zm9yIChsZXQgaV8xID0gMDsgaV8xIDwgMzsgaV8xICs9IDEpIHtcblx0XHRcdFx0Y29uc3QgYmxvY2sgPSBpbmZvLmJsb2Nrc1tpXzFdO1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChibG9jayk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdjMpO1xuXHRcdFx0XHRkZXRhY2godDcpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godDgpO1xuXHRcdFx0XHRkZXRhY2goYXdhaXRfYmxvY2tfYW5jaG9yKTtcblx0XHRcdH1cblxuXHRcdFx0aW5mby5ibG9jay5kKGRldGFjaGluZyk7XG5cdFx0XHRpbmZvLnRva2VuID0gbnVsbDtcblx0XHRcdGluZm8gPSBudWxsO1xuXG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0ICRyb3V0ZVBhcmFtcztcblxuXHRjb25zdCBNZXNzYWdlUmVuZGVyZXIgPSByZXF1aXJlKFwiLi4vbWVzc2FnZVR5cGVzL01lc3NhZ2VSZW5kZXJlci5zdmVsdGVcIik7XHJcbiAgY29uc3QgeyBuYXZpZ2F0ZSwgcm91dGVQYXJhbXMgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTsgdmFsaWRhdGVfc3RvcmUocm91dGVQYXJhbXMsICdyb3V0ZVBhcmFtcycpOyBjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgcm91dGVQYXJhbXMsICQkdmFsdWUgPT4geyAkcm91dGVQYXJhbXMgPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcykgfSk7XHJcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vcHJlZnMuanNcIik7XHJcbiAgY29uc3QgeyBvbk1vdW50LCBvbkRlc3Ryb3kgfSA9IHJlcXVpcmUoXCJzdmVsdGVcIik7XHJcblxyXG4gIGxldCBtc2dzID0gZmFsc2U7XHJcbiAgbGV0IGVycm9yID0gJHJvdXRlUGFyYW1zLmVycm9yIHx8IGZhbHNlO1xyXG4gIGxldCBjaGFubmVsID0gJHJvdXRlUGFyYW1zLmNoYW5uZWwgfHwgZmFsc2U7XHJcbiAgbGV0IHN1YnNjcmliZWQgPSBmYWxzZTtcclxuICBsZXQgcHJvbWlzZTtcclxuXHJcbiAgaWYgKCFjaGFubmVsKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcImNhbid0IG5hdmlnYXRlIHRvIHVubmFtZWQgY2hhbm5lbCwgZ29pbmcgYmFjayB0byBwdWJsaWNcIik7XHJcbiAgICBsb2NhdGlvbiA9IFwiaW5kZXguaHRtbCMvcHVibGljXCI7IC8vIGZvcmNlIHJlbG9hZC5cclxuICB9XHJcblxyXG4gIGxldCBvcHRzID0ge1xyXG4gICAgbGltaXQ6ICRyb3V0ZVBhcmFtcy5saW1pdCB8fCBnZXRQcmVmKFwibGltaXRcIiwgMTApLFxyXG4gICAgcmV2ZXJzZTogdHJ1ZVxyXG4gIH07XHJcblxyXG4gIHNzYi5jaGFubmVsU3Vic2NyaWJlZChjaGFubmVsKS50aGVuKHMgPT4geyBjb25zdCAkJHJlc3VsdCA9IChzdWJzY3JpYmVkID0gcyk7ICQkaW52YWxpZGF0ZSgnc3Vic2NyaWJlZCcsIHN1YnNjcmliZWQpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG5cclxuICBjb25zdCBzdWJzY3JpcHRpb25DaGFuZ2VkID0gZXYgPT4ge1xyXG4gICAgbGV0IHYgPSBldi50YXJnZXQuY2hlY2tlZDtcclxuICAgIGlmICh2KSB7XHJcbiAgICAgIHNzYi5jaGFubmVsU3Vic2NyaWJlKGNoYW5uZWwpLmNhdGNoKCgpID0+IHsgY29uc3QgJCRyZXN1bHQgPSAoc3Vic2NyaWJlZCA9IGZhbHNlKTsgJCRpbnZhbGlkYXRlKCdzdWJzY3JpYmVkJywgc3Vic2NyaWJlZCk7IHJldHVybiAkJHJlc3VsdDsgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBzc2IuY2hhbm5lbFVuc3Vic2NyaWJlKGNoYW5uZWwpLmNhdGNoKCgpID0+IHsgY29uc3QgJCRyZXN1bHQgPSAoc3Vic2NyaWJlZCA9IHRydWUpOyAkJGludmFsaWRhdGUoJ3N1YnNjcmliZWQnLCBzdWJzY3JpYmVkKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBnb05leHQgPSAoKSA9PiB7XHJcbiAgICBsZXQgbHQgPSBtc2dzW21zZ3MubGVuZ3RoIC0gMV0udmFsdWUudGltZXN0YW1wO1xyXG4gICAgJCRpbnZhbGlkYXRlKCdtc2dzJywgbXNncyA9IFtdKTtcclxuICAgIG5hdmlnYXRlKFwiL2NoYW5uZWxcIiwge1xyXG4gICAgICBjaGFubmVsLFxyXG4gICAgICBsdFxyXG4gICAgfSk7XHJcbiAgfTtcclxuICBjb25zdCBnb1ByZXZpb3VzID0gKCkgPT4ge1xyXG4gICAgaGlzdG9yeS5iYWNrKCk7XHJcbiAgfTtcblxuXHRmdW5jdGlvbiBpbnB1dF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzdWJzY3JpYmVkID0gdGhpcy5jaGVja2VkO1xuXHRcdCQkaW52YWxpZGF0ZSgnc3Vic2NyaWJlZCcsIHN1YnNjcmliZWQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcigpIHtcblx0XHRyZXR1cm4gbmF2aWdhdGUoJy9jb21wb3NlJywgeyBjaGFubmVsIH0pO1xuXHR9XG5cblx0JCRzZWxmLiQkLnVwZGF0ZSA9ICgkJGRpcnR5ID0geyBvcHRzOiAxLCAkcm91dGVQYXJhbXM6IDEsIGNoYW5uZWw6IDEsIGVycm9yOiAxIH0pID0+IHtcblx0XHRpZiAoJCRkaXJ0eS5vcHRzIHx8ICQkZGlydHkuJHJvdXRlUGFyYW1zIHx8ICQkZGlydHkuY2hhbm5lbCB8fCAkJGRpcnR5LmVycm9yKSB7IHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKG9wdHMsICRyb3V0ZVBhcmFtcyk7XHJcbiAgICBcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IGBQYXRjaGZveCAtICMke2NoYW5uZWx9YDtcclxuICAgIFxyXG4gICAgICAgIGlmIChvcHRzLmhhc093blByb3BlcnR5KFwibHRcIikpIHtcclxuICAgICAgICAgIG9wdHMubHQgPSBwYXJzZUludChvcHRzLmx0KTsgJCRpbnZhbGlkYXRlKCdvcHRzJywgb3B0cyksICQkaW52YWxpZGF0ZSgnJHJvdXRlUGFyYW1zJywgJHJvdXRlUGFyYW1zKSwgJCRpbnZhbGlkYXRlKCdjaGFubmVsJywgY2hhbm5lbCksICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKG9wdHMuaGFzT3duUHJvcGVydHkoXCJsaW1pdFwiKSkge1xyXG4gICAgICAgICAgb3B0cy5saW1pdCA9IHBhcnNlSW50KG9wdHMubGltaXQpOyAkJGludmFsaWRhdGUoJ29wdHMnLCBvcHRzKSwgJCRpbnZhbGlkYXRlKCckcm91dGVQYXJhbXMnLCAkcm91dGVQYXJhbXMpLCAkJGludmFsaWRhdGUoJ2NoYW5uZWwnLCBjaGFubmVsKSwgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yKTtcclxuICAgICAgICB9XHJcbiAgICBcclxuICAgICAgICAkJGludmFsaWRhdGUoJ3Byb21pc2UnLCBwcm9taXNlID0gc3NiXHJcbiAgICAgICAgICAuY2hhbm5lbChjaGFubmVsLCBvcHRzKVxyXG4gICAgICAgICAgLnRoZW4obXMgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIm1zZ1wiLCBtcyk7XHJcbiAgICAgICAgICAgICQkaW52YWxpZGF0ZSgnbXNncycsIG1zZ3MgPSBtcyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICAuY2F0Y2gobiA9PiB7XHJcbiAgICAgICAgICAgIGlmICghZXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiZXJycnJvb29vb3JcIiwgbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0pKTtcclxuICAgICAgfSB9XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRNZXNzYWdlUmVuZGVyZXIsXG5cdFx0bmF2aWdhdGUsXG5cdFx0cm91dGVQYXJhbXMsXG5cdFx0bXNncyxcblx0XHRlcnJvcixcblx0XHRjaGFubmVsLFxuXHRcdHN1YnNjcmliZWQsXG5cdFx0cHJvbWlzZSxcblx0XHRzdWJzY3JpcHRpb25DaGFuZ2VkLFxuXHRcdGdvTmV4dCxcblx0XHRnb1ByZXZpb3VzLFxuXHRcdGlucHV0X2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNsaWNrX2hhbmRsZXJcblx0fTtcbn1cblxuY2xhc3MgQ2hhbm5lbCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50XzEuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUta2RpdTQ0LXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ2hhbm5lbDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012UTJoaGJtNWxiQzV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHR1ZFd4c1hTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRTdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3TzBGQmRXeENRU3hwUWtGQmEwSWlmUT09IiwiLyogQ2hhbm5lbHMuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXN0cm95X2VhY2gsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0ZW1wdHksXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0XG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcbmNvbnN0IHsgbmF2aWdhdGUgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTtcblxuY29uc3QgZmlsZSA9IFwiQ2hhbm5lbHMuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGFkZF9jc3MoKSB7XG5cdHZhciBzdHlsZSA9IGVsZW1lbnQoXCJzdHlsZVwiKTtcblx0c3R5bGUuaWQgPSAnc3ZlbHRlLTFvcjBhNXEtc3R5bGUnO1xuXHRzdHlsZS50ZXh0Q29udGVudCA9IFwiLmNoYW5uZWwuc3ZlbHRlLTFvcjBhNXF7Y3Vyc29yOnBvaW50ZXJ9XFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lRMmhoYm01bGJITXVjM1psYkhSbElpd2ljMjkxY21ObGN5STZXeUpEYUdGdWJtVnNjeTV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpUEhOamNtbHdkRDVjY2x4dUlDQXZMeUJPVDFSSlEwVTZYSEpjYmlBZ0x5OGdTU2QyWlNCeVpXMXZkbVZrSUhSb2FYTWdkbWxsZHlCbWNtOXRJSFJvWlNCdVlYWnBaMkYwYVc5dUxseHlYRzRnSUM4dlhISmNiaUFnTHk4Z2FYUWdhWE1nZEc5dklITnNiM2NzSUdsMElIUmhhMlZ6SUdGaWIzVjBJRFl3SUhObFkyOXVaSE1nZEc4Z2NYVmxjbmt1WEhKY2JpQWdMeTljY2x4dVhISmNiaUFnYVcxd2IzSjBJSHNnYm1GMmFXZGhkR1VnZlNCbWNtOXRJRndpTGk0dmRYUnBiSE11YW5OY0lqdGNjbHh1WEhKY2JpQWdiR1YwSUdGamRHbDJaVU5vWVc1dVpXeHpJRDBnVzEwN1hISmNiaUFnYkdWMElITjFZbk5qY21saVpXUkRhR0Z1Ym1Wc2N5QTlJRnRkTzF4eVhHNWNjbHh1SUNCc1pYUWdiRzloWkdsdVp5QTlJSFJ5ZFdVN1hISmNibHh5WEc0Z0lHeGxkQ0J3ZFd4c0lEMGdhR1Z5YldsbFltOTRMbTF2WkhWc1pYTXVjSFZzYkZOMGNtVmhiVHRjY2x4dUlDQnNaWFFnYzJKdmRDQTlJR2hsY20xcFpXSnZlQzV6WW05ME8xeHlYRzVjY2x4dUlDQmpiMjV6ZENCc2IyRmtVM1ZpYzJOeWFXSmxaRU5vWVc1dVpXeHpJRDBnS0NrZ1BUNGdlMXh5WEc0Z0lDQWdiR1YwSUhGMVpYSjVJRDBnZTF4eVhHNGdJQ0FnSUNBa1ptbHNkR1Z5T2lCN1hISmNiaUFnSUNBZ0lDQWdkbUZzZFdVNklIdGNjbHh1SUNBZ0lDQWdJQ0FnSUdGMWRHaHZjam9nYzJKdmRDNXBaQ3hjY2x4dUlDQWdJQ0FnSUNBZ0lHTnZiblJsYm5RNklIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2RIbHdaVG9nWENKamFHRnVibVZzWENKY2NseHVJQ0FnSUNBZ0lDQWdJSDFjY2x4dUlDQWdJQ0FnSUNCOVhISmNiaUFnSUNBZ0lIMHNYSEpjYmlBZ0lDQWdJQ1J6YjNKME9pQmJXMXdpZG1Gc2RXVmNJaXdnWENKMGFXMWxjM1JoYlhCY0lsMWRYSEpjYmlBZ0lDQjlPMXh5WEc0Z0lDQWdjSFZzYkNoY2NseHVJQ0FnSUNBZ2MySnZkQzV4ZFdWeWVTNXlaV0ZrS0h0Y2NseHVJQ0FnSUNBZ0lDQnhkV1Z5ZVRvZ1czRjFaWEo1WFN4Y2NseHVJQ0FnSUNBZ0lDQnNhWFpsT2lCMGNuVmxMRnh5WEc0Z0lDQWdJQ0FnSUhKbGRtVnljMlU2SUhSeWRXVXNYSEpjYmlBZ0lDQWdJQ0FnYkdsdGFYUTZJRFV3TUZ4eVhHNGdJQ0FnSUNCOUtTeGNjbHh1SUNBZ0lDQWdMeTl3ZFd4c0xtWnBiSFJsY2loaklEMCtJSHRjY2x4dUlDQWdJQ0FnTHk4Z0lDRnpkV0p6WTNKcFltVmtRMmhoYm01bGJITXVjMjl0WlNoell5QTlQaUJ6WXk1amFHRnVibVZzSUQwOUlHTXVZMmhoYm01bGJDazdYSEpjYmlBZ0lDQWdJQzh2ZlNrc1hISmNiaUFnSUNBZ0lIQjFiR3d1WkhKaGFXNG9ZeUE5UGlCN1hISmNiaUFnSUNBZ0lDQWdhV1lnS0dNdWMzbHVZeWtnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdZMjl1YzI5c1pTNXNiMmNvWENKbWFXNXBjMmhsWkNCc2IyRmthVzVuWENJcE8xeHlYRzRnSUNBZ0lDQWdJQ0FnYkc5aFpHbHVaeUE5SUdaaGJITmxPMXh5WEc0Z0lDQWdJQ0FnSUgwZ1pXeHpaU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQnBaaUFvWXk1MllXeDFaUzVqYjI1MFpXNTBMbk4xWW5OamNtbGlaV1FwSUh0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYzNWaWMyTnlhV0psWkVOb1lXNXVaV3h6TG5CMWMyZ29ZeTUyWVd4MVpTNWpiMjUwWlc1MExtTm9ZVzV1Wld3cE8xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCemRXSnpZM0pwWW1Wa1EyaGhibTVsYkhNZ1BTQnpkV0p6WTNKcFltVmtRMmhoYm01bGJITTdYSEpjYmlBZ0lDQWdJQ0FnSUNCOVhISmNiaUFnSUNBZ0lDQWdmVnh5WEc0Z0lDQWdJQ0I5S1Z4eVhHNGdJQ0FnS1R0Y2NseHVJQ0I5TzF4eVhHNWNjbHh1SUNCc2IyRmtVM1ZpYzJOeWFXSmxaRU5vWVc1dVpXeHpLQ2s3WEhKY2Jqd3ZjMk55YVhCMFBseHlYRzVjY2x4dVBITjBlV3hsUGx4eVhHNGdJQzVqYUdGdWJtVnNJSHRjY2x4dUlDQWdJR04xY25OdmNqb2djRzlwYm5SbGNqdGNjbHh1SUNCOVhISmNiand2YzNSNWJHVStYSEpjYmx4eVhHNDhhRFErVTNWaWMyTnlhV0psWkNCRGFHRnVibVZzY3p3dmFEUStYSEpjYmx4eVhHNTdJMmxtSUhOMVluTmpjbWxpWldSRGFHRnVibVZzY3k1c1pXNW5kR2dnUFQwZ01IMWNjbHh1SUNBOFpHbDJJR05zWVhOelBWd2liRzloWkdsdVoxd2lJQzgrWEhKY2JseHlYRzRnSUR4d1BsUm9hWE1nYVhNZ1lTQmpiMjF3YkdWNElIRjFaWEo1TENCcGRDQnRhV2RvZENCMFlXdGxJR0VnZDJocGJHVXVMaTRnUTJoaGJtNWxiSE1nZDJsc2JDQmhjSEJsWVhJZ1lYTWdkMlVnWm1sdVpDQjBhR1Z0UEM5d1BseHlYRzU3T21Wc2MyVjlYSEpjYmlBZ2V5TmxZV05vSUhOMVluTmpjbWxpWldSRGFHRnVibVZzY3lCaGN5QmpmVnh5WEc0Z0lDQWdQSE53WVc1Y2NseHVJQ0FnSUNBZ1kyeGhjM005WENKamFHRnVibVZzSUd4aFltVnNJR3hoWW1Wc0xYTmxZMjl1WkdGeWVTQnRMVEZjSWx4eVhHNGdJQ0FnSUNCdmJqcGpiR2xqYXoxN0tDa2dQVDRnYm1GMmFXZGhkR1VvSnk5amFHRnVibVZzSnl3Z2V5QmphR0Z1Ym1Wc09pQmpJSDBwZlQ1Y2NseHVJQ0FnSUNBZ0lDTjdZMzFjY2x4dUlDQWdJRHd2YzNCaGJqNWNjbHh1SUNCN0wyVmhZMmg5WEhKY2Juc3ZhV1o5WEhKY2JpSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRjVSRVVzVVVGQlVTeGxRVUZETEVOQlFVTXNRVUZEVWl4TlFVRk5MRU5CUVVVc1QwRkJUeXhCUVVOcVFpeERRVUZESW4wPSAqL1wiO1xuXHRhcHBlbmQoZG9jdW1lbnQuaGVhZCwgc3R5bGUpO1xufVxuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0KGN0eCwgbGlzdCwgaSkge1xuXHRjb25zdCBjaGlsZF9jdHggPSBPYmplY3QuY3JlYXRlKGN0eCk7XG5cdGNoaWxkX2N0eC5jID0gbGlzdFtpXTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDY5OjApIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrKGN0eCkge1xuXHR2YXIgZWFjaF8xX2FuY2hvcjtcblxuXHR2YXIgZWFjaF92YWx1ZSA9IGN0eC5zdWJzY3JpYmVkQ2hhbm5lbHM7XG5cblx0dmFyIGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayhnZXRfZWFjaF9jb250ZXh0KGN0eCwgZWFjaF92YWx1ZSwgaSkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdH1cblxuXHRcdFx0ZWFjaF8xX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBlYWNoXzFfYW5jaG9yLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5zdWJzY3JpYmVkQ2hhbm5lbHMpIHtcblx0XHRcdFx0ZWFjaF92YWx1ZSA9IGN0eC5zdWJzY3JpYmVkQ2hhbm5lbHM7XG5cblx0XHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0Y29uc3QgY2hpbGRfY3R4ID0gZ2V0X2VhY2hfY29udGV4dChjdHgsIGVhY2hfdmFsdWUsIGkpO1xuXG5cdFx0XHRcdFx0aWYgKGVhY2hfYmxvY2tzW2ldKSB7XG5cdFx0XHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5wKGNoYW5nZWQsIGNoaWxkX2N0eCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2soY2hpbGRfY3R4KTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLmMoKTtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLm0oZWFjaF8xX2FuY2hvci5wYXJlbnROb2RlLCBlYWNoXzFfYW5jaG9yKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uZCgxKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlYWNoX2Jsb2Nrcy5sZW5ndGggPSBlYWNoX3ZhbHVlLmxlbmd0aDtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGRlc3Ryb3lfZWFjaChlYWNoX2Jsb2NrcywgZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZWFjaF8xX2FuY2hvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNjU6MCkgeyNpZiBzdWJzY3JpYmVkQ2hhbm5lbHMubGVuZ3RoID09IDB9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBkaXYsIHQsIHA7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dCA9IHNwYWNlKCk7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRwLnRleHRDb250ZW50ID0gXCJUaGlzIGlzIGEgY29tcGxleCBxdWVyeSwgaXQgbWlnaHQgdGFrZSBhIHdoaWxlLi4uIENoYW5uZWxzIHdpbGwgYXBwZWFyIGFzIHdlIGZpbmQgdGhlbVwiO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJsb2FkaW5nXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNjUsIDIsIDEzODMpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDY3LCAyLCAxNDEyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHRcdGRldGFjaCh0KTtcblx0XHRcdFx0ZGV0YWNoKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDcwOjIpIHsjZWFjaCBzdWJzY3JpYmVkQ2hhbm5lbHMgYXMgY31cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGN0eCkge1xuXHR2YXIgc3BhbiwgdDAsIHQxX3ZhbHVlID0gY3R4LmMsIHQxLCB0MiwgZGlzcG9zZTtcblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRcdHJldHVybiBjdHguY2xpY2tfaGFuZGxlcihjdHgpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRzcGFuID0gZWxlbWVudChcInNwYW5cIik7XG5cdFx0XHR0MCA9IHRleHQoXCIjXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KHQxX3ZhbHVlKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGF0dHIoc3BhbiwgXCJjbGFzc1wiLCBcImNoYW5uZWwgbGFiZWwgbGFiZWwtc2Vjb25kYXJ5IG0tMSBzdmVsdGUtMW9yMGE1cVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzcGFuLCBmaWxlLCA3MCwgNCwgMTU1NSk7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKHNwYW4sIFwiY2xpY2tcIiwgY2xpY2tfaGFuZGxlcik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzcGFuLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHNwYW4sIHQwKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0MSk7XG5cdFx0XHRhcHBlbmQoc3BhbiwgdDIpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgbmV3X2N0eCkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGlmICgoY2hhbmdlZC5zdWJzY3JpYmVkQ2hhbm5lbHMpICYmIHQxX3ZhbHVlICE9PSAodDFfdmFsdWUgPSBjdHguYykpIHtcblx0XHRcdFx0c2V0X2RhdGEodDEsIHQxX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHNwYW4pO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBoNCwgdF8xLCBpZl9ibG9ja19hbmNob3I7XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSB7XG5cdFx0aWYgKGN0eC5zdWJzY3JpYmVkQ2hhbm5lbHMubGVuZ3RoID09IDApIHJldHVybiBjcmVhdGVfaWZfYmxvY2s7XG5cdFx0cmV0dXJuIGNyZWF0ZV9lbHNlX2Jsb2NrO1xuXHR9XG5cblx0dmFyIGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCk7XG5cdHZhciBpZl9ibG9jayA9IGN1cnJlbnRfYmxvY2tfdHlwZShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aDQgPSBlbGVtZW50KFwiaDRcIik7XG5cdFx0XHRoNC50ZXh0Q29udGVudCA9IFwiU3Vic2NyaWJlZCBDaGFubmVsc1wiO1xuXHRcdFx0dF8xID0gc3BhY2UoKTtcblx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdGlmX2Jsb2NrX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0XHRhZGRfbG9jYXRpb24oaDQsIGZpbGUsIDYyLCAwLCAxMzExKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBoNCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHRfMSwgYW5jaG9yKTtcblx0XHRcdGlmX2Jsb2NrLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaWZfYmxvY2tfYW5jaG9yLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY3VycmVudF9ibG9ja190eXBlID09PSAoY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSkgJiYgaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2sucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGg0KTtcblx0XHRcdFx0ZGV0YWNoKHRfMSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaWZfYmxvY2tfYW5jaG9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCBhY3RpdmVDaGFubmVscyA9IFtdO1xyXG4gIGxldCBzdWJzY3JpYmVkQ2hhbm5lbHMgPSBbXTtcclxuXHJcbiAgbGV0IGxvYWRpbmcgPSB0cnVlO1xyXG5cclxuICBsZXQgcHVsbCA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxTdHJlYW07XHJcbiAgbGV0IHNib3QgPSBoZXJtaWVib3guc2JvdDtcclxuXHJcbiAgY29uc3QgbG9hZFN1YnNjcmliZWRDaGFubmVscyA9ICgpID0+IHtcclxuICAgIGxldCBxdWVyeSA9IHtcclxuICAgICAgJGZpbHRlcjoge1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICBhdXRob3I6IHNib3QuaWQsXHJcbiAgICAgICAgICBjb250ZW50OiB7XHJcbiAgICAgICAgICAgIHR5cGU6IFwiY2hhbm5lbFwiXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9LFxyXG4gICAgICAkc29ydDogW1tcInZhbHVlXCIsIFwidGltZXN0YW1wXCJdXVxyXG4gICAgfTtcclxuICAgIHB1bGwoXHJcbiAgICAgIHNib3QucXVlcnkucmVhZCh7XHJcbiAgICAgICAgcXVlcnk6IFtxdWVyeV0sXHJcbiAgICAgICAgbGl2ZTogdHJ1ZSxcclxuICAgICAgICByZXZlcnNlOiB0cnVlLFxyXG4gICAgICAgIGxpbWl0OiA1MDBcclxuICAgICAgfSksXHJcbiAgICAgIC8vcHVsbC5maWx0ZXIoYyA9PiB7XHJcbiAgICAgIC8vICAhc3Vic2NyaWJlZENoYW5uZWxzLnNvbWUoc2MgPT4gc2MuY2hhbm5lbCA9PSBjLmNoYW5uZWwpO1xyXG4gICAgICAvL30pLFxyXG4gICAgICBwdWxsLmRyYWluKGMgPT4ge1xyXG4gICAgICAgIGlmIChjLnN5bmMpIHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiZmluaXNoZWQgbG9hZGluZ1wiKTtcclxuICAgICAgICAgIGxvYWRpbmcgPSBmYWxzZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgaWYgKGMudmFsdWUuY29udGVudC5zdWJzY3JpYmVkKSB7XHJcbiAgICAgICAgICAgIHN1YnNjcmliZWRDaGFubmVscy5wdXNoKGMudmFsdWUuY29udGVudC5jaGFubmVsKTtcclxuICAgICAgICAgICAgJCRpbnZhbGlkYXRlKCdzdWJzY3JpYmVkQ2hhbm5lbHMnLCBzdWJzY3JpYmVkQ2hhbm5lbHMpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgbG9hZFN1YnNjcmliZWRDaGFubmVscygpO1xuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXIoeyBjIH0pIHtcblx0XHRyZXR1cm4gbmF2aWdhdGUoJy9jaGFubmVsJywgeyBjaGFubmVsOiBjIH0pO1xuXHR9XG5cblx0cmV0dXJuIHsgc3Vic2NyaWJlZENoYW5uZWxzLCBjbGlja19oYW5kbGVyIH07XG59XG5cbmNsYXNzIENoYW5uZWxzIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUtMW9yMGE1cS1zdHlsZVwiKSkgYWRkX2NzcygpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtdKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENoYW5uZWxzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2ZG1sbGQzTXZRMmhoYm01bGJITXVjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCTmxOQkxHbENRVUZyUWlKOSIsIi8qIERlZmF1bHQuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXR0cixcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdG5vb3AsXG5cdHNhZmVfbm90X2VxdWFsXG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiRGVmYXVsdC5zdmVsdGVcIjtcblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgZGl2O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiZW1wdHlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAwLCAwLCAwKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5jbGFzcyBEZWZhdWx0IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgbnVsbCwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGVmYXVsdDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012UkdWbVlYVnNkQzV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHR1ZFd4c1hTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRTdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRWE5FUVN4cFFrRkJhMElpZlE9PSIsIi8qIEVycm9yVmlldy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGNvbXBvbmVudF9zdWJzY3JpYmUsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRsaXN0ZW4sXG5cdG5vb3AsXG5cdHByZXZlbnRfZGVmYXVsdCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNldF9kYXRhLFxuXHRzcGFjZSxcblx0c3RvcF9wcm9wYWdhdGlvbixcblx0dGV4dCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuY29uc3QgeyBuYXZpZ2F0ZSwgcm91dGVQYXJhbXMsIHJlY29ubmVjdCB9ID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xuXG5jb25zdCBmaWxlID0gXCJFcnJvclZpZXcuc3ZlbHRlXCI7XG5cbi8vICg1MToyKSB7I2lmIHRvYXN0fVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciBkaXYsIHQsIGRpdl9jbGFzc192YWx1ZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0ID0gdGV4dChjdHgubXNnKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIGRpdl9jbGFzc192YWx1ZSA9IFwidG9hc3QgXCIgKyBjdHgudG9hc3RDbGFzcyk7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCA1MSwgNCwgMTIwOCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0KTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQubXNnKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQsIGN0eC5tc2cpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKGNoYW5nZWQudG9hc3RDbGFzcykgJiYgZGl2X2NsYXNzX3ZhbHVlICE9PSAoZGl2X2NsYXNzX3ZhbHVlID0gXCJ0b2FzdCBcIiArIGN0eC50b2FzdENsYXNzKSkge1xuXHRcdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBkaXZfY2xhc3NfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg2MDo0KSB7I2lmIGN0YX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpIHtcblx0dmFyIGxpLCBhLCB0X3ZhbHVlID0gY3R4LmN0YS5sYWJlbCwgdCwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGxpID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dCA9IHRleHQodF92YWx1ZSk7XG5cdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBcIiNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgNjEsIDgsIDE0MzQpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpLCBmaWxlLCA2MCwgNiwgMTQyMCk7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKGEsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY3R4LmN0YS5hY3Rpb24pKSk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBsaSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChsaSwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5jdGEpICYmIHRfdmFsdWUgIT09ICh0X3ZhbHVlID0gY3R4LmN0YS5sYWJlbCkpIHtcblx0XHRcdFx0c2V0X2RhdGEodCwgdF92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChsaSk7XG5cdFx0XHR9XG5cblx0XHRcdGRpc3Bvc2UoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgaDEsIHQxLCB0MiwgaDQsIHQ0LCBwcmUsIGNvZGUsIHQ1LCB0NiwgcCwgdDgsIHVsLCB0OSwgbGkwLCBhMCwgdDExLCBsaTEsIGExLCB0MTM7XG5cblx0dmFyIGlmX2Jsb2NrMCA9IChjdHgudG9hc3QpICYmIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrMSA9IChjdHguY3RhKSAmJiBjcmVhdGVfaWZfYmxvY2soY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRoMSA9IGVsZW1lbnQoXCJoMVwiKTtcblx0XHRcdGgxLnRleHRDb250ZW50ID0gXCLwn5i/IEFuIEVycm9yIEhhcyBPY2N1cnJlZCwgc29ycnkg8J+YrVwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmMoKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGg0ID0gZWxlbWVudChcImg0XCIpO1xuXHRcdFx0aDQudGV4dENvbnRlbnQgPSBcIlRoaXMgaXMgd2hhdCB3ZSBrbm93IGFib3V0IGl0XCI7XG5cdFx0XHR0NCA9IHNwYWNlKCk7XG5cdFx0XHRwcmUgPSBlbGVtZW50KFwicHJlXCIpO1xuXHRcdFx0Y29kZSA9IGVsZW1lbnQoXCJjb2RlXCIpO1xuXHRcdFx0dDUgPSB0ZXh0KGN0eC5lcnJvcik7XG5cdFx0XHR0NiA9IHNwYWNlKCk7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRwLnRleHRDb250ZW50ID0gXCJZb3UgbWlnaHQgd2FudCB0bzpcIjtcblx0XHRcdHQ4ID0gc3BhY2UoKTtcblx0XHRcdHVsID0gZWxlbWVudChcInVsXCIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmMoKTtcblx0XHRcdHQ5ID0gc3BhY2UoKTtcblx0XHRcdGxpMCA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGEwID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRhMC50ZXh0Q29udGVudCA9IFwiT3BlbiBvdXIgdHJvdWJsZXNob290aW5nIGRvY3VtZW50YXRpb24uXCI7XG5cdFx0XHR0MTEgPSBzcGFjZSgpO1xuXHRcdFx0bGkxID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGExLnRleHRDb250ZW50ID0gXCJBZGQgYW4gaXNzdWVcIjtcblx0XHRcdHQxMyA9IHRleHQoXCJcXHJcXG4gICAgICB0byB0aGUgUGF0Y2hmb3ggcmVwb3NpdG9yeS5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaDEsIGZpbGUsIDQ5LCAyLCAxMTQ0KTtcblx0XHRcdGFkZF9sb2NhdGlvbihoNCwgZmlsZSwgNTMsIDIsIDEyNjQpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGNvZGUsIGZpbGUsIDU1LCA0LCAxMzMwKTtcblx0XHRcdGF0dHIocHJlLCBcImNsYXNzXCIsIFwiY29kZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwcmUsIGZpbGUsIDU0LCAyLCAxMzA2KTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCA1NywgMiwgMTM2NCk7XG5cdFx0XHRhdHRyKGEwLCBcImhyZWZcIiwgXCIvZG9jcy9pbmRleC5odG1sIy90cm91Ymxlc2hvb3RpbmcvXCIpO1xuXHRcdFx0YXR0cihhMCwgXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTAsIGZpbGUsIDY3LCA2LCAxNTc5KTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTAsIGZpbGUsIDY2LCA0LCAxNTY3KTtcblx0XHRcdGF0dHIoYTEsIFwiaHJlZlwiLCBcImh0dHBzOi8vZ2l0aHViLmNvbS9zb2FwZG9nL3BhdGNoZm94L2lzc3Vlc1wiKTtcblx0XHRcdGF0dHIoYTEsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGExLCBmaWxlLCA3MiwgNiwgMTczMCk7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkxLCBmaWxlLCA3MSwgNCwgMTcxOCk7XG5cdFx0XHRhZGRfbG9jYXRpb24odWwsIGZpbGUsIDU4LCAyLCAxMzkzKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwiY29udGFpbmVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNDgsIDAsIDExMTcpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIGgxKTtcblx0XHRcdGFwcGVuZChkaXYsIHQxKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKGRpdiwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0Mik7XG5cdFx0XHRhcHBlbmQoZGl2LCBoNCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0NCk7XG5cdFx0XHRhcHBlbmQoZGl2LCBwcmUpO1xuXHRcdFx0YXBwZW5kKHByZSwgY29kZSk7XG5cdFx0XHRhcHBlbmQoY29kZSwgdDUpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDYpO1xuXHRcdFx0YXBwZW5kKGRpdiwgcCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0OCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB1bCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubSh1bCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQodWwsIHQ5KTtcblx0XHRcdGFwcGVuZCh1bCwgbGkwKTtcblx0XHRcdGFwcGVuZChsaTAsIGEwKTtcblx0XHRcdGFwcGVuZCh1bCwgdDExKTtcblx0XHRcdGFwcGVuZCh1bCwgbGkxKTtcblx0XHRcdGFwcGVuZChsaTEsIGExKTtcblx0XHRcdGFwcGVuZChsaTEsIHQxMyk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjdHgudG9hc3QpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGRpdiwgdDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQuZXJyb3IpIHtcblx0XHRcdFx0c2V0X2RhdGEodDUsIGN0eC5lcnJvcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHguY3RhKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLm0odWwsIHQ5KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0aWZfYmxvY2sxLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMSA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmQoKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCAkcm91dGVQYXJhbXM7XG5cblx0dmFsaWRhdGVfc3RvcmUocm91dGVQYXJhbXMsICdyb3V0ZVBhcmFtcycpO1xuXHRjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgcm91dGVQYXJhbXMsICQkdmFsdWUgPT4geyAkcm91dGVQYXJhbXMgPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcyk7IH0pO1xuXG5cdGRvY3VtZW50LnRpdGxlID0gYFBhdGNoZm94IC0gRXJyb3JgO1xyXG5cclxuICBsZXQgZXJyb3IgPSAkcm91dGVQYXJhbXMuZXJyb3I7XHJcbiAgbGV0IGVycm9yT2JqID0ge307XHJcbiAgbGV0IHRvYXN0Q2xhc3MgPSBcIlwiO1xyXG4gIGxldCB0b2FzdCA9IGZhbHNlO1xyXG4gIGxldCBtc2c7XHJcbiAgbGV0IGN0YSA9IGZhbHNlO1xyXG5cclxuICBjb25zb2xlLmRpcihlcnJvcik7XHJcbiAgaWYgKHR5cGVvZiBlcnJvciA9PSBcIm9iamVjdFwiKSB7XHJcbiAgICBlcnJvck9iaiA9IGVycm9yO1xyXG4gICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gZXJyb3JPYmoubWVzc2FnZSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCB0cnlSZWNvbm5lY3QgPSAoKSA9PiB7XHJcbiAgICAkJGludmFsaWRhdGUoJ3RvYXN0JywgdG9hc3QgPSB0cnVlKTtcclxuICAgICQkaW52YWxpZGF0ZSgndG9hc3RDbGFzcycsIHRvYXN0Q2xhc3MgPSBcInRvYXN0LXdhcm5pbmdcIik7XHJcbiAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IFwiQXR0ZW1wdGluZyB0byByZWNvbm5lY3QgdG8gc2JvdC4uLlwiKTtcclxuICAgIHJlY29ubmVjdCgpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAkJGludmFsaWRhdGUoJ3RvYXN0Q2xhc3MnLCB0b2FzdENsYXNzID0gXCJ0b2FzdC1zdWNjZXNzXCIpO1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgndG9hc3QnLCB0b2FzdCA9IHRydWUpO1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID1cclxuICAgICAgICAgIFwiQ29ubmVjdGlvbiB0byBzYm90IHJlZXN0YWJsaXNoZWQuIFRyeSBnb2luZyB0byB5b3VyIHB1YmxpYyBmZWVkLlwiKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKG4gPT4ge1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgndG9hc3RDbGFzcycsIHRvYXN0Q2xhc3MgPSBcInRvYXN0LWVycm9yXCIpO1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgndG9hc3QnLCB0b2FzdCA9IHRydWUpO1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gXCJDb3VsZG4ndCByZWNvbm5lY3QuIFRyeSByZWxvYWRpbmcgdGhlIHBhZ2UuXCIpO1xyXG4gICAgICB9KTtcclxuICB9O1xyXG5cclxuICBsZXQgZXJyb3JNYXBwaW5nID0ge1xyXG4gICAgXCJFcnJvcjogc3RyZWFtIGlzIGNsb3NlZFwiOiB7XHJcbiAgICAgIGxhYmVsOiBcIldhbnQgdG8gdHJ5IHRvIHJlY29ubmVjdD9cIixcclxuICAgICAgYWN0aW9uOiB0cnlSZWNvbm5lY3RcclxuICAgIH1cclxuICB9O1xyXG5cclxuICBpZiAoZXJyb3JNYXBwaW5nLmhhc093blByb3BlcnR5KGVycm9yKSkge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdjdGEnLCBjdGEgPSBlcnJvck1hcHBpbmdbZXJyb3JdKTtcclxuICB9XG5cblx0cmV0dXJuIHsgZXJyb3IsIHRvYXN0Q2xhc3MsIHRvYXN0LCBtc2csIGN0YSB9O1xufVxuXG5jbGFzcyBFcnJvclZpZXcgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRXJyb3JWaWV3O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2ZG1sbGQzTXZSWEp5YjNKV2FXVjNMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRV2xUUVN4cFFrRkJhMElpZlE9PSIsIi8qIE1lbnRpb25zLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0Y2hlY2tfb3V0cm9zLFxuXHRkZXN0cm95X2NvbXBvbmVudCxcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRlbXB0eSxcblx0Z2xvYmFscyxcblx0Z3JvdXBfb3V0cm9zLFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdGxpc3Rlbixcblx0bW91bnRfY29tcG9uZW50LFxuXHRub29wLFxuXHRvdXRyb19hbmRfZGVzdHJveV9ibG9jayxcblx0cHJldmVudF9kZWZhdWx0LFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c3BhY2UsXG5cdHN0b3BfcHJvcGFnYXRpb24sXG5cdHRyYW5zaXRpb25faW4sXG5cdHRyYW5zaXRpb25fb3V0LFxuXHR1cGRhdGVfa2V5ZWRfZWFjaFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IHsgZG9jdW1lbnQ6IGRvY3VtZW50XzEgfSA9IGdsb2JhbHM7XG5cbmNvbnN0IGZpbGUgPSBcIk1lbnRpb25zLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBhZGRfY3NzKCkge1xuXHR2YXIgc3R5bGUgPSBlbGVtZW50KFwic3R5bGVcIik7XG5cdHN0eWxlLmlkID0gJ3N2ZWx0ZS1rZGl1NDQtc3R5bGUnO1xuXHRzdHlsZS50ZXh0Q29udGVudCA9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lUV1Z1ZEdsdmJuTXVjM1psYkhSbElpd2ljMjkxY21ObGN5STZXeUpOWlc1MGFXOXVjeTV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHNpUEhOamNtbHdkRDVjY2x4dUlDQmpiMjV6ZENCTlpYTnpZV2RsVW1WdVpHVnlaWElnUFNCeVpYRjFhWEpsS0Z3aUxpNHZiV1Z6YzJGblpWUjVjR1Z6TDAxbGMzTmhaMlZTWlc1a1pYSmxjaTV6ZG1Wc2RHVmNJaWs3WEhKY2JpQWdZMjl1YzNRZ2V5QnVZWFpwWjJGMFpTd2djbTkxZEdWUVlYSmhiWE1nZlNBOUlISmxjWFZwY21Vb1hDSXVMaTkxZEdsc2N5NXFjMXdpS1R0Y2NseHVJQ0JqYjI1emRDQjdJR2RsZEZCeVpXWWdmU0E5SUhKbGNYVnBjbVVvWENJdUxpOXdjbVZtY3k1cWMxd2lLVHRjY2x4dUlDQmpiMjV6ZENCN0lHOXVSR1Z6ZEhKdmVTd2diMjVOYjNWdWRDQjlJRDBnY21WeGRXbHlaU2hjSW5OMlpXeDBaVndpS1R0Y2NseHVYSEpjYmlBZ2JHVjBJRzF6WjNNZ1BTQmJYVHRjY2x4dUlDQnNaWFFnZFc1emRXSTdYSEpjYmx4eVhHNGdJR1J2WTNWdFpXNTBMblJwZEd4bElEMGdZRkJoZEdOb1ptOTRJQzBnVFdWdWRHbHZibk5nTzF4eVhHNWNjbHh1SUNCc1pYUWdiSFFnUFNCbVlXeHpaVHRjY2x4dVhISmNiaUFnWTI5dWMzUWdjSFZzYkNBOUlHaGxjbTFwWldKdmVDNXRiMlIxYkdWekxuQjFiR3hUZEhKbFlXMDdYSEpjYmlBZ1kyOXVjM1FnYzJKdmRDQTlJR2hsY20xcFpXSnZlQzV6WW05ME8xeHlYRzVjY2x4dUlDQmpiMjV6ZENCc2IyRmtUV1Z1ZEdsdmJuTWdQU0FvS1NBOVBpQjdYSEpjYmlBZ0lDQmpiMjV6YjJ4bExteHZaeWhjSWt4dllXUnBibWNnYldWdWRHbHZibk11TGk1Y0lpd2diSFFwTzF4eVhHNGdJQ0FnZDJsdVpHOTNMbk5qY205c2JGUnZLREFzSURBcE8xeHlYRzRnSUNBZ2JYTm5jeUE5SUZ0ZE8xeHlYRzRnSUNBZ2MzTmlMbTFsYm5ScGIyNXpLSE56WWk1bVpXVmtMQ0JzZENrdWRHaGxiaWh0Y3lBOVBpQW9iWE5uY3lBOUlHMXpLU2s3WEhKY2JpQWdmVHRjY2x4dVhISmNiaUFnYjI1RVpYTjBjbTk1S0NncElEMCtJSHRjY2x4dUlDQWdJSFZ1YzNWaUtDazdYSEpjYmlBZ2ZTazdYSEpjYmx4eVhHNGdJRzl1VFc5MWJuUW9LQ2tnUFQ0Z2UxeHlYRzRnSUNBZ2RXNXpkV0lnUFNCeWIzVjBaVkJoY21GdGN5NXpkV0p6WTNKcFltVW9jR0Z5WVcxeklEMCtJSHRjY2x4dUlDQWdJQ0FnWTI5dWMyOXNaUzVzYjJjb1hDSndZWEpoYlhNZ1kyaGhibWRsWkM1Y0lpd2diSFFzSUhCaGNtRnRjeTVzZENrN1hISmNiaUFnSUNBZ0lHbG1JQ2h3WVhKaGJYTXViSFFwSUh0Y2NseHVJQ0FnSUNBZ0lDQnNaWFFnYm1WM2JIUWdQU0J3WVhKelpVbHVkQ2h3WVhKaGJYTXViSFFwTzF4eVhHNGdJQ0FnSUNBZ0lHbG1JQ2h1Wlhkc2RDQWhQVDBnYkhRcElIdGNjbHh1SUNBZ0lDQWdJQ0FnSUd4MElEMGdibVYzYkhRN1hISmNiaUFnSUNBZ0lDQWdmVnh5WEc0Z0lDQWdJQ0I5SUdWc2MyVWdlMXh5WEc0Z0lDQWdJQ0FnSUd4MElEMGdabUZzYzJVN1hISmNiaUFnSUNBZ0lIMWNjbHh1SUNBZ0lDQWdiRzloWkUxbGJuUnBiMjV6S0NrN1hISmNiaUFnSUNCOUtUdGNjbHh1SUNCOUtUdGNjbHh1UEM5elkzSnBjSFErWEhKY2JseHlYRzQ4YzNSNWJHVStYSEpjYmlBZ0xtMWxiblV0Y21sbmFIUWdlMXh5WEc0Z0lDQWdjbWxuYUhRNklEQndlRHRjY2x4dUlDQWdJR3hsWm5RNklIVnVjMlYwTzF4eVhHNGdJQ0FnYldsdUxYZHBaSFJvT2lBek1EQndlRHRjY2x4dUlDQjlYSEpjYmp3dmMzUjViR1UrWEhKY2JseHlYRzQ4WkdsMklHTnNZWE56UFZ3aVkyOXVkR0ZwYm1WeVhDSStYSEpjYmlBZ1BHUnBkaUJqYkdGemN6MWNJbU52YkhWdGJuTmNJajVjY2x4dUlDQWdJRHhvTkNCamJHRnpjejFjSW1OdmJIVnRibHdpUGsxbGJuUnBiMjV6UEM5b05ENWNjbHh1SUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pqYjJ4MWJXNWNJaUF2UGx4eVhHNGdJRHd2WkdsMlBseHlYRzQ4TDJScGRqNWNjbHh1ZXlOcFppQnRjMmR6TG14bGJtZDBhQ0E5UFQwZ01IMWNjbHh1SUNBOFpHbDJJR05zWVhOelBWd2liRzloWkdsdVp5QnNiMkZrYVc1bkxXeG5YQ0lnTHo1Y2NseHVlenBsYkhObGZWeHlYRzRnSUhzalpXRmphQ0J0YzJkeklHRnpJRzF6WnlBb2JYTm5MbXRsZVNsOVhISmNiaUFnSUNBOFRXVnpjMkZuWlZKbGJtUmxjbVZ5SUh0dGMyZDlJQzgrWEhKY2JpQWdleTlsWVdOb2ZWeHlYRzRnSUR4MWJDQmpiR0Z6Y3oxY0luQmhaMmx1WVhScGIyNWNJajVjY2x4dUlDQWdJRHhzYVNCamJHRnpjejFjSW5CaFoyVXRhWFJsYlNCd1lXZGxMWEJ5WlhacGIzVnpYQ0krWEhKY2JpQWdJQ0FnSUR4aFhISmNiaUFnSUNBZ0lDQWdhSEpsWmoxY0lpTXZjSFZpYkdsalhDSmNjbHh1SUNBZ0lDQWdJQ0J2YmpwamJHbGphM3h6ZEc5d1VISnZjR0ZuWVhScGIyNThjSEpsZG1WdWRFUmxabUYxYkhROWV5Z3BJRDArSUdocGMzUnZjbmt1WW1GamF5Z3BmVDVjY2x4dUlDQWdJQ0FnSUNBOFpHbDJJR05zWVhOelBWd2ljR0ZuWlMxcGRHVnRMWE4xWW5ScGRHeGxYQ0krVUhKbGRtbHZkWE04TDJScGRqNWNjbHh1SUNBZ0lDQWdQQzloUGx4eVhHNGdJQ0FnUEM5c2FUNWNjbHh1SUNBZ0lEeHNhU0JqYkdGemN6MWNJbkJoWjJVdGFYUmxiU0J3WVdkbExXNWxlSFJjSWo1Y2NseHVJQ0FnSUNBZ1BHRmNjbHh1SUNBZ0lDQWdJQ0JvY21WbVBWd2lJeTl3ZFdKc2FXTmNJbHh5WEc0Z0lDQWdJQ0FnSUc5dU9tTnNhV05yZkhOMGIzQlFjbTl3WVdkaGRHbHZibnh3Y21WMlpXNTBSR1ZtWVhWc2REMTdLQ2tnUFQ0Z2UxeHlYRzRnSUNBZ0lDQWdJQ0FnYm1GMmFXZGhkR1VvSnk5dFpXNTBhVzl1Y3ljc0lIc2diSFE2SUcxelozTmJiWE5uY3k1c1pXNW5kR2dnTFNBeFhTNXlkSE1nZlNrN1hISmNiaUFnSUNBZ0lDQWdmWDArWEhKY2JpQWdJQ0FnSUNBZ1BHUnBkaUJqYkdGemN6MWNJbkJoWjJVdGFYUmxiUzF6ZFdKMGFYUnNaVndpUGs1bGVIUThMMlJwZGo1Y2NseHVJQ0FnSUNBZ1BDOWhQbHh5WEc0Z0lDQWdQQzlzYVQ1Y2NseHVJQ0E4TDNWc1BseHlYRzU3TDJsbWZWeHlYRzRpWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJaUo5ICovXCI7XG5cdGFwcGVuZChkb2N1bWVudF8xLmhlYWQsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dChjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gT2JqZWN0LmNyZWF0ZShjdHgpO1xuXHRjaGlsZF9jdHgubXNnID0gbGlzdFtpXTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDYwOjApIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrKGN0eCkge1xuXHR2YXIgZWFjaF9ibG9ja3MgPSBbXSwgZWFjaF8xX2xvb2t1cCA9IG5ldyBNYXAoKSwgdDAsIHVsLCBsaTAsIGEwLCBkaXYwLCB0MiwgbGkxLCBhMSwgZGl2MSwgY3VycmVudCwgZGlzcG9zZTtcblxuXHR2YXIgZWFjaF92YWx1ZSA9IGN0eC5tc2dzO1xuXG5cdGNvbnN0IGdldF9rZXkgPSBjdHggPT4gY3R4Lm1zZy5rZXk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0bGV0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblx0XHRsZXQga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGVhY2hfMV9sb29rdXAuc2V0KGtleSwgZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLmMoKTtcblxuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0dWwgPSBlbGVtZW50KFwidWxcIik7XG5cdFx0XHRsaTAgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMCA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYwLnRleHRDb250ZW50ID0gXCJQcmV2aW91c1wiO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0bGkxID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MS50ZXh0Q29udGVudCA9IFwiTmV4dFwiO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwicGFnZS1pdGVtLXN1YnRpdGxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDY4LCA4LCAxNTc1KTtcblx0XHRcdGF0dHIoYTAsIFwiaHJlZlwiLCBcIiMvcHVibGljXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEwLCBmaWxlLCA2NSwgNiwgMTQ2NSk7XG5cdFx0XHRhdHRyKGxpMCwgXCJjbGFzc1wiLCBcInBhZ2UtaXRlbSBwYWdlLXByZXZpb3VzXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMCwgZmlsZSwgNjQsIDQsIDE0MjEpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwicGFnZS1pdGVtLXN1YnRpdGxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjEsIGZpbGUsIDc3LCA4LCAxODY3KTtcblx0XHRcdGF0dHIoYTEsIFwiaHJlZlwiLCBcIiMvcHVibGljXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGExLCBmaWxlLCA3MiwgNiwgMTY5MCk7XG5cdFx0XHRhdHRyKGxpMSwgXCJjbGFzc1wiLCBcInBhZ2UtaXRlbSBwYWdlLW5leHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkxLCBmaWxlLCA3MSwgNCwgMTY1MCk7XG5cdFx0XHRhdHRyKHVsLCBcImNsYXNzXCIsIFwicGFnaW5hdGlvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbih1bCwgZmlsZSwgNjMsIDIsIDEzOTIpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oYTAsIFwiY2xpY2tcIiwgc3RvcF9wcm9wYWdhdGlvbihwcmV2ZW50X2RlZmF1bHQoY2xpY2tfaGFuZGxlcikpKSxcblx0XHRcdFx0bGlzdGVuKGExLCBcImNsaWNrXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5jbGlja19oYW5kbGVyXzEpKSlcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLm0odGFyZ2V0LCBhbmNob3IpO1xuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTApO1xuXHRcdFx0YXBwZW5kKGxpMCwgYTApO1xuXHRcdFx0YXBwZW5kKGEwLCBkaXYwKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTEpO1xuXHRcdFx0YXBwZW5kKGxpMSwgYTEpO1xuXHRcdFx0YXBwZW5kKGExLCBkaXYxKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRjb25zdCBlYWNoX3ZhbHVlID0gY3R4Lm1zZ3M7XG5cblx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0ZWFjaF9ibG9ja3MgPSB1cGRhdGVfa2V5ZWRfZWFjaChlYWNoX2Jsb2NrcywgY2hhbmdlZCwgZ2V0X2tleSwgMSwgY3R4LCBlYWNoX3ZhbHVlLCBlYWNoXzFfbG9va3VwLCB0MC5wYXJlbnROb2RlLCBvdXRyb19hbmRfZGVzdHJveV9ibG9jaywgY3JlYXRlX2VhY2hfYmxvY2ssIHQwLCBnZXRfZWFjaF9jb250ZXh0KTtcblx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkgdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgZWFjaF9ibG9ja3NbaV0uZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0MCk7XG5cdFx0XHRcdGRldGFjaCh1bCk7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNTg6MCkgeyNpZiBtc2dzLmxlbmd0aCA9PT0gMH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpIHtcblx0dmFyIGRpdjtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImxvYWRpbmcgbG9hZGluZy1sZ1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDU4LCAyLCAxMjcwKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHR9LFxuXG5cdFx0cDogbm9vcCxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg2MToyKSB7I2VhY2ggbXNncyBhcyBtc2cgKG1zZy5rZXkpfVxuZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2soa2V5XzEsIGN0eCkge1xuXHR2YXIgZmlyc3QsIGN1cnJlbnQ7XG5cblx0dmFyIG1lc3NhZ2VyZW5kZXJlciA9IG5ldyBjdHguTWVzc2FnZVJlbmRlcmVyKHtcblx0XHRwcm9wczogeyBtc2c6IGN0eC5tc2cgfSxcblx0XHQkJGlubGluZTogdHJ1ZVxuXHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGtleToga2V5XzEsXG5cblx0XHRmaXJzdDogbnVsbCxcblxuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGZpcnN0ID0gZW1wdHkoKTtcblx0XHRcdG1lc3NhZ2VyZW5kZXJlci4kJC5mcmFnbWVudC5jKCk7XG5cdFx0XHR0aGlzLmZpcnN0ID0gZmlyc3Q7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBmaXJzdCwgYW5jaG9yKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChtZXNzYWdlcmVuZGVyZXIsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHR2YXIgbWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChjaGFuZ2VkLm1zZ3MpIG1lc3NhZ2VyZW5kZXJlcl9jaGFuZ2VzLm1zZyA9IGN0eC5tc2c7XG5cdFx0XHRtZXNzYWdlcmVuZGVyZXIuJHNldChtZXNzYWdlcmVuZGVyZXJfY2hhbmdlcyk7XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihtZXNzYWdlcmVuZGVyZXIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblxuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdG86IGZ1bmN0aW9uIG91dHJvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChtZXNzYWdlcmVuZGVyZXIuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGZpcnN0KTtcblx0XHRcdH1cblxuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobWVzc2FnZXJlbmRlcmVyLCBkZXRhY2hpbmcpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgZGl2MiwgZGl2MSwgaDQsIHQxLCBkaXYwLCB0MiwgY3VycmVudF9ibG9ja190eXBlX2luZGV4LCBpZl9ibG9jaywgaWZfYmxvY2tfYW5jaG9yLCBjdXJyZW50O1xuXG5cdHZhciBpZl9ibG9ja19jcmVhdG9ycyA9IFtcblx0XHRjcmVhdGVfaWZfYmxvY2ssXG5cdFx0Y3JlYXRlX2Vsc2VfYmxvY2tcblx0XTtcblxuXHR2YXIgaWZfYmxvY2tzID0gW107XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSB7XG5cdFx0aWYgKGN0eC5tc2dzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDA7XG5cdFx0cmV0dXJuIDE7XG5cdH1cblxuXHRjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXHRpZl9ibG9jayA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2MiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGg0ID0gZWxlbWVudChcImg0XCIpO1xuXHRcdFx0aDQudGV4dENvbnRlbnQgPSBcIk1lbnRpb25zXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRkaXYwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdGlmX2Jsb2NrX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0XHRhdHRyKGg0LCBcImNsYXNzXCIsIFwiY29sdW1uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGg0LCBmaWxlLCA1MywgNCwgMTE2Myk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJjb2x1bW5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgNTQsIDQsIDEyMDEpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwiY29sdW1uc1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCA1MiwgMiwgMTEzNik7XG5cdFx0XHRhdHRyKGRpdjIsIFwiY2xhc3NcIiwgXCJjb250YWluZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgNTEsIDAsIDExMDkpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjIsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgaDQpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBkaXYwKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQyLCBhbmNob3IpO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpZl9ibG9ja19hbmNob3IsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0dmFyIHByZXZpb3VzX2Jsb2NrX2luZGV4ID0gY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRcdFx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPT09IHByZXZpb3VzX2Jsb2NrX2luZGV4KSB7XG5cdFx0XHRcdGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblxuXHRcdFx0XHRpZl9ibG9jayA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdO1xuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSA9IGlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jaywgMSk7XG5cdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdjIpO1xuXHRcdFx0XHRkZXRhY2godDIpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKGRldGFjaGluZyk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRyZXR1cm4gaGlzdG9yeS5iYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGNvbnN0IE1lc3NhZ2VSZW5kZXJlciA9IHJlcXVpcmUoXCIuLi9tZXNzYWdlVHlwZXMvTWVzc2FnZVJlbmRlcmVyLnN2ZWx0ZVwiKTtcclxuICBjb25zdCB7IG5hdmlnYXRlLCByb3V0ZVBhcmFtcyB9ID0gcmVxdWlyZShcIi4uL3V0aWxzLmpzXCIpO1xyXG4gIGNvbnN0IHsgZ2V0UHJlZiB9ID0gcmVxdWlyZShcIi4uL3ByZWZzLmpzXCIpO1xyXG4gIGNvbnN0IHsgb25EZXN0cm95LCBvbk1vdW50IH0gPSByZXF1aXJlKFwic3ZlbHRlXCIpO1xyXG5cclxuICBsZXQgbXNncyA9IFtdO1xyXG4gIGxldCB1bnN1YjtcclxuXHJcbiAgZG9jdW1lbnQudGl0bGUgPSBgUGF0Y2hmb3ggLSBNZW50aW9uc2A7XHJcblxyXG4gIGxldCBsdCA9IGZhbHNlO1xyXG5cclxuICBjb25zdCBwdWxsID0gaGVybWllYm94Lm1vZHVsZXMucHVsbFN0cmVhbTtcclxuICBjb25zdCBzYm90ID0gaGVybWllYm94LnNib3Q7XHJcblxyXG4gIGNvbnN0IGxvYWRNZW50aW9ucyA9ICgpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwiTG9hZGluZyBtZW50aW9ucy4uLlwiLCBsdCk7XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAkJGludmFsaWRhdGUoJ21zZ3MnLCBtc2dzID0gW10pO1xyXG4gICAgc3NiLm1lbnRpb25zKHNzYi5mZWVkLCBsdCkudGhlbihtcyA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKG1zZ3MgPSBtcyk7ICQkaW52YWxpZGF0ZSgnbXNncycsIG1zZ3MpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG4gIH07XHJcblxyXG4gIG9uRGVzdHJveSgoKSA9PiB7XHJcbiAgICB1bnN1YigpO1xyXG4gIH0pO1xyXG5cclxuICBvbk1vdW50KCgpID0+IHtcclxuICAgIHVuc3ViID0gcm91dGVQYXJhbXMuc3Vic2NyaWJlKHBhcmFtcyA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwicGFyYW1zIGNoYW5nZWQuXCIsIGx0LCBwYXJhbXMubHQpO1xyXG4gICAgICBpZiAocGFyYW1zLmx0KSB7XHJcbiAgICAgICAgbGV0IG5ld2x0ID0gcGFyc2VJbnQocGFyYW1zLmx0KTtcclxuICAgICAgICBpZiAobmV3bHQgIT09IGx0KSB7XHJcbiAgICAgICAgICBsdCA9IG5ld2x0O1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBsdCA9IGZhbHNlO1xyXG4gICAgICB9XHJcbiAgICAgIGxvYWRNZW50aW9ucygpO1xyXG4gICAgfSk7XHJcbiAgfSk7XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcl8xKCkge1xyXG5cdCAgICAgICAgICBuYXZpZ2F0ZSgnL21lbnRpb25zJywgeyBsdDogbXNnc1ttc2dzLmxlbmd0aCAtIDFdLnJ0cyB9KTtcclxuXHQgICAgICAgIH1cblxuXHRyZXR1cm4ge1xuXHRcdE1lc3NhZ2VSZW5kZXJlcixcblx0XHRuYXZpZ2F0ZSxcblx0XHRtc2dzLFxuXHRcdGNsaWNrX2hhbmRsZXJfMVxuXHR9O1xufVxuXG5jbGFzcyBNZW50aW9ucyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50XzEuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUta2RpdTQ0LXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWVudGlvbnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdlRXVnVkR2x2Ym5NdWMzWmxiSFJsSWwwc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYmJuVnNiRjBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSkJRVUZCT3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3TzBGQk5sbEJMR2xDUVVGclFpSjkiLCIvKiBQdWJsaWMuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhc3NpZ24sXG5cdGF0dHIsXG5cdGNoZWNrX291dHJvcyxcblx0Y29tcG9uZW50X3N1YnNjcmliZSxcblx0ZGVzdHJveV9jb21wb25lbnQsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0ZW1wdHksXG5cdGdsb2JhbHMsXG5cdGdyb3VwX291dHJvcyxcblx0aGFuZGxlX3Byb21pc2UsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdG5vb3AsXG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLFxuXHRwcmV2ZW50X2RlZmF1bHQsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzcGFjZSxcblx0c3RvcF9wcm9wYWdhdGlvbixcblx0dGV4dCxcblx0dHJhbnNpdGlvbl9pbixcblx0dHJhbnNpdGlvbl9vdXQsXG5cdHVwZGF0ZV9rZXllZF9lYWNoLFxuXHR2YWxpZGF0ZV9zdG9yZVxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IHsgT2JqZWN0OiBPYmplY3RfMSwgZG9jdW1lbnQ6IGRvY3VtZW50XzEgfSA9IGdsb2JhbHM7XG5cbmNvbnN0IGZpbGUgPSBcIlB1YmxpYy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gYWRkX2NzcygpIHtcblx0dmFyIHN0eWxlID0gZWxlbWVudChcInN0eWxlXCIpO1xuXHRzdHlsZS5pZCA9ICdzdmVsdGUta2RpdTQ0LXN0eWxlJztcblx0c3R5bGUudGV4dENvbnRlbnQgPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pVUhWaWJHbGpMbk4yWld4MFpTSXNJbk52ZFhKalpYTWlPbHNpVUhWaWJHbGpMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXeUk4YzJOeWFYQjBQbHh5WEc0Z0lHTnZibk4wSUUxbGMzTmhaMlZTWlc1a1pYSmxjaUE5SUhKbGNYVnBjbVVvWENJdUxpOXRaWE56WVdkbFZIbHdaWE12VFdWemMyRm5aVkpsYm1SbGNtVnlMbk4yWld4MFpWd2lLVHRjY2x4dUlDQmpiMjV6ZENCN0lHNWhkbWxuWVhSbExDQnliM1YwWlZCaGNtRnRjeUI5SUQwZ2NtVnhkV2x5WlNoY0lpNHVMM1YwYVd4ekxtcHpYQ0lwTzF4eVhHNGdJR052Ym5OMElIc2daMlYwVUhKbFpuTWdmU0E5SUhKbGNYVnBjbVVvWENJdUxpOXdjbVZtY3k1cWMxd2lLVHRjY2x4dUlDQmpiMjV6ZENCN0lHOXVUVzkxYm5RZ2ZTQTlJSEpsY1hWcGNtVW9YQ0p6ZG1Wc2RHVmNJaWs3WEhKY2JseHlYRzRnSUd4bGRDQnRjMmR6SUQwZ1ptRnNjMlU3WEhKY2JpQWdiR1YwSUdWeWNtOXlJRDBnSkhKdmRYUmxVR0Z5WVcxekxtVnljbTl5SUh4OElHWmhiSE5sTzF4eVhHNGdJR3hsZENCa2NtOXdaRzkzYmtGamRHbDJaU0E5SUdaaGJITmxPMXh5WEc0Z0lHeGxkQ0J3Y205dGFYTmxPMXh5WEc1Y2NseHVJQ0JzWlhRZ2IzQjBjeUE5SUh0OU8xeHlYRzVjY2x4dUlDQWtPaUI3WEhKY2JpQWdJQ0JQWW1wbFkzUXVZWE56YVdkdUtHOXdkSE1zSUNSeWIzVjBaVkJoY21GdGN5azdYSEpjYmx4eVhHNGdJQ0FnWkc5amRXMWxiblF1ZEdsMGJHVWdQU0JnVUdGMFkyaG1iM2dnTFNCUWRXSnNhV05nTzF4eVhHNWNjbHh1SUNBZ0lHbG1JQ2h2Y0hSekxtaGhjMDkzYmxCeWIzQmxjblI1S0Z3aWJIUmNJaWtwSUh0Y2NseHVJQ0FnSUNBZ2IzQjBjeTVzZENBOUlIQmhjbk5sU1c1MEtHOXdkSE11YkhRcE8xeHlYRzRnSUNBZ2ZWeHlYRzVjY2x4dUlDQWdJR2xtSUNodmNIUnpMbWhoYzA5M2JsQnliM0JsY25SNUtGd2liR2x0YVhSY0lpa3BJSHRjY2x4dUlDQWdJQ0FnYjNCMGN5NXNhVzFwZENBOUlIQmhjbk5sU1c1MEtHOXdkSE11YkdsdGFYUXBPMXh5WEc0Z0lDQWdmVnh5WEc1Y2NseHVJQ0FnSUhCeWIyMXBjMlVnUFNCemMySmNjbHh1SUNBZ0lDQWdMbkIxWW14cFl5aHZjSFJ6S1Z4eVhHNGdJQ0FnSUNBdWRHaGxiaWh0Y3lBOVBpQjdYSEpjYmlBZ0lDQWdJQ0FnYlhObmN5QTlJRzF6TzF4eVhHNGdJQ0FnSUNBZ0lIZHBibVJ2ZHk1elkzSnZiR3hVYnlnd0xDQXdLVHRjY2x4dUlDQWdJQ0FnSUNCa1pXeGxkR1VnYjNCMGN5NXNkRHRjY2x4dUlDQWdJQ0FnSUNCa1pXeGxkR1VnYjNCMGN5NXNhVzFwZER0Y2NseHVJQ0FnSUNBZ2ZTbGNjbHh1SUNBZ0lDQWdMbU5oZEdOb0tHNGdQVDRnZTF4eVhHNGdJQ0FnSUNBZ0lHbG1JQ2doWlhKeWIzSXBJSHRjY2x4dUlDQWdJQ0FnSUNBZ0lHTnZibk52YkdVdVpYSnliM0lvWENKbGNuSnljbTl2YjI5dmNsd2lMQ0J1S1R0Y2NseHVJQ0FnSUNBZ0lDQjlYSEpjYmlBZ0lDQWdJSDBwTzF4eVhHNGdJSDFjY2x4dVhISmNiaUFnWTI5dWMzUWdaMjlPWlhoMElEMGdLQ2tnUFQ0Z2UxeHlYRzRnSUNBZ2JHVjBJR3gwSUQwZ2JYTm5jMXR0YzJkekxteGxibWQwYUNBdElERmRMblpoYkhWbExuUnBiV1Z6ZEdGdGNEdGNjbHh1SUNBZ0lHMXpaM01nUFNCbVlXeHpaVHRjY2x4dUlDQWdJRzVoZG1sbllYUmxLRndpTDNCMVlteHBZMXdpTENCN1hISmNiaUFnSUNBZ0lHeDBYSEpjYmlBZ0lDQjlLVHRjY2x4dUlDQjlPMXh5WEc0Z0lHTnZibk4wSUdkdlVISmxkbWx2ZFhNZ1BTQW9LU0E5UGlCN1hISmNiaUFnSUNCdGMyZHpJRDBnWm1Gc2MyVTdYSEpjYmlBZ0lDQm9hWE4wYjNKNUxtSmhZMnNvS1R0Y2NseHVJQ0I5TzF4eVhHNDhMM05qY21sd2RENWNjbHh1WEhKY2JqeHpkSGxzWlQ1Y2NseHVJQ0F1YldWdWRTMXlhV2RvZENCN1hISmNiaUFnSUNCeWFXZG9kRG9nTUhCNE8xeHlYRzRnSUNBZ2JHVm1kRG9nZFc1elpYUTdYSEpjYmlBZ0lDQnRhVzR0ZDJsa2RHZzZJRE13TUhCNE8xeHlYRzRnSUgxY2NseHVQQzl6ZEhsc1pUNWNjbHh1WEhKY2JqeGthWFlnWTJ4aGMzTTlYQ0pqYjI1MFlXbHVaWEpjSWo1Y2NseHVJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1YzF3aVBseHlYRzRnSUNBZ1BHZzBJR05zWVhOelBWd2lZMjlzZFcxdVhDSStVSFZpYkdsaklFWmxaV1E4TDJnMFBseHlYRzRnSUNBZ1BHUnBkaUJqYkdGemN6MWNJbU52YkhWdGJsd2lJQzgrWEhKY2JpQWdQQzlrYVhZK1hISmNiand2WkdsMlBseHlYRzU3STJsbUlHVnljbTl5ZlZ4eVhHNGdJRHhrYVhZZ1kyeGhjM005WENKMGIyRnpkQ0IwYjJGemRDMWxjbkp2Y2x3aVBrVnljbTl5T2lCN1pYSnliM0o5UEM5a2FYWStYSEpjYm5zdmFXWjlYSEpjYm5zallYZGhhWFFnY0hKdmJXbHpaWDFjY2x4dUlDQThaR2wySUdOc1lYTnpQVndpYkc5aFpHbHVaeUJzYjJGa2FXNW5MV3huWENJZ0x6NWNjbHh1ZXpwMGFHVnVmVnh5WEc0Z0lIc2phV1lnYlhObmN5NXNaVzVuZEdnZ1BpQXdmVnh5WEc0Z0lDQWdleU5sWVdOb0lHMXpaM01nWVhNZ2JYTm5JQ2h0YzJjdWEyVjVLWDFjY2x4dUlDQWdJQ0FnUEUxbGMzTmhaMlZTWlc1a1pYSmxjaUI3YlhObmZTQXZQbHh5WEc0Z0lDQWdleTlsWVdOb2ZWeHlYRzRnSUNBZ1BIVnNJR05zWVhOelBWd2ljR0ZuYVc1aGRHbHZibHdpUGx4eVhHNGdJQ0FnSUNBOGJHa2dZMnhoYzNNOVhDSndZV2RsTFdsMFpXMGdjR0ZuWlMxd2NtVjJhVzkxYzF3aVBseHlYRzRnSUNBZ0lDQWdJRHhoSUdoeVpXWTlYQ0lqTDNCMVlteHBZMXdpSUc5dU9tTnNhV05yZkhOMGIzQlFjbTl3WVdkaGRHbHZibnh3Y21WMlpXNTBSR1ZtWVhWc2REMTdaMjlRY21WMmFXOTFjMzArWEhKY2JpQWdJQ0FnSUNBZ0lDQThaR2wySUdOc1lYTnpQVndpY0dGblpTMXBkR1Z0TFhOMVluUnBkR3hsWENJK1VISmxkbWx2ZFhNOEwyUnBkajVjY2x4dUlDQWdJQ0FnSUNBOEwyRStYSEpjYmlBZ0lDQWdJRHd2YkdrK1hISmNiaUFnSUNBZ0lEeHNhU0JqYkdGemN6MWNJbkJoWjJVdGFYUmxiU0J3WVdkbExXNWxlSFJjSWo1Y2NseHVJQ0FnSUNBZ0lDQThZU0JvY21WbVBWd2lJeTl3ZFdKc2FXTmNJaUJ2YmpwamJHbGphM3h6ZEc5d1VISnZjR0ZuWVhScGIyNThjSEpsZG1WdWRFUmxabUYxYkhROWUyZHZUbVY0ZEgwK1hISmNiaUFnSUNBZ0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aWNHRm5aUzFwZEdWdExYTjFZblJwZEd4bFhDSStUbVY0ZER3dlpHbDJQbHh5WEc0Z0lDQWdJQ0FnSUR3dllUNWNjbHh1SUNBZ0lDQWdQQzlzYVQ1Y2NseHVJQ0FnSUR3dmRXdytYSEpjYmlBZ2V5OXBabjFjY2x4dWV5OWhkMkZwZEgxY2NseHVJbDBzSW01aGJXVnpJanBiWFN3aWJXRndjR2x1WjNNaU9pSWlmUT09ICovXCI7XG5cdGFwcGVuZChkb2N1bWVudF8xLmhlYWQsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dChjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gT2JqZWN0XzEuY3JlYXRlKGN0eCk7XG5cdGNoaWxkX2N0eC5tc2cgPSBsaXN0W2ldO1xuXHRyZXR1cm4gY2hpbGRfY3R4O1xufVxuXG4vLyAoNjk6MCkgeyNpZiBlcnJvcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCkge1xuXHR2YXIgZGl2LCB0MCwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KFwiRXJyb3I6IFwiKTtcblx0XHRcdHQxID0gdGV4dChjdHguZXJyb3IpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJ0b2FzdCB0b2FzdC1lcnJvclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDY5LCAyLCAxNDMwKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHQwKTtcblx0XHRcdGFwcGVuZChkaXYsIHQxKTtcblx0XHR9LFxuXG5cdFx0cDogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE6MCkgPHNjcmlwdD4gICAgY29uc3QgTWVzc2FnZVJlbmRlcmVyID0gcmVxdWlyZShcIi4uL21lc3NhZ2VUeXBlcy9NZXNzYWdlUmVuZGVyZXIuc3ZlbHRlXCIpOyAgICBjb25zdCB7IG5hdmlnYXRlLCByb3V0ZVBhcmFtcyB9XG5mdW5jdGlvbiBjcmVhdGVfY2F0Y2hfYmxvY2soY3R4KSB7XG5cdHJldHVybiB7XG5cdFx0Yzogbm9vcCxcblx0XHRtOiBub29wLFxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXHRcdGQ6IG5vb3Bcblx0fTtcbn1cblxuLy8gKDc0OjApIHs6dGhlbn1cbmZ1bmN0aW9uIGNyZWF0ZV90aGVuX2Jsb2NrKGN0eCkge1xuXHR2YXIgaWZfYmxvY2tfYW5jaG9yLCBjdXJyZW50O1xuXG5cdHZhciBpZl9ibG9jayA9IChjdHgubXNncy5sZW5ndGggPiAwKSAmJiBjcmVhdGVfaWZfYmxvY2soY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0aWZfYmxvY2tfYW5jaG9yID0gZW1wdHkoKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2subSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpZl9ibG9ja19hbmNob3IsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGN0eC5tc2dzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrID0gY3JlYXRlX2lmX2Jsb2NrKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2ssIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpZl9ibG9ja19hbmNob3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDc1OjIpIHsjaWYgbXNncy5sZW5ndGggPiAwfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrKGN0eCkge1xuXHR2YXIgZWFjaF9ibG9ja3MgPSBbXSwgZWFjaF8xX2xvb2t1cCA9IG5ldyBNYXAoKSwgdDAsIHVsLCBsaTAsIGEwLCBkaXYwLCB0MiwgbGkxLCBhMSwgZGl2MSwgY3VycmVudCwgZGlzcG9zZTtcblxuXHR2YXIgZWFjaF92YWx1ZSA9IGN0eC5tc2dzO1xuXG5cdGNvbnN0IGdldF9rZXkgPSBjdHggPT4gY3R4Lm1zZy5rZXk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0bGV0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblx0XHRsZXQga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGVhY2hfMV9sb29rdXAuc2V0KGtleSwgZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLmMoKTtcblxuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0dWwgPSBlbGVtZW50KFwidWxcIik7XG5cdFx0XHRsaTAgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMCA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYwLnRleHRDb250ZW50ID0gXCJQcmV2aW91c1wiO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0bGkxID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MS50ZXh0Q29udGVudCA9IFwiTmV4dFwiO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwicGFnZS1pdGVtLXN1YnRpdGxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDgxLCAxMCwgMTgyNik7XG5cdFx0XHRhdHRyKGEwLCBcImhyZWZcIiwgXCIjL3B1YmxpY1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMCwgZmlsZSwgODAsIDgsIDE3NDIpO1xuXHRcdFx0YXR0cihsaTAsIFwiY2xhc3NcIiwgXCJwYWdlLWl0ZW0gcGFnZS1wcmV2aW91c1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTAsIGZpbGUsIDc5LCA2LCAxNjk2KTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcInBhZ2UtaXRlbS1zdWJ0aXRsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCA4NiwgMTAsIDIwMjkpO1xuXHRcdFx0YXR0cihhMSwgXCJocmVmXCIsIFwiIy9wdWJsaWNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTEsIGZpbGUsIDg1LCA4LCAxOTQ5KTtcblx0XHRcdGF0dHIobGkxLCBcImNsYXNzXCIsIFwicGFnZS1pdGVtIHBhZ2UtbmV4dFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTEsIGZpbGUsIDg0LCA2LCAxOTA3KTtcblx0XHRcdGF0dHIodWwsIFwiY2xhc3NcIiwgXCJwYWdpbmF0aW9uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHVsLCBmaWxlLCA3OCwgNCwgMTY2NSk7XG5cblx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdGxpc3RlbihhMCwgXCJjbGlja1wiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZ29QcmV2aW91cykpKSxcblx0XHRcdFx0bGlzdGVuKGExLCBcImNsaWNrXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5nb05leHQpKSlcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLm0odGFyZ2V0LCBhbmNob3IpO1xuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTApO1xuXHRcdFx0YXBwZW5kKGxpMCwgYTApO1xuXHRcdFx0YXBwZW5kKGEwLCBkaXYwKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTEpO1xuXHRcdFx0YXBwZW5kKGxpMSwgYTEpO1xuXHRcdFx0YXBwZW5kKGExLCBkaXYxKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRjb25zdCBlYWNoX3ZhbHVlID0gY3R4Lm1zZ3M7XG5cblx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0ZWFjaF9ibG9ja3MgPSB1cGRhdGVfa2V5ZWRfZWFjaChlYWNoX2Jsb2NrcywgY2hhbmdlZCwgZ2V0X2tleSwgMSwgY3R4LCBlYWNoX3ZhbHVlLCBlYWNoXzFfbG9va3VwLCB0MC5wYXJlbnROb2RlLCBvdXRyb19hbmRfZGVzdHJveV9ibG9jaywgY3JlYXRlX2VhY2hfYmxvY2ssIHQwLCBnZXRfZWFjaF9jb250ZXh0KTtcblx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkgdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgZWFjaF9ibG9ja3NbaV0uZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0MCk7XG5cdFx0XHRcdGRldGFjaCh1bCk7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNzY6NCkgeyNlYWNoIG1zZ3MgYXMgbXNnIChtc2cua2V5KX1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGtleV8xLCBjdHgpIHtcblx0dmFyIGZpcnN0LCBjdXJyZW50O1xuXG5cdHZhciBtZXNzYWdlcmVuZGVyZXIgPSBuZXcgY3R4Lk1lc3NhZ2VSZW5kZXJlcih7XG5cdFx0cHJvcHM6IHsgbXNnOiBjdHgubXNnIH0sXG5cdFx0JCRpbmxpbmU6IHRydWVcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRrZXk6IGtleV8xLFxuXG5cdFx0Zmlyc3Q6IG51bGwsXG5cblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmaXJzdCA9IGVtcHR5KCk7XG5cdFx0XHRtZXNzYWdlcmVuZGVyZXIuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0dGhpcy5maXJzdCA9IGZpcnN0O1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZmlyc3QsIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQobWVzc2FnZXJlbmRlcmVyLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0dmFyIG1lc3NhZ2VyZW5kZXJlcl9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2dzKSBtZXNzYWdlcmVuZGVyZXJfY2hhbmdlcy5tc2cgPSBjdHgubXNnO1xuXHRcdFx0bWVzc2FnZXJlbmRlcmVyLiRzZXQobWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChmaXJzdCk7XG5cdFx0XHR9XG5cblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1lc3NhZ2VyZW5kZXJlciwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg3MjoxNikgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nIGxvYWRpbmctbGdcIiAvPiAgezp0aGVufVxuZnVuY3Rpb24gY3JlYXRlX3BlbmRpbmdfYmxvY2soY3R4KSB7XG5cdHZhciBkaXY7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJsb2FkaW5nIGxvYWRpbmctbGdcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCA3MiwgMiwgMTUxMCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBkaXYyLCBkaXYxLCBoNCwgdDEsIGRpdjAsIHQyLCB0MywgYXdhaXRfYmxvY2tfYW5jaG9yLCBwcm9taXNlXzEsIGN1cnJlbnQ7XG5cblx0dmFyIGlmX2Jsb2NrID0gKGN0eC5lcnJvcikgJiYgY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblxuXHRsZXQgaW5mbyA9IHtcblx0XHRjdHgsXG5cdFx0Y3VycmVudDogbnVsbCxcblx0XHR0b2tlbjogbnVsbCxcblx0XHRwZW5kaW5nOiBjcmVhdGVfcGVuZGluZ19ibG9jayxcblx0XHR0aGVuOiBjcmVhdGVfdGhlbl9ibG9jayxcblx0XHRjYXRjaDogY3JlYXRlX2NhdGNoX2Jsb2NrLFxuXHRcdHZhbHVlOiAnbnVsbCcsXG5cdFx0ZXJyb3I6ICdudWxsJyxcblx0XHRibG9ja3M6IFssLCxdXG5cdH07XG5cblx0aGFuZGxlX3Byb21pc2UocHJvbWlzZV8xID0gY3R4LnByb21pc2UsIGluZm8pO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2MiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGg0ID0gZWxlbWVudChcImg0XCIpO1xuXHRcdFx0aDQudGV4dENvbnRlbnQgPSBcIlB1YmxpYyBGZWVkXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRkaXYwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0YXdhaXRfYmxvY2tfYW5jaG9yID0gZW1wdHkoKTtcblxuXHRcdFx0aW5mby5ibG9jay5jKCk7XG5cdFx0XHRhdHRyKGg0LCBcImNsYXNzXCIsIFwiY29sdW1uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGg0LCBmaWxlLCA2NCwgNCwgMTMzMik7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJjb2x1bW5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgNjUsIDQsIDEzNzMpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwiY29sdW1uc1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCA2MywgMiwgMTMwNSk7XG5cdFx0XHRhdHRyKGRpdjIsIFwiY2xhc3NcIiwgXCJjb250YWluZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgNjIsIDAsIDEyNzgpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjIsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgaDQpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBkaXYwKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQyLCBhbmNob3IpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQzLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgYXdhaXRfYmxvY2tfYW5jaG9yLCBhbmNob3IpO1xuXG5cdFx0XHRpbmZvLmJsb2NrLm0odGFyZ2V0LCBpbmZvLmFuY2hvciA9IGFuY2hvcik7XG5cdFx0XHRpbmZvLm1vdW50ID0gKCkgPT4gYXdhaXRfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGU7XG5cdFx0XHRpbmZvLmFuY2hvciA9IGF3YWl0X2Jsb2NrX2FuY2hvcjtcblxuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBuZXdfY3R4KSB7XG5cdFx0XHRjdHggPSBuZXdfY3R4O1xuXHRcdFx0aWYgKGN0eC5lcnJvcikge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKHQzLnBhcmVudE5vZGUsIHQzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRpZl9ibG9jay5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jayA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGluZm8uY3R4ID0gY3R4O1xuXG5cdFx0XHRpZiAoKCdwcm9taXNlJyBpbiBjaGFuZ2VkKSAmJiBwcm9taXNlXzEgIT09IChwcm9taXNlXzEgPSBjdHgucHJvbWlzZSkgJiYgaGFuZGxlX3Byb21pc2UocHJvbWlzZV8xLCBpbmZvKSkge1xuXHRcdFx0XHQvLyBub3RoaW5nXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpbmZvLmJsb2NrLnAoY2hhbmdlZCwgYXNzaWduKGFzc2lnbih7fSwgY3R4KSwgaW5mby5yZXNvbHZlZCkpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaW5mby5ibG9jayk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSArPSAxKSB7XG5cdFx0XHRcdGNvbnN0IGJsb2NrID0gaW5mby5ibG9ja3NbaV07XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGJsb2NrKTtcblx0XHRcdH1cblxuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2Mik7XG5cdFx0XHRcdGRldGFjaCh0Mik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0Myk7XG5cdFx0XHRcdGRldGFjaChhd2FpdF9ibG9ja19hbmNob3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbmZvLmJsb2NrLmQoZGV0YWNoaW5nKTtcblx0XHRcdGluZm8udG9rZW4gPSBudWxsO1xuXHRcdFx0aW5mbyA9IG51bGw7XG5cdFx0fVxuXHR9O1xufVxuXG5sZXQgZHJvcGRvd25BY3RpdmUgPSBmYWxzZTtcblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0bGV0ICRyb3V0ZVBhcmFtcztcblxuXHRjb25zdCBNZXNzYWdlUmVuZGVyZXIgPSByZXF1aXJlKFwiLi4vbWVzc2FnZVR5cGVzL01lc3NhZ2VSZW5kZXJlci5zdmVsdGVcIik7XHJcbiAgY29uc3QgeyBuYXZpZ2F0ZSwgcm91dGVQYXJhbXMgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTsgdmFsaWRhdGVfc3RvcmUocm91dGVQYXJhbXMsICdyb3V0ZVBhcmFtcycpOyBjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgcm91dGVQYXJhbXMsICQkdmFsdWUgPT4geyAkcm91dGVQYXJhbXMgPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcykgfSk7XHJcbiAgY29uc3QgeyBnZXRQcmVmcyB9ID0gcmVxdWlyZShcIi4uL3ByZWZzLmpzXCIpO1xyXG4gIGNvbnN0IHsgb25Nb3VudCB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcclxuXHJcbiAgbGV0IG1zZ3MgPSBmYWxzZTtcclxuICBsZXQgZXJyb3IgPSAkcm91dGVQYXJhbXMuZXJyb3IgfHwgZmFsc2U7XHJcbiAgbGV0IHByb21pc2U7XHJcblxyXG4gIGxldCBvcHRzID0ge307XHJcblxyXG4gIGNvbnN0IGdvTmV4dCA9ICgpID0+IHtcclxuICAgIGxldCBsdCA9IG1zZ3NbbXNncy5sZW5ndGggLSAxXS52YWx1ZS50aW1lc3RhbXA7XHJcbiAgICAkJGludmFsaWRhdGUoJ21zZ3MnLCBtc2dzID0gZmFsc2UpO1xyXG4gICAgbmF2aWdhdGUoXCIvcHVibGljXCIsIHtcclxuICAgICAgbHRcclxuICAgIH0pO1xyXG4gIH07XHJcbiAgY29uc3QgZ29QcmV2aW91cyA9ICgpID0+IHtcclxuICAgICQkaW52YWxpZGF0ZSgnbXNncycsIG1zZ3MgPSBmYWxzZSk7XHJcbiAgICBoaXN0b3J5LmJhY2soKTtcclxuICB9O1xuXG5cdCQkc2VsZi4kJC51cGRhdGUgPSAoJCRkaXJ0eSA9IHsgb3B0czogMSwgJHJvdXRlUGFyYW1zOiAxLCBlcnJvcjogMSB9KSA9PiB7XG5cdFx0aWYgKCQkZGlydHkub3B0cyB8fCAkJGRpcnR5LiRyb3V0ZVBhcmFtcyB8fCAkJGRpcnR5LmVycm9yKSB7IHtcclxuICAgICAgICBPYmplY3QuYXNzaWduKG9wdHMsICRyb3V0ZVBhcmFtcyk7XHJcbiAgICBcclxuICAgICAgICBkb2N1bWVudC50aXRsZSA9IGBQYXRjaGZveCAtIFB1YmxpY2A7XHJcbiAgICBcclxuICAgICAgICBpZiAob3B0cy5oYXNPd25Qcm9wZXJ0eShcImx0XCIpKSB7XHJcbiAgICAgICAgICBvcHRzLmx0ID0gcGFyc2VJbnQob3B0cy5sdCk7ICQkaW52YWxpZGF0ZSgnb3B0cycsIG9wdHMpLCAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcyksICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvcik7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgaWYgKG9wdHMuaGFzT3duUHJvcGVydHkoXCJsaW1pdFwiKSkge1xyXG4gICAgICAgICAgb3B0cy5saW1pdCA9IHBhcnNlSW50KG9wdHMubGltaXQpOyAkJGludmFsaWRhdGUoJ29wdHMnLCBvcHRzKSwgJCRpbnZhbGlkYXRlKCckcm91dGVQYXJhbXMnLCAkcm91dGVQYXJhbXMpLCAkJGludmFsaWRhdGUoJ2Vycm9yJywgZXJyb3IpO1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICQkaW52YWxpZGF0ZSgncHJvbWlzZScsIHByb21pc2UgPSBzc2JcclxuICAgICAgICAgIC5wdWJsaWMob3B0cylcclxuICAgICAgICAgIC50aGVuKG1zID0+IHtcclxuICAgICAgICAgICAgJCRpbnZhbGlkYXRlKCdtc2dzJywgbXNncyA9IG1zKTtcclxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0cy5sdDtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdHMubGltaXQ7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKG4gPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWVycm9yKSB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImVycnJyb29vb29yXCIsIG4pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KSk7XHJcbiAgICAgIH0gfVxuXHR9O1xuXG5cdHJldHVybiB7XG5cdFx0TWVzc2FnZVJlbmRlcmVyLFxuXHRcdHJvdXRlUGFyYW1zLFxuXHRcdG1zZ3MsXG5cdFx0ZXJyb3IsXG5cdFx0cHJvbWlzZSxcblx0XHRnb05leHQsXG5cdFx0Z29QcmV2aW91c1xuXHR9O1xufVxuXG5jbGFzcyBQdWJsaWMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aWYgKCFkb2N1bWVudF8xLmdldEVsZW1lbnRCeUlkKFwic3ZlbHRlLWtkaXU0NC1zdHlsZVwiKSkgYWRkX2NzcygpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtdKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFB1YmxpYztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012VUhWaWJHbGpMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCYzJoQ1FTeHBRa0ZCYTBJaWZRPT0iLCIvKiBTZWFyY2guc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRjaGVja19vdXRyb3MsXG5cdGNvbXBvbmVudF9zdWJzY3JpYmUsXG5cdGRlc3Ryb3lfY29tcG9uZW50LFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGVtcHR5LFxuXHRncm91cF9vdXRyb3MsXG5cdGhhbmRsZV9wcm9taXNlLFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdG1vdW50X2NvbXBvbmVudCxcblx0bm9vcCxcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzZXRfZGF0YSxcblx0c3BhY2UsXG5cdHRleHQsXG5cdHRyYW5zaXRpb25faW4sXG5cdHRyYW5zaXRpb25fb3V0LFxuXHR1cGRhdGVfa2V5ZWRfZWFjaCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJTZWFyY2guc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IE9iamVjdC5jcmVhdGUoY3R4KTtcblx0Y2hpbGRfY3R4Lm1zZyA9IGxpc3RbaV07XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbi8vICg0MzowKSB7I2lmIGVycm9yfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrKGN0eCkge1xuXHR2YXIgZGl2LCB0MCwgdDEsIHQyLCB0MztcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJDb3VsZG4ndCBmaW5kIHJlc3VsdHMgZm9yIHF1ZXJ5IFwiKTtcblx0XHRcdHQxID0gdGV4dChjdHgucXVlcnkpO1xuXHRcdFx0dDIgPSB0ZXh0KFwiIDogXCIpO1xuXHRcdFx0dDMgPSB0ZXh0KGN0eC5lcnJvcik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0IHRvYXN0LWVycm9yXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNDMsIDIsIDk0NCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MSk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0Mik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0Myk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLnF1ZXJ5KSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCBjdHgucXVlcnkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5lcnJvcikge1xuXHRcdFx0XHRzZXRfZGF0YSh0MywgY3R4LmVycm9yKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMTowKSA8c2NyaXB0PiAgICBjb25zdCB7IHRpY2sgfVxuZnVuY3Rpb24gY3JlYXRlX2NhdGNoX2Jsb2NrKGN0eCkge1xuXHRyZXR1cm4ge1xuXHRcdGM6IG5vb3AsXG5cdFx0bTogbm9vcCxcblx0XHRkOiBub29wXG5cdH07XG59XG5cbi8vICgxOjApIDxzY3JpcHQ+ICAgIGNvbnN0IHsgdGljayB9XG5mdW5jdGlvbiBjcmVhdGVfdGhlbl9ibG9jayhjdHgpIHtcblx0cmV0dXJuIHtcblx0XHRjOiBub29wLFxuXHRcdG06IG5vb3AsXG5cdFx0ZDogbm9vcFxuXHR9O1xufVxuXG4vLyAoNDg6MTYpICAgICA8ZGl2IGNsYXNzPVwibG9hZGluZyBsb2FkaW5nLWxnXCIgLz4gIHsvYXdhaXR9XG5mdW5jdGlvbiBjcmVhdGVfcGVuZGluZ19ibG9jayhjdHgpIHtcblx0dmFyIGRpdjtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImxvYWRpbmcgbG9hZGluZy1sZ1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDQ4LCAyLCAxMDY5KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNTE6MCkgeyNlYWNoIG1zZ3MgYXMgbXNnIChtc2cua2V5KX1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGtleV8xLCBjdHgpIHtcblx0dmFyIGZpcnN0LCBjdXJyZW50O1xuXG5cdHZhciBtZXNzYWdlcmVuZGVyZXIgPSBuZXcgY3R4Lk1lc3NhZ2VSZW5kZXJlcih7XG5cdFx0cHJvcHM6IHsgbXNnOiBjdHgubXNnIH0sXG5cdFx0JCRpbmxpbmU6IHRydWVcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRrZXk6IGtleV8xLFxuXG5cdFx0Zmlyc3Q6IG51bGwsXG5cblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmaXJzdCA9IGVtcHR5KCk7XG5cdFx0XHRtZXNzYWdlcmVuZGVyZXIuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0dGhpcy5maXJzdCA9IGZpcnN0O1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZmlyc3QsIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQobWVzc2FnZXJlbmRlcmVyLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0dmFyIG1lc3NhZ2VyZW5kZXJlcl9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2dzKSBtZXNzYWdlcmVuZGVyZXJfY2hhbmdlcy5tc2cgPSBjdHgubXNnO1xuXHRcdFx0bWVzc2FnZXJlbmRlcmVyLiRzZXQobWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChmaXJzdCk7XG5cdFx0XHR9XG5cblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1lc3NhZ2VyZW5kZXJlciwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgaDQsIHQwLCBzbWFsbCwgdDEsIHQyLCB0MywgcHJvbWlzZV8xLCB0NCwgZWFjaF9ibG9ja3MgPSBbXSwgZWFjaF8xX2xvb2t1cCA9IG5ldyBNYXAoKSwgZWFjaF8xX2FuY2hvciwgY3VycmVudDtcblxuXHR2YXIgaWZfYmxvY2sgPSAoY3R4LmVycm9yKSAmJiBjcmVhdGVfaWZfYmxvY2soY3R4KTtcblxuXHRsZXQgaW5mbyA9IHtcblx0XHRjdHgsXG5cdFx0Y3VycmVudDogbnVsbCxcblx0XHR0b2tlbjogbnVsbCxcblx0XHRwZW5kaW5nOiBjcmVhdGVfcGVuZGluZ19ibG9jayxcblx0XHR0aGVuOiBjcmVhdGVfdGhlbl9ibG9jayxcblx0XHRjYXRjaDogY3JlYXRlX2NhdGNoX2Jsb2NrLFxuXHRcdHZhbHVlOiAnbnVsbCcsXG5cdFx0ZXJyb3I6ICdudWxsJ1xuXHR9O1xuXG5cdGhhbmRsZV9wcm9taXNlKHByb21pc2VfMSA9IGN0eC5wcm9taXNlLCBpbmZvKTtcblxuXHR2YXIgZWFjaF92YWx1ZSA9IGN0eC5tc2dzO1xuXG5cdGNvbnN0IGdldF9rZXkgPSBjdHggPT4gY3R4Lm1zZy5rZXk7XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0bGV0IGNoaWxkX2N0eCA9IGdldF9lYWNoX2NvbnRleHQoY3R4LCBlYWNoX3ZhbHVlLCBpKTtcblx0XHRsZXQga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGVhY2hfMV9sb29rdXAuc2V0KGtleSwgZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayhrZXksIGNoaWxkX2N0eCkpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aDQgPSBlbGVtZW50KFwiaDRcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJTZWFyY2hcXHJcXG4gICAgXCIpO1xuXHRcdFx0c21hbGwgPSBlbGVtZW50KFwic21hbGxcIik7XG5cdFx0XHR0MSA9IHRleHQoY3R4LnF1ZXJ5KTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXG5cdFx0XHRpbmZvLmJsb2NrLmMoKTtcblxuXHRcdFx0dDQgPSBzcGFjZSgpO1xuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLmMoKTtcblxuXHRcdFx0ZWFjaF8xX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0XHRhdHRyKHNtYWxsLCBcImNsYXNzXCIsIFwibGFiZWwgaGlkZS1zbVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzbWFsbCwgZmlsZSwgMzksIDQsIDg2Nik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaDQsIGZpbGUsIDM3LCAyLCA4NDQpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJjb250YWluZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAzNiwgMCwgODE3KTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBoNCk7XG5cdFx0XHRhcHBlbmQoaDQsIHQwKTtcblx0XHRcdGFwcGVuZChoNCwgc21hbGwpO1xuXHRcdFx0YXBwZW5kKHNtYWxsLCB0MSk7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MiwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2subSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MywgYW5jaG9yKTtcblxuXHRcdFx0aW5mby5ibG9jay5tKHRhcmdldCwgaW5mby5hbmNob3IgPSBhbmNob3IpO1xuXHRcdFx0aW5mby5tb3VudCA9ICgpID0+IHQ0LnBhcmVudE5vZGU7XG5cdFx0XHRpbmZvLmFuY2hvciA9IHQ0O1xuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0NCwgYW5jaG9yKTtcblxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSBlYWNoX2Jsb2Nrc1tpXS5tKHRhcmdldCwgYW5jaG9yKTtcblxuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZWFjaF8xX2FuY2hvciwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgbmV3X2N0eCkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGlmICghY3VycmVudCB8fCBjaGFuZ2VkLnF1ZXJ5KSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCBjdHgucXVlcnkpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmVycm9yKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRcdGlmX2Jsb2NrLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jayA9IGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKHQzLnBhcmVudE5vZGUsIHQzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRpZl9ibG9jay5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jayA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGluZm8uY3R4ID0gY3R4O1xuXG5cdFx0XHQoJ3Byb21pc2UnIGluIGNoYW5nZWQpICYmIHByb21pc2VfMSAhPT0gKHByb21pc2VfMSA9IGN0eC5wcm9taXNlKSAmJiBoYW5kbGVfcHJvbWlzZShwcm9taXNlXzEsIGluZm8pXG5cblx0XHRcdGNvbnN0IGVhY2hfdmFsdWUgPSBjdHgubXNncztcblxuXHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRlYWNoX2Jsb2NrcyA9IHVwZGF0ZV9rZXllZF9lYWNoKGVhY2hfYmxvY2tzLCBjaGFuZ2VkLCBnZXRfa2V5LCAxLCBjdHgsIGVhY2hfdmFsdWUsIGVhY2hfMV9sb29rdXAsIGVhY2hfMV9hbmNob3IucGFyZW50Tm9kZSwgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIGNyZWF0ZV9lYWNoX2Jsb2NrLCBlYWNoXzFfYW5jaG9yLCBnZXRfZWFjaF9jb250ZXh0KTtcblx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkgdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHRcdGRldGFjaCh0Mik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0Myk7XG5cdFx0XHR9XG5cblx0XHRcdGluZm8uYmxvY2suZChkZXRhY2hpbmcpO1xuXHRcdFx0aW5mby50b2tlbiA9IG51bGw7XG5cdFx0XHRpbmZvID0gbnVsbDtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godDQpO1xuXHRcdFx0fVxuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZWFjaF8xX2FuY2hvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgJHJvdXRlUGFyYW1zO1xuXG5cdGNvbnN0IHsgdGljayB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcclxuICBjb25zdCBNZXNzYWdlUmVuZGVyZXIgPSByZXF1aXJlKFwiLi4vbWVzc2FnZVR5cGVzL01lc3NhZ2VSZW5kZXJlci5zdmVsdGVcIik7XHJcbiAgY29uc3QgeyBuYXZpZ2F0ZSwgcm91dGVQYXJhbXMgfSA9IHJlcXVpcmUoXCIuLi91dGlscy5qc1wiKTsgdmFsaWRhdGVfc3RvcmUocm91dGVQYXJhbXMsICdyb3V0ZVBhcmFtcycpOyBjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgcm91dGVQYXJhbXMsICQkdmFsdWUgPT4geyAkcm91dGVQYXJhbXMgPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcykgfSk7XHJcbiAgbGV0IG1zZ3MgPSBbXTtcclxuICBsZXQgZXJyb3IgPSBmYWxzZTtcclxuICBsZXQgcXVlcnk7XHJcbiAgbGV0IHByb21pc2U7XG5cblx0JCRzZWxmLiQkLnVwZGF0ZSA9ICgkJGRpcnR5ID0geyBxdWVyeTogMSwgJHJvdXRlUGFyYW1zOiAxLCBtc2dzOiAxIH0pID0+IHtcblx0XHRpZiAoJCRkaXJ0eS5xdWVyeSB8fCAkJGRpcnR5LiRyb3V0ZVBhcmFtcyB8fCAkJGRpcnR5Lm1zZ3MpIHsge1xyXG4gICAgICAgIGlmIChxdWVyeSAhPT0gJHJvdXRlUGFyYW1zLnF1ZXJ5KSB7XHJcbiAgICAgICAgICAkJGludmFsaWRhdGUoJ3F1ZXJ5JywgcXVlcnkgPSAkcm91dGVQYXJhbXMucXVlcnkpO1xyXG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdtc2dzJywgbXNncyA9IFtdKTtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKFwiTmV3IHNlYXJjaFwiLCBxdWVyeSk7XHJcbiAgICAgICAgfVxyXG4gICAgXHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgUGF0Y2hmb3ggLSBzZWFyY2g6ICR7cXVlcnl9YDtcclxuICAgIFxyXG4gICAgICAgIGNvbnN0IGdvdFJlc3VsdCA9IGFzeW5jIG1zZyA9PiB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImdvdCBhIG1hdGNoXCIsIG1zZyk7XHJcbiAgICAgICAgICBtc2dzLnB1c2gobXNnKTtcclxuICAgICAgICAgIGF3YWl0IHRpY2soKTtcclxuICAgICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICAkJGludmFsaWRhdGUoJ3Byb21pc2UnLCBwcm9taXNlID0gc3NiXHJcbiAgICAgICAgICAuc2VhcmNoV2l0aENhbGxiYWNrKHF1ZXJ5LCBnb3RSZXN1bHQpXHJcbiAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKG4gPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRpcihuKTtcclxuICAgICAgICAgICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gbi5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pKTtcclxuICAgICAgfSB9XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRNZXNzYWdlUmVuZGVyZXIsXG5cdFx0cm91dGVQYXJhbXMsXG5cdFx0bXNncyxcblx0XHRlcnJvcixcblx0XHRxdWVyeSxcblx0XHRwcm9taXNlXG5cdH07XG59XG5cbmNsYXNzIFNlYXJjaCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXSk7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZWFyY2g7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdlUyVmhjbU5vTG5OMlpXeDBaU0pkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2VzI1MWJHeGRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRVHM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3p0QlFUaFlRU3hwUWtGQmEwSWlmUT09IiwiLyogVGhyZWFkLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0Y2hlY2tfb3V0cm9zLFxuXHRjb21wb25lbnRfc3Vic2NyaWJlLFxuXHRkZXN0cm95X2NvbXBvbmVudCxcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRlbXB0eSxcblx0Z3JvdXBfb3V0cm9zLFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdG1vdW50X2NvbXBvbmVudCxcblx0bm9vcCxcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzZXRfZGF0YSxcblx0c3BhY2UsXG5cdHRleHQsXG5cdHRyYW5zaXRpb25faW4sXG5cdHRyYW5zaXRpb25fb3V0LFxuXHR1cGRhdGVfa2V5ZWRfZWFjaCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJUaHJlYWQuc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGdldF9lYWNoX2NvbnRleHQoY3R4LCBsaXN0LCBpKSB7XG5cdGNvbnN0IGNoaWxkX2N0eCA9IE9iamVjdC5jcmVhdGUoY3R4KTtcblx0Y2hpbGRfY3R4Lm1zZyA9IGxpc3RbaV07XG5cdHJldHVybiBjaGlsZF9jdHg7XG59XG5cbi8vICg1NzowKSB7I2lmIGVycm9yfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciBkaXYsIHQwLCBhLCB0MSwgYV9ocmVmX3ZhbHVlLCB0MiwgdDM7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KFwiQ291bGRuJ3QgbG9hZCB0aGVhZFxcclxcbiAgICBcIik7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0MSA9IHRleHQoY3R4Lm1zZ2lkKTtcblx0XHRcdHQyID0gdGV4dChcIlxcclxcbiAgICA6IFwiKTtcblx0XHRcdHQzID0gdGV4dChjdHguZXJyb3IpO1xuXHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlID0gXCI/dGhyZWFkPVwiICsgY3R4Lm1zZ2lkICsgXCIjL3RocmVhZFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCA1OSwgNCwgMTM2Nik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0IHRvYXN0LWVycm9yXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNTcsIDIsIDEzMDQpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDIpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDMpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2dpZCkge1xuXHRcdFx0XHRzZXRfZGF0YSh0MSwgY3R4Lm1zZ2lkKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKChjaGFuZ2VkLm1zZ2lkKSAmJiBhX2hyZWZfdmFsdWUgIT09IChhX2hyZWZfdmFsdWUgPSBcIj90aHJlYWQ9XCIgKyBjdHgubXNnaWQgKyBcIiMvdGhyZWFkXCIpKSB7XG5cdFx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjaGFuZ2VkLmVycm9yKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQzLCBjdHguZXJyb3IpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg2NjowKSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9jayhjdHgpIHtcblx0dmFyIGVhY2hfYmxvY2tzID0gW10sIGVhY2hfMV9sb29rdXAgPSBuZXcgTWFwKCksIGVhY2hfMV9hbmNob3IsIGN1cnJlbnQ7XG5cblx0dmFyIGVhY2hfdmFsdWUgPSBjdHgubXNncztcblxuXHRjb25zdCBnZXRfa2V5ID0gY3R4ID0+IGN0eC5tc2cua2V5O1xuXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGxldCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0KGN0eCwgZWFjaF92YWx1ZSwgaSk7XG5cdFx0bGV0IGtleSA9IGdldF9rZXkoY2hpbGRfY3R4KTtcblx0XHRlYWNoXzFfbG9va3VwLnNldChrZXksIGVhY2hfYmxvY2tzW2ldID0gY3JlYXRlX2VhY2hfYmxvY2soa2V5LCBjaGlsZF9jdHgpKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSBlYWNoX2Jsb2Nrc1tpXS5jKCk7XG5cblx0XHRcdGVhY2hfMV9hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSBlYWNoX2Jsb2Nrc1tpXS5tKHRhcmdldCwgYW5jaG9yKTtcblxuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZWFjaF8xX2FuY2hvciwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRjb25zdCBlYWNoX3ZhbHVlID0gY3R4Lm1zZ3M7XG5cblx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0ZWFjaF9ibG9ja3MgPSB1cGRhdGVfa2V5ZWRfZWFjaChlYWNoX2Jsb2NrcywgY2hhbmdlZCwgZ2V0X2tleSwgMSwgY3R4LCBlYWNoX3ZhbHVlLCBlYWNoXzFfbG9va3VwLCBlYWNoXzFfYW5jaG9yLnBhcmVudE5vZGUsIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLCBjcmVhdGVfZWFjaF9ibG9jaywgZWFjaF8xX2FuY2hvciwgZ2V0X2VhY2hfY29udGV4dCk7XG5cdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHRyYW5zaXRpb25faW4oZWFjaF9ibG9ja3NbaV0pO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgdHJhbnNpdGlvbl9vdXQoZWFjaF9ibG9ja3NbaV0pO1xuXG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIGVhY2hfYmxvY2tzW2ldLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZWFjaF8xX2FuY2hvcik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNjQ6MCkgeyNpZiAhbXNncyAmJiAhZXJyb3J9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBkaXY7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJsb2FkaW5nIGxvYWRpbmctbGdcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCA2NCwgMiwgMTQ3MCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IG5vb3AsXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNjc6MikgeyNlYWNoIG1zZ3MgYXMgbXNnIChtc2cua2V5KX1cbmZ1bmN0aW9uIGNyZWF0ZV9lYWNoX2Jsb2NrKGtleV8xLCBjdHgpIHtcblx0dmFyIGZpcnN0LCBjdXJyZW50O1xuXG5cdHZhciBtZXNzYWdlcmVuZGVyZXIgPSBuZXcgY3R4Lk1lc3NhZ2VSZW5kZXJlcih7XG5cdFx0cHJvcHM6IHsgbXNnOiBjdHgubXNnIH0sXG5cdFx0JCRpbmxpbmU6IHRydWVcblx0fSk7XG5cblx0cmV0dXJuIHtcblx0XHRrZXk6IGtleV8xLFxuXG5cdFx0Zmlyc3Q6IG51bGwsXG5cblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRmaXJzdCA9IGVtcHR5KCk7XG5cdFx0XHRtZXNzYWdlcmVuZGVyZXIuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0dGhpcy5maXJzdCA9IGZpcnN0O1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZmlyc3QsIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQobWVzc2FnZXJlbmRlcmVyLCB0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0dmFyIG1lc3NhZ2VyZW5kZXJlcl9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2dzKSBtZXNzYWdlcmVuZGVyZXJfY2hhbmdlcy5tc2cgPSBjdHgubXNnO1xuXHRcdFx0bWVzc2FnZXJlbmRlcmVyLiRzZXQobWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChmaXJzdCk7XG5cdFx0XHR9XG5cblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1lc3NhZ2VyZW5kZXJlciwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgaDQsIHQwLCBzbWFsbCwgdDEsIHQyLCB0MywgY3VycmVudF9ibG9ja190eXBlX2luZGV4LCBpZl9ibG9jazEsIGlmX2Jsb2NrMV9hbmNob3IsIGN1cnJlbnQ7XG5cblx0dmFyIGlmX2Jsb2NrMCA9IChjdHguZXJyb3IpICYmIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrX2NyZWF0b3JzID0gW1xuXHRcdGNyZWF0ZV9pZl9ibG9jayxcblx0XHRjcmVhdGVfZWxzZV9ibG9ja1xuXHRdO1xuXG5cdHZhciBpZl9ibG9ja3MgPSBbXTtcblxuXHRmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZShjdHgpIHtcblx0XHRpZiAoIWN0eC5tc2dzICYmICFjdHguZXJyb3IpIHJldHVybiAwO1xuXHRcdHJldHVybiAxO1xuXHR9XG5cblx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0aWZfYmxvY2sxID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aDQgPSBlbGVtZW50KFwiaDRcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJUaHJlYWRcXHJcXG4gICAgXCIpO1xuXHRcdFx0c21hbGwgPSBlbGVtZW50KFwic21hbGxcIik7XG5cdFx0XHR0MSA9IHRleHQoY3R4Lm1zZ2lkKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0MyA9IHNwYWNlKCk7XG5cdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0aWZfYmxvY2sxX2FuY2hvciA9IGVtcHR5KCk7XG5cdFx0XHRhdHRyKHNtYWxsLCBcImNsYXNzXCIsIFwibGFiZWwgaGlkZS1zbVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzbWFsbCwgZmlsZSwgNTMsIDQsIDEyMjYpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGg0LCBmaWxlLCA1MSwgMiwgMTIwNCk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNvbnRhaW5lclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDUwLCAwLCAxMTc3KTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBoNCk7XG5cdFx0XHRhcHBlbmQoaDQsIHQwKTtcblx0XHRcdGFwcGVuZChoNCwgc21hbGwpO1xuXHRcdFx0YXBwZW5kKHNtYWxsLCB0MSk7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MiwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQzLCBhbmNob3IpO1xuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpZl9ibG9jazFfYW5jaG9yLCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICghY3VycmVudCB8fCBjaGFuZ2VkLm1zZ2lkKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCBjdHgubXNnaWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmVycm9yKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0XHRpZl9ibG9jazAucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazAubSh0My5wYXJlbnROb2RlLCB0Myk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2swKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMC5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazAgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHR2YXIgcHJldmlvdXNfYmxvY2tfaW5kZXggPSBjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXg7XG5cdFx0XHRjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpO1xuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9PT0gcHJldmlvdXNfYmxvY2tfaW5kZXgpIHtcblx0XHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sIDEsIDEsICgpID0+IHtcblx0XHRcdFx0XHRpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXG5cdFx0XHRcdGlmX2Jsb2NrMSA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdO1xuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEsIDEpO1xuXHRcdFx0XHRpZl9ibG9jazEubShpZl9ibG9jazFfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrMV9hbmNob3IpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQoaWZfYmxvY2sxKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHRcdGRldGFjaCh0Mik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKGRldGFjaGluZyk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHQzKTtcblx0XHRcdH1cblxuXHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0uZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpZl9ibG9jazFfYW5jaG9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGxldCAkcm91dGVQYXJhbXM7XG5cblx0Y29uc3QgTWVzc2FnZVJlbmRlcmVyID0gcmVxdWlyZShcIi4uL21lc3NhZ2VUeXBlcy9NZXNzYWdlUmVuZGVyZXIuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlUGFyYW1zIH0gPSByZXF1aXJlKFwiLi4vdXRpbHMuanNcIik7IHZhbGlkYXRlX3N0b3JlKHJvdXRlUGFyYW1zLCAncm91dGVQYXJhbXMnKTsgY29tcG9uZW50X3N1YnNjcmliZSgkJHNlbGYsIHJvdXRlUGFyYW1zLCAkJHZhbHVlID0+IHsgJHJvdXRlUGFyYW1zID0gJCR2YWx1ZTsgJCRpbnZhbGlkYXRlKCckcm91dGVQYXJhbXMnLCAkcm91dGVQYXJhbXMpIH0pO1xyXG4gIGxldCBtc2dzID0gZmFsc2U7XHJcbiAgbGV0IGVycm9yID0gZmFsc2U7XHJcbiAgbGV0IG1zZ2lkO1xyXG5cclxuICBjb25zb2xlLmxvZyhcImhvb2tzXCIpO1xyXG4gIHdpbmRvdy5fU0NIRU1FX0hPT0tTID0ge1xyXG4gICAgbWVzc2FnZXM6IHtcclxuICAgICAgbmFtZTogXCJtZXNzYWdlc1wiLFxyXG4gICAgICBkZXNjcmlwdGlvbjogXCJUaGUgbWVzc2FnZXMgbG9hZGVkIG9uIHRoZSBjdXJyZW50IHRocmVhZFwiLFxyXG4gICAgICBtaW5Bcmd1bWVudHM6IDAsXHJcbiAgICAgIG1heEFyZ3VtZW50czogMCxcclxuICAgICAgYWN0aW9uOiBmdW5jdGlvbigpIHtcclxuICAgICAgICByZXR1cm4gbXNncztcclxuICAgICAgfVxyXG4gICAgfSxcclxuICAgIGtleXM6IHtcclxuICAgICAgbmFtZTogXCJrZXlzXCIsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiBcIkEgbGlzdCB3aXRoIHRoZSBrZXlzIG9mIHRoZSBsb2FkZWQgbWVzc2FnZXNcIixcclxuICAgICAgbWluQXJndW1lbnRzOiAwLFxyXG4gICAgICBtYXhBcmd1bWVudHM6IDAsXHJcbiAgICAgIGFjdGlvbjogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgcmV0dXJuIG1zZ3MubWFwKG0gPT4gbS5rZXkpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfTtcblxuXHQkJHNlbGYuJCQudXBkYXRlID0gKCQkZGlydHkgPSB7ICRyb3V0ZVBhcmFtczogMSwgbXNnaWQ6IDEgfSkgPT4ge1xuXHRcdGlmICgkJGRpcnR5LiRyb3V0ZVBhcmFtcyB8fCAkJGRpcnR5Lm1zZ2lkKSB7IHtcclxuICAgICAgICAkJGludmFsaWRhdGUoJ21zZ2lkJywgbXNnaWQgPSAkcm91dGVQYXJhbXMudGhyZWFkKTtcclxuICAgICAgICBpZiAobXNnaWQuc3RhcnRzV2l0aChcInNzYjpcIikpIHtcclxuICAgICAgICAgICQkaW52YWxpZGF0ZSgnbXNnaWQnLCBtc2dpZCA9IG1zZ2lkLnJlcGxhY2UoXCJzc2I6XCIsIFwiXCIpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQudGl0bGUgPSBgUGF0Y2hmb3ggLSBUaHJlYWQ6ICR7bXNnaWR9YDtcclxuICAgIFxyXG4gICAgICAgIGxldCBwcm9taXNlID0gc3NiXHJcbiAgICAgICAgICAudGhyZWFkKG1zZ2lkKVxyXG4gICAgICAgICAgLnRoZW4obXMgPT4ge1xyXG4gICAgICAgICAgICAkJGludmFsaWRhdGUoJ21zZ3MnLCBtc2dzID0gbXMpO1xyXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgICAgLmNhdGNoKG4gPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmRpcihuKTtcclxuICAgICAgICAgICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gbi5tZXNzYWdlKTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICB9IH1cblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdE1lc3NhZ2VSZW5kZXJlcixcblx0XHRyb3V0ZVBhcmFtcyxcblx0XHRtc2dzLFxuXHRcdGVycm9yLFxuXHRcdG1zZ2lkXG5cdH07XG59XG5cbmNsYXNzIFRocmVhZCBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXSk7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBUaHJlYWQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdlZHaHlaV0ZrTG5OMlpXeDBaU0pkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2VzI1MWJHeGRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRVHM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCZFdGQkxHbENRVUZyUWlKOSIsIi8qIENvbXBvc2Uuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRIdG1sVGFnLFxuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YWRkX3JlbmRlcl9jYWxsYmFjayxcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRjaGVja19vdXRyb3MsXG5cdGNvbXBvbmVudF9zdWJzY3JpYmUsXG5cdGNyZWF0ZV9pbl90cmFuc2l0aW9uLFxuXHRjcmVhdGVfb3V0X3RyYW5zaXRpb24sXG5cdGRlc3Ryb3lfY29tcG9uZW50LFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGVtcHR5LFxuXHRnbG9iYWxzLFxuXHRncm91cF9vdXRyb3MsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdG5vb3AsXG5cdHByZXZlbnRfZGVmYXVsdCxcblx0cnVuX2FsbCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNldF9kYXRhLFxuXHRzcGFjZSxcblx0c3RvcF9wcm9wYWdhdGlvbixcblx0dGV4dCxcblx0dG9nZ2xlX2NsYXNzLFxuXHR0cmFuc2l0aW9uX2luLFxuXHR0cmFuc2l0aW9uX291dCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCB7IGRvY3VtZW50OiBkb2N1bWVudF8xIH0gPSBnbG9iYWxzO1xuXG5jb25zdCBmaWxlID0gXCJDb21wb3NlLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBhZGRfY3NzKCkge1xuXHR2YXIgc3R5bGUgPSBlbGVtZW50KFwic3R5bGVcIik7XG5cdHN0eWxlLmlkID0gJ3N2ZWx0ZS0xa21jNHgtc3R5bGUnO1xuXHRzdHlsZS50ZXh0Q29udGVudCA9IFwiLmZpbGUtb24tdG9wLnN2ZWx0ZS0xa21jNHh7Ym9yZGVyOnNvbGlkIDJweCByZ2IoMjYsIDE5MiwgMTEpfWlucHV0W3R5cGU9XFxcImZpbGVcXFwiXS5zdmVsdGUtMWttYzR4e2Rpc3BsYXk6bm9uZX1cXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpvaVEyOXRjRzl6WlM1emRtVnNkR1VpTENKemIzVnlZMlZ6SWpwYklrTnZiWEJ2YzJVdWMzWmxiSFJsSWwwc0luTnZkWEpqWlhORGIyNTBaVzUwSWpwYklqeHpZM0pwY0hRK1hHNGdJR052Ym5OMElIc2diMjVOYjNWdWRDQjlJRDBnY21WeGRXbHlaU2hjSW5OMlpXeDBaVndpS1R0Y2JpQWdZMjl1YzNRZ1pISnZjQ0E5SUhKbGNYVnBjbVVvWENKa2NtRm5MV0Z1WkMxa2NtOXdMV1pwYkdWelhDSXBPMXh1SUNCamIyNXpkQ0I3SUhOc2FXUmxJSDBnUFNCeVpYRjFhWEpsS0Z3aWMzWmxiSFJsTDNSeVlXNXphWFJwYjI1Y0lpazdYRzRnSUdOdmJuTjBJSHNnYm1GMmFXZGhkR1VzSUhKdmRYUmxVR0Z5WVcxekxDQnlaV052Ym01bFkzUWdmU0E5SUhKbGNYVnBjbVVvWENJdUxpOHVMaTkxZEdsc2N5NXFjMXdpS1R0Y2JpQWdZMjl1YzNRZ2V5Qm5aWFJRY21WbUlIMGdQU0J5WlhGMWFYSmxLRndpTGk0dkxpNHZjSEpsWm5NdWFuTmNJaWs3WEc0Z0lHTnZibk4wSUVGMllYUmhja05vYVhBZ1BTQnlaWEYxYVhKbEtGd2lMaTR2TGk0dmNHRnlkSE12UVhaaGRHRnlRMmhwY0M1emRtVnNkR1ZjSWlrN1hHNWNiaUFnYkdWMElITm9iM2RRY21WMmFXVjNJRDBnWm1Gc2MyVTdYRzRnSUd4bGRDQnRjMmNnUFNCbVlXeHpaVHRjYmlBZ2JHVjBJR1Z5Y205eUlEMGdabUZzYzJVN1hHNGdJR3hsZENCd2IzTjBhVzVuSUQwZ1ptRnNjMlU3WEc1Y2JpQWdiR1YwSUhKdmIzUWdQU0FrY205MWRHVlFZWEpoYlhNdWNtOXZkRHRjYmlBZ2JHVjBJR0p5WVc1amFDQTlJQ1J5YjNWMFpWQmhjbUZ0Y3k1aWNtRnVZMmc3WEc0Z0lHeGxkQ0JqYUdGdWJtVnNJRDBnSkhKdmRYUmxVR0Z5WVcxekxtTm9ZVzV1Wld3Z2ZId2dYQ0pjSWp0Y2JpQWdiR1YwSUdOdmJuUmxiblFnUFNBa2NtOTFkR1ZRWVhKaGJYTXVZMjl1ZEdWdWRDQjhmQ0JjSWx3aU8xeHVJQ0JzWlhRZ2NtVndiSGxtWldWa0lEMGdKSEp2ZFhSbFVHRnlZVzF6TG5KbGNHeDVabVZsWkNCOGZDQm1ZV3h6WlR0Y2JpQWdiR1YwSUdadmNtc2dQU0FrY205MWRHVlFZWEpoYlhNdVptOXlhenRjYmlBZ2JHVjBJR1pwYkdWUGJsUnZjQ0E5SUdaaGJITmxPMXh1SUNCc1pYUWdjSFZzYkNBOUlHaGxjbTFwWldKdmVDNXRiMlIxYkdWekxuQjFiR3hUZEhKbFlXMDdYRzRnSUd4bGRDQm1hV3hsVW1WaFpHVnlJRDBnYUdWeWJXbGxZbTk0TG0xdlpIVnNaWE11Y0hWc2JFWnBiR1ZTWldGa1pYSTdYRzRnSUd4bGRDQnpZbTkwSUQwZ2FHVnliV2xsWW05NExuTmliM1E3WEc0Z0lHeGxkQ0JwY0daelJHRmxiVzl1VW5WdWJtbHVaeUE5SUdaaGJITmxPMXh1SUNCc1pYUWdaR0YwUkdGbGJXOXVVblZ1Ym1sdVp5QTlJR1poYkhObE8xeHVYRzRnSUdSdlkzVnRaVzUwTG5ScGRHeGxJRDBnWUZCaGRHTm9abTk0SUMwZ1kyOXRjRzl6WldBN1hHNWNiaUFnYjI1TmIzVnVkQ2dvS1NBOVBpQjdYRzRnSUNBZ1pYSnliM0lnUFNCbVlXeHpaVHRjYmlBZ0lDQnRjMmNnUFNCY0lsd2lPMXh1WEc0Z0lDQWdMeThnZEdocGN5QmpiMlJsSUdOdmRXeGtJR0psSUdsdUlITnZiV1VnWW1WMGRHVnlMM050WVhKMFpYSWdjR3hoWTJVdVhHNGdJQ0FnTHk4Z1pTNWtZWFJoVkhKaGJuTm1aWEl1WjJWMFJHRjBZU2duZFhKc0p5azdJR1p5YjIwZ2FXMWhaMlZ6SUdsdUlIUm9aU0JpY205M2MyVnlJSGRwYm1SdmQxeHVYRzRnSUNBZ1pISnZjQ2hrYjJOMWJXVnVkQzVuWlhSRmJHVnRaVzUwUW5sSlpDaGNJbU52Ym5SbGJuUmNJaWtzSUdacGJHVnpJRDArSUhKbFlXUkdhV3hsUVc1a1FYUjBZV05vS0dacGJHVnpLU2s3WEc0Z0lDQWdZMmhsWTJ0SmNHWnpSR0ZsYlc5dUtDazdYRzRnSUNBZ1kyaGxZMnRFWVhSRVlXVnRiMjRvS1R0Y2JpQWdmU2s3WEc1Y2JpQWdZMjl1YzNRZ1kyaGxZMnRKY0daelJHRmxiVzl1SUQwZ0tDa2dQVDRnZTF4dUlDQWdJR3hsZENCd2IzSjBJRDBnWjJWMFVISmxaaWhjSW1sd1puTlFiM0owWENJc0lEVXdNREVwTzF4dUlDQWdJR1psZEdOb0tHQm9kSFJ3T2k4dk1USTNMakF1TUM0eE9pUjdjRzl5ZEgwdllYQnBMM1l3TDJOdmJtWnBaeTl6YUc5M1lDa3VkR2hsYmloa1lYUmhJRDArSUh0Y2JpQWdJQ0FnSUdsd1puTkVZV1Z0YjI1U2RXNXVhVzVuSUQwZ2RISjFaVHRjYmlBZ0lDQjlLVHRjYmlBZ2ZUdGNibHh1SUNBZ1kyOXVjM1FnWTJobFkydEVZWFJFWVdWdGIyNGdQU0FvS1NBOVBpQjdYRzRnSUNBZ0lDQmtZWFJFWVdWdGIyNVNkVzV1YVc1bklEMGdabUZzYzJVN1hHNGdJSDA3WEc1Y2JpQWdZMjl1YzNRZ2NtVmhaRVpwYkdWQmJtUkJkSFJoWTJnZ1BTQm1hV3hsY3lBOVBpQjdYRzRnSUNBZ1pYSnliM0lnUFNCbVlXeHpaVHRjYmlBZ0lDQnRjMmNnUFNCY0lsd2lPMXh1WEc0Z0lDQWdhV1lnS0dacGJHVnpMbXhsYm1kMGFDQTlQU0F3S1NCN1hHNGdJQ0FnSUNCbWFXeGxUMjVVYjNBZ1BTQm1ZV3h6WlR0Y2JpQWdJQ0FnSUdOdmJuTnZiR1V1Ykc5bktGd2lkR2hwY3lCcGN5QnViM1FnWVNCbWFXeGxYQ0lwTzF4dUlDQWdJQ0FnY21WMGRYSnVJR1poYkhObE8xeHVJQ0FnSUgxY2JseHVJQ0FnSUhaaGNpQm1hWEp6ZENBOUlHWnBiR1Z6V3pCZE8xeHVJQ0FnSUdOdmJuTnZiR1V1Ykc5bktHWnBjbk4wS1R0Y2JseHVJQ0FnSUdsbUlDZ2habWx5YzNRdWRIbHdaUzV6ZEdGeWRITlhhWFJvS0Z3aWFXMWhaMlZjSWlrcElIdGNiaUFnSUNBZ0lHVnljbTl5SUQwZ2RISjFaVHRjYmlBZ0lDQWdJRzF6WnlBOUlHQlpiM1VnWTJGdUlHOXViSGtnWkhKaFp5QW1JR1J5YjNBZ2FXMWhaMlVzSUhSb2FYTWdabWxzWlNCcGN5QmhJQ1I3Wm1seWMzUXVkSGx3WlgxZ08xeHVJQ0FnSUNBZ2NtVjBkWEp1SUdaaGJITmxPMXh1SUNBZ0lIMWNibHh1SUNBZ0lHbG1JQ2htYVhKemRDNXphWHBsSUQ0OUlEVXdNREF3TURBcElIdGNiaUFnSUNBZ0lHVnljbTl5SUQwZ2RISjFaVHRjYmlBZ0lDQWdJRzF6WnlBOUlHQkdhV3hsSUhSdmJ5QnNZWEpuWlRvZ0pIdE5ZWFJvTG1ac2IyOXlLRnh1SUNBZ0lDQWdJQ0JtYVhKemRDNXphWHBsSUM4Z01UQTBPRFUzTml4Y2JpQWdJQ0FnSUNBZ01seHVJQ0FnSUNBZ0tYMXRZaUIzYUdWdUlHMWhlQ0J6YVhwbElHbHpJRFZ0WW1BN1hHNGdJQ0FnSUNCeVpYUjFjbTRnWm1Gc2MyVTdYRzRnSUNBZ2ZWeHVYRzRnSUNBZ2NIVnNiQ2hjYmlBZ0lDQWdJR1pwYkdWU1pXRmtaWElvWm1seWMzUXBMRnh1SUNBZ0lDQWdjMkp2ZEM1aWJHOWljeTVoWkdRb1puVnVZM1JwYjI0b1pYSnlMQ0JvWVhOb0tTQjdYRzRnSUNBZ0lDQWdJQzh2SUNkb1lYTm9KeUJwY3lCMGFHVWdhR0Z6YUMxcFpDQnZaaUIwYUdVZ1lteHZZbHh1SUNBZ0lDQWdJQ0JwWmlBb1pYSnlLU0I3WEc0Z0lDQWdJQ0FnSUNBZ1pYSnliM0lnUFNCMGNuVmxPMXh1SUNBZ0lDQWdJQ0FnSUcxelp5QTlJRndpUTI5MWJHUnVKM1FnWVhSMFlXTm9JR1pwYkdVNklGd2lJQ3NnWlhKeU8xeHVJQ0FnSUNBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ0lDQWdJR052Ym5SbGJuUWdLejBnWUNBaFd5UjdabWx5YzNRdWJtRnRaWDFkS0NSN2FHRnphSDBwWUR0Y2JpQWdJQ0FnSUNBZ2ZWeHVJQ0FnSUNBZ0lDQm1hV3hsVDI1VWIzQWdQU0JtWVd4elpUdGNiaUFnSUNBZ0lIMHBYRzRnSUNBZ0tUdGNiaUFnZlR0Y2JseHVJQ0JqYjI1emRDQndiM04wSUQwZ1lYTjVibU1nWlhZZ1BUNGdlMXh1SUNBZ0lHVjJMbk4wYjNCUWNtOXdZV2RoZEdsdmJpZ3BPMXh1SUNBZ0lHVjJMbkJ5WlhabGJuUkVaV1poZFd4MEtDazdYRzVjYmlBZ0lDQnBaaUFvSVhCdmMzUnBibWNwSUh0Y2JpQWdJQ0FnSUhCdmMzUnBibWNnUFNCMGNuVmxPMXh1WEc0Z0lDQWdJQ0JwWmlBb1kyaGhibTVsYkM1emRHRnlkSE5YYVhSb0tGd2lJMXdpS1NrZ2UxeHVJQ0FnSUNBZ0lDQmphR0Z1Ym1Wc0lEMGdZMmhoYm01bGJDNXpiR2xqWlNneEtUdGNiaUFnSUNBZ0lIMWNibHh1SUNBZ0lDQWdkSEo1SUh0Y2JpQWdJQ0FnSUNBZ2JYTm5JRDBnWVhkaGFYUWdjM05pTG01bGQxQnZjM1FvZTF4dUlDQWdJQ0FnSUNBZ0lIUmxlSFE2SUdOdmJuUmxiblFzWEc0Z0lDQWdJQ0FnSUNBZ1kyaGhibTVsYkN4Y2JpQWdJQ0FnSUNBZ0lDQnliMjkwTEZ4dUlDQWdJQ0FnSUNBZ0lHSnlZVzVqYUN4Y2JpQWdJQ0FnSUNBZ0lDQm1iM0pyTEZ4dUlDQWdJQ0FnSUNBZ0lHTnZiblJsYm5SWFlYSnVhVzVuT2lCamIyNTBaVzUwVjJGeWJtbHVaeTVzWlc1bmRHZ2dQaUF3SUQ4Z1kyOXVkR1Z1ZEZkaGNtNXBibWNnT2lCMWJtUmxabWx1WldSY2JpQWdJQ0FnSUNBZ2ZTazdYRzRnSUNBZ0lDQWdJSEJ2YzNScGJtY2dQU0JtWVd4elpUdGNiaUFnSUNBZ0lDQWdZMjl1YzI5c1pTNXNiMmNvWENKd2IzTjBaV1JjSWl3Z2JYTm5LVHRjYmlBZ0lDQWdJQ0FnZDJsdVpHOTNMbk5qY205c2JGUnZLREFzSURBcE8xeHVJQ0FnSUNBZ2ZTQmpZWFJqYUNBb2Jpa2dlMXh1SUNBZ0lDQWdJQ0JsY25KdmNpQTlJSFJ5ZFdVN1hHNGdJQ0FnSUNBZ0lHMXpaeUE5SUdCRGIzVnNaRzRuZENCd2IzTjBJSGx2ZFhJZ2JXVnpjMkZuWlRvZ0pIdHVmV0E3WEc0Z0lDQWdJQ0FnSUhkcGJtUnZkeTV6WTNKdmJHeFVieWd3TENBd0tUdGNibHh1SUNBZ0lDQWdJQ0JwWmlBb2JYTm5MbTFsYzNOaFoyVWdQVDA5SUZ3aWMzUnlaV0Z0SUdseklHTnNiM05sWkZ3aUtTQjdYRzRnSUNBZ0lDQWdJQ0FnYlhObklDczlJRndpTGlCWFpTQnNiM04wSUdOdmJtNWxZM1JwYjI0Z2RHOGdjMkp2ZEM0Z1YyVW5iR3dnZEhKNUlIUnZJSEpsYzNSaFlteHBjMmdnYVhRdUxpNWNJanRjYmx4dUlDQWdJQ0FnSUNBZ0lISmxZMjl1Ym1WamRDZ3BYRzRnSUNBZ0lDQWdJQ0FnSUNBdWRHaGxiaWdvS1NBOVBpQjdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lITm9iM2RRY21WMmFXVjNJRDBnWm1Gc2MyVTdYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lIQnZjM1JwYm1jZ1BTQm1ZV3h6WlR0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnWlhKeWIzSWdQU0JtWVd4elpUdGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ2JYTm5JRDBnWENKRGIyNXVaV04wYVc5dUlIUnZJSE5pYjNRZ2NtVmxjM1JoWW14cGMyaGxaQzRnVkhKNUlIQnZjM1JwYm1jZ1lXZGhhVzVjSWp0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDBwWEc0Z0lDQWdJQ0FnSUNBZ0lDQXVZMkYwWTJnb1pYSnlJRDArSUh0Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnZDJsdVpHOTNMbXh2WTJGMGFXOXVMbk5sWVhKamFDQTlJR0EvY205dmREMGtlMlZ1WTI5a1pWVlNTVU52YlhCdmJtVnVkQ2hjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0J5YjI5MFhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNsOUptSnlZVzVqYUQwa2UyVnVZMjlrWlZWU1NVTnZiWEJ2Ym1WdWRDaGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmljbUZ1WTJoY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnS1gwbVkyOXVkR1Z1ZEQwa2UyVnVZMjlrWlZWU1NVTnZiWEJ2Ym1WdWRDaGNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmpiMjUwWlc1MFhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNsOUptTm9ZVzV1Wld3OUpIdGxibU52WkdWVlVrbERiMjF3YjI1bGJuUW9ZMmhoYm01bGJDbDlZRHRjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdiWE5uSUQwZ1lGTnZjbko1TENCamIzVnNaRzRuZENCeVpXTnZibTVsWTNRZ2RHOGdjMkp2ZERva2UyVnljbjB1SUZSeWVTQnlaV3h2WVdScGJtY2dkR2hsSUhCaFoyVXVJRmx2ZFhJZ1kyOXVkR1Z1ZENCb1lYTWdZbVZsYmlCellYWmxaQ0IwYnlCMGFHVWdWVkpNWUR0Y2JpQWdJQ0FnSUNBZ0lDQWdJSDBwTzF4dUlDQWdJQ0FnSUNCOVhHNGdJQ0FnSUNCOVhHNGdJQ0FnZlZ4dUlDQjlPMXh1WEc0Z0lHTnZibk4wSUhCeVpYWnBaWGNnUFNCbGRpQTlQaUI3WEc0Z0lDQWdjMmh2ZDFCeVpYWnBaWGNnUFNCMGNuVmxPMXh1SUNCOU8xeHVYRzRnSUdOdmJuTjBJSE5oZG1WVWIxVlNUQ0E5SUdWMklEMCtJSHRjYmlBZ0lDQjNhVzVrYjNjdWJHOWpZWFJwYjI0dWMyVmhjbU5vSUQwZ1lEOXliMjkwUFNSN1pXNWpiMlJsVlZKSlEyOXRjRzl1Wlc1MEtGeHVJQ0FnSUNBZ2NtOXZkRnh1SUNBZ0lDbDlKbUp5WVc1amFEMGtlMlZ1WTI5a1pWVlNTVU52YlhCdmJtVnVkQ2hpY21GdVkyZ3BmU1pqYjI1MFpXNTBQU1I3Wlc1amIyUmxWVkpKUTI5dGNHOXVaVzUwS0Z4dUlDQWdJQ0FnWTI5dWRHVnVkRnh1SUNBZ0lDbDlKbU5vWVc1dVpXdzlKSHRsYm1OdlpHVlZVa2xEYjIxd2IyNWxiblFvWTJoaGJtNWxiQ2w5WUR0Y2JpQWdmVHRjYmx4dUlDQmpiMjV6ZENCaGRtRjBZWEpEYkdsamF5QTlJR1YySUQwK0lIdGNiaUFnSUNCc1pYUWdabVZsWkNBOUlHVjJMbVJsZEdGcGJDNW1aV1ZrTzF4dUlDQWdJR3hsZENCdVlXMWxJRDBnWlhZdVpHVjBZV2xzTG01aGJXVTdYRzVjYmlBZ0lDQnBaaUFvWTI5dWRHVnVkQzVzWlc1bmRHZ2dQaUF3S1NCN1hHNGdJQ0FnSUNCamIyNTBaVzUwSUNzOUlHQWdXeVI3Ym1GdFpYMWRLQ1I3Wm1WbFpIMHBZRHRjYmlBZ0lDQjlJR1ZzYzJVZ2UxeHVJQ0FnSUNBZ1kyOXVkR1Z1ZENBOUlHQmJKSHR1WVcxbGZWMG9KSHRtWldWa2ZTbGdPMXh1SUNBZ0lIMWNiaUFnZlR0Y2JseHVJQ0JqYjI1emRDQmtjbUZuVDNabGNpQTlJR1YySUQwK0lIdGNiaUFnSUNCbWFXeGxUMjVVYjNBZ1BTQjBjblZsTzF4dUlDQjlPMXh1WEc0Z0lHTnZibk4wSUdSeVlXZE1aV0YyWlNBOUlHVjJJRDArSUh0Y2JpQWdJQ0JtYVd4bFQyNVViM0FnUFNCbVlXeHpaVHRjYmlBZ2ZUdGNibHh1SUNCamIyNXpkQ0JoZEhSaFkyaEdhV3hsVkhKcFoyZGxjaUE5SUNncElEMCtJSHRjYmlBZ0lDQmtiMk4xYldWdWRDNW5aWFJGYkdWdFpXNTBRbmxKWkNoY0ltWnBiR1ZKYm5CMWRGd2lLUzVqYkdsamF5Z3BPMXh1SUNCOU8xeHVYRzRnSUdOdmJuTjBJR0YwZEdGamFFWnBiR1ZKVUVaVFZISnBaMmRsY2lBOUlDZ3BJRDArSUh0Y2JpQWdJQ0JrYjJOMWJXVnVkQzVuWlhSRmJHVnRaVzUwUW5sSlpDaGNJbVpwYkdWSmJuQjFkRWxRUmxOY0lpa3VZMnhwWTJzb0tUdGNiaUFnZlR0Y2JseHVJQ0JqYjI1emRDQmhkSFJoWTJoR2FXeGxSRUZVVkhKcFoyZGxjaUE5SUNncElEMCtJSHRjYmlBZ0lDQmtiMk4xYldWdWRDNW5aWFJGYkdWdFpXNTBRbmxKWkNoY0ltWnBiR1ZKYm5CMWRFUkJWRndpS1M1amJHbGpheWdwTzF4dUlDQjlPMXh1WEc0Z0lHTnZibk4wSUdGMGRHRmphRVpwYkdVZ1BTQmxkaUE5UGlCN1hHNGdJQ0FnWTI5dWMzUWdabWxzWlhNZ1BTQmxkaTUwWVhKblpYUXVabWxzWlhNN1hHNGdJQ0FnY21WaFpFWnBiR1ZCYm1SQmRIUmhZMmdvWm1sc1pYTXBPMXh1SUNCOU8xeHVYRzRnSUdOdmJuTjBJR0YwZEdGamFFWnBiR1ZKVUVaVElEMGdaWFlnUFQ0Z2UxeHVJQ0FnSUdOdmJuTjBJR1pwYkdWeklEMGdaWFl1ZEdGeVoyVjBMbVpwYkdWek8xeHVJQ0FnSUhKbFlXUkdhV3hsUVc1a1FYUjBZV05vU1ZCR1V5aG1hV3hsY3lrN1hHNGdJSDA3WEc1Y2JpQWdZMjl1YzNRZ1lYUjBZV05vUm1sc1pVUkJWQ0E5SUdWMklEMCtJSHRjYmlBZ0lDQmpiMjV6ZENCbWFXeGxjeUE5SUdWMkxuUmhjbWRsZEM1bWFXeGxjenRjYmlBZ0lDQnlaV0ZrUm1sc1pVRnVaRUYwZEdGamFFUkJWQ2htYVd4bGN5azdYRzRnSUgwN1hHNWNiaUFnWTI5dWMzUWdjbVZoWkVacGJHVkJibVJCZEhSaFkyaEpVRVpUSUQwZ1lYTjVibU1nWm1sc1pYTWdQVDRnZTF4dUlDQWdJR1Z5Y205eUlEMGdabUZzYzJVN1hHNGdJQ0FnYlhObklEMGdYQ0pjSWp0Y2JseHVJQ0FnSUhaaGNpQnBjR1p6SUQwZ2QybHVaRzkzTGtsd1puTklkSFJ3UTJ4cFpXNTBLRndpTVRJM0xqQXVNQzR4WENJc0lGd2lOVEF3TVZ3aUtUdGNiaUFnSUNCamIyNXpkQ0J5WlhOMWJIUnpJRDBnWVhkaGFYUWdhWEJtY3k1aFpHUW9abWxzWlhOYk1GMHBPMXh1WEc0Z0lDQWdZMjl1YzI5c1pTNXNiMmNvWENKaFpHUmxaQ0IyYVdFZ1NWQkdVMXdpTENCeVpYTjFiSFJ6S1R0Y2JpQWdJQ0JqYjI1MFpXNTBJQ3M5SUdBZ1d5UjdjbVZ6ZFd4MGMxc3dYUzV3WVhSb2ZWMG9hWEJtY3pvdkx5UjdjbVZ6ZFd4MGMxc3dYUzVvWVhOb2ZTbGdPMXh1SUNCOU8xeHVYRzRnSUd4bGRDQnphRzkzUTI5dWRHVnVkRmRoY201cGJtZEdhV1ZzWkNBOUlHWmhiSE5sTzF4dVhHNGdJR052Ym5OMElIUnZaMmRzWlVOdmJuUmxiblJYWVhKdWFXNW5JRDBnS0NrZ1BUNWNiaUFnSUNBb2MyaHZkME52Ym5SbGJuUlhZWEp1YVc1blJtbGxiR1FnUFNBaGMyaHZkME52Ym5SbGJuUlhZWEp1YVc1blJtbGxiR1FwTzF4dVhHNGdJR3hsZENCamIyNTBaVzUwVjJGeWJtbHVaeUE5SUZ3aVhDSTdYRzQ4TDNOamNtbHdkRDVjYmx4dVBITjBlV3hsUGx4dUlDQXVabWxzWlMxdmJpMTBiM0FnZTF4dUlDQWdJR0p2Y21SbGNqb2djMjlzYVdRZ01uQjRJSEpuWWlneU5pd2dNVGt5TENBeE1TazdYRzRnSUgxY2JseHVJQ0JwYm5CMWRGdDBlWEJsUFZ3aVptbHNaVndpWFNCN1hHNGdJQ0FnWkdsemNHeGhlVG9nYm05dVpUdGNiaUFnZlZ4dVBDOXpkSGxzWlQ1Y2JseHVQR1JwZGlCamJHRnpjejFjSW1OdmJuUmhhVzVsY2x3aVBseHVJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1YzF3aVBseHVJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc1Y0lqNWNiaUFnSUNBZ0lIc2phV1lnWm05eWEzMWNiaUFnSUNBZ0lDQWdQR1JwZGlCamJHRnpjejFjSW5SdllYTjBJSFJ2WVhOMExYZGhjbTVwYm1kY0lqNVpiM1VnWVhKbElHWnZjbXRwYm1jNklIdG1iM0pyZlR3dlpHbDJQbHh1SUNBZ0lDQWdleTlwWm4xY2JpQWdJQ0FnSUhzamFXWWdiWE5uZlZ4dUlDQWdJQ0FnSUNCN0kybG1JR1Z5Y205eWZWeHVJQ0FnSUNBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKMGIyRnpkQ0IwYjJGemRDMWxjbkp2Y2x3aVBudHRjMmQ5UEM5a2FYWStYRzRnSUNBZ0lDQWdJSHM2Wld4elpYMWNiaUFnSUNBZ0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aWRHOWhjM1FnZEc5aGMzUXRjM1ZqWTJWemMxd2lQbHh1SUNBZ0lDQWdJQ0FnSUNBZ1dXOTFjaUJ0WlhOellXZGxJR2hoY3lCaVpXVnVJSEJ2YzNSbFpDNGdSRzhnZVc5MUlIZGhiblFnZEc5Y2JpQWdJQ0FnSUNBZ0lDQWdJRHhoWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSFJoY21kbGREMWNJbDlpYkdGdWExd2lYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lHaHlaV1k5WENJL2RHaHlaV0ZrUFh0bGJtTnZaR1ZWVWtsRGIyMXdiMjVsYm5Rb2JYTm5MbXRsZVNsOUl5OTBhSEpsWVdSY0lqNWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1EyaGxZMnNnYVhRZ2IzVjBQMXh1SUNBZ0lDQWdJQ0FnSUNBZ1BDOWhQbHh1SUNBZ0lDQWdJQ0FnSUR3dlpHbDJQbHh1SUNBZ0lDQWdJQ0I3TDJsbWZWeHVJQ0FnSUNBZ2V5OXBabjFjYmlBZ0lDQWdJSHNqYVdZZ0lYTm9iM2RRY21WMmFXVjNmVnh1SUNBZ0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aVptOXliUzFuY205MWNGd2lJR2x1T25Oc2FXUmxJRzkxZERwemJHbGtaVDVjYmlBZ0lDQWdJQ0FnSUNBOGJHRmlaV3dnWTJ4aGMzTTlYQ0ptYjNKdExXeGhZbVZzWENJZ1ptOXlQVndpWTJoaGJtNWxiRndpUGtOb1lXNXVaV3c4TDJ4aFltVnNQbHh1SUNBZ0lDQWdJQ0FnSUR4cGJuQjFkRnh1SUNBZ0lDQWdJQ0FnSUNBZ1kyeGhjM005WENKbWIzSnRMV2x1Y0hWMFhDSmNiaUFnSUNBZ0lDQWdJQ0FnSUhSNWNHVTlYQ0owWlhoMFhDSmNiaUFnSUNBZ0lDQWdJQ0FnSUdsa1BWd2lZMmhoYm01bGJGd2lYRzRnSUNBZ0lDQWdJQ0FnSUNCd2JHRmpaV2h2YkdSbGNqMWNJbU5vWVc1dVpXeGNJbHh1SUNBZ0lDQWdJQ0FnSUNBZ1ltbHVaRHAyWVd4MVpUMTdZMmhoYm01bGJIMGdMejVjYmx4dUlDQWdJQ0FnSUNBZ0lIc2phV1lnWW5KaGJtTm9mVnh1SUNBZ0lDQWdJQ0FnSUNBZ1BHeGhZbVZzSUdOc1lYTnpQVndpWm05eWJTMXNZV0psYkZ3aUlHWnZjajFjSW5KbGNHeDVMWFJ2WENJK1NXNGdjbVZ3YkhrZ2RHODhMMnhoWW1Wc1BseHVJQ0FnSUNBZ0lDQWdJQ0FnUEdsdWNIVjBYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lHTnNZWE56UFZ3aVptOXliUzFwYm5CMWRGd2lYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lIUjVjR1U5WENKMFpYaDBYQ0pjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdhV1E5WENKeVpYQnNlUzEwYjF3aVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhCc1lXTmxhRzlzWkdWeVBWd2lhVzRnY21Wd2JIa2dkRzljSWx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JpYVc1a09uWmhiSFZsUFh0aWNtRnVZMmg5SUM4K1hHNGdJQ0FnSUNBZ0lDQWdleTlwWm4xY2JseHVJQ0FnSUNBZ0lDQWdJSHNqYVdZZ2NtVndiSGxtWldWa2ZWeHVJQ0FnSUNBZ0lDQWdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0ltMTBMVEpjSWo1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhOd1lXNCtYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdRMnhwWTJzZ2RHaGxJR0YyWVhSaGNpQjBieUJoWkdRZ1lTQnNhVzVySUhSdklIUm9aU0J0WlhOellXZGxPbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHhCZG1GMFlYSkRhR2x3SUdabFpXUTllM0psY0d4NVptVmxaSDBnYjI0NllYWmhkR0Z5UTJ4cFkyczllMkYyWVhSaGNrTnNhV05yZlNBdlBseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBOEwzTndZVzQrWEc0Z0lDQWdJQ0FnSUNBZ0lDQThMMlJwZGo1Y2JpQWdJQ0FnSUNBZ0lDQjdMMmxtZlZ4dUlDQWdJQ0FnSUNBZ0lEeHNZV0psYkNCamJHRnpjejFjSW1admNtMHRiR0ZpWld4Y0lpQm1iM0k5WENKamIyNTBaVzUwWENJK1RXVnpjMkZuWlR3dmJHRmlaV3crWEc0Z0lDQWdJQ0FnSUNBZ1BIUmxlSFJoY21WaFhHNGdJQ0FnSUNBZ0lDQWdJQ0JqYkdGemN6MWNJbVp2Y20wdGFXNXdkWFJjSWx4dUlDQWdJQ0FnSUNBZ0lDQWdhV1E5WENKamIyNTBaVzUwWENKY2JpQWdJQ0FnSUNBZ0lDQWdJSEJzWVdObGFHOXNaR1Z5UFZ3aVZIbHdaU0JwYmlCNWIzVnlJSEJ2YzNSY0lseHVJQ0FnSUNBZ0lDQWdJQ0FnY205M2N6MWNJakV3WENKY2JpQWdJQ0FnSUNBZ0lDQWdJRzl1T21SeVlXZHZkbVZ5ZkhCeVpYWmxiblJFWldaaGRXeDBmSE4wYjNCUWNtOXdZV2RoZEdsdmJqMTdaSEpoWjA5MlpYSjlYRzRnSUNBZ0lDQWdJQ0FnSUNCdmJqcGtjbUZuYkdWaGRtVjhjSEpsZG1WdWRFUmxabUYxYkhSOGMzUnZjRkJ5YjNCaFoyRjBhVzl1UFh0a2NtRm5UR1ZoZG1WOVhHNGdJQ0FnSUNBZ0lDQWdJQ0JqYkdGemN6cG1hV3hsTFc5dUxYUnZjRDE3Wm1sc1pVOXVWRzl3ZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdZbWx1WkRwMllXeDFaVDE3WTI5dWRHVnVkSDBnTHo1Y2JpQWdJQ0FnSUNBZ0lDQThaR2wySUdOc1lYTnpQVndpWkMxaWJHOWpheUJ0TFRKY0lqNWNiaUFnSUNBZ0lDQWdJQ0FnSUR4aWRYUjBiMjRnWTJ4aGMzTTlYQ0ppZEc0Z1luUnVMV3hwYm10Y0lpQnZianBqYkdsamF6MTdkRzluWjJ4bFEyOXVkR1Z1ZEZkaGNtNXBibWQ5UGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0JEVjF4dUlDQWdJQ0FnSUNBZ0lDQWdQQzlpZFhSMGIyNCtYRzRnSUNBZ0lDQWdJQ0FnSUNCN0kybG1JSE5vYjNkRGIyNTBaVzUwVjJGeWJtbHVaMFpwWld4a2ZWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGFXNXdkWFJjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwZVhCbFBWd2lkR1Y0ZEZ3aVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2MybDZaVDFjSWpVd1hDSmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQmlhVzVrT25aaGJIVmxQWHRqYjI1MFpXNTBWMkZ5Ym1sdVozMWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQndiR0ZqWldodmJHUmxjajFjSWtSbGMyTnlhV0psSUhsdmRYSWdZMjl1ZEdWdWRDQjNZWEp1YVc1bklDaHNaV0YyWlNCbGJYQjBlU0IwYnlCdWJ5QjFjMlVnYVhRcFhDSWdMejVjYmlBZ0lDQWdJQ0FnSUNBZ0lIc3ZhV1o5WEc0Z0lDQWdJQ0FnSUNBZ1BDOWthWFkrWEc0Z0lDQWdJQ0FnSUNBZ1BHbHVjSFYwSUhSNWNHVTlYQ0ptYVd4bFhDSWdiMjQ2YVc1d2RYUTllMkYwZEdGamFFWnBiR1Y5SUdsa1BWd2labWxzWlVsdWNIVjBYQ0lnTHo1Y2JpQWdJQ0FnSUNBZ0lDQThZblYwZEc5dUlHTnNZWE56UFZ3aVluUnVYQ0lnYjI0NlkyeHBZMnM5ZTJGMGRHRmphRVpwYkdWVWNtbG5aMlZ5ZlQ1QmRIUmhZMmdnUm1sc1pUd3ZZblYwZEc5dVBseHVJQ0FnSUNBZ0lDQWdJSHNqYVdZZ1oyVjBVSEpsWmloY0luQnNZWFJtYjNKdExXbHdabk10Wlc1aFlteGxaRndpTENCY0lubGxjMXdpS1NBOVBUMGdYQ0o1WlhOY0lpQW1KaUJwY0daelJHRmxiVzl1VW5WdWJtbHVaMzFjYmlBZ0lDQWdJQ0FnSUNBZ0lEeHBibkIxZENCMGVYQmxQVndpWm1sc1pWd2lJRzl1T21sdWNIVjBQWHRoZEhSaFkyaEdhV3hsU1ZCR1UzMGdhV1E5WENKbWFXeGxTVzV3ZFhSSlVFWlRYQ0lnTHo1Y2JpQWdJQ0FnSUNBZ0lDQWdJRHhpZFhSMGIyNGdZMnhoYzNNOVhDSmlkRzVjSWlCdmJqcGpiR2xqYXoxN1lYUjBZV05vUm1sc1pVbFFSbE5VY21sbloyVnlmVDVjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdRWFIwWVdOb0lFWnBiR1VnZFhOcGJtY2dTVkJHVTF4dUlDQWdJQ0FnSUNBZ0lDQWdQQzlpZFhSMGIyNCtYRzRnSUNBZ0lDQWdJQ0FnZXk5cFpuMWNiaUFnSUNBZ0lDQWdJQ0FnZXlOcFppQm5aWFJRY21WbUtGd2ljR3hoZEdadmNtMHRaR0YwTFdWdVlXSnNaV1JjSWl3Z1hDSjVaWE5jSWlrZ1BUMDlJRndpZVdWelhDSWdKaVlnWkdGMFJHRmxiVzl1VW5WdWJtbHVaMzFjYmlBZ0lDQWdJQ0FnSUNBZ0lEeHBibkIxZENCMGVYQmxQVndpWm1sc1pWd2lJRzl1T21sdWNIVjBQWHRoZEhSaFkyaEdhV3hsUkVGVWZTQnBaRDFjSW1acGJHVkpibkIxZEVSQlZGd2lJQzgrWEc0Z0lDQWdJQ0FnSUNBZ0lDQThZblYwZEc5dUlHTnNZWE56UFZ3aVluUnVYQ0lnYjI0NlkyeHBZMnM5ZTJGMGRHRmphRVpwYkdWRVFWUlVjbWxuWjJWeWZUNWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1FYUjBZV05vSUVacGJHVWdkWE5wYm1jZ1JHRjBYRzRnSUNBZ0lDQWdJQ0FnSUNBOEwySjFkSFJ2Ymo1Y2JpQWdJQ0FnSUNBZ0lDQjdMMmxtZlZ4dUlDQWdJQ0FnSUNBZ0lEeGlkWFIwYjI0Z1kyeGhjM005WENKaWRHNGdZblJ1TFhCeWFXMWhjbmtnWm14dllYUXRjbWxuYUhSY0lpQnZianBqYkdsamF6MTdjSEpsZG1sbGQzMCtYRzRnSUNBZ0lDQWdJQ0FnSUNCUWNtVjJhV1YzWEc0Z0lDQWdJQ0FnSUNBZ1BDOWlkWFIwYjI0K1hHNGdJQ0FnSUNBZ0lEd3ZaR2wyUGx4dUlDQWdJQ0FnZXpwbGJITmxmVnh1SUNBZ0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1SUdOdmJDMXRaQzB4TWx3aVBseHVJQ0FnSUNBZ0lDQWdJRHhvTWo1UWIzTjBJSEJ5WlhacFpYYzhMMmd5UGx4dUlDQWdJQ0FnSUNBZ0lIc2phV1lnWTJoaGJtNWxiQ0I4ZkNCeWIyOTBJSHg4SUdKeVlXNWphQ0I4ZkNCamIyNTBaVzUwVjJGeWJtbHVaeTVzWlc1bmRHZ2dQaUF3ZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdQR0pzYjJOcmNYVnZkR1UrWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJSHNqYVdZZ1kyaGhibTVsYkgxY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNENWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHhpUGtOb1lXNXVaV3c2UEM5aVBseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdlMk5vWVc1dVpXd3VjM1JoY25SelYybDBhQ2duSXljcElEOGdZMmhoYm01bGJDNXpiR2xqWlNneEtTQTZJR05vWVc1dVpXeDlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdQQzl3UGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0I3TDJsbWZWeHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCN0kybG1JSEp2YjNSOVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BIQStYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4WWo1U2IyOTBPand2WWo1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lIdHliMjkwZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUR3dmNENWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ2V5OXBabjFjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdleU5wWmlCaWNtRnVZMmg5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnUEhBK1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ0lDQThZajVKYmlCU1pYQnNlU0JVYnpvOEwySStYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0I3WW5KaGJtTm9mVnh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHd2Y0Q1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnZXk5cFpuMWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ2V5TnBaaUJqYjI1MFpXNTBWMkZ5Ym1sdVp5NXNaVzVuZEdnZ1BpQXdmVnh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJRHh3UGx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1BHSStRMjl1ZEdWdWRDQlhZWEp1YVc1bk9qd3ZZajVjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUh0amIyNTBaVzUwVjJGeWJtbHVaMzFjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0E4TDNBK1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhzdmFXWjlYRzRnSUNBZ0lDQWdJQ0FnSUNBOEwySnNiMk5yY1hWdmRHVStYRzRnSUNBZ0lDQWdJQ0FnZXk5cFpuMWNiaUFnSUNBZ0lDQWdJQ0I3UUdoMGJXd2djM05pTG0xaGNtdGtiM2R1S0dOdmJuUmxiblFwZlZ4dVhHNGdJQ0FnSUNBZ0lDQWdQR1JwZGlCamJHRnpjejFjSW1ScGRtbGtaWEpjSWlBdlBseHVJQ0FnSUNBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKamIyeDFiVzV6WENJK1hHNGdJQ0FnSUNBZ0lDQWdJQ0E4WkdsMklHTnNZWE56UFZ3aVkyOXNkVzF1SUdOdmJDMXRaQzB4TWlCamIyd3RiR2N0TVRCY0lqNWNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1BITndZVzRnWTJ4aGMzTTlYQ0pzWVdKbGJDQnNZV0psYkMxM1lYSnVhVzVuWENJK1hHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1ZHaHBjeUJ0WlhOellXZGxJSGRwYkd3Z1ltVWdjSFZpYkdsaklHRnVaQ0JqWVc0bmRDQmlaU0JsWkdsMFpXUWdiM0lnWkdWc1pYUmxaRnh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQThMM053WVc0K1hHNGdJQ0FnSUNBZ0lDQWdJQ0E4TDJScGRqNWNiaUFnSUNBZ0lDQWdJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc0Z1kyOXNMVzFrTFRFeUlHTnZiQzFzWnkweVhDSStYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lEeGlkWFIwYjI0Z1kyeGhjM005WENKaWRHNWNJaUJ2YmpwamJHbGphejE3S0NrZ1BUNGdLSE5vYjNkUWNtVjJhV1YzSUQwZ1ptRnNjMlVwZlQ1Y2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCSGJ5QkNZV05yWEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJRHd2WW5WMGRHOXVQbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQThZblYwZEc5dVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1kyeGhjM005WENKaWRHNGdZblJ1TFhCeWFXMWhjbmxjSWx4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdOc1lYTnpPbXh2WVdScGJtYzllM0J2YzNScGJtZDlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdaR2x6WVdKc1pXUTlleUZsY25KdmNpQW1KaUIwZVhCbGIyWWdiWE5uTG10bGVTQTlQU0JjSW5OMGNtbHVaMXdpZlZ4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUc5dU9tTnNhV05yUFh0d2IzTjBmVDVjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JRYjNOMFhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUR3dlluVjBkRzl1UGx4dUlDQWdJQ0FnSUNBZ0lDQWdQQzlrYVhZK1hHNGdJQ0FnSUNBZ0lDQWdQQzlrYVhZK1hHNGdJQ0FnSUNBZ0lEd3ZaR2wyUGx4dUlDQWdJQ0FnZXk5cFpuMWNiaUFnSUNBOEwyUnBkajVjYmlBZ1BDOWthWFkrWEc0OEwyUnBkajVjYmlKZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGcFQwVXNXVUZCV1N4alFVRkRMRU5CUVVNc1FVRkRXaXhOUVVGTkxFTkJRVVVzUzBGQlN5eERRVUZETEVkQlFVY3NRMEZCUXl4SlFVRkpMRVZCUVVVc1EwRkJReXhEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETEVWQlFVVXNRMEZCUXl4QlFVTndReXhEUVVGRExFRkJSVVFzUzBGQlN5eERRVUZETEVsQlFVa3NRMEZCUXl4TlFVRk5MRU5CUVVNc1kwRkJReXhEUVVGRExFRkJRMnhDTEU5QlFVOHNRMEZCUlN4SlFVRkpMRUZCUTJZc1EwRkJReUo5ICovXCI7XG5cdGFwcGVuZChkb2N1bWVudF8xLmhlYWQsIHN0eWxlKTtcbn1cblxuLy8gKDIzODo2KSB7I2lmIGZvcmt9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMTMoY3R4KSB7XG5cdHZhciBkaXYsIHQwLCB0MTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJZb3UgYXJlIGZvcmtpbmc6IFwiKTtcblx0XHRcdHQxID0gdGV4dChjdHguZm9yayk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcInRvYXN0IHRvYXN0LXdhcm5pbmdcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAyMzgsIDgsIDU5MDEpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdiwgdDEpO1xuXHRcdH0sXG5cblx0XHRwOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMjQxOjYpIHsjaWYgbXNnfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzExKGN0eCkge1xuXHR2YXIgaWZfYmxvY2tfYW5jaG9yO1xuXG5cdGZ1bmN0aW9uIHNlbGVjdF9ibG9ja190eXBlKGN0eCkge1xuXHRcdGlmIChjdHguZXJyb3IpIHJldHVybiBjcmVhdGVfaWZfYmxvY2tfMTI7XG5cdFx0cmV0dXJuIGNyZWF0ZV9lbHNlX2Jsb2NrXzE7XG5cdH1cblxuXHR2YXIgY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KTtcblx0dmFyIGlmX2Jsb2NrID0gY3VycmVudF9ibG9ja190eXBlKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRpZl9ibG9ja19hbmNob3IgPSBlbXB0eSgpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aWZfYmxvY2subSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpZl9ibG9ja19hbmNob3IsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGUgPT09IChjdXJyZW50X2Jsb2NrX3R5cGUgPSBzZWxlY3RfYmxvY2tfdHlwZShjdHgpKSAmJiBpZl9ibG9jaykge1xuXHRcdFx0XHRpZl9ibG9jay5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZl9ibG9jay5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jayA9IGN1cnJlbnRfYmxvY2tfdHlwZShjdHgpO1xuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2subShpZl9ibG9ja19hbmNob3IucGFyZW50Tm9kZSwgaWZfYmxvY2tfYW5jaG9yKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWZfYmxvY2suZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpZl9ibG9ja19hbmNob3IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDI0NDo4KSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9ja18xKGN0eCkge1xuXHR2YXIgZGl2LCB0MCwgYSwgdDEsIGFfaHJlZl92YWx1ZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJZb3VyIG1lc3NhZ2UgaGFzIGJlZW4gcG9zdGVkLiBEbyB5b3Ugd2FudCB0b1xcbiAgICAgICAgICAgIFwiKTtcblx0XHRcdGEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQxID0gdGV4dChcIkNoZWNrIGl0IG91dD9cIik7XG5cdFx0XHRhdHRyKGEsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlID0gXCI/dGhyZWFkPVwiICsgY3R4LmVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLmtleSkgKyBcIiMvdGhyZWFkXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEsIGZpbGUsIDI0NiwgMTIsIDYxOTQpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJ0b2FzdCB0b2FzdC1zdWNjZXNzXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMjQ0LCAxMCwgNjA5MSk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCBhKTtcblx0XHRcdGFwcGVuZChhLCB0MSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGN0eC5lbmNvZGVVUklDb21wb25lbnQoY3R4Lm1zZy5rZXkpICsgXCIjL3RocmVhZFwiKSkge1xuXHRcdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgyNDI6OCkgeyNpZiBlcnJvcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xMihjdHgpIHtcblx0dmFyIGRpdiwgdDtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0ID0gdGV4dChjdHgubXNnKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwidG9hc3QgdG9hc3QtZXJyb3JcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAyNDIsIDEwLCA2MDIyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYsIHQpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5tc2cpIHtcblx0XHRcdFx0c2V0X2RhdGEodCwgY3R4Lm1zZyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDMyMzo2KSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9jayhjdHgpIHtcblx0dmFyIGRpdjQsIGgyLCB0MSwgdDIsIGh0bWxfdGFnLCByYXdfdmFsdWUgPSBjdHguc3NiLm1hcmtkb3duKGN0eC5jb250ZW50KSwgdDMsIGRpdjAsIHQ0LCBkaXYzLCBkaXYxLCBzcGFuLCB0NiwgZGl2MiwgYnV0dG9uMCwgdDgsIGJ1dHRvbjEsIHQ5LCBidXR0b24xX2Rpc2FibGVkX3ZhbHVlLCBkaXNwb3NlO1xuXG5cdHZhciBpZl9ibG9jayA9IChjdHguY2hhbm5lbCB8fCBjdHgucm9vdCB8fCBjdHguYnJhbmNoIHx8IGN0eC5jb250ZW50V2FybmluZy5sZW5ndGggPiAwKSAmJiBjcmVhdGVfaWZfYmxvY2tfNihjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2NCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRoMiA9IGVsZW1lbnQoXCJoMlwiKTtcblx0XHRcdGgyLnRleHRDb250ZW50ID0gXCJQb3N0IHByZXZpZXdcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0NCA9IHNwYWNlKCk7XG5cdFx0XHRkaXYzID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0c3Bhbi50ZXh0Q29udGVudCA9IFwiVGhpcyBtZXNzYWdlIHdpbGwgYmUgcHVibGljIGFuZCBjYW4ndCBiZSBlZGl0ZWQgb3IgZGVsZXRlZFwiO1xuXHRcdFx0dDYgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRidXR0b24wID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdGJ1dHRvbjAudGV4dENvbnRlbnQgPSBcIkdvIEJhY2tcIjtcblx0XHRcdHQ4ID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbjEgPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0dDkgPSB0ZXh0KFwiUG9zdFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihoMiwgZmlsZSwgMzI0LCAxMCwgOTA3MCk7XG5cdFx0XHRodG1sX3RhZyA9IG5ldyBIdG1sVGFnKHJhd192YWx1ZSwgdDMpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiZGl2aWRlclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYwLCBmaWxlLCAzNTUsIDEwLCA5OTU2KTtcblx0XHRcdGF0dHIoc3BhbiwgXCJjbGFzc1wiLCBcImxhYmVsIGxhYmVsLXdhcm5pbmdcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oc3BhbiwgZmlsZSwgMzU4LCAxNCwgMTAwNzkpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwiY29sdW1uIGNvbC1tZC0xMiBjb2wtbGctMTBcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgMzU3LCAxMiwgMTAwMjQpO1xuXHRcdFx0YXR0cihidXR0b24wLCBcImNsYXNzXCIsIFwiYnRuXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjAsIGZpbGUsIDM2MywgMTQsIDEwMjk2KTtcblx0XHRcdGF0dHIoYnV0dG9uMSwgXCJjbGFzc1wiLCBcImJ0biBidG4tcHJpbWFyeVwiKTtcblx0XHRcdGJ1dHRvbjEuZGlzYWJsZWQgPSBidXR0b24xX2Rpc2FibGVkX3ZhbHVlID0gIWN0eC5lcnJvciAmJiB0eXBlb2YgY3R4Lm1zZy5rZXkgPT0gXCJzdHJpbmdcIjtcblx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24xLCBcImxvYWRpbmdcIiwgY3R4LnBvc3RpbmcpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjEsIGZpbGUsIDM2NiwgMTQsIDEwNDE4KTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtbWQtMTIgY29sLWxnLTJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgMzYyLCAxMiwgMTAyNDIpO1xuXHRcdFx0YXR0cihkaXYzLCBcImNsYXNzXCIsIFwiY29sdW1uc1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYzLCBmaWxlLCAzNTYsIDEwLCA5OTkwKTtcblx0XHRcdGF0dHIoZGl2NCwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtbWQtMTJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2NCwgZmlsZSwgMzIzLCA4LCA5MDI5KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGJ1dHRvbjAsIFwiY2xpY2tcIiwgY3R4LmNsaWNrX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uMSwgXCJjbGlja1wiLCBjdHgucG9zdClcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXY0LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdjQsIGgyKTtcblx0XHRcdGFwcGVuZChkaXY0LCB0MSk7XG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLm0oZGl2NCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgdDIpO1xuXHRcdFx0aHRtbF90YWcubShkaXY0KTtcblx0XHRcdGFwcGVuZChkaXY0LCB0Myk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgdDQpO1xuXHRcdFx0YXBwZW5kKGRpdjQsIGRpdjMpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHNwYW4pO1xuXHRcdFx0YXBwZW5kKGRpdjMsIHQ2KTtcblx0XHRcdGFwcGVuZChkaXYzLCBkaXYyKTtcblx0XHRcdGFwcGVuZChkaXYyLCBidXR0b24wKTtcblx0XHRcdGFwcGVuZChkaXYyLCB0OCk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgYnV0dG9uMSk7XG5cdFx0XHRhcHBlbmQoYnV0dG9uMSwgdDkpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY3R4LmNoYW5uZWwgfHwgY3R4LnJvb3QgfHwgY3R4LmJyYW5jaCB8fCBjdHguY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2tfNihjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jay5tKGRpdjQsIHQyKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jaykge1xuXHRcdFx0XHRpZl9ibG9jay5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jayA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoY2hhbmdlZC5jb250ZW50KSAmJiByYXdfdmFsdWUgIT09IChyYXdfdmFsdWUgPSBjdHguc3NiLm1hcmtkb3duKGN0eC5jb250ZW50KSkpIHtcblx0XHRcdFx0aHRtbF90YWcucChyYXdfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKGNoYW5nZWQuZXJyb3IgfHwgY2hhbmdlZC5tc2cpICYmIGJ1dHRvbjFfZGlzYWJsZWRfdmFsdWUgIT09IChidXR0b24xX2Rpc2FibGVkX3ZhbHVlID0gIWN0eC5lcnJvciAmJiB0eXBlb2YgY3R4Lm1zZy5rZXkgPT0gXCJzdHJpbmdcIikpIHtcblx0XHRcdFx0YnV0dG9uMS5kaXNhYmxlZCA9IGJ1dHRvbjFfZGlzYWJsZWRfdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjaGFuZ2VkLnBvc3RpbmcpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGJ1dHRvbjEsIFwibG9hZGluZ1wiLCBjdHgucG9zdGluZyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXY0KTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5kKCk7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDI1NTo2KSB7I2lmICFzaG93UHJldmlld31cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpIHtcblx0dmFyIGRpdjEsIGxhYmVsMCwgdDEsIGlucHV0MCwgdDIsIHQzLCB0NCwgbGFiZWwxLCB0NiwgdGV4dGFyZWEsIHQ3LCBkaXYwLCBidXR0b24wLCB0OSwgdDEwLCBpbnB1dDEsIHQxMSwgYnV0dG9uMSwgdDEzLCB0MTQsIHQxNSwgYnV0dG9uMiwgZGl2MV9pbnRybywgZGl2MV9vdXRybywgY3VycmVudCwgZGlzcG9zZTtcblxuXHR2YXIgaWZfYmxvY2swID0gKGN0eC5icmFuY2gpICYmIGNyZWF0ZV9pZl9ibG9ja181KGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrMSA9IChjdHgucmVwbHlmZWVkKSAmJiBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXG5cdHZhciBpZl9ibG9jazIgPSAoY3R4LnNob3dDb250ZW50V2FybmluZ0ZpZWxkKSAmJiBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpO1xuXG5cdHZhciBpZl9ibG9jazMgPSAoY3R4LmdldFByZWYoXCJwbGF0Zm9ybS1pcGZzLWVuYWJsZWRcIiwgXCJ5ZXNcIikgPT09IFwieWVzXCIgJiYgY3R4LmlwZnNEYWVtb25SdW5uaW5nKSAmJiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpO1xuXG5cdHZhciBpZl9ibG9jazQgPSAoY3R4LmdldFByZWYoXCJwbGF0Zm9ybS1kYXQtZW5hYmxlZFwiLCBcInllc1wiKSA9PT0gXCJ5ZXNcIiAmJiBjdHguZGF0RGFlbW9uUnVubmluZykgJiYgY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0bGFiZWwwID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0bGFiZWwwLnRleHRDb250ZW50ID0gXCJDaGFubmVsXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRpbnB1dDAgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuYygpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmMoKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMSA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsMS50ZXh0Q29udGVudCA9IFwiTWVzc2FnZVwiO1xuXHRcdFx0dDYgPSBzcGFjZSgpO1xuXHRcdFx0dGV4dGFyZWEgPSBlbGVtZW50KFwidGV4dGFyZWFcIik7XG5cdFx0XHR0NyA9IHNwYWNlKCk7XG5cdFx0XHRkaXYwID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGJ1dHRvbjAgPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uMC50ZXh0Q29udGVudCA9IFwiQ1dcIjtcblx0XHRcdHQ5ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazIpIGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHR0MTAgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQxID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDExID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbjEgPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uMS50ZXh0Q29udGVudCA9IFwiQXR0YWNoIEZpbGVcIjtcblx0XHRcdHQxMyA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2szKSBpZl9ibG9jazMuYygpO1xuXHRcdFx0dDE0ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazQpIGlmX2Jsb2NrNC5jKCk7XG5cdFx0XHR0MTUgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uMiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24yLnRleHRDb250ZW50ID0gXCJQcmV2aWV3XCI7XG5cdFx0XHRhdHRyKGxhYmVsMCwgXCJjbGFzc1wiLCBcImZvcm0tbGFiZWxcIik7XG5cdFx0XHRhdHRyKGxhYmVsMCwgXCJmb3JcIiwgXCJjaGFubmVsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMCwgZmlsZSwgMjU2LCAxMCwgNjQ3MCk7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJ0eXBlXCIsIFwidGV4dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcImlkXCIsIFwiY2hhbm5lbFwiKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcInBsYWNlaG9sZGVyXCIsIFwiY2hhbm5lbFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDAsIGZpbGUsIDI1NywgMTAsIDY1MzYpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiZm9yXCIsIFwiY29udGVudFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDEsIGZpbGUsIDI4MiwgMTAsIDcyNzUpO1xuXHRcdFx0YXR0cih0ZXh0YXJlYSwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXQgc3ZlbHRlLTFrbWM0eFwiKTtcblx0XHRcdGF0dHIodGV4dGFyZWEsIFwiaWRcIiwgXCJjb250ZW50XCIpO1xuXHRcdFx0YXR0cih0ZXh0YXJlYSwgXCJwbGFjZWhvbGRlclwiLCBcIlR5cGUgaW4geW91ciBwb3N0XCIpO1xuXHRcdFx0YXR0cih0ZXh0YXJlYSwgXCJyb3dzXCIsIFwiMTBcIik7XG5cdFx0XHR0b2dnbGVfY2xhc3ModGV4dGFyZWEsIFwiZmlsZS1vbi10b3BcIiwgY3R4LmZpbGVPblRvcCk7XG5cdFx0XHRhZGRfbG9jYXRpb24odGV4dGFyZWEsIGZpbGUsIDI4MywgMTAsIDczNDEpO1xuXHRcdFx0YXR0cihidXR0b24wLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjAsIGZpbGUsIDI5MywgMTIsIDc3MzMpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiZC1ibG9jayBtLTJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgMjkyLCAxMCwgNzY5NSk7XG5cdFx0XHRhdHRyKGlucHV0MSwgXCJ0eXBlXCIsIFwiZmlsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcImlkXCIsIFwiZmlsZUlucHV0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMWttYzR4XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MSwgZmlsZSwgMzA0LCAxMCwgODEzMCk7XG5cdFx0XHRhdHRyKGJ1dHRvbjEsIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uMSwgZmlsZSwgMzA1LCAxMCwgODE5OSk7XG5cdFx0XHRhdHRyKGJ1dHRvbjIsIFwiY2xhc3NcIiwgXCJidG4gYnRuLXByaW1hcnkgZmxvYXQtcmlnaHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uMiwgZmlsZSwgMzE4LCAxMCwgODg4OCk7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJmb3JtLWdyb3VwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjEsIGZpbGUsIDI1NSwgOCwgNjQxNik7XG5cblx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdGxpc3RlbihpbnB1dDAsIFwiaW5wdXRcIiwgY3R4LmlucHV0MF9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKHRleHRhcmVhLCBcImlucHV0XCIsIGN0eC50ZXh0YXJlYV9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKHRleHRhcmVhLCBcImRyYWdvdmVyXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5kcmFnT3ZlcikpKSxcblx0XHRcdFx0bGlzdGVuKHRleHRhcmVhLCBcImRyYWdsZWF2ZVwiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZHJhZ0xlYXZlKSkpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uMCwgXCJjbGlja1wiLCBjdHgudG9nZ2xlQ29udGVudFdhcm5pbmcpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxLCBcImlucHV0XCIsIGN0eC5hdHRhY2hGaWxlKSxcblx0XHRcdFx0bGlzdGVuKGJ1dHRvbjEsIFwiY2xpY2tcIiwgY3R4LmF0dGFjaEZpbGVUcmlnZ2VyKSxcblx0XHRcdFx0bGlzdGVuKGJ1dHRvbjIsIFwiY2xpY2tcIiwgY3R4LnByZXZpZXcpXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2MSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYxLCBsYWJlbDApO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxKTtcblx0XHRcdGFwcGVuZChkaXYxLCBpbnB1dDApO1xuXG5cdFx0XHRpbnB1dDAudmFsdWUgPSBjdHguY2hhbm5lbDtcblxuXHRcdFx0YXBwZW5kKGRpdjEsIHQyKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQzKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQ0KTtcblx0XHRcdGFwcGVuZChkaXYxLCBsYWJlbDEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQ2KTtcblx0XHRcdGFwcGVuZChkaXYxLCB0ZXh0YXJlYSk7XG5cblx0XHRcdHRleHRhcmVhLnZhbHVlID0gY3R4LmNvbnRlbnQ7XG5cblx0XHRcdGFwcGVuZChkaXYxLCB0Nyk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgYnV0dG9uMCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgdDkpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLm0oZGl2MCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDEwKTtcblx0XHRcdGFwcGVuZChkaXYxLCBpbnB1dDEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxMSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgYnV0dG9uMSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDEzKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5tKGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxNCk7XG5cdFx0XHRpZiAoaWZfYmxvY2s0KSBpZl9ibG9jazQubShkaXYxLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0MTUpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGJ1dHRvbjIpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLmNoYW5uZWwgJiYgKGlucHV0MC52YWx1ZSAhPT0gY3R4LmNoYW5uZWwpKSBpbnB1dDAudmFsdWUgPSBjdHguY2hhbm5lbDtcblxuXHRcdFx0aWYgKGN0eC5icmFuY2gpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gY3JlYXRlX2lmX2Jsb2NrXzUoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGRpdjEsIHQzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0aWZfYmxvY2swLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHgucmVwbHlmZWVkKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEsIDEpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGRpdjEsIHQ0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMSwgMSwgMSwgKCkgPT4ge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQuY29udGVudCkgdGV4dGFyZWEudmFsdWUgPSBjdHguY29udGVudDtcblxuXHRcdFx0aWYgKGNoYW5nZWQuZmlsZU9uVG9wKSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyh0ZXh0YXJlYSwgXCJmaWxlLW9uLXRvcFwiLCBjdHguZmlsZU9uVG9wKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5zaG93Q29udGVudFdhcm5pbmdGaWVsZCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazIgPSBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLm0oZGl2MCwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMi5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazIgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmdldFByZWYoXCJwbGF0Zm9ybS1pcGZzLWVuYWJsZWRcIiwgXCJ5ZXNcIikgPT09IFwieWVzXCIgJiYgY3R4LmlwZnNEYWVtb25SdW5uaW5nKSB7XG5cdFx0XHRcdGlmICghaWZfYmxvY2szKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2szID0gY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazMuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMy5tKGRpdjEsIHQxNCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2szKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMy5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazMgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmdldFByZWYoXCJwbGF0Zm9ybS1kYXQtZW5hYmxlZFwiLCBcInllc1wiKSA9PT0gXCJ5ZXNcIiAmJiBjdHguZGF0RGFlbW9uUnVubmluZykge1xuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrNCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrNCA9IGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2s0LmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazQubShkaXYxLCB0MTUpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrNCkge1xuXHRcdFx0XHRpZl9ibG9jazQuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2s0ID0gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMSk7XG5cblx0XHRcdGFkZF9yZW5kZXJfY2FsbGJhY2soKCkgPT4ge1xuXHRcdFx0XHRpZiAoZGl2MV9vdXRybykgZGl2MV9vdXRyby5lbmQoMSk7XG5cdFx0XHRcdGlmICghZGl2MV9pbnRybykgZGl2MV9pbnRybyA9IGNyZWF0ZV9pbl90cmFuc2l0aW9uKGRpdjEsIGN0eC5zbGlkZSwge30pO1xuXHRcdFx0XHRkaXYxX2ludHJvLnN0YXJ0KCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdG86IGZ1bmN0aW9uIG91dHJvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazEpO1xuXHRcdFx0aWYgKGRpdjFfaW50cm8pIGRpdjFfaW50cm8uaW52YWxpZGF0ZSgpO1xuXG5cdFx0XHRkaXYxX291dHJvID0gY3JlYXRlX291dF90cmFuc2l0aW9uKGRpdjEsIGN0eC5zbGlkZSwge30pO1xuXG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYxKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMykgaWZfYmxvY2szLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazQpIGlmX2Jsb2NrNC5kKCk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0aWYgKGRpdjFfb3V0cm8pIGRpdjFfb3V0cm8uZW5kKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMzI2OjEwKSB7I2lmIGNoYW5uZWwgfHwgcm9vdCB8fCBicmFuY2ggfHwgY29udGVudFdhcm5pbmcubGVuZ3RoID4gMH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja182KGN0eCkge1xuXHR2YXIgYmxvY2txdW90ZSwgdDAsIHQxLCB0MjtcblxuXHR2YXIgaWZfYmxvY2swID0gKGN0eC5jaGFubmVsKSAmJiBjcmVhdGVfaWZfYmxvY2tfMTAoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2sxID0gKGN0eC5yb290KSAmJiBjcmVhdGVfaWZfYmxvY2tfOShjdHgpO1xuXG5cdHZhciBpZl9ibG9jazIgPSAoY3R4LmJyYW5jaCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzgoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2szID0gKGN0eC5jb250ZW50V2FybmluZy5sZW5ndGggPiAwKSAmJiBjcmVhdGVfaWZfYmxvY2tfNyhjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0YmxvY2txdW90ZSA9IGVsZW1lbnQoXCJibG9ja3F1b3RlXCIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmMoKTtcblx0XHRcdHQwID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuYygpO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMykgaWZfYmxvY2szLmMoKTtcblx0XHRcdGFkZF9sb2NhdGlvbihibG9ja3F1b3RlLCBmaWxlLCAzMjYsIDEyLCA5MTc1KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJsb2NrcXVvdGUsIGFuY2hvcik7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubShibG9ja3F1b3RlLCBudWxsKTtcblx0XHRcdGFwcGVuZChibG9ja3F1b3RlLCB0MCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubShibG9ja3F1b3RlLCBudWxsKTtcblx0XHRcdGFwcGVuZChibG9ja3F1b3RlLCB0MSk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIubShibG9ja3F1b3RlLCBudWxsKTtcblx0XHRcdGFwcGVuZChibG9ja3F1b3RlLCB0Mik7XG5cdFx0XHRpZiAoaWZfYmxvY2szKSBpZl9ibG9jazMubShibG9ja3F1b3RlLCBudWxsKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGN0eC5jaGFubmVsKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0XHRpZl9ibG9jazAucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IGNyZWF0ZV9pZl9ibG9ja18xMChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLm0oYmxvY2txdW90ZSwgdDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5yb290KSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9ja185KGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazEubShibG9ja3F1b3RlLCB0MSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmJyYW5jaCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazIgPSBjcmVhdGVfaWZfYmxvY2tfOChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLm0oYmxvY2txdW90ZSwgdDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMikge1xuXHRcdFx0XHRpZl9ibG9jazIuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2syID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5jb250ZW50V2FybmluZy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazMpIHtcblx0XHRcdFx0XHRpZl9ibG9jazMucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMyA9IGNyZWF0ZV9pZl9ibG9ja183KGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2szLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazMubShibG9ja3F1b3RlLCBudWxsKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazMpIHtcblx0XHRcdFx0aWZfYmxvY2szLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMyA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChibG9ja3F1b3RlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMykgaWZfYmxvY2szLmQoKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgzMjg6MTQpIHsjaWYgY2hhbm5lbH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xMChjdHgpIHtcblx0dmFyIHAsIGIsIHQxLCB0Ml92YWx1ZSA9IGN0eC5jaGFubmVsLnN0YXJ0c1dpdGgoJyMnKSA/IGN0eC5jaGFubmVsLnNsaWNlKDEpIDogY3R4LmNoYW5uZWwsIHQyO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0cCA9IGVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0YiA9IGVsZW1lbnQoXCJiXCIpO1xuXHRcdFx0Yi50ZXh0Q29udGVudCA9IFwiQ2hhbm5lbDpcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdHQyID0gdGV4dCh0Ml92YWx1ZSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYiwgZmlsZSwgMzI5LCAxOCwgOTI1NCk7XG5cdFx0XHRhZGRfbG9jYXRpb24ocCwgZmlsZSwgMzI4LCAxNiwgOTIzMik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHAsIGIpO1xuXHRcdFx0YXBwZW5kKHAsIHQxKTtcblx0XHRcdGFwcGVuZChwLCB0Mik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5jaGFubmVsKSAmJiB0Ml92YWx1ZSAhPT0gKHQyX3ZhbHVlID0gY3R4LmNoYW5uZWwuc3RhcnRzV2l0aCgnIycpID8gY3R4LmNoYW5uZWwuc2xpY2UoMSkgOiBjdHguY2hhbm5lbCkpIHtcblx0XHRcdFx0c2V0X2RhdGEodDIsIHQyX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDMzNDoxNCkgeyNpZiByb290fVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzkoY3R4KSB7XG5cdHZhciBwLCBiLCB0MSwgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRiID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiLnRleHRDb250ZW50ID0gXCJSb290OlwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0dDIgPSB0ZXh0KGN0eC5yb290KTtcblx0XHRcdGFkZF9sb2NhdGlvbihiLCBmaWxlLCAzMzUsIDE4LCA5NDQ3KTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAzMzQsIDE2LCA5NDI1KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgzNDA6MTQpIHsjaWYgYnJhbmNofVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzgoY3R4KSB7XG5cdHZhciBwLCBiLCB0MSwgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRiID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiLnRleHRDb250ZW50ID0gXCJJbiBSZXBseSBUbzpcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdHQyID0gdGV4dChjdHguYnJhbmNoKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiLCBmaWxlLCAzNDEsIDE4LCA5NTkxKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAzNDAsIDE2LCA5NTY5KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuYnJhbmNoKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQyLCBjdHguYnJhbmNoKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDM0NjoxNCkgeyNpZiBjb250ZW50V2FybmluZy5sZW5ndGggPiAwfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzcoY3R4KSB7XG5cdHZhciBwLCBiLCB0MSwgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRiID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiLnRleHRDb250ZW50ID0gXCJDb250ZW50IFdhcm5pbmc6XCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHR0MiA9IHRleHQoY3R4LmNvbnRlbnRXYXJuaW5nKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiLCBmaWxlLCAzNDcsIDE4LCA5NzYzKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAzNDYsIDE2LCA5NzQxKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuY29udGVudFdhcm5pbmcpIHtcblx0XHRcdFx0c2V0X2RhdGEodDIsIGN0eC5jb250ZW50V2FybmluZyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgyNjU6MTApIHsjaWYgYnJhbmNofVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzUoY3R4KSB7XG5cdHZhciBsYWJlbCwgdF8xLCBpbnB1dCwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGxhYmVsID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0bGFiZWwudGV4dENvbnRlbnQgPSBcIkluIHJlcGx5IHRvXCI7XG5cdFx0XHR0XzEgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHRhdHRyKGxhYmVsLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWwsIFwiZm9yXCIsIFwicmVwbHktdG9cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwsIGZpbGUsIDI2NSwgMTIsIDY3MjkpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJpZFwiLCBcInJlcGx5LXRvXCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJwbGFjZWhvbGRlclwiLCBcImluIHJlcGx5IHRvXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0LCBmaWxlLCAyNjYsIDEyLCA2ODAyKTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oaW5wdXQsIFwiaW5wdXRcIiwgY3R4LmlucHV0X2lucHV0X2hhbmRsZXIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgbGFiZWwsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0XzEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpbnB1dCwgYW5jaG9yKTtcblxuXHRcdFx0aW5wdXQudmFsdWUgPSBjdHguYnJhbmNoO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5icmFuY2ggJiYgKGlucHV0LnZhbHVlICE9PSBjdHguYnJhbmNoKSkgaW5wdXQudmFsdWUgPSBjdHguYnJhbmNoO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2gobGFiZWwpO1xuXHRcdFx0XHRkZXRhY2godF8xKTtcblx0XHRcdFx0ZGV0YWNoKGlucHV0KTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDI3NToxMCkgeyNpZiByZXBseWZlZWR9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfNChjdHgpIHtcblx0dmFyIGRpdiwgc3BhbiwgdCwgY3VycmVudDtcblxuXHR2YXIgYXZhdGFyY2hpcCA9IG5ldyBjdHguQXZhdGFyQ2hpcCh7XG5cdFx0cHJvcHM6IHsgZmVlZDogY3R4LnJlcGx5ZmVlZCB9LFxuXHRcdCQkaW5saW5lOiB0cnVlXG5cdH0pO1xuXHRhdmF0YXJjaGlwLiRvbihcImF2YXRhckNsaWNrXCIsIGN0eC5hdmF0YXJDbGljayk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dCA9IHRleHQoXCJDbGljayB0aGUgYXZhdGFyIHRvIGFkZCBhIGxpbmsgdG8gdGhlIG1lc3NhZ2U6XFxuICAgICAgICAgICAgICAgIFwiKTtcblx0XHRcdGF2YXRhcmNoaXAuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4sIGZpbGUsIDI3NiwgMTQsIDcwNjEpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJtdC0yXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMjc1LCAxMiwgNzAyOCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCBzcGFuKTtcblx0XHRcdGFwcGVuZChzcGFuLCB0KTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChhdmF0YXJjaGlwLCBzcGFuLCBudWxsKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHR2YXIgYXZhdGFyY2hpcF9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5yZXBseWZlZWQpIGF2YXRhcmNoaXBfY2hhbmdlcy5mZWVkID0gY3R4LnJlcGx5ZmVlZDtcblx0XHRcdGF2YXRhcmNoaXAuJHNldChhdmF0YXJjaGlwX2NoYW5nZXMpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4oYXZhdGFyY2hpcC4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGF2YXRhcmNoaXAuJCQuZnJhZ21lbnQsIGxvY2FsKTtcblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KGF2YXRhcmNoaXApO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDI5NzoxMikgeyNpZiBzaG93Q29udGVudFdhcm5pbmdGaWVsZH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18zKGN0eCkge1xuXHR2YXIgaW5wdXQsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRpbnB1dCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwidHlwZVwiLCBcInRleHRcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcInNpemVcIiwgXCI1MFwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwicGxhY2Vob2xkZXJcIiwgXCJEZXNjcmliZSB5b3VyIGNvbnRlbnQgd2FybmluZyAobGVhdmUgZW1wdHkgdG8gbm8gdXNlIGl0KVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dCwgZmlsZSwgMjk3LCAxNCwgNzg5MCk7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKGlucHV0LCBcImlucHV0XCIsIGN0eC5pbnB1dF9pbnB1dF9oYW5kbGVyXzEpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaW5wdXQsIGFuY2hvcik7XG5cblx0XHRcdGlucHV0LnZhbHVlID0gY3R4LmNvbnRlbnRXYXJuaW5nO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5jb250ZW50V2FybmluZyAmJiAoaW5wdXQudmFsdWUgIT09IGN0eC5jb250ZW50V2FybmluZykpIGlucHV0LnZhbHVlID0gY3R4LmNvbnRlbnRXYXJuaW5nO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaW5wdXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMzA3OjEwKSB7I2lmIGdldFByZWYoXCJwbGF0Zm9ybS1pcGZzLWVuYWJsZWRcIiwgXCJ5ZXNcIikgPT09IFwieWVzXCIgJiYgaXBmc0RhZW1vblJ1bm5pbmd9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpIHtcblx0dmFyIGlucHV0LCB0LCBidXR0b24sIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRpbnB1dCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiQXR0YWNoIEZpbGUgdXNpbmcgSVBGU1wiO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwiZmlsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwiaWRcIiwgXCJmaWxlSW5wdXRJUEZTXCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xa21jNHhcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQsIGZpbGUsIDMwNywgMTIsIDgzNjgpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uLCBmaWxlLCAzMDgsIDEyLCA4NDQ3KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0LCBcImlucHV0XCIsIGN0eC5hdHRhY2hGaWxlSVBGUyksXG5cdFx0XHRcdGxpc3RlbihidXR0b24sIFwiY2xpY2tcIiwgY3R4LmF0dGFjaEZpbGVJUEZTVHJpZ2dlcilcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpbnB1dCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpbnB1dCk7XG5cdFx0XHRcdGRldGFjaCh0KTtcblx0XHRcdFx0ZGV0YWNoKGJ1dHRvbik7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMzEzOjExKSB7I2lmIGdldFByZWYoXCJwbGF0Zm9ybS1kYXQtZW5hYmxlZFwiLCBcInllc1wiKSA9PT0gXCJ5ZXNcIiAmJiBkYXREYWVtb25SdW5uaW5nfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciBpbnB1dCwgdCwgYnV0dG9uLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aW5wdXQgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0ID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24udGV4dENvbnRlbnQgPSBcIkF0dGFjaCBGaWxlIHVzaW5nIERhdFwiO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwiZmlsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwiaWRcIiwgXCJmaWxlSW5wdXREQVRcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcImNsYXNzXCIsIFwic3ZlbHRlLTFrbWM0eFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dCwgZmlsZSwgMzEzLCAxMiwgODY3NCk7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcImJ0blwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihidXR0b24sIGZpbGUsIDMxNCwgMTIsIDg3NTEpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiaW5wdXRcIiwgY3R4LmF0dGFjaEZpbGVEQVQpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIGN0eC5hdHRhY2hGaWxlREFUVHJpZ2dlcilcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpbnB1dCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpbnB1dCk7XG5cdFx0XHRcdGRldGFjaCh0KTtcblx0XHRcdFx0ZGV0YWNoKGJ1dHRvbik7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBkaXYyLCBkaXYxLCBkaXYwLCB0MCwgdDEsIGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCwgaWZfYmxvY2syLCBjdXJyZW50O1xuXG5cdHZhciBpZl9ibG9jazAgPSAoY3R4LmZvcmspICYmIGNyZWF0ZV9pZl9ibG9ja18xMyhjdHgpO1xuXG5cdHZhciBpZl9ibG9jazEgPSAoY3R4Lm1zZykgJiYgY3JlYXRlX2lmX2Jsb2NrXzExKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrX2NyZWF0b3JzID0gW1xuXHRcdGNyZWF0ZV9pZl9ibG9jayxcblx0XHRjcmVhdGVfZWxzZV9ibG9ja1xuXHRdO1xuXG5cdHZhciBpZl9ibG9ja3MgPSBbXTtcblxuXHRmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZV8xKGN0eCkge1xuXHRcdGlmICghY3R4LnNob3dQcmV2aWV3KSByZXR1cm4gMDtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KTtcblx0aWZfYmxvY2syID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYyID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuYygpO1xuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmMoKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJjb2x1bW5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgMjM2LCA0LCA1ODU1KTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbHVtbnNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgMjM1LCAyLCA1ODI5KTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImNvbnRhaW5lclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYyLCBmaWxlLCAyMzQsIDAsIDU4MDMpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjIsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgZGl2MCk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubShkaXYwLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYwLCB0MCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubShkaXYwLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYwLCB0MSk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5tKGRpdjAsIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjdHguZm9yaykge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2swKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazAgPSBjcmVhdGVfaWZfYmxvY2tfMTMoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGRpdjAsIHQwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0aWZfYmxvY2swLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHgubXNnKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMSA9IGNyZWF0ZV9pZl9ibG9ja18xMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLm0oZGl2MCwgdDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRpZl9ibG9jazEuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sxID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHByZXZpb3VzX2Jsb2NrX2luZGV4ID0gY3VycmVudF9ibG9ja190eXBlX2luZGV4O1xuXHRcdFx0Y3VycmVudF9ibG9ja190eXBlX2luZGV4ID0gc2VsZWN0X2Jsb2NrX3R5cGVfMShjdHgpO1xuXHRcdFx0aWYgKGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9PT0gcHJldmlvdXNfYmxvY2tfaW5kZXgpIHtcblx0XHRcdFx0aWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0ucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2Nrc1twcmV2aW91c19ibG9ja19pbmRleF0sIDEsIDEsICgpID0+IHtcblx0XHRcdFx0XHRpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdID0gbnVsbDtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNoZWNrX291dHJvcygpO1xuXG5cdFx0XHRcdGlmX2Jsb2NrMiA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdO1xuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrMikge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMiA9IGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdID0gaWZfYmxvY2tfY3JlYXRvcnNbY3VycmVudF9ibG9ja190eXBlX2luZGV4XShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazIsIDEpO1xuXHRcdFx0XHRpZl9ibG9jazIubShkaXYwLCBudWxsKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGlmX2Jsb2NrMik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdHRyYW5zaXRpb25fb3V0KGlmX2Jsb2NrMik7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYyKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5kKCk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgJHJvdXRlUGFyYW1zO1xuXG5cdGNvbnN0IHsgb25Nb3VudCB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcbiAgY29uc3QgZHJvcCA9IHJlcXVpcmUoXCJkcmFnLWFuZC1kcm9wLWZpbGVzXCIpO1xuICBjb25zdCB7IHNsaWRlIH0gPSByZXF1aXJlKFwic3ZlbHRlL3RyYW5zaXRpb25cIik7XG4gIGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlUGFyYW1zLCByZWNvbm5lY3QgfSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy5qc1wiKTsgdmFsaWRhdGVfc3RvcmUocm91dGVQYXJhbXMsICdyb3V0ZVBhcmFtcycpOyBjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgcm91dGVQYXJhbXMsICQkdmFsdWUgPT4geyAkcm91dGVQYXJhbXMgPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcykgfSk7XG4gIGNvbnN0IHsgZ2V0UHJlZiB9ID0gcmVxdWlyZShcIi4uLy4uL3ByZWZzLmpzXCIpO1xuICBjb25zdCBBdmF0YXJDaGlwID0gcmVxdWlyZShcIi4uLy4uL3BhcnRzL0F2YXRhckNoaXAuc3ZlbHRlXCIpO1xuXG4gIGxldCBzaG93UHJldmlldyA9IGZhbHNlO1xuICBsZXQgbXNnID0gZmFsc2U7XG4gIGxldCBlcnJvciA9IGZhbHNlO1xuICBsZXQgcG9zdGluZyA9IGZhbHNlO1xuXG4gIGxldCByb290ID0gJHJvdXRlUGFyYW1zLnJvb3Q7XG4gIGxldCBicmFuY2ggPSAkcm91dGVQYXJhbXMuYnJhbmNoO1xuICBsZXQgY2hhbm5lbCA9ICRyb3V0ZVBhcmFtcy5jaGFubmVsIHx8IFwiXCI7XG4gIGxldCBjb250ZW50ID0gJHJvdXRlUGFyYW1zLmNvbnRlbnQgfHwgXCJcIjtcbiAgbGV0IHJlcGx5ZmVlZCA9ICRyb3V0ZVBhcmFtcy5yZXBseWZlZWQgfHwgZmFsc2U7XG4gIGxldCBmb3JrID0gJHJvdXRlUGFyYW1zLmZvcms7XG4gIGxldCBmaWxlT25Ub3AgPSBmYWxzZTtcbiAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtO1xuICBsZXQgZmlsZVJlYWRlciA9IGhlcm1pZWJveC5tb2R1bGVzLnB1bGxGaWxlUmVhZGVyO1xuICBsZXQgc2JvdCA9IGhlcm1pZWJveC5zYm90O1xuICBsZXQgaXBmc0RhZW1vblJ1bm5pbmcgPSBmYWxzZTtcbiAgbGV0IGRhdERhZW1vblJ1bm5pbmcgPSBmYWxzZTtcblxuICBkb2N1bWVudC50aXRsZSA9IGBQYXRjaGZveCAtIGNvbXBvc2VgO1xuXG4gIG9uTW91bnQoKCkgPT4ge1xuICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IGZhbHNlKTtcbiAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IFwiXCIpO1xuXG4gICAgLy8gdGhpcyBjb2RlIGNvdWxkIGJlIGluIHNvbWUgYmV0dGVyL3NtYXJ0ZXIgcGxhY2UuXG4gICAgLy8gZS5kYXRhVHJhbnNmZXIuZ2V0RGF0YSgndXJsJyk7IGZyb20gaW1hZ2VzIGluIHRoZSBicm93c2VyIHdpbmRvd1xuXG4gICAgZHJvcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvbnRlbnRcIiksIGZpbGVzID0+IHJlYWRGaWxlQW5kQXR0YWNoKGZpbGVzKSk7XG4gICAgY2hlY2tJcGZzRGFlbW9uKCk7XG4gICAgY2hlY2tEYXREYWVtb24oKTtcbiAgfSk7XG5cbiAgY29uc3QgY2hlY2tJcGZzRGFlbW9uID0gKCkgPT4ge1xuICAgIGxldCBwb3J0ID0gZ2V0UHJlZihcImlwZnNQb3J0XCIsIDUwMDEpO1xuICAgIGZldGNoKGBodHRwOi8vMTI3LjAuMC4xOiR7cG9ydH0vYXBpL3YwL2NvbmZpZy9zaG93YCkudGhlbihkYXRhID0+IHtcbiAgICAgICQkaW52YWxpZGF0ZSgnaXBmc0RhZW1vblJ1bm5pbmcnLCBpcGZzRGFlbW9uUnVubmluZyA9IHRydWUpO1xuICAgIH0pO1xuICB9O1xuXG4gICBjb25zdCBjaGVja0RhdERhZW1vbiA9ICgpID0+IHtcbiAgICAgICQkaW52YWxpZGF0ZSgnZGF0RGFlbW9uUnVubmluZycsIGRhdERhZW1vblJ1bm5pbmcgPSBmYWxzZSk7XG4gIH07XG5cbiAgY29uc3QgcmVhZEZpbGVBbmRBdHRhY2ggPSBmaWxlcyA9PiB7XG4gICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gZmFsc2UpO1xuICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gXCJcIik7XG5cbiAgICBpZiAoZmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICQkaW52YWxpZGF0ZSgnZmlsZU9uVG9wJywgZmlsZU9uVG9wID0gZmFsc2UpO1xuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGZpbGVcIik7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFyIGZpcnN0ID0gZmlsZXNbMF07XG4gICAgY29uc29sZS5sb2coZmlyc3QpO1xuXG4gICAgaWYgKCFmaXJzdC50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZVwiKSkge1xuICAgICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gdHJ1ZSk7XG4gICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGBZb3UgY2FuIG9ubHkgZHJhZyAmIGRyb3AgaW1hZ2UsIHRoaXMgZmlsZSBpcyBhICR7Zmlyc3QudHlwZX1gKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZmlyc3Quc2l6ZSA+PSA1MDAwMDAwKSB7XG4gICAgICAkJGludmFsaWRhdGUoJ2Vycm9yJywgZXJyb3IgPSB0cnVlKTtcbiAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gYEZpbGUgdG9vIGxhcmdlOiAke01hdGguZmxvb3IoXG4gICAgICAgIGZpcnN0LnNpemUgLyAxMDQ4NTc2LFxuICAgICAgICAyXG4gICAgICApfW1iIHdoZW4gbWF4IHNpemUgaXMgNW1iYCk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVsbChcbiAgICAgIGZpbGVSZWFkZXIoZmlyc3QpLFxuICAgICAgc2JvdC5ibG9icy5hZGQoZnVuY3Rpb24oZXJyLCBoYXNoKSB7XG4gICAgICAgIC8vICdoYXNoJyBpcyB0aGUgaGFzaC1pZCBvZiB0aGUgYmxvYlxuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gdHJ1ZSk7XG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBcIkNvdWxkbid0IGF0dGFjaCBmaWxlOiBcIiArIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdjb250ZW50JywgY29udGVudCArPSBgICFbJHtmaXJzdC5uYW1lfV0oJHtoYXNofSlgKTtcbiAgICAgICAgfVxuICAgICAgICAkJGludmFsaWRhdGUoJ2ZpbGVPblRvcCcsIGZpbGVPblRvcCA9IGZhbHNlKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICBjb25zdCBwb3N0ID0gYXN5bmMgZXYgPT4ge1xuICAgIGV2LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAoIXBvc3RpbmcpIHtcbiAgICAgICQkaW52YWxpZGF0ZSgncG9zdGluZycsIHBvc3RpbmcgPSB0cnVlKTtcblxuICAgICAgaWYgKGNoYW5uZWwuc3RhcnRzV2l0aChcIiNcIikpIHtcbiAgICAgICAgJCRpbnZhbGlkYXRlKCdjaGFubmVsJywgY2hhbm5lbCA9IGNoYW5uZWwuc2xpY2UoMSkpO1xuICAgICAgfVxuXG4gICAgICB0cnkge1xuICAgICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGF3YWl0IHNzYi5uZXdQb3N0KHtcbiAgICAgICAgICB0ZXh0OiBjb250ZW50LFxuICAgICAgICAgIGNoYW5uZWwsXG4gICAgICAgICAgcm9vdCxcbiAgICAgICAgICBicmFuY2gsXG4gICAgICAgICAgZm9yayxcbiAgICAgICAgICBjb250ZW50V2FybmluZzogY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCA/IGNvbnRlbnRXYXJuaW5nIDogdW5kZWZpbmVkXG4gICAgICAgIH0pKTtcbiAgICAgICAgJCRpbnZhbGlkYXRlKCdwb3N0aW5nJywgcG9zdGluZyA9IGZhbHNlKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJwb3N0ZWRcIiwgbXNnKTtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuICAgICAgfSBjYXRjaCAobikge1xuICAgICAgICAkJGludmFsaWRhdGUoJ2Vycm9yJywgZXJyb3IgPSB0cnVlKTtcbiAgICAgICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBgQ291bGRuJ3QgcG9zdCB5b3VyIG1lc3NhZ2U6ICR7bn1gKTtcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xuXG4gICAgICAgIGlmIChtc2cubWVzc2FnZSA9PT0gXCJzdHJlYW0gaXMgY2xvc2VkXCIpIHtcbiAgICAgICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyArPSBcIi4gV2UgbG9zdCBjb25uZWN0aW9uIHRvIHNib3QuIFdlJ2xsIHRyeSB0byByZXN0YWJsaXNoIGl0Li4uXCIpO1xuXG4gICAgICAgICAgcmVjb25uZWN0KClcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgJCRpbnZhbGlkYXRlKCdzaG93UHJldmlldycsIHNob3dQcmV2aWV3ID0gZmFsc2UpO1xuICAgICAgICAgICAgICAkJGludmFsaWRhdGUoJ3Bvc3RpbmcnLCBwb3N0aW5nID0gZmFsc2UpO1xuICAgICAgICAgICAgICAkJGludmFsaWRhdGUoJ2Vycm9yJywgZXJyb3IgPSBmYWxzZSk7XG4gICAgICAgICAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gXCJDb25uZWN0aW9uIHRvIHNib3QgcmVlc3RhYmxpc2hlZC4gVHJ5IHBvc3RpbmcgYWdhaW5cIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5zZWFyY2ggPSBgP3Jvb3Q9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgcm9vdFxuICAgICAgICAgICAgICApfSZicmFuY2g9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgYnJhbmNoXG4gICAgICAgICAgICAgICl9JmNvbnRlbnQ9JHtlbmNvZGVVUklDb21wb25lbnQoXG4gICAgICAgICAgICAgICAgY29udGVudFxuICAgICAgICAgICAgICApfSZjaGFubmVsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNoYW5uZWwpfWA7XG4gICAgICAgICAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gYFNvcnJ5LCBjb3VsZG4ndCByZWNvbm5lY3QgdG8gc2JvdDoke2Vycn0uIFRyeSByZWxvYWRpbmcgdGhlIHBhZ2UuIFlvdXIgY29udGVudCBoYXMgYmVlbiBzYXZlZCB0byB0aGUgVVJMYCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBjb25zdCBwcmV2aWV3ID0gZXYgPT4ge1xuICAgICQkaW52YWxpZGF0ZSgnc2hvd1ByZXZpZXcnLCBzaG93UHJldmlldyA9IHRydWUpO1xuICB9O1xuXG4gIGNvbnN0IHNhdmVUb1VSTCA9IGV2ID0+IHtcbiAgICB3aW5kb3cubG9jYXRpb24uc2VhcmNoID0gYD9yb290PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgcm9vdFxuICAgICl9JmJyYW5jaD0ke2VuY29kZVVSSUNvbXBvbmVudChicmFuY2gpfSZjb250ZW50PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxuICAgICAgY29udGVudFxuICAgICl9JmNoYW5uZWw9JHtlbmNvZGVVUklDb21wb25lbnQoY2hhbm5lbCl9YDtcbiAgfTtcblxuICBjb25zdCBhdmF0YXJDbGljayA9IGV2ID0+IHtcbiAgICBsZXQgZmVlZCA9IGV2LmRldGFpbC5mZWVkO1xuICAgIGxldCBuYW1lID0gZXYuZGV0YWlsLm5hbWU7XG5cbiAgICBpZiAoY29udGVudC5sZW5ndGggPiAwKSB7XG4gICAgICAkJGludmFsaWRhdGUoJ2NvbnRlbnQnLCBjb250ZW50ICs9IGAgWyR7bmFtZX1dKCR7ZmVlZH0pYCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICQkaW52YWxpZGF0ZSgnY29udGVudCcsIGNvbnRlbnQgPSBgWyR7bmFtZX1dKCR7ZmVlZH0pYCk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRyYWdPdmVyID0gZXYgPT4ge1xuICAgICQkaW52YWxpZGF0ZSgnZmlsZU9uVG9wJywgZmlsZU9uVG9wID0gdHJ1ZSk7XG4gIH07XG5cbiAgY29uc3QgZHJhZ0xlYXZlID0gZXYgPT4ge1xuICAgICQkaW52YWxpZGF0ZSgnZmlsZU9uVG9wJywgZmlsZU9uVG9wID0gZmFsc2UpO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFjaEZpbGVUcmlnZ2VyID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZUlucHV0XCIpLmNsaWNrKCk7XG4gIH07XG5cbiAgY29uc3QgYXR0YWNoRmlsZUlQRlNUcmlnZ2VyID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZUlucHV0SVBGU1wiKS5jbGljaygpO1xuICB9O1xuXG4gIGNvbnN0IGF0dGFjaEZpbGVEQVRUcmlnZ2VyID0gKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZUlucHV0REFUXCIpLmNsaWNrKCk7XG4gIH07XG5cbiAgY29uc3QgYXR0YWNoRmlsZSA9IGV2ID0+IHtcbiAgICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcbiAgICByZWFkRmlsZUFuZEF0dGFjaChmaWxlcyk7XG4gIH07XG5cbiAgY29uc3QgYXR0YWNoRmlsZUlQRlMgPSBldiA9PiB7XG4gICAgY29uc3QgZmlsZXMgPSBldi50YXJnZXQuZmlsZXM7XG4gICAgcmVhZEZpbGVBbmRBdHRhY2hJUEZTKGZpbGVzKTtcbiAgfTtcblxuICBjb25zdCBhdHRhY2hGaWxlREFUID0gZXYgPT4ge1xuICAgIGNvbnN0IGZpbGVzID0gZXYudGFyZ2V0LmZpbGVzO1xuICAgIHJlYWRGaWxlQW5kQXR0YWNoREFUKGZpbGVzKTtcbiAgfTtcblxuICBjb25zdCByZWFkRmlsZUFuZEF0dGFjaElQRlMgPSBhc3luYyBmaWxlcyA9PiB7XG4gICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gZmFsc2UpO1xuICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gXCJcIik7XG5cbiAgICB2YXIgaXBmcyA9IHdpbmRvdy5JcGZzSHR0cENsaWVudChcIjEyNy4wLjAuMVwiLCBcIjUwMDFcIik7XG4gICAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGlwZnMuYWRkKGZpbGVzWzBdKTtcblxuICAgIGNvbnNvbGUubG9nKFwiYWRkZWQgdmlhIElQRlNcIiwgcmVzdWx0cyk7XG4gICAgJCRpbnZhbGlkYXRlKCdjb250ZW50JywgY29udGVudCArPSBgIFske3Jlc3VsdHNbMF0ucGF0aH1dKGlwZnM6Ly8ke3Jlc3VsdHNbMF0uaGFzaH0pYCk7XG4gIH07XG5cbiAgbGV0IHNob3dDb250ZW50V2FybmluZ0ZpZWxkID0gZmFsc2U7XG5cbiAgY29uc3QgdG9nZ2xlQ29udGVudFdhcm5pbmcgPSAoKSA9PlxuICAgIHsgY29uc3QgJCRyZXN1bHQgPSAoc2hvd0NvbnRlbnRXYXJuaW5nRmllbGQgPSAhc2hvd0NvbnRlbnRXYXJuaW5nRmllbGQpOyAkJGludmFsaWRhdGUoJ3Nob3dDb250ZW50V2FybmluZ0ZpZWxkJywgc2hvd0NvbnRlbnRXYXJuaW5nRmllbGQpOyByZXR1cm4gJCRyZXN1bHQ7IH07XG5cbiAgbGV0IGNvbnRlbnRXYXJuaW5nID0gXCJcIjtcblxuXHRmdW5jdGlvbiBpbnB1dDBfaW5wdXRfaGFuZGxlcigpIHtcblx0XHRjaGFubmVsID0gdGhpcy52YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2NoYW5uZWwnLCBjaGFubmVsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0X2lucHV0X2hhbmRsZXIoKSB7XG5cdFx0YnJhbmNoID0gdGhpcy52YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2JyYW5jaCcsIGJyYW5jaCk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXh0YXJlYV9pbnB1dF9oYW5kbGVyKCkge1xuXHRcdGNvbnRlbnQgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnY29udGVudCcsIGNvbnRlbnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRfaW5wdXRfaGFuZGxlcl8xKCkge1xuXHRcdGNvbnRlbnRXYXJuaW5nID0gdGhpcy52YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2NvbnRlbnRXYXJuaW5nJywgY29udGVudFdhcm5pbmcpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcigpIHtcblx0XHRjb25zdCAkJHJlc3VsdCA9IChzaG93UHJldmlldyA9IGZhbHNlKTtcblx0XHQkJGludmFsaWRhdGUoJ3Nob3dQcmV2aWV3Jywgc2hvd1ByZXZpZXcpO1xuXHRcdHJldHVybiAkJHJlc3VsdDtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0c2xpZGUsXG5cdFx0cm91dGVQYXJhbXMsXG5cdFx0Z2V0UHJlZixcblx0XHRBdmF0YXJDaGlwLFxuXHRcdHNob3dQcmV2aWV3LFxuXHRcdG1zZyxcblx0XHRlcnJvcixcblx0XHRwb3N0aW5nLFxuXHRcdHJvb3QsXG5cdFx0YnJhbmNoLFxuXHRcdGNoYW5uZWwsXG5cdFx0Y29udGVudCxcblx0XHRyZXBseWZlZWQsXG5cdFx0Zm9yayxcblx0XHRmaWxlT25Ub3AsXG5cdFx0aXBmc0RhZW1vblJ1bm5pbmcsXG5cdFx0ZGF0RGFlbW9uUnVubmluZyxcblx0XHRwb3N0LFxuXHRcdHByZXZpZXcsXG5cdFx0YXZhdGFyQ2xpY2ssXG5cdFx0ZHJhZ092ZXIsXG5cdFx0ZHJhZ0xlYXZlLFxuXHRcdGF0dGFjaEZpbGVUcmlnZ2VyLFxuXHRcdGF0dGFjaEZpbGVJUEZTVHJpZ2dlcixcblx0XHRhdHRhY2hGaWxlREFUVHJpZ2dlcixcblx0XHRhdHRhY2hGaWxlLFxuXHRcdGF0dGFjaEZpbGVJUEZTLFxuXHRcdGF0dGFjaEZpbGVEQVQsXG5cdFx0c2hvd0NvbnRlbnRXYXJuaW5nRmllbGQsXG5cdFx0dG9nZ2xlQ29udGVudFdhcm5pbmcsXG5cdFx0Y29udGVudFdhcm5pbmcsXG5cdFx0c3NiLFxuXHRcdGVuY29kZVVSSUNvbXBvbmVudCxcblx0XHRpbnB1dDBfaW5wdXRfaGFuZGxlcixcblx0XHRpbnB1dF9pbnB1dF9oYW5kbGVyLFxuXHRcdHRleHRhcmVhX2lucHV0X2hhbmRsZXIsXG5cdFx0aW5wdXRfaW5wdXRfaGFuZGxlcl8xLFxuXHRcdGNsaWNrX2hhbmRsZXJcblx0fTtcbn1cblxuY2xhc3MgQ29tcG9zZSBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50XzEuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUtMWttYzR4LXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcG9zZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012WTI5dGNHOXpaUzlEYjIxd2IzTmxMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3TzBGQmN6WkRRU3hwUWtGQmEwSWlmUT09IiwiLyogQ29tcG9zZUJsb2cuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YWRkX3JlbmRlcl9jYWxsYmFjayxcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRjaGVja19vdXRyb3MsXG5cdGNvbXBvbmVudF9zdWJzY3JpYmUsXG5cdGNyZWF0ZV9pbl90cmFuc2l0aW9uLFxuXHRjcmVhdGVfb3V0X3RyYW5zaXRpb24sXG5cdGRlc3Ryb3lfY29tcG9uZW50LFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGVtcHR5LFxuXHRnbG9iYWxzLFxuXHRncm91cF9vdXRyb3MsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdHByZXZlbnRfZGVmYXVsdCxcblx0cnVuX2FsbCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNldF9kYXRhLFxuXHRzcGFjZSxcblx0c3RvcF9wcm9wYWdhdGlvbixcblx0dGV4dCxcblx0dG9nZ2xlX2NsYXNzLFxuXHR0cmFuc2l0aW9uX2luLFxuXHR0cmFuc2l0aW9uX291dCxcblx0dmFsaWRhdGVfc3RvcmVcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCB7IGRvY3VtZW50OiBkb2N1bWVudF8xIH0gPSBnbG9iYWxzO1xuXG5jb25zdCBmaWxlID0gXCJDb21wb3NlQmxvZy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gYWRkX2NzcygpIHtcblx0dmFyIHN0eWxlID0gZWxlbWVudChcInN0eWxlXCIpO1xuXHRzdHlsZS5pZCA9ICdzdmVsdGUtMWlydnl4Ny1zdHlsZSc7XG5cdHN0eWxlLnRleHRDb250ZW50ID0gXCIuZmlsZS1vbi10b3Auc3ZlbHRlLTFpcnZ5eDd7Ym9yZGVyOnNvbGlkIDJweCByZ2IoMjYsIDE5MiwgMTEpfWlucHV0W3R5cGU9XFxcImZpbGVcXFwiXS5zdmVsdGUtMWlydnl4N3tkaXNwbGF5Om5vbmV9LnRodW1ibmFpbC1wcmV2aWV3LnN2ZWx0ZS0xaXJ2eXg3e21heC1oZWlnaHQ6MjAwcHh9XFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lRMjl0Y0c5elpVSnNiMmN1YzNabGJIUmxJaXdpYzI5MWNtTmxjeUk2V3lKRGIyMXdiM05sUW14dlp5NXpkbVZzZEdVaVhTd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sc2lQSE5qY21sd2RENWNjbHh1SUNCamIyNXpkQ0I3SUc5dVRXOTFiblFnZlNBOUlISmxjWFZwY21Vb1hDSnpkbVZzZEdWY0lpazdYSEpjYmlBZ1kyOXVjM1FnWkhKdmNDQTlJSEpsY1hWcGNtVW9YQ0prY21GbkxXRnVaQzFrY205d0xXWnBiR1Z6WENJcE8xeHlYRzRnSUdOdmJuTjBJSHNnYzJ4cFpHVWdmU0E5SUhKbGNYVnBjbVVvWENKemRtVnNkR1V2ZEhKaGJuTnBkR2x2Ymx3aUtUdGNjbHh1SUNCamIyNXpkQ0I3SUc1aGRtbG5ZWFJsTENCeWIzVjBaVkJoY21GdGN5d2djbVZqYjI1dVpXTjBJSDBnUFNCeVpYRjFhWEpsS0Z3aUxpNHZMaTR2TGk0dmRYUnBiSE11YW5OY0lpazdYSEpjYmlBZ1kyOXVjM1FnZXlCblpYUlFjbVZtSUgwZ1BTQnlaWEYxYVhKbEtGd2lMaTR2TGk0dkxpNHZjSEpsWm5NdWFuTmNJaWs3WEhKY2JpQWdZMjl1YzNRZ1FYWmhkR0Z5UTJocGNDQTlJSEpsY1hWcGNtVW9YQ0l1TGk4dUxpOHVMaTl3WVhKMGN5OUJkbUYwWVhKRGFHbHdMbk4yWld4MFpWd2lLVHRjY2x4dUlDQmpiMjV6ZENCUWNtVjJhV1YzSUQwZ2NtVnhkV2x5WlNoY0lpNHZVSEpsZG1sbGR5NXpkbVZzZEdWY0lpazdYSEpjYmx4eVhHNGdJR3hsZENCemFHOTNVSEpsZG1sbGR5QTlJR1poYkhObE8xeHlYRzRnSUd4bGRDQnRjMmNnUFNCbVlXeHpaVHRjY2x4dUlDQnNaWFFnWlhKeWIzSWdQU0JtWVd4elpUdGNjbHh1SUNCc1pYUWdjRzl6ZEdsdVp5QTlJR1poYkhObE8xeHlYRzVjY2x4dUlDQnNaWFFnWTJoaGJtNWxiQ0E5SUNSeWIzVjBaVkJoY21GdGN5NWphR0Z1Ym1Wc0lIeDhJRndpWENJN1hISmNiaUFnYkdWMElHTnZiblJsYm5RZ1BTQWtjbTkxZEdWUVlYSmhiWE11WTI5dWRHVnVkQ0I4ZkNCY0lsd2lPMXh5WEc0Z0lHeGxkQ0J6ZFcxdFlYSjVJRDBnSkhKdmRYUmxVR0Z5WVcxekxuTjFiVzFoY25rZ2ZId2dYQ0pjSWp0Y2NseHVJQ0JzWlhRZ2RHbDBiR1VnUFNBa2NtOTFkR1ZRWVhKaGJYTXVkR2wwYkdVZ2ZId2dYQ0pjSWp0Y2NseHVJQ0JzWlhRZ2RHaDFiV0p1WVdsc0lEMGdKSEp2ZFhSbFVHRnlZVzF6TG5Sb2RXMWlibUZwYkR0Y2NseHVJQ0JzWlhRZ1ptbHNaVTl1Vkc5d0lEMGdabUZzYzJVN1hISmNiaUFnYkdWMElIQjFiR3dnUFNCb1pYSnRhV1ZpYjNndWJXOWtkV3hsY3k1d2RXeHNVM1J5WldGdE8xeHlYRzRnSUd4bGRDQm1hV3hsVW1WaFpHVnlJRDBnYUdWeWJXbGxZbTk0TG0xdlpIVnNaWE11Y0hWc2JFWnBiR1ZTWldGa1pYSTdYSEpjYmlBZ2JHVjBJSE5pYjNRZ1BTQm9aWEp0YVdWaWIzZ3VjMkp2ZER0Y2NseHVJQ0JzWlhRZ2FYQm1jMFJoWlcxdmJsSjFibTVwYm1jZ1BTQm1ZV3h6WlR0Y2NseHVJQ0JzWlhRZ1pHRjBSR0ZsYlc5dVVuVnVibWx1WnlBOUlHWmhiSE5sTzF4eVhHNWNjbHh1SUNCa2IyTjFiV1Z1ZEM1MGFYUnNaU0E5SUdCUVlYUmphR1p2ZUNBdElHTnZiWEJ2YzJVZ2JtVjNJR0pzYjJjZ2NHOXpkR0E3WEhKY2JseHlYRzRnSUc5dVRXOTFiblFvS0NrZ1BUNGdlMXh5WEc0Z0lDQWdaWEp5YjNJZ1BTQm1ZV3h6WlR0Y2NseHVJQ0FnSUcxelp5QTlJRndpWENJN1hISmNibHh5WEc0Z0lDQWdMeThnZEdocGN5QmpiMlJsSUdOdmRXeGtJR0psSUdsdUlITnZiV1VnWW1WMGRHVnlMM050WVhKMFpYSWdjR3hoWTJVdVhISmNiaUFnSUNBdkx5QmxMbVJoZEdGVWNtRnVjMlpsY2k1blpYUkVZWFJoS0NkMWNtd25LVHNnWm5KdmJTQnBiV0ZuWlhNZ2FXNGdkR2hsSUdKeWIzZHpaWElnZDJsdVpHOTNYSEpjYmx4eVhHNGdJQ0FnWkhKdmNDaGtiMk4xYldWdWRDNW5aWFJGYkdWdFpXNTBRbmxKWkNoY0ltTnZiblJsYm5SY0lpa3NJR1pwYkdWeklEMCtJSEpsWVdSR2FXeGxRVzVrUVhSMFlXTm9LR1pwYkdWektTazdYSEpjYmlBZ0lDQmphR1ZqYTBsd1puTkVZV1Z0YjI0b0tUdGNjbHh1SUNBZ0lHTm9aV05yUkdGMFJHRmxiVzl1S0NrN1hISmNiaUFnZlNrN1hISmNibHh5WEc0Z0lHTnZibk4wSUdOb1pXTnJTWEJtYzBSaFpXMXZiaUE5SUNncElEMCtJSHRjY2x4dUlDQWdJR3hsZENCd2IzSjBJRDBnWjJWMFVISmxaaWhjSW1sd1puTlFiM0owWENJc0lEVXdNREVwTzF4eVhHNGdJQ0FnWm1WMFkyZ29ZR2gwZEhBNkx5OHhNamN1TUM0d0xqRTZKSHR3YjNKMGZTOWhjR2t2ZGpBdlkyOXVabWxuTDNOb2IzZGdLUzUwYUdWdUtHUmhkR0VnUFQ0Z2UxeHlYRzRnSUNBZ0lDQnBjR1p6UkdGbGJXOXVVblZ1Ym1sdVp5QTlJSFJ5ZFdVN1hISmNiaUFnSUNCOUtUdGNjbHh1SUNCOU8xeHlYRzVjY2x4dUlDQmpiMjV6ZENCamFHVmphMFJoZEVSaFpXMXZiaUE5SUNncElEMCtJSHRjY2x4dUlDQWdJR1JoZEVSaFpXMXZibEoxYm01cGJtY2dQU0JtWVd4elpUdGNjbHh1SUNCOU8xeHlYRzVjY2x4dUlDQmpiMjV6ZENCeVpXRmtSbWxzWlVGdVpFRjBkR0ZqYUNBOUlHWnBiR1Z6SUQwK0lIdGNjbHh1SUNBZ0lHVnljbTl5SUQwZ1ptRnNjMlU3WEhKY2JpQWdJQ0J0YzJjZ1BTQmNJbHdpTzF4eVhHNWNjbHh1SUNBZ0lHbG1JQ2htYVd4bGN5NXNaVzVuZEdnZ1BUMGdNQ2tnZTF4eVhHNGdJQ0FnSUNCbWFXeGxUMjVVYjNBZ1BTQm1ZV3h6WlR0Y2NseHVJQ0FnSUNBZ1kyOXVjMjlzWlM1c2IyY29YQ0owYUdseklHbHpJRzV2ZENCaElHWnBiR1ZjSWlrN1hISmNiaUFnSUNBZ0lISmxkSFZ5YmlCbVlXeHpaVHRjY2x4dUlDQWdJSDFjY2x4dVhISmNiaUFnSUNCMllYSWdabWx5YzNRZ1BTQm1hV3hsYzFzd1hUdGNjbHh1SUNBZ0lHTnZibk52YkdVdWJHOW5LR1pwY25OMEtUdGNjbHh1WEhKY2JpQWdJQ0JwWmlBb0lXWnBjbk4wTG5SNWNHVXVjM1JoY25SelYybDBhQ2hjSW1sdFlXZGxYQ0lwS1NCN1hISmNiaUFnSUNBZ0lHVnljbTl5SUQwZ2RISjFaVHRjY2x4dUlDQWdJQ0FnYlhObklEMGdZRmx2ZFNCallXNGdiMjVzZVNCa2NtRm5JQ1lnWkhKdmNDQnBiV0ZuWlN3Z2RHaHBjeUJtYVd4bElHbHpJR0VnSkh0bWFYSnpkQzUwZVhCbGZXQTdYSEpjYmlBZ0lDQWdJSEpsZEhWeWJpQm1ZV3h6WlR0Y2NseHVJQ0FnSUgxY2NseHVYSEpjYmlBZ0lDQnBaaUFvWm1seWMzUXVjMmw2WlNBK1BTQTFNREF3TURBd0tTQjdYSEpjYmlBZ0lDQWdJR1Z5Y205eUlEMGdkSEoxWlR0Y2NseHVJQ0FnSUNBZ2JYTm5JRDBnWUVacGJHVWdkRzl2SUd4aGNtZGxPaUFrZTAxaGRHZ3VabXh2YjNJb1hISmNiaUFnSUNBZ0lDQWdabWx5YzNRdWMybDZaU0F2SURFd05EZzFOellzWEhKY2JpQWdJQ0FnSUNBZ01seHlYRzRnSUNBZ0lDQXBmVzFpSUhkb1pXNGdiV0Y0SUhOcGVtVWdhWE1nTlcxaVlEdGNjbHh1SUNBZ0lDQWdjbVYwZFhKdUlHWmhiSE5sTzF4eVhHNGdJQ0FnZlZ4eVhHNWNjbHh1SUNBZ0lIQjFiR3dvWEhKY2JpQWdJQ0FnSUdacGJHVlNaV0ZrWlhJb1ptbHljM1FwTEZ4eVhHNGdJQ0FnSUNCelltOTBMbUpzYjJKekxtRmtaQ2htZFc1amRHbHZiaWhsY25Jc0lHaGhjMmdwSUh0Y2NseHVJQ0FnSUNBZ0lDQXZMeUFuYUdGemFDY2dhWE1nZEdobElHaGhjMmd0YVdRZ2IyWWdkR2hsSUdKc2IySmNjbHh1SUNBZ0lDQWdJQ0JwWmlBb1pYSnlLU0I3WEhKY2JpQWdJQ0FnSUNBZ0lDQmxjbkp2Y2lBOUlIUnlkV1U3WEhKY2JpQWdJQ0FnSUNBZ0lDQnRjMmNnUFNCY0lrTnZkV3hrYmlkMElHRjBkR0ZqYUNCbWFXeGxPaUJjSWlBcklHVnljanRjY2x4dUlDQWdJQ0FnSUNCOUlHVnNjMlVnZTF4eVhHNGdJQ0FnSUNBZ0lDQWdZMjl1ZEdWdWRDQXJQU0JnSUNGYkpIdG1hWEp6ZEM1dVlXMWxmVjBvSkh0b1lYTm9mU2xnTzF4eVhHNGdJQ0FnSUNBZ0lIMWNjbHh1SUNBZ0lDQWdJQ0JtYVd4bFQyNVViM0FnUFNCbVlXeHpaVHRjY2x4dUlDQWdJQ0FnZlNsY2NseHVJQ0FnSUNrN1hISmNiaUFnZlR0Y2NseHVYSEpjYmlBZ1kyOXVjM1FnY0c5emRDQTlJR0Z6ZVc1aklHVjJJRDArSUh0Y2NseHVJQ0FnSUdWMkxuTjBiM0JRY205d1lXZGhkR2x2YmlncE8xeHlYRzRnSUNBZ1pYWXVjSEpsZG1WdWRFUmxabUYxYkhRb0tUdGNjbHh1WEhKY2JpQWdJQ0JwWmlBb0lYQnZjM1JwYm1jcElIdGNjbHh1SUNBZ0lDQWdjRzl6ZEdsdVp5QTlJSFJ5ZFdVN1hISmNibHh5WEc0Z0lDQWdJQ0JwWmlBb1kyaGhibTVsYkM1emRHRnlkSE5YYVhSb0tGd2lJMXdpS1NrZ2UxeHlYRzRnSUNBZ0lDQWdJR05vWVc1dVpXd2dQU0JqYUdGdWJtVnNMbk5zYVdObEtERXBPMXh5WEc0Z0lDQWdJQ0I5WEhKY2JseHlYRzRnSUNBZ0lDQjBjbmtnZTF4eVhHNGdJQ0FnSUNBZ0lHMXpaeUE5SUdGM1lXbDBJSE56WWk1dVpYZENiRzluVUc5emRDaDdYSEpjYmlBZ0lDQWdJQ0FnSUNCamIyNTBaVzUwTEZ4eVhHNGdJQ0FnSUNBZ0lDQWdjM1Z0YldGeWVTeGNjbHh1SUNBZ0lDQWdJQ0FnSUdOb1lXNXVaV3dzWEhKY2JpQWdJQ0FnSUNBZ0lDQjBhWFJzWlN4Y2NseHVJQ0FnSUNBZ0lDQWdJSFJvZFcxaWJtRnBiQ3hjY2x4dUlDQWdJQ0FnSUNBZ0lHTnZiblJsYm5SWFlYSnVhVzVuT2lCamIyNTBaVzUwVjJGeWJtbHVaeTVzWlc1bmRHZ2dQaUF3SUQ4Z1kyOXVkR1Z1ZEZkaGNtNXBibWNnT2lCMWJtUmxabWx1WldSY2NseHVJQ0FnSUNBZ0lDQjlLVHRjY2x4dUlDQWdJQ0FnSUNCd2IzTjBhVzVuSUQwZ1ptRnNjMlU3WEhKY2JpQWdJQ0FnSUNBZ1kyOXVjMjlzWlM1c2IyY29YQ0p3YjNOMFpXUmNJaXdnYlhObktUdGNjbHh1SUNBZ0lDQWdJQ0IzYVc1a2IzY3VjMk55YjJ4c1ZHOG9NQ3dnTUNrN1hISmNiaUFnSUNBZ0lIMGdZMkYwWTJnZ0tHNHBJSHRjY2x4dUlDQWdJQ0FnSUNCbGNuSnZjaUE5SUhSeWRXVTdYSEpjYmlBZ0lDQWdJQ0FnYlhObklEMGdZRU52ZFd4a2JpZDBJSEJ2YzNRZ2VXOTFjaUJ0WlhOellXZGxPaUFrZTI1OVlEdGNjbHh1SUNBZ0lDQWdJQ0IzYVc1a2IzY3VjMk55YjJ4c1ZHOG9NQ3dnTUNrN1hISmNibHh5WEc0Z0lDQWdJQ0FnSUdsbUlDaHRjMmN1YldWemMyRm5aU0E5UFNCY0luTjBjbVZoYlNCcGN5QmpiRzl6WldSY0lpa2dlMXh5WEc0Z0lDQWdJQ0FnSUNBZ2JYTm5JQ3M5SUZ3aUxpQlhaU0JzYjNOMElHTnZibTVsWTNScGIyNGdkRzhnYzJKdmRDNGdWMlVuYkd3Z2RISjVJSFJ2SUhKbGMzUmhZbXhwYzJnZ2FYUXVMaTVjSWp0Y2NseHVYSEpjYmlBZ0lDQWdJQ0FnSUNCeVpXTnZibTVsWTNRb0tWeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBdWRHaGxiaWdvS1NBOVBpQjdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdjMmh2ZDFCeVpYWnBaWGNnUFNCbVlXeHpaVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J3YjNOMGFXNW5JRDBnWm1Gc2MyVTdYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdaWEp5YjNJZ1BTQm1ZV3h6WlR0Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNCdGMyY2dQU0JjSWtOdmJtNWxZM1JwYjI0Z2RHOGdjMkp2ZENCeVpXVnpkR0ZpYkdsemFHVmtMaUJVY25rZ2NHOXpkR2x1WnlCaFoyRnBibHdpTzF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0I5S1Z4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0F1WTJGMFkyZ29aWEp5SUQwK0lIdGNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQnpZWFpsVkc5VlVrd29LVHRjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0J0YzJjZ1BTQmdVMjl5Y25rc0lHTnZkV3hrYmlkMElISmxZMjl1Ym1WamRDQjBieUJ6WW05ME9pUjdaWEp5ZlM0Z1ZISjVJSEpsYkc5aFpHbHVaeUIwYUdVZ2NHRm5aUzRnV1c5MWNpQmpiMjUwWlc1MElHaGhjeUJpWldWdUlITmhkbVZrSUhSdklIUm9aU0JWVWt4Z08xeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCOUtUdGNjbHh1SUNBZ0lDQWdJQ0I5WEhKY2JpQWdJQ0FnSUgxY2NseHVJQ0FnSUgxY2NseHVJQ0I5TzF4eVhHNWNjbHh1SUNCamIyNXpkQ0J3Y21WMmFXVjNJRDBnWlhZZ1BUNGdlMXh5WEc0Z0lDQWdjMmh2ZDFCeVpYWnBaWGNnUFNCMGNuVmxPMXh5WEc0Z0lIMDdYSEpjYmx4eVhHNGdJR052Ym5OMElITmhkbVZVYjFWU1RDQTlJR1YySUQwK0lIdGNjbHh1SUNBZ0lIZHBibVJ2ZHk1c2IyTmhkR2x2Ymk1elpXRnlZMmdnUFNCZ1AzTjFiVzFoY25rOUpIdGxibU52WkdWVlVrbERiMjF3YjI1bGJuUW9YSEpjYmlBZ0lDQWdJSE4xYlcxaGNubGNjbHh1SUNBZ0lDbDlKblJwZEd4bFBTUjdaVzVqYjJSbFZWSkpRMjl0Y0c5dVpXNTBLSFJwZEd4bEtYMG1ZMjl1ZEdWdWREMGtlMlZ1WTI5a1pWVlNTVU52YlhCdmJtVnVkQ2hjY2x4dUlDQWdJQ0FnWTI5dWRHVnVkRnh5WEc0Z0lDQWdLWDBtWTJoaGJtNWxiRDBrZTJWdVkyOWtaVlZTU1VOdmJYQnZibVZ1ZENoamFHRnVibVZzS1gwbWRHaDFiV0p1WVdsc1BTUjdaVzVqYjJSbFZWSkpRMjl0Y0c5dVpXNTBLRnh5WEc0Z0lDQWdJQ0IwYUhWdFltNWhhV3hjY2x4dUlDQWdJQ2w5WUR0Y2NseHVJQ0I5TzF4eVhHNWNjbHh1SUNCamIyNXpkQ0JrY21GblQzWmxjaUE5SUdWMklEMCtJSHRjY2x4dUlDQWdJR1pwYkdWUGJsUnZjQ0E5SUhSeWRXVTdYSEpjYmlBZ2ZUdGNjbHh1WEhKY2JpQWdZMjl1YzNRZ1pISmhaMHhsWVhabElEMGdaWFlnUFQ0Z2UxeHlYRzRnSUNBZ1ptbHNaVTl1Vkc5d0lEMGdabUZzYzJVN1hISmNiaUFnZlR0Y2NseHVYSEpjYmlBZ1kyOXVjM1FnWVhSMFlXTm9SbWxzWlZSeWFXZG5aWElnUFNBb0tTQTlQaUI3WEhKY2JpQWdJQ0JrYjJOMWJXVnVkQzVuWlhSRmJHVnRaVzUwUW5sSlpDaGNJbVpwYkdWSmJuQjFkRndpS1M1amJHbGpheWdwTzF4eVhHNGdJSDA3WEhKY2JseHlYRzRnSUdOdmJuTjBJR0YwZEdGamFGUm9kVzFpYm1GcGJGUnlhV2RuWlhJZ1BTQW9LU0E5UGlCN1hISmNiaUFnSUNCa2IyTjFiV1Z1ZEM1blpYUkZiR1Z0Wlc1MFFubEpaQ2hjSW5Sb2RXMWlibUZwYkVsdWNIVjBYQ0lwTG1Oc2FXTnJLQ2s3WEhKY2JpQWdmVHRjY2x4dVhISmNiaUFnWTI5dWMzUWdZWFIwWVdOb1JtbHNaVWxRUmxOVWNtbG5aMlZ5SUQwZ0tDa2dQVDRnZTF4eVhHNGdJQ0FnWkc5amRXMWxiblF1WjJWMFJXeGxiV1Z1ZEVKNVNXUW9YQ0ptYVd4bFNXNXdkWFJKVUVaVFhDSXBMbU5zYVdOcktDazdYSEpjYmlBZ2ZUdGNjbHh1WEhKY2JpQWdZMjl1YzNRZ1lYUjBZV05vUm1sc1pVUkJWRlJ5YVdkblpYSWdQU0FvS1NBOVBpQjdYSEpjYmlBZ0lDQmtiMk4xYldWdWRDNW5aWFJGYkdWdFpXNTBRbmxKWkNoY0ltWnBiR1ZKYm5CMWRFUkJWRndpS1M1amJHbGpheWdwTzF4eVhHNGdJSDA3WEhKY2JseHlYRzRnSUdOdmJuTjBJR0YwZEdGamFFWnBiR1VnUFNCbGRpQTlQaUI3WEhKY2JpQWdJQ0JqYjI1emRDQm1hV3hsY3lBOUlHVjJMblJoY21kbGRDNW1hV3hsY3p0Y2NseHVJQ0FnSUhKbFlXUkdhV3hsUVc1a1FYUjBZV05vS0dacGJHVnpLVHRjY2x4dUlDQjlPMXh5WEc1Y2NseHVJQ0JqYjI1emRDQmhkSFJoWTJoVWFIVnRZbTVoYVd3Z1BTQmxkaUE5UGlCN1hISmNiaUFnSUNCamIyNXpkQ0JtYVd4bGN5QTlJR1YyTG5SaGNtZGxkQzVtYVd4bGN6dGNjbHh1SUNBZ0lISmxZV1JHYVd4bFFXNWtRWFIwWVdOb1ZHaDFiV0p1WVdsc0tHWnBiR1Z6S1R0Y2NseHVJQ0I5TzF4eVhHNWNjbHh1SUNCamIyNXpkQ0J5WldGa1JtbHNaVUZ1WkVGMGRHRmphRlJvZFcxaWJtRnBiQ0E5SUdacGJHVnpJRDArSUh0Y2NseHVJQ0FnSUdWeWNtOXlJRDBnWm1Gc2MyVTdYSEpjYmlBZ0lDQnRjMmNnUFNCY0lsd2lPMXh5WEc1Y2NseHVJQ0FnSUdsbUlDaG1hV3hsY3k1c1pXNW5kR2dnUFQwZ01Da2dlMXh5WEc0Z0lDQWdJQ0JqYjI1emIyeGxMbXh2WnloY0luUm9hWE1nYVhNZ2JtOTBJR0VnWm1sc1pWd2lLVHRjY2x4dUlDQWdJQ0FnY21WMGRYSnVJR1poYkhObE8xeHlYRzRnSUNBZ2ZWeHlYRzVjY2x4dUlDQWdJSFpoY2lCbWFYSnpkQ0E5SUdacGJHVnpXekJkTzF4eVhHNGdJQ0FnWTI5dWMyOXNaUzVzYjJjb1ptbHljM1FwTzF4eVhHNWNjbHh1SUNBZ0lHbG1JQ2doWm1seWMzUXVkSGx3WlM1emRHRnlkSE5YYVhSb0tGd2lhVzFoWjJWY0lpa3BJSHRjY2x4dUlDQWdJQ0FnWlhKeWIzSWdQU0IwY25WbE8xeHlYRzRnSUNBZ0lDQnRjMmNnUFNCZ1dXOTFJR05oYmlCMWMyVWdhVzFoWjJWeklHRnpJSFJvZFcxaWJtRnBiQ3dnZEdocGN5Qm1hV3hsSUdseklHRWdKSHRtYVhKemRDNTBlWEJsZldBN1hISmNiaUFnSUNBZ0lISmxkSFZ5YmlCbVlXeHpaVHRjY2x4dUlDQWdJSDFjY2x4dVhISmNiaUFnSUNCcFppQW9abWx5YzNRdWMybDZaU0ErUFNBMU1EQXdNREF3S1NCN1hISmNiaUFnSUNBZ0lHVnljbTl5SUQwZ2RISjFaVHRjY2x4dUlDQWdJQ0FnYlhObklEMGdZRVpwYkdVZ2RHOXZJR3hoY21kbE9pQWtlMDFoZEdndVpteHZiM0lvWEhKY2JpQWdJQ0FnSUNBZ1ptbHljM1F1YzJsNlpTQXZJREV3TkRnMU56WXNYSEpjYmlBZ0lDQWdJQ0FnTWx4eVhHNGdJQ0FnSUNBcGZXMWlJSGRvWlc0Z2JXRjRJSE5wZW1VZ2FYTWdOVzFpWUR0Y2NseHVJQ0FnSUNBZ2NtVjBkWEp1SUdaaGJITmxPMXh5WEc0Z0lDQWdmVnh5WEc1Y2NseHVJQ0FnSUhCMWJHd29YSEpjYmlBZ0lDQWdJR1pwYkdWU1pXRmtaWElvWm1seWMzUXBMRnh5WEc0Z0lDQWdJQ0J6WW05MExtSnNiMkp6TG1Ga1pDaG1kVzVqZEdsdmJpaGxjbklzSUdoaGMyZ3BJSHRjY2x4dUlDQWdJQ0FnSUNBdkx5QW5hR0Z6YUNjZ2FYTWdkR2hsSUdoaGMyZ3RhV1FnYjJZZ2RHaGxJR0pzYjJKY2NseHVJQ0FnSUNBZ0lDQnBaaUFvWlhKeUtTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNCbGNuSnZjaUE5SUhSeWRXVTdYSEpjYmlBZ0lDQWdJQ0FnSUNCdGMyY2dQU0JjSWtOdmRXeGtiaWQwSUdGa1pDQm1hV3hsT2lCY0lpQXJJR1Z5Y2lBcklGd2lJR0Z6SUhSb2RXMWlibUZwYkZ3aU8xeHlYRzRnSUNBZ0lDQWdJSDBnWld4elpTQjdYSEpjYmlBZ0lDQWdJQ0FnSUNCMGFIVnRZbTVoYVd3Z1BTQm9ZWE5vTzF4eVhHNGdJQ0FnSUNBZ0lIMWNjbHh1SUNBZ0lDQWdmU2xjY2x4dUlDQWdJQ2s3WEhKY2JpQWdmVHRjY2x4dVhISmNiaUFnWTI5dWMzUWdZWFIwWVdOb1JtbHNaVWxRUmxNZ1BTQmxkaUE5UGlCN1hISmNiaUFnSUNCamIyNXpkQ0JtYVd4bGN5QTlJR1YyTG5SaGNtZGxkQzVtYVd4bGN6dGNjbHh1SUNBZ0lISmxZV1JHYVd4bFFXNWtRWFIwWVdOb1NWQkdVeWhtYVd4bGN5azdYSEpjYmlBZ2ZUdGNjbHh1WEhKY2JpQWdZMjl1YzNRZ1lYUjBZV05vUm1sc1pVUkJWQ0E5SUdWMklEMCtJSHRjY2x4dUlDQWdJR052Ym5OMElHWnBiR1Z6SUQwZ1pYWXVkR0Z5WjJWMExtWnBiR1Z6TzF4eVhHNGdJQ0FnY21WaFpFWnBiR1ZCYm1SQmRIUmhZMmhFUVZRb1ptbHNaWE1wTzF4eVhHNGdJSDA3WEhKY2JseHlYRzRnSUdOdmJuTjBJSEpsWVdSR2FXeGxRVzVrUVhSMFlXTm9TVkJHVXlBOUlHRnplVzVqSUdacGJHVnpJRDArSUh0Y2NseHVJQ0FnSUdWeWNtOXlJRDBnWm1Gc2MyVTdYSEpjYmlBZ0lDQnRjMmNnUFNCY0lsd2lPMXh5WEc1Y2NseHVJQ0FnSUhaaGNpQnBjR1p6SUQwZ2QybHVaRzkzTGtsd1puTklkSFJ3UTJ4cFpXNTBLRndpTVRJM0xqQXVNQzR4WENJc0lGd2lOVEF3TVZ3aUtUdGNjbHh1SUNBZ0lHTnZibk4wSUhKbGMzVnNkSE1nUFNCaGQyRnBkQ0JwY0daekxtRmtaQ2htYVd4bGMxc3dYU2s3WEhKY2JseHlYRzRnSUNBZ1kyOXVjMjlzWlM1c2IyY29YQ0poWkdSbFpDQjJhV0VnU1ZCR1Uxd2lMQ0J5WlhOMWJIUnpLVHRjY2x4dUlDQWdJR052Ym5SbGJuUWdLejBnWUNCYkpIdHlaWE4xYkhSeld6QmRMbkJoZEdoOVhTaHBjR1p6T2k4dkpIdHlaWE4xYkhSeld6QmRMbWhoYzJoOUtXQTdYSEpjYmlBZ2ZUdGNjbHh1WEhKY2JpQWdiR1YwSUhOb2IzZERiMjUwWlc1MFYyRnlibWx1WjBacFpXeGtJRDBnWm1Gc2MyVTdYSEpjYmx4eVhHNGdJR052Ym5OMElIUnZaMmRzWlVOdmJuUmxiblJYWVhKdWFXNW5JRDBnS0NrZ1BUNWNjbHh1SUNBZ0lDaHphRzkzUTI5dWRHVnVkRmRoY201cGJtZEdhV1ZzWkNBOUlDRnphRzkzUTI5dWRHVnVkRmRoY201cGJtZEdhV1ZzWkNrN1hISmNibHh5WEc0Z0lHeGxkQ0JqYjI1MFpXNTBWMkZ5Ym1sdVp5QTlJRndpWENJN1hISmNiand2YzJOeWFYQjBQbHh5WEc1Y2NseHVQSE4wZVd4bFBseHlYRzRnSUM1bWFXeGxMVzl1TFhSdmNDQjdYSEpjYmlBZ0lDQmliM0prWlhJNklITnZiR2xrSURKd2VDQnlaMklvTWpZc0lERTVNaXdnTVRFcE8xeHlYRzRnSUgxY2NseHVYSEpjYmlBZ2FXNXdkWFJiZEhsd1pUMWNJbVpwYkdWY0lsMGdlMXh5WEc0Z0lDQWdaR2x6Y0d4aGVUb2dibTl1WlR0Y2NseHVJQ0I5WEhKY2JseHlYRzRnSUM1MGFIVnRZbTVoYVd3dGNISmxkbWxsZHlCN1hISmNiaUFnSUNCdFlYZ3RhR1ZwWjJoME9pQXlNREJ3ZUR0Y2NseHVJQ0I5WEhKY2Jqd3ZjM1I1YkdVK1hISmNibHh5WEc0OFpHbDJJR05zWVhOelBWd2lZMjl1ZEdGcGJtVnlYQ0krWEhKY2JpQWdQR1JwZGlCamJHRnpjejFjSW1OdmJIVnRibk5jSWo1Y2NseHVJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc1Y0lqNWNjbHh1SUNBZ0lDQWdleU5wWmlCdGMyZDlYSEpjYmlBZ0lDQWdJQ0FnZXlOcFppQmxjbkp2Y24xY2NseHVJQ0FnSUNBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKMGIyRnpkQ0IwYjJGemRDMWxjbkp2Y2x3aVBudHRjMmQ5UEM5a2FYWStYSEpjYmlBZ0lDQWdJQ0FnZXpwbGJITmxmVnh5WEc0Z0lDQWdJQ0FnSUNBZ1BHUnBkaUJqYkdGemN6MWNJblJ2WVhOMElIUnZZWE4wTFhOMVkyTmxjM05jSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnV1c5MWNpQmliRzluSUhCdmMzUWdhR0Z6SUdKbFpXNGdjRzl6ZEdWa0xpQkVieUI1YjNVZ2QyRnVkQ0IwYjF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0E4WVZ4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUhSaGNtZGxkRDFjSWw5aWJHRnVhMXdpWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnYUhKbFpqMWNJajkwYUhKbFlXUTllMlZ1WTI5a1pWVlNTVU52YlhCdmJtVnVkQ2h0YzJjdWEyVjVLWDBqTDNSb2NtVmhaRndpUGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUVOb1pXTnJJR2wwSUc5MWREOWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1BDOWhQbHh5WEc0Z0lDQWdJQ0FnSUNBZ1BDOWthWFkrWEhKY2JpQWdJQ0FnSUNBZ2V5OXBabjFjY2x4dUlDQWdJQ0FnZXk5cFpuMWNjbHh1SUNBZ0lDQWdleU5wWmlBaGMyaHZkMUJ5WlhacFpYZDlYSEpjYmlBZ0lDQWdJQ0FnUEdScGRpQmpiR0Z6Y3oxY0ltWnZjbTB0WjNKdmRYQmNJaUJwYmpwemJHbGtaU0J2ZFhRNmMyeHBaR1UrWEhKY2JpQWdJQ0FnSUNBZ0lDQThiR0ZpWld3Z1kyeGhjM005WENKbWIzSnRMV3hoWW1Wc1hDSWdabTl5UFZ3aVkyaGhibTVsYkZ3aVBrTm9ZVzV1Wld3OEwyeGhZbVZzUGx4eVhHNGdJQ0FnSUNBZ0lDQWdQR2x1Y0hWMFhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdOc1lYTnpQVndpWm05eWJTMXBibkIxZEZ3aVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUhSNWNHVTlYQ0owWlhoMFhDSmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2FXUTlYQ0pqYUdGdWJtVnNYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdjR3hoWTJWb2IyeGtaWEk5WENKamFHRnVibVZzWENKY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnWW1sdVpEcDJZV3gxWlQxN1kyaGhibTVsYkgwZ0x6NWNjbHh1WEhKY2JpQWdJQ0FnSUNBZ0lDQThiR0ZpWld3Z1kyeGhjM005WENKbWIzSnRMV3hoWW1Wc1hDSWdabTl5UFZ3aWRHbDBiR1ZjSWo1VWFYUnNaVHd2YkdGaVpXdytYSEpjYmlBZ0lDQWdJQ0FnSUNBOGFXNXdkWFJjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdZMnhoYzNNOVhDSm1iM0p0TFdsdWNIVjBYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdkSGx3WlQxY0luUmxlSFJjSWx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JwWkQxY0luUnBkR3hsWENKY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnY0d4aFkyVm9iMnhrWlhJOVhDSjBhWFJzWlZ3aVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdKcGJtUTZkbUZzZFdVOWUzUnBkR3hsZlNBdlBseHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ0lEeHNZV0psYkNCamJHRnpjejFjSW1admNtMHRiR0ZpWld4Y0lpQm1iM0k5WENKemRXMXRZWEo1WENJK1UzVnRiV0Z5ZVR3dmJHRmlaV3crWEhKY2JpQWdJQ0FnSUNBZ0lDQThkR1Y0ZEdGeVpXRmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1kyeGhjM005WENKbWIzSnRMV2x1Y0hWMFhDSmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2FXUTlYQ0p6ZFcxdFlYSjVYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdjR3hoWTJWb2IyeGtaWEk5WENKVWVYQmxJR2x1SUhsdmRYSWdjM1Z0YldGeWVWd2lYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lISnZkM005WENJMVhDSmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2IyNDZaSEpoWjI5MlpYSjhjSEpsZG1WdWRFUmxabUYxYkhSOGMzUnZjRkJ5YjNCaFoyRjBhVzl1UFh0a2NtRm5UM1psY24xY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnYjI0NlpISmhaMnhsWVhabGZIQnlaWFpsYm5SRVpXWmhkV3gwZkhOMGIzQlFjbTl3WVdkaGRHbHZiajE3WkhKaFoweGxZWFpsZlZ4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JqYkdGemN6cG1hV3hsTFc5dUxYUnZjRDE3Wm1sc1pVOXVWRzl3ZlZ4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JpYVc1a09uWmhiSFZsUFh0emRXMXRZWEo1ZlNBdlBseHlYRzVjY2x4dUlDQWdJQ0FnSUNBZ0lEeHNZV0psYkNCamJHRnpjejFjSW1admNtMHRiR0ZpWld4Y0lpQm1iM0k5WENKamIyNTBaVzUwWENJK1EyOXVkR1Z1ZER3dmJHRmlaV3crWEhKY2JpQWdJQ0FnSUNBZ0lDQThkR1Y0ZEdGeVpXRmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1kyeGhjM005WENKbWIzSnRMV2x1Y0hWMFhDSmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2FXUTlYQ0pqYjI1MFpXNTBYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdjR3hoWTJWb2IyeGtaWEk5WENKVWVYQmxJR2x1SUhsdmRYSWdZbXh2WnlCd2IzTjBJR052Ym5SbGJuUmNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQnliM2R6UFZ3aU1qQmNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQnZianBrY21GbmIzWmxjbnh3Y21WMlpXNTBSR1ZtWVhWc2RIeHpkRzl3VUhKdmNHRm5ZWFJwYjI0OWUyUnlZV2RQZG1WeWZWeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCdmJqcGtjbUZuYkdWaGRtVjhjSEpsZG1WdWRFUmxabUYxYkhSOGMzUnZjRkJ5YjNCaFoyRjBhVzl1UFh0a2NtRm5UR1ZoZG1WOVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdOc1lYTnpPbVpwYkdVdGIyNHRkRzl3UFh0bWFXeGxUMjVVYjNCOVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUdKcGJtUTZkbUZzZFdVOWUyTnZiblJsYm5SOUlDOCtYSEpjYmlBZ0lDQWdJQ0FnSUNBOFpHbDJJR05zWVhOelBWd2laQzFpYkc5amF5QnRMVEpjSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnUEdKMWRIUnZiaUJqYkdGemN6MWNJbUowYmlCaWRHNHRiR2x1YTF3aUlHOXVPbU5zYVdOclBYdDBiMmRuYkdWRGIyNTBaVzUwVjJGeWJtbHVaMzArWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnUTFkY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnUEM5aWRYUjBiMjQrWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJSHNqYVdZZ2MyaHZkME52Ym5SbGJuUlhZWEp1YVc1blJtbGxiR1I5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnUEdsdWNIVjBYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0IwZVhCbFBWd2lkR1Y0ZEZ3aVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ0lDQnphWHBsUFZ3aU5UQmNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJQ0FnWW1sdVpEcDJZV3gxWlQxN1kyOXVkR1Z1ZEZkaGNtNXBibWQ5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnSUNCd2JHRmpaV2h2YkdSbGNqMWNJa1JsYzJOeWFXSmxJSGx2ZFhJZ1kyOXVkR1Z1ZENCM1lYSnVhVzVuSUNoc1pXRjJaU0JsYlhCMGVTQjBieUJ1YjF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2RYTmxJR2wwS1Z3aUlDOCtYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lIc3ZhV1o5WEhKY2JpQWdJQ0FnSUNBZ0lDQThMMlJwZGo1Y2NseHVJQ0FnSUNBZ0lDQWdJSHNqYVdZZ2RHaDFiV0p1WVdsc2ZWeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBOFpHbDJJR05zWVhOelBWd2laQzFpYkc5amF5QnRMVEpjSWo1Y2NseHVJQ0FnSUNBZ0lDQWdJQ0FnSUNBOGNENVVhSFZ0WW01aGFXdzhMM0ErWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJQ0FnUEdsdFoxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBZ0lDQWdZMnhoYzNNOVhDSjBhSFZ0WW01aGFXd3RjSEpsZG1sbGQxd2lYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0J6Y21NOVhDSm9kSFJ3T2k4dmJHOWpZV3hvYjNOME9qZzVPRGt2WW14dlluTXZaMlYwTDN0MGFIVnRZbTVoYVd4OVhDSmNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ0lDQWdJR0ZzZEQxY0luQnZjM1FnZEdoMWJXSnVZV2xzWENJZ0x6NWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1BDOWthWFkrWEhKY2JpQWdJQ0FnSUNBZ0lDQjdMMmxtZlZ4eVhHNGdJQ0FnSUNBZ0lDQWdQR2x1Y0hWMElIUjVjR1U5WENKbWFXeGxYQ0lnYjI0NmFXNXdkWFE5ZTJGMGRHRmphRlJvZFcxaWJtRnBiSDBnYVdROVhDSjBhSFZ0WW01aGFXeEpibkIxZEZ3aUlDOCtYSEpjYmlBZ0lDQWdJQ0FnSUNBOFluVjBkRzl1SUdOc1lYTnpQVndpWW5SdVhDSWdiMjQ2WTJ4cFkyczllMkYwZEdGamFGUm9kVzFpYm1GcGJGUnlhV2RuWlhKOVBseHlYRzRnSUNBZ0lDQWdJQ0FnSUNCQmRIUmhZMmdnVkdoMWJXSnVZV2xzSUVsdFlXZGxYSEpjYmlBZ0lDQWdJQ0FnSUNBOEwySjFkSFJ2Ymo1Y2NseHVJQ0FnSUNBZ0lDQWdJRHhwYm5CMWRDQjBlWEJsUFZ3aVptbHNaVndpSUc5dU9tbHVjSFYwUFh0aGRIUmhZMmhHYVd4bGZTQnBaRDFjSW1acGJHVkpibkIxZEZ3aUlDOCtYSEpjYmlBZ0lDQWdJQ0FnSUNBOFluVjBkRzl1SUdOc1lYTnpQVndpWW5SdVhDSWdiMjQ2WTJ4cFkyczllMkYwZEdGamFFWnBiR1ZVY21sbloyVnlmVDVCZEhSaFkyZ2dSbWxzWlR3dlluVjBkRzl1UGx4eVhHNGdJQ0FnSUNBZ0lDQWdleU5wWmlCcGNHWnpSR0ZsYlc5dVVuVnVibWx1WjMxY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnUEdsdWNIVjBJSFI1Y0dVOVhDSm1hV3hsWENJZ2IyNDZhVzV3ZFhROWUyRjBkR0ZqYUVacGJHVkpVRVpUZlNCcFpEMWNJbVpwYkdWSmJuQjFkRWxRUmxOY0lpQXZQbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQThZblYwZEc5dUlHTnNZWE56UFZ3aVluUnVYQ0lnYjI0NlkyeHBZMnM5ZTJGMGRHRmphRVpwYkdWSlVFWlRWSEpwWjJkbGNuMCtYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdRWFIwWVdOb0lFWnBiR1VnZFhOcGJtY2dTVkJHVTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0E4TDJKMWRIUnZiajVjY2x4dUlDQWdJQ0FnSUNBZ0lIc3ZhV1o5WEhKY2JpQWdJQ0FnSUNBZ0lDQjdJMmxtSUdSaGRFUmhaVzF2YmxKMWJtNXBibWQ5WEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHhwYm5CMWRDQjBlWEJsUFZ3aVptbHNaVndpSUc5dU9tbHVjSFYwUFh0aGRIUmhZMmhHYVd4bFJFRlVmU0JwWkQxY0ltWnBiR1ZKYm5CMWRFUkJWRndpSUM4K1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUR4aWRYUjBiMjRnWTJ4aGMzTTlYQ0ppZEc1Y0lpQnZianBqYkdsamF6MTdZWFIwWVdOb1JtbHNaVVJCVkZSeWFXZG5aWEo5UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUVGMGRHRmphQ0JHYVd4bElIVnphVzVuSUVSaGRGeHlYRzRnSUNBZ0lDQWdJQ0FnSUNBOEwySjFkSFJ2Ymo1Y2NseHVJQ0FnSUNBZ0lDQWdJSHN2YVdaOVhISmNiaUFnSUNBZ0lDQWdJQ0E4WW5WMGRHOXVJR05zWVhOelBWd2lZblJ1SUdKMGJpMXdjbWx0WVhKNUlHWnNiMkYwTFhKcFoyaDBYQ0lnYjI0NlkyeHBZMnM5ZTNCeVpYWnBaWGQ5UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0JRY21WMmFXVjNYSEpjYmlBZ0lDQWdJQ0FnSUNBOEwySjFkSFJ2Ymo1Y2NseHVJQ0FnSUNBZ0lDQThMMlJwZGo1Y2NseHVJQ0FnSUNBZ2V6cGxiSE5sZlZ4eVhHNGdJQ0FnSUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pqYjJ4MWJXNGdZMjlzTFcxa0xURXlYQ0krWEhKY2JpQWdJQ0FnSUNBZ0lDQThVSEpsZG1sbGQxeHlYRzRnSUNBZ0lDQWdJQ0FnSUNCN1kyaGhibTVsYkgxY2NseHVJQ0FnSUNBZ0lDQWdJQ0FnZTNScGRHeGxmVnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQjdjM1Z0YldGeWVYMWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ2UyTnZiblJsYm5SOVhISmNiaUFnSUNBZ0lDQWdJQ0FnSUh0amIyNTBaVzUwVjJGeWJtbHVaMzFjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdlM1JvZFcxaWJtRnBiSDBnTHo1Y2NseHVJQ0FnSUNBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKa2FYWnBaR1Z5WENJZ0x6NWNjbHh1SUNBZ0lDQWdJQ0FnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc1elhDSStYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lEeGthWFlnWTJ4aGMzTTlYQ0pqYjJ4MWJXNGdZMjlzTFcxa0xURXlJR052YkMxc1p5MHhNRndpUGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUR4emNHRnVJR05zWVhOelBWd2liR0ZpWld3Z2JHRmlaV3d0ZDJGeWJtbHVaMXdpUGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1ZHaHBjeUJ0WlhOellXZGxJSGRwYkd3Z1ltVWdjSFZpYkdsaklHRnVaQ0JqWVc0bmRDQmlaU0JsWkdsMFpXUWdiM0lnWkdWc1pYUmxaRnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJRHd2YzNCaGJqNWNjbHh1SUNBZ0lDQWdJQ0FnSUNBZ1BDOWthWFkrWEhKY2JpQWdJQ0FnSUNBZ0lDQWdJRHhrYVhZZ1kyeGhjM005WENKamIyeDFiVzRnWTI5c0xXMWtMVEV5SUdOdmJDMXNaeTB5WENJK1hISmNiaUFnSUNBZ0lDQWdJQ0FnSUNBZ1BHSjFkSFJ2YmlCamJHRnpjejFjSW1KMGJsd2lJRzl1T21Oc2FXTnJQWHNvS1NBOVBpQW9jMmh2ZDFCeVpYWnBaWGNnUFNCbVlXeHpaU2w5UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1IyOGdRbUZqYTF4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUR3dlluVjBkRzl1UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUR4aWRYUjBiMjVjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdOc1lYTnpQVndpWW5SdUlHSjBiaTF3Y21sdFlYSjVYQ0pjY2x4dUlDQWdJQ0FnSUNBZ0lDQWdJQ0FnSUdOc1lYTnpPbXh2WVdScGJtYzllM0J2YzNScGJtZDlYSEpjYmlBZ0lDQWdJQ0FnSUNBZ0lDQWdJQ0JrYVhOaFlteGxaRDE3SVdWeWNtOXlJQ1ltSUhSNWNHVnZaaUJ0YzJjdWEyVjVJRDA5SUNkemRISnBibWNuZlZ4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ2IyNDZZMnhwWTJzOWUzQnZjM1I5UGx4eVhHNGdJQ0FnSUNBZ0lDQWdJQ0FnSUNBZ1VHOXpkRnh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQWdJRHd2WW5WMGRHOXVQbHh5WEc0Z0lDQWdJQ0FnSUNBZ0lDQThMMlJwZGo1Y2NseHVJQ0FnSUNBZ0lDQWdJRHd2WkdsMlBseHlYRzRnSUNBZ0lDQWdJRHd2WkdsMlBseHlYRzRnSUNBZ0lDQjdMMmxtZlZ4eVhHNGdJQ0FnUEM5a2FYWStYSEpjYmlBZ1BDOWthWFkrWEhKY2Jqd3ZaR2wyUGx4eVhHNGlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJiMUZGTEZsQlFWa3NaVUZCUXl4RFFVRkRMRUZCUTFvc1RVRkJUU3hEUVVGRkxFdEJRVXNzUTBGQlF5eEhRVUZITEVOQlFVTXNTVUZCU1N4RlFVRkZMRU5CUVVNc1EwRkJReXhIUVVGSExFTkJRVU1zUTBGQlF5eEZRVUZGTEVOQlFVTXNRVUZEY0VNc1EwRkJReXhCUVVWRUxFdEJRVXNzUTBGQlF5eEpRVUZKTEVOQlFVTXNUVUZCVFN4RFFVRkRMR1ZCUVVNc1EwRkJReXhCUVVOc1FpeFBRVUZQTEVOQlFVVXNTVUZCU1N4QlFVTm1MRU5CUVVNc1FVRkZSQ3hyUWtGQmEwSXNaVUZCUXl4RFFVRkRMRUZCUTJ4Q0xGVkJRVlVzUTBGQlJTeExRVUZMTEVGQlEyNUNMRU5CUVVNaWZRPT0gKi9cIjtcblx0YXBwZW5kKGRvY3VtZW50XzEuaGVhZCwgc3R5bGUpO1xufVxuXG4vLyAoMjc3OjYpIHsjaWYgbXNnfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzUoY3R4KSB7XG5cdHZhciBpZl9ibG9ja19hbmNob3I7XG5cblx0ZnVuY3Rpb24gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSB7XG5cdFx0aWYgKGN0eC5lcnJvcikgcmV0dXJuIGNyZWF0ZV9pZl9ibG9ja182O1xuXHRcdHJldHVybiBjcmVhdGVfZWxzZV9ibG9ja18xO1xuXHR9XG5cblx0dmFyIGN1cnJlbnRfYmxvY2tfdHlwZSA9IHNlbGVjdF9ibG9ja190eXBlKGN0eCk7XG5cdHZhciBpZl9ibG9jayA9IGN1cnJlbnRfYmxvY2tfdHlwZShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0aWZfYmxvY2tfYW5jaG9yID0gZW1wdHkoKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGlmX2Jsb2NrLm0odGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaWZfYmxvY2tfYW5jaG9yLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY3VycmVudF9ibG9ja190eXBlID09PSAoY3VycmVudF9ibG9ja190eXBlID0gc2VsZWN0X2Jsb2NrX3R5cGUoY3R4KSkgJiYgaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2sucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBjdXJyZW50X2Jsb2NrX3R5cGUoY3R4KTtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2suYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrLm0oaWZfYmxvY2tfYW5jaG9yLnBhcmVudE5vZGUsIGlmX2Jsb2NrX2FuY2hvcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaWZfYmxvY2tfYW5jaG9yKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgyODA6OCkgezplbHNlfVxuZnVuY3Rpb24gY3JlYXRlX2Vsc2VfYmxvY2tfMShjdHgpIHtcblx0dmFyIGRpdiwgdDAsIGEsIHQxLCBhX2hyZWZfdmFsdWU7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0dDAgPSB0ZXh0KFwiWW91ciBibG9nIHBvc3QgaGFzIGJlZW4gcG9zdGVkLiBEbyB5b3Ugd2FudCB0b1xcclxcbiAgICAgICAgICAgIFwiKTtcblx0XHRcdGEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQxID0gdGV4dChcIkNoZWNrIGl0IG91dD9cIik7XG5cdFx0XHRhdHRyKGEsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YXR0cihhLCBcImhyZWZcIiwgYV9ocmVmX3ZhbHVlID0gXCI/dGhyZWFkPVwiICsgY3R4LmVuY29kZVVSSUNvbXBvbmVudChjdHgubXNnLmtleSkgKyBcIiMvdGhyZWFkXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEsIGZpbGUsIDI4MiwgMTIsIDcxNjQpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJ0b2FzdCB0b2FzdC1zdWNjZXNzXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMjgwLCAxMCwgNzA1Nyk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2LCBhKTtcblx0XHRcdGFwcGVuZChhLCB0MSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tc2cpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP3RocmVhZD1cIiArIGN0eC5lbmNvZGVVUklDb21wb25lbnQoY3R4Lm1zZy5rZXkpICsgXCIjL3RocmVhZFwiKSkge1xuXHRcdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgyNzg6OCkgeyNpZiBlcnJvcn1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja182KGN0eCkge1xuXHR2YXIgZGl2LCB0O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHQgPSB0ZXh0KGN0eC5tc2cpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJ0b2FzdCB0b2FzdC1lcnJvclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDI3OCwgMTAsIDY5ODYpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgdCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLm1zZykge1xuXHRcdFx0XHRzZXRfZGF0YSh0LCBjdHgubXNnKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMzc0OjYpIHs6ZWxzZX1cbmZ1bmN0aW9uIGNyZWF0ZV9lbHNlX2Jsb2NrKGN0eCkge1xuXHR2YXIgZGl2NCwgdDAsIGRpdjAsIHQxLCBkaXYzLCBkaXYxLCBzcGFuLCB0MywgZGl2MiwgYnV0dG9uMCwgdDUsIGJ1dHRvbjEsIHQ2LCBidXR0b24xX2Rpc2FibGVkX3ZhbHVlLCBjdXJyZW50LCBkaXNwb3NlO1xuXG5cdHZhciBwcmV2aWV3XzEgPSBuZXcgY3R4LlByZXZpZXcoe1xuXHRcdHByb3BzOiB7XG5cdFx0Y2hhbm5lbDogY3R4LmNoYW5uZWwsXG5cdFx0dGl0bGU6IGN0eC50aXRsZSxcblx0XHRzdW1tYXJ5OiBjdHguc3VtbWFyeSxcblx0XHRjb250ZW50OiBjdHguY29udGVudCxcblx0XHRjb250ZW50V2FybmluZzogY3R4LmNvbnRlbnRXYXJuaW5nLFxuXHRcdHRodW1ibmFpbDogY3R4LnRodW1ibmFpbFxuXHR9LFxuXHRcdCQkaW5saW5lOiB0cnVlXG5cdH0pO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2NCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRwcmV2aWV3XzEuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRkaXYzID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0c3Bhbi50ZXh0Q29udGVudCA9IFwiVGhpcyBtZXNzYWdlIHdpbGwgYmUgcHVibGljIGFuZCBjYW4ndCBiZSBlZGl0ZWQgb3IgZGVsZXRlZFwiO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRidXR0b24wID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdGJ1dHRvbjAudGV4dENvbnRlbnQgPSBcIkdvIEJhY2tcIjtcblx0XHRcdHQ1ID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbjEgPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0dDYgPSB0ZXh0KFwiUG9zdFwiKTtcblx0XHRcdGF0dHIoZGl2MCwgXCJjbGFzc1wiLCBcImRpdmlkZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgMzgyLCAxMCwgMTA3OTYpO1xuXHRcdFx0YXR0cihzcGFuLCBcImNsYXNzXCIsIFwibGFiZWwgbGFiZWwtd2FybmluZ1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihzcGFuLCBmaWxlLCAzODUsIDE0LCAxMDkyMik7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJjb2x1bW4gY29sLW1kLTEyIGNvbC1sZy0xMFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCAzODQsIDEyLCAxMDg2Nik7XG5cdFx0XHRhdHRyKGJ1dHRvbjAsIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uMCwgZmlsZSwgMzkwLCAxNCwgMTExNDQpO1xuXHRcdFx0YXR0cihidXR0b24xLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5XCIpO1xuXHRcdFx0YnV0dG9uMS5kaXNhYmxlZCA9IGJ1dHRvbjFfZGlzYWJsZWRfdmFsdWUgPSAhY3R4LmVycm9yICYmIHR5cGVvZiBjdHgubXNnLmtleSA9PSAnc3RyaW5nJztcblx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24xLCBcImxvYWRpbmdcIiwgY3R4LnBvc3RpbmcpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjEsIGZpbGUsIDM5MywgMTQsIDExMjY5KTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtbWQtMTIgY29sLWxnLTJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgMzg5LCAxMiwgMTEwODkpO1xuXHRcdFx0YXR0cihkaXYzLCBcImNsYXNzXCIsIFwiY29sdW1uc1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYzLCBmaWxlLCAzODMsIDEwLCAxMDgzMSk7XG5cdFx0XHRhdHRyKGRpdjQsIFwiY2xhc3NcIiwgXCJjb2x1bW4gY29sLW1kLTEyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjQsIGZpbGUsIDM3NCwgOCwgMTA1ODYpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uMCwgXCJjbGlja1wiLCBjdHguY2xpY2tfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihidXR0b24xLCBcImNsaWNrXCIsIGN0eC5wb3N0KVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjQsIGFuY2hvcik7XG5cdFx0XHRtb3VudF9jb21wb25lbnQocHJldmlld18xLCBkaXY0LCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXY0LCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdjQsIGRpdjMpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHNwYW4pO1xuXHRcdFx0YXBwZW5kKGRpdjMsIHQzKTtcblx0XHRcdGFwcGVuZChkaXYzLCBkaXYyKTtcblx0XHRcdGFwcGVuZChkaXYyLCBidXR0b24wKTtcblx0XHRcdGFwcGVuZChkaXYyLCB0NSk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgYnV0dG9uMSk7XG5cdFx0XHRhcHBlbmQoYnV0dG9uMSwgdDYpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdHZhciBwcmV2aWV3XzFfY2hhbmdlcyA9IHt9O1xuXHRcdFx0aWYgKGNoYW5nZWQuY2hhbm5lbCkgcHJldmlld18xX2NoYW5nZXMuY2hhbm5lbCA9IGN0eC5jaGFubmVsO1xuXHRcdFx0aWYgKGNoYW5nZWQudGl0bGUpIHByZXZpZXdfMV9jaGFuZ2VzLnRpdGxlID0gY3R4LnRpdGxlO1xuXHRcdFx0aWYgKGNoYW5nZWQuc3VtbWFyeSkgcHJldmlld18xX2NoYW5nZXMuc3VtbWFyeSA9IGN0eC5zdW1tYXJ5O1xuXHRcdFx0aWYgKGNoYW5nZWQuY29udGVudCkgcHJldmlld18xX2NoYW5nZXMuY29udGVudCA9IGN0eC5jb250ZW50O1xuXHRcdFx0aWYgKGNoYW5nZWQuY29udGVudFdhcm5pbmcpIHByZXZpZXdfMV9jaGFuZ2VzLmNvbnRlbnRXYXJuaW5nID0gY3R4LmNvbnRlbnRXYXJuaW5nO1xuXHRcdFx0aWYgKGNoYW5nZWQudGh1bWJuYWlsKSBwcmV2aWV3XzFfY2hhbmdlcy50aHVtYm5haWwgPSBjdHgudGh1bWJuYWlsO1xuXHRcdFx0cHJldmlld18xLiRzZXQocHJldmlld18xX2NoYW5nZXMpO1xuXG5cdFx0XHRpZiAoKCFjdXJyZW50IHx8IGNoYW5nZWQuZXJyb3IgfHwgY2hhbmdlZC5tc2cpICYmIGJ1dHRvbjFfZGlzYWJsZWRfdmFsdWUgIT09IChidXR0b24xX2Rpc2FibGVkX3ZhbHVlID0gIWN0eC5lcnJvciAmJiB0eXBlb2YgY3R4Lm1zZy5rZXkgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRcdGJ1dHRvbjEuZGlzYWJsZWQgPSBidXR0b24xX2Rpc2FibGVkX3ZhbHVlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5wb3N0aW5nKSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhidXR0b24xLCBcImxvYWRpbmdcIiwgY3R4LnBvc3RpbmcpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4ocHJldmlld18xLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQocHJldmlld18xLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXY0KTtcblx0XHRcdH1cblxuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQocHJldmlld18xKTtcblxuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICgyOTE6NikgeyNpZiAhc2hvd1ByZXZpZXd9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBkaXYxLCBsYWJlbDAsIHQxLCBpbnB1dDAsIHQyLCBsYWJlbDEsIHQ0LCBpbnB1dDEsIHQ1LCBsYWJlbDIsIHQ3LCB0ZXh0YXJlYTAsIHQ4LCBsYWJlbDMsIHQxMCwgdGV4dGFyZWExLCB0MTEsIGRpdjAsIGJ1dHRvbjAsIHQxMywgdDE0LCB0MTUsIGlucHV0MiwgdDE2LCBidXR0b24xLCB0MTgsIGlucHV0MywgdDE5LCBidXR0b24yLCB0MjEsIHQyMiwgdDIzLCBidXR0b24zLCBkaXYxX2ludHJvLCBkaXYxX291dHJvLCBjdXJyZW50LCBkaXNwb3NlO1xuXG5cdHZhciBpZl9ibG9jazAgPSAoY3R4LnNob3dDb250ZW50V2FybmluZ0ZpZWxkKSAmJiBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXG5cdHZhciBpZl9ibG9jazEgPSAoY3R4LnRodW1ibmFpbCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2syID0gKGN0eC5pcGZzRGFlbW9uUnVubmluZykgJiYgY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2szID0gKGN0eC5kYXREYWVtb25SdW5uaW5nKSAmJiBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2MSA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRsYWJlbDAgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRsYWJlbDAudGV4dENvbnRlbnQgPSBcIkNoYW5uZWxcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlucHV0MCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMSA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsMS50ZXh0Q29udGVudCA9IFwiVGl0bGVcIjtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGlucHV0MSA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQ1ID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMiA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsMi50ZXh0Q29udGVudCA9IFwiU3VtbWFyeVwiO1xuXHRcdFx0dDcgPSBzcGFjZSgpO1xuXHRcdFx0dGV4dGFyZWEwID0gZWxlbWVudChcInRleHRhcmVhXCIpO1xuXHRcdFx0dDggPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwzID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0bGFiZWwzLnRleHRDb250ZW50ID0gXCJDb250ZW50XCI7XG5cdFx0XHR0MTAgPSBzcGFjZSgpO1xuXHRcdFx0dGV4dGFyZWExID0gZWxlbWVudChcInRleHRhcmVhXCIpO1xuXHRcdFx0dDExID0gc3BhY2UoKTtcblx0XHRcdGRpdjAgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YnV0dG9uMCA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24wLnRleHRDb250ZW50ID0gXCJDV1wiO1xuXHRcdFx0dDEzID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0MTQgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmMoKTtcblx0XHRcdHQxNSA9IHNwYWNlKCk7XG5cdFx0XHRpbnB1dDIgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0MTYgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uMSA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24xLnRleHRDb250ZW50ID0gXCJBdHRhY2ggVGh1bWJuYWlsIEltYWdlXCI7XG5cdFx0XHR0MTggPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQzID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDE5ID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbjIgPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uMi50ZXh0Q29udGVudCA9IFwiQXR0YWNoIEZpbGVcIjtcblx0XHRcdHQyMSA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2syKSBpZl9ibG9jazIuYygpO1xuXHRcdFx0dDIyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHR0MjMgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uMyA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24zLnRleHRDb250ZW50ID0gXCJQcmV2aWV3XCI7XG5cdFx0XHRhdHRyKGxhYmVsMCwgXCJjbGFzc1wiLCBcImZvcm0tbGFiZWxcIik7XG5cdFx0XHRhdHRyKGxhYmVsMCwgXCJmb3JcIiwgXCJjaGFubmVsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMCwgZmlsZSwgMjkyLCAxMCwgNzQ1MCk7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJ0eXBlXCIsIFwidGV4dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcImlkXCIsIFwiY2hhbm5lbFwiKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcInBsYWNlaG9sZGVyXCIsIFwiY2hhbm5lbFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDAsIGZpbGUsIDI5MywgMTAsIDc1MTcpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiZm9yXCIsIFwidGl0bGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwxLCBmaWxlLCAzMDAsIDEwLCA3NjkyKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcImNsYXNzXCIsIFwiZm9ybS1pbnB1dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwiaWRcIiwgXCJ0aXRsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcInBsYWNlaG9sZGVyXCIsIFwidGl0bGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQxLCBmaWxlLCAzMDEsIDEwLCA3NzU1KTtcblx0XHRcdGF0dHIobGFiZWwyLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWwyLCBcImZvclwiLCBcInN1bW1hcnlcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwyLCBmaWxlLCAzMDgsIDEwLCA3OTI0KTtcblx0XHRcdGF0dHIodGV4dGFyZWEwLCBcImNsYXNzXCIsIFwiZm9ybS1pbnB1dCBzdmVsdGUtMWlydnl4N1wiKTtcblx0XHRcdGF0dHIodGV4dGFyZWEwLCBcImlkXCIsIFwic3VtbWFyeVwiKTtcblx0XHRcdGF0dHIodGV4dGFyZWEwLCBcInBsYWNlaG9sZGVyXCIsIFwiVHlwZSBpbiB5b3VyIHN1bW1hcnlcIik7XG5cdFx0XHRhdHRyKHRleHRhcmVhMCwgXCJyb3dzXCIsIFwiNVwiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyh0ZXh0YXJlYTAsIFwiZmlsZS1vbi10b3BcIiwgY3R4LmZpbGVPblRvcCk7XG5cdFx0XHRhZGRfbG9jYXRpb24odGV4dGFyZWEwLCBmaWxlLCAzMDksIDEwLCA3OTkxKTtcblx0XHRcdGF0dHIobGFiZWwzLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWwzLCBcImZvclwiLCBcImNvbnRlbnRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwzLCBmaWxlLCAzMTksIDEwLCA4MzU4KTtcblx0XHRcdGF0dHIodGV4dGFyZWExLCBcImNsYXNzXCIsIFwiZm9ybS1pbnB1dCBzdmVsdGUtMWlydnl4N1wiKTtcblx0XHRcdGF0dHIodGV4dGFyZWExLCBcImlkXCIsIFwiY29udGVudFwiKTtcblx0XHRcdGF0dHIodGV4dGFyZWExLCBcInBsYWNlaG9sZGVyXCIsIFwiVHlwZSBpbiB5b3VyIGJsb2cgcG9zdCBjb250ZW50XCIpO1xuXHRcdFx0YXR0cih0ZXh0YXJlYTEsIFwicm93c1wiLCBcIjIwXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKHRleHRhcmVhMSwgXCJmaWxlLW9uLXRvcFwiLCBjdHguZmlsZU9uVG9wKTtcblx0XHRcdGFkZF9sb2NhdGlvbih0ZXh0YXJlYTEsIGZpbGUsIDMyMCwgMTAsIDg0MjUpO1xuXHRcdFx0YXR0cihidXR0b24wLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1saW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjAsIGZpbGUsIDMzMCwgMTIsIDg4NDApO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiZC1ibG9jayBtLTJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MCwgZmlsZSwgMzI5LCAxMCwgODgwMSk7XG5cdFx0XHRhdHRyKGlucHV0MiwgXCJ0eXBlXCIsIFwiZmlsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQyLCBcImlkXCIsIFwidGh1bWJuYWlsSW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0MiwgXCJjbGFzc1wiLCBcInN2ZWx0ZS0xaXJ2eXg3XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MiwgZmlsZSwgMzUxLCAxMCwgOTU3MSk7XG5cdFx0XHRhdHRyKGJ1dHRvbjEsIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uMSwgZmlsZSwgMzUyLCAxMCwgOTY1MSk7XG5cdFx0XHRhdHRyKGlucHV0MywgXCJ0eXBlXCIsIFwiZmlsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQzLCBcImlkXCIsIFwiZmlsZUlucHV0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDMsIFwiY2xhc3NcIiwgXCJzdmVsdGUtMWlydnl4N1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDMsIGZpbGUsIDM1NSwgMTAsIDk3NzQpO1xuXHRcdFx0YXR0cihidXR0b24yLCBcImNsYXNzXCIsIFwiYnRuXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjIsIGZpbGUsIDM1NiwgMTAsIDk4NDQpO1xuXHRcdFx0YXR0cihidXR0b24zLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5IGZsb2F0LXJpZ2h0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbjMsIGZpbGUsIDM2OSwgMTAsIDEwNDQwKTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImZvcm0tZ3JvdXBcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgMjkxLCA4LCA3Mzk1KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0MCwgXCJpbnB1dFwiLCBjdHguaW5wdXQwX2lucHV0X2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxLCBcImlucHV0XCIsIGN0eC5pbnB1dDFfaW5wdXRfaGFuZGxlciksXG5cdFx0XHRcdGxpc3Rlbih0ZXh0YXJlYTAsIFwiaW5wdXRcIiwgY3R4LnRleHRhcmVhMF9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKHRleHRhcmVhMCwgXCJkcmFnb3ZlclwiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZHJhZ092ZXIpKSksXG5cdFx0XHRcdGxpc3Rlbih0ZXh0YXJlYTAsIFwiZHJhZ2xlYXZlXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5kcmFnTGVhdmUpKSksXG5cdFx0XHRcdGxpc3Rlbih0ZXh0YXJlYTEsIFwiaW5wdXRcIiwgY3R4LnRleHRhcmVhMV9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKHRleHRhcmVhMSwgXCJkcmFnb3ZlclwiLCBzdG9wX3Byb3BhZ2F0aW9uKHByZXZlbnRfZGVmYXVsdChjdHguZHJhZ092ZXIpKSksXG5cdFx0XHRcdGxpc3Rlbih0ZXh0YXJlYTEsIFwiZHJhZ2xlYXZlXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5kcmFnTGVhdmUpKSksXG5cdFx0XHRcdGxpc3RlbihidXR0b24wLCBcImNsaWNrXCIsIGN0eC50b2dnbGVDb250ZW50V2FybmluZyksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDIsIFwiaW5wdXRcIiwgY3R4LmF0dGFjaFRodW1ibmFpbCksXG5cdFx0XHRcdGxpc3RlbihidXR0b24xLCBcImNsaWNrXCIsIGN0eC5hdHRhY2hUaHVtYm5haWxUcmlnZ2VyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MywgXCJpbnB1dFwiLCBjdHguYXR0YWNoRmlsZSksXG5cdFx0XHRcdGxpc3RlbihidXR0b24yLCBcImNsaWNrXCIsIGN0eC5hdHRhY2hGaWxlVHJpZ2dlciksXG5cdFx0XHRcdGxpc3RlbihidXR0b24zLCBcImNsaWNrXCIsIGN0eC5wcmV2aWV3KVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjEsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MSwgbGFiZWwwKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgaW5wdXQwKTtcblxuXHRcdFx0aW5wdXQwLnZhbHVlID0gY3R4LmNoYW5uZWw7XG5cblx0XHRcdGFwcGVuZChkaXYxLCB0Mik7XG5cdFx0XHRhcHBlbmQoZGl2MSwgbGFiZWwxKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0NCk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgaW5wdXQxKTtcblxuXHRcdFx0aW5wdXQxLnZhbHVlID0gY3R4LnRpdGxlO1xuXG5cdFx0XHRhcHBlbmQoZGl2MSwgdDUpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGxhYmVsMik7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDcpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHRleHRhcmVhMCk7XG5cblx0XHRcdHRleHRhcmVhMC52YWx1ZSA9IGN0eC5zdW1tYXJ5O1xuXG5cdFx0XHRhcHBlbmQoZGl2MSwgdDgpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGxhYmVsMyk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDEwKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0ZXh0YXJlYTEpO1xuXG5cdFx0XHR0ZXh0YXJlYTEudmFsdWUgPSBjdHguY29udGVudDtcblxuXHRcdFx0YXBwZW5kKGRpdjEsIHQxMSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgYnV0dG9uMCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgdDEzKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKGRpdjAsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQxNCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEubShkaXYxLCBudWxsKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0MTUpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGlucHV0Mik7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDE2KTtcblx0XHRcdGFwcGVuZChkaXYxLCBidXR0b24xKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0MTgpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGlucHV0Myk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDE5KTtcblx0XHRcdGFwcGVuZChkaXYxLCBidXR0b24yKTtcblx0XHRcdGFwcGVuZChkaXYxLCB0MjEpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLm0oZGl2MSwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgdDIyKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5tKGRpdjEsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQyMyk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgYnV0dG9uMyk7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuY2hhbm5lbCAmJiAoaW5wdXQwLnZhbHVlICE9PSBjdHguY2hhbm5lbCkpIGlucHV0MC52YWx1ZSA9IGN0eC5jaGFubmVsO1xuXHRcdFx0aWYgKGNoYW5nZWQudGl0bGUgJiYgKGlucHV0MS52YWx1ZSAhPT0gY3R4LnRpdGxlKSkgaW5wdXQxLnZhbHVlID0gY3R4LnRpdGxlO1xuXHRcdFx0aWYgKGNoYW5nZWQuc3VtbWFyeSkgdGV4dGFyZWEwLnZhbHVlID0gY3R4LnN1bW1hcnk7XG5cblx0XHRcdGlmIChjaGFuZ2VkLmZpbGVPblRvcCkge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3ModGV4dGFyZWEwLCBcImZpbGUtb24tdG9wXCIsIGN0eC5maWxlT25Ub3ApO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5jb250ZW50KSB0ZXh0YXJlYTEudmFsdWUgPSBjdHguY29udGVudDtcblxuXHRcdFx0aWYgKGNoYW5nZWQuZmlsZU9uVG9wKSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyh0ZXh0YXJlYTEsIFwiZmlsZS1vbi10b3BcIiwgY3R4LmZpbGVPblRvcCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHguc2hvd0NvbnRlbnRXYXJuaW5nRmllbGQpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGRpdjAsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC50aHVtYm5haWwpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5tKGRpdjEsIHQxNSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmlwZnNEYWVtb25SdW5uaW5nKSB7XG5cdFx0XHRcdGlmICghaWZfYmxvY2syKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syID0gY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazIuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5tKGRpdjEsIHQyMik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMi5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazIgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmRhdERhZW1vblJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKCFpZl9ibG9jazMpIHtcblx0XHRcdFx0XHRpZl9ibG9jazMgPSBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2szLm0oZGl2MSwgdDIzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazMpIHtcblx0XHRcdFx0aWZfYmxvY2szLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMyA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG5cdFx0XHRcdGlmIChkaXYxX291dHJvKSBkaXYxX291dHJvLmVuZCgxKTtcblx0XHRcdFx0aWYgKCFkaXYxX2ludHJvKSBkaXYxX2ludHJvID0gY3JlYXRlX2luX3RyYW5zaXRpb24oZGl2MSwgY3R4LnNsaWRlLCB7fSk7XG5cdFx0XHRcdGRpdjFfaW50cm8uc3RhcnQoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdGlmIChkaXYxX2ludHJvKSBkaXYxX2ludHJvLmludmFsaWRhdGUoKTtcblxuXHRcdFx0ZGl2MV9vdXRybyA9IGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihkaXYxLCBjdHguc2xpZGUsIHt9KTtcblxuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2MSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5kKCk7XG5cblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0aWYgKGRpdjFfb3V0cm8pIGRpdjFfb3V0cm8uZW5kKCk7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMzM0OjEyKSB7I2lmIHNob3dDb250ZW50V2FybmluZ0ZpZWxkfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KSB7XG5cdHZhciBpbnB1dCwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGlucHV0ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwidGV4dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwic2l6ZVwiLCBcIjUwXCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJwbGFjZWhvbGRlclwiLCBcIkRlc2NyaWJlIHlvdXIgY29udGVudCB3YXJuaW5nIChsZWF2ZSBlbXB0eSB0byBub1xcclxcbiAgICAgICAgICAgICAgICB1c2UgaXQpXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0LCBmaWxlLCAzMzQsIDE0LCA5MDAxKTtcblx0XHRcdGRpc3Bvc2UgPSBsaXN0ZW4oaW5wdXQsIFwiaW5wdXRcIiwgY3R4LmlucHV0X2lucHV0X2hhbmRsZXIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaW5wdXQsIGFuY2hvcik7XG5cblx0XHRcdGlucHV0LnZhbHVlID0gY3R4LmNvbnRlbnRXYXJuaW5nO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5jb250ZW50V2FybmluZyAmJiAoaW5wdXQudmFsdWUgIT09IGN0eC5jb250ZW50V2FybmluZykpIGlucHV0LnZhbHVlID0gY3R4LmNvbnRlbnRXYXJuaW5nO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaW5wdXQpO1xuXHRcdFx0fVxuXG5cdFx0XHRkaXNwb3NlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMzQzOjEwKSB7I2lmIHRodW1ibmFpbH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18zKGN0eCkge1xuXHR2YXIgZGl2LCBwLCB0XzEsIGltZywgaW1nX3NyY192YWx1ZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRwLnRleHRDb250ZW50ID0gXCJUaHVtYm5haWxcIjtcblx0XHRcdHRfMSA9IHNwYWNlKCk7XG5cdFx0XHRpbWcgPSBlbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDM0NCwgMTQsIDkzMzUpO1xuXHRcdFx0YXR0cihpbWcsIFwiY2xhc3NcIiwgXCJ0aHVtYm5haWwtcHJldmlldyBzdmVsdGUtMWlydnl4N1wiKTtcblx0XHRcdGF0dHIoaW1nLCBcInNyY1wiLCBpbWdfc3JjX3ZhbHVlID0gXCJodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0L1wiICsgY3R4LnRodW1ibmFpbCk7XG5cdFx0XHRhdHRyKGltZywgXCJhbHRcIiwgXCJwb3N0IHRodW1ibmFpbFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbWcsIGZpbGUsIDM0NSwgMTQsIDkzNjcpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJkLWJsb2NrIG0tMlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDM0MywgMTIsIDkyOTQpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgcCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0XzEpO1xuXHRcdFx0YXBwZW5kKGRpdiwgaW1nKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLnRodW1ibmFpbCkgJiYgaW1nX3NyY192YWx1ZSAhPT0gKGltZ19zcmNfdmFsdWUgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODk4OS9ibG9icy9nZXQvXCIgKyBjdHgudGh1bWJuYWlsKSkge1xuXHRcdFx0XHRhdHRyKGltZywgXCJzcmNcIiwgaW1nX3NyY192YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDM1ODoxMCkgeyNpZiBpcGZzRGFlbW9uUnVubmluZ31cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18yKGN0eCkge1xuXHR2YXIgaW5wdXQsIHQsIGJ1dHRvbiwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGlucHV0ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dCA9IHNwYWNlKCk7XG5cdFx0XHRidXR0b24gPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gXCJBdHRhY2ggRmlsZSB1c2luZyBJUEZTXCI7XG5cdFx0XHRhdHRyKGlucHV0LCBcInR5cGVcIiwgXCJmaWxlXCIpO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJpZFwiLCBcImZpbGVJbnB1dElQRlNcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcImNsYXNzXCIsIFwic3ZlbHRlLTFpcnZ5eDdcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQsIGZpbGUsIDM1OCwgMTIsIDk5NjIpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnV0dG9uLCBmaWxlLCAzNTksIDEyLCAxMDA0Mik7XG5cblx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdGxpc3RlbihpbnB1dCwgXCJpbnB1dFwiLCBjdHguYXR0YWNoRmlsZUlQRlMpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIGN0eC5hdHRhY2hGaWxlSVBGU1RyaWdnZXIpXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaW5wdXQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgYnV0dG9uLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaW5wdXQpO1xuXHRcdFx0XHRkZXRhY2godCk7XG5cdFx0XHRcdGRldGFjaChidXR0b24pO1xuXHRcdFx0fVxuXG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDM2NDoxMCkgeyNpZiBkYXREYWVtb25SdW5uaW5nfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciBpbnB1dCwgdCwgYnV0dG9uLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aW5wdXQgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0ID0gc3BhY2UoKTtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24udGV4dENvbnRlbnQgPSBcIkF0dGFjaCBGaWxlIHVzaW5nIERhdFwiO1xuXHRcdFx0YXR0cihpbnB1dCwgXCJ0eXBlXCIsIFwiZmlsZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQsIFwiaWRcIiwgXCJmaWxlSW5wdXREQVRcIik7XG5cdFx0XHRhdHRyKGlucHV0LCBcImNsYXNzXCIsIFwic3ZlbHRlLTFpcnZ5eDdcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQsIGZpbGUsIDM2NCwgMTIsIDEwMjIxKTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIFwiYnRuXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbiwgZmlsZSwgMzY1LCAxMiwgMTAyOTkpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oaW5wdXQsIFwiaW5wdXRcIiwgY3R4LmF0dGFjaEZpbGVEQVQpLFxuXHRcdFx0XHRsaXN0ZW4oYnV0dG9uLCBcImNsaWNrXCIsIGN0eC5hdHRhY2hGaWxlREFUVHJpZ2dlcilcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBpbnB1dCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBidXR0b24sIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpbnB1dCk7XG5cdFx0XHRcdGRldGFjaCh0KTtcblx0XHRcdFx0ZGV0YWNoKGJ1dHRvbik7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBkaXYyLCBkaXYxLCBkaXYwLCB0LCBjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXgsIGlmX2Jsb2NrMSwgY3VycmVudDtcblxuXHR2YXIgaWZfYmxvY2swID0gKGN0eC5tc2cpICYmIGNyZWF0ZV9pZl9ibG9ja181KGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrX2NyZWF0b3JzID0gW1xuXHRcdGNyZWF0ZV9pZl9ibG9jayxcblx0XHRjcmVhdGVfZWxzZV9ibG9ja1xuXHRdO1xuXG5cdHZhciBpZl9ibG9ja3MgPSBbXTtcblxuXHRmdW5jdGlvbiBzZWxlY3RfYmxvY2tfdHlwZV8xKGN0eCkge1xuXHRcdGlmICghY3R4LnNob3dQcmV2aWV3KSByZXR1cm4gMDtcblx0XHRyZXR1cm4gMTtcblx0fVxuXG5cdGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KTtcblx0aWZfYmxvY2sxID0gaWZfYmxvY2tzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0gPSBpZl9ibG9ja19jcmVhdG9yc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYyID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuYygpO1xuXHRcdFx0dCA9IHNwYWNlKCk7XG5cdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiY29sdW1uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDI3NSwgNCwgNjkxNik7XG5cdFx0XHRhdHRyKGRpdjEsIFwiY2xhc3NcIiwgXCJjb2x1bW5zXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjEsIGZpbGUsIDI3NCwgMiwgNjg4OSk7XG5cdFx0XHRhdHRyKGRpdjIsIFwiY2xhc3NcIiwgXCJjb250YWluZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgMjczLCAwLCA2ODYyKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYyLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGRpdjApO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLm0oZGl2MCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgdCk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5tKGRpdjAsIG51bGwpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjdHgubXNnKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0XHRpZl9ibG9jazAucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IGNyZWF0ZV9pZl9ibG9ja181KGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazAubShkaXYwLCB0KTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0aWZfYmxvY2swLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdHZhciBwcmV2aW91c19ibG9ja19pbmRleCA9IGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleDtcblx0XHRcdGN1cnJlbnRfYmxvY2tfdHlwZV9pbmRleCA9IHNlbGVjdF9ibG9ja190eXBlXzEoY3R4KTtcblx0XHRcdGlmIChjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXggPT09IHByZXZpb3VzX2Jsb2NrX2luZGV4KSB7XG5cdFx0XHRcdGlmX2Jsb2Nrc1tjdXJyZW50X2Jsb2NrX3R5cGVfaW5kZXhdLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9ja3NbcHJldmlvdXNfYmxvY2tfaW5kZXhdLCAxLCAxLCAoKSA9PiB7XG5cdFx0XHRcdFx0aWZfYmxvY2tzW3ByZXZpb3VzX2Jsb2NrX2luZGV4XSA9IG51bGw7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjaGVja19vdXRyb3MoKTtcblxuXHRcdFx0XHRpZl9ibG9jazEgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XTtcblx0XHRcdFx0aWYgKCFpZl9ibG9jazEpIHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XSA9IGlmX2Jsb2NrX2NyZWF0b3JzW2N1cnJlbnRfYmxvY2tfdHlwZV9pbmRleF0oY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazEuYygpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHRyYW5zaXRpb25faW4oaWZfYmxvY2sxLCAxKTtcblx0XHRcdFx0aWZfYmxvY2sxLm0oZGl2MCwgbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpZl9ibG9jazEpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdG86IGZ1bmN0aW9uIG91dHJvKGxvY2FsKSB7XG5cdFx0XHR0cmFuc2l0aW9uX291dChpZl9ibG9jazEpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2Mik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKCk7XG5cdFx0XHRpZl9ibG9ja3NbY3VycmVudF9ibG9ja190eXBlX2luZGV4XS5kKCk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgJHJvdXRlUGFyYW1zO1xuXG5cdGNvbnN0IHsgb25Nb3VudCB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcclxuICBjb25zdCBkcm9wID0gcmVxdWlyZShcImRyYWctYW5kLWRyb3AtZmlsZXNcIik7XHJcbiAgY29uc3QgeyBzbGlkZSB9ID0gcmVxdWlyZShcInN2ZWx0ZS90cmFuc2l0aW9uXCIpO1xyXG4gIGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlUGFyYW1zLCByZWNvbm5lY3QgfSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlscy5qc1wiKTsgdmFsaWRhdGVfc3RvcmUocm91dGVQYXJhbXMsICdyb3V0ZVBhcmFtcycpOyBjb21wb25lbnRfc3Vic2NyaWJlKCQkc2VsZiwgcm91dGVQYXJhbXMsICQkdmFsdWUgPT4geyAkcm91dGVQYXJhbXMgPSAkJHZhbHVlOyAkJGludmFsaWRhdGUoJyRyb3V0ZVBhcmFtcycsICRyb3V0ZVBhcmFtcykgfSk7XHJcbiAgY29uc3QgeyBnZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vLi4vLi4vcHJlZnMuanNcIik7XHJcbiAgY29uc3QgQXZhdGFyQ2hpcCA9IHJlcXVpcmUoXCIuLi8uLi8uLi9wYXJ0cy9BdmF0YXJDaGlwLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBQcmV2aWV3ID0gcmVxdWlyZShcIi4vUHJldmlldy5zdmVsdGVcIik7XHJcblxyXG4gIGxldCBzaG93UHJldmlldyA9IGZhbHNlO1xyXG4gIGxldCBtc2cgPSBmYWxzZTtcclxuICBsZXQgZXJyb3IgPSBmYWxzZTtcclxuICBsZXQgcG9zdGluZyA9IGZhbHNlO1xyXG5cclxuICBsZXQgY2hhbm5lbCA9ICRyb3V0ZVBhcmFtcy5jaGFubmVsIHx8IFwiXCI7XHJcbiAgbGV0IGNvbnRlbnQgPSAkcm91dGVQYXJhbXMuY29udGVudCB8fCBcIlwiO1xyXG4gIGxldCBzdW1tYXJ5ID0gJHJvdXRlUGFyYW1zLnN1bW1hcnkgfHwgXCJcIjtcclxuICBsZXQgdGl0bGUgPSAkcm91dGVQYXJhbXMudGl0bGUgfHwgXCJcIjtcclxuICBsZXQgdGh1bWJuYWlsID0gJHJvdXRlUGFyYW1zLnRodW1ibmFpbDtcclxuICBsZXQgZmlsZU9uVG9wID0gZmFsc2U7XHJcbiAgbGV0IHB1bGwgPSBoZXJtaWVib3gubW9kdWxlcy5wdWxsU3RyZWFtO1xyXG4gIGxldCBmaWxlUmVhZGVyID0gaGVybWllYm94Lm1vZHVsZXMucHVsbEZpbGVSZWFkZXI7XHJcbiAgbGV0IHNib3QgPSBoZXJtaWVib3guc2JvdDtcclxuICBsZXQgaXBmc0RhZW1vblJ1bm5pbmcgPSBmYWxzZTtcclxuICBsZXQgZGF0RGFlbW9uUnVubmluZyA9IGZhbHNlO1xyXG5cclxuICBkb2N1bWVudC50aXRsZSA9IGBQYXRjaGZveCAtIGNvbXBvc2UgbmV3IGJsb2cgcG9zdGA7XHJcblxyXG4gIG9uTW91bnQoKCkgPT4ge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gZmFsc2UpO1xyXG4gICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBcIlwiKTtcclxuXHJcbiAgICAvLyB0aGlzIGNvZGUgY291bGQgYmUgaW4gc29tZSBiZXR0ZXIvc21hcnRlciBwbGFjZS5cclxuICAgIC8vIGUuZGF0YVRyYW5zZmVyLmdldERhdGEoJ3VybCcpOyBmcm9tIGltYWdlcyBpbiB0aGUgYnJvd3NlciB3aW5kb3dcclxuXHJcbiAgICBkcm9wKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY29udGVudFwiKSwgZmlsZXMgPT4gcmVhZEZpbGVBbmRBdHRhY2goZmlsZXMpKTtcclxuICAgIGNoZWNrSXBmc0RhZW1vbigpO1xyXG4gICAgY2hlY2tEYXREYWVtb24oKTtcclxuICB9KTtcclxuXHJcbiAgY29uc3QgY2hlY2tJcGZzRGFlbW9uID0gKCkgPT4ge1xyXG4gICAgbGV0IHBvcnQgPSBnZXRQcmVmKFwiaXBmc1BvcnRcIiwgNTAwMSk7XHJcbiAgICBmZXRjaChgaHR0cDovLzEyNy4wLjAuMToke3BvcnR9L2FwaS92MC9jb25maWcvc2hvd2ApLnRoZW4oZGF0YSA9PiB7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnaXBmc0RhZW1vblJ1bm5pbmcnLCBpcGZzRGFlbW9uUnVubmluZyA9IHRydWUpO1xyXG4gICAgfSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgY2hlY2tEYXREYWVtb24gPSAoKSA9PiB7XHJcbiAgICAkJGludmFsaWRhdGUoJ2RhdERhZW1vblJ1bm5pbmcnLCBkYXREYWVtb25SdW5uaW5nID0gZmFsc2UpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlYWRGaWxlQW5kQXR0YWNoID0gZmlsZXMgPT4ge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gZmFsc2UpO1xyXG4gICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBcIlwiKTtcclxuXHJcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgJCRpbnZhbGlkYXRlKCdmaWxlT25Ub3AnLCBmaWxlT25Ub3AgPSBmYWxzZSk7XHJcbiAgICAgIGNvbnNvbGUubG9nKFwidGhpcyBpcyBub3QgYSBmaWxlXCIpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGZpcnN0ID0gZmlsZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZyhmaXJzdCk7XHJcblxyXG4gICAgaWYgKCFmaXJzdC50eXBlLnN0YXJ0c1dpdGgoXCJpbWFnZVwiKSkge1xyXG4gICAgICAkJGludmFsaWRhdGUoJ2Vycm9yJywgZXJyb3IgPSB0cnVlKTtcclxuICAgICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBgWW91IGNhbiBvbmx5IGRyYWcgJiBkcm9wIGltYWdlLCB0aGlzIGZpbGUgaXMgYSAke2ZpcnN0LnR5cGV9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlyc3Quc2l6ZSA+PSA1MDAwMDAwKSB7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IHRydWUpO1xyXG4gICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGBGaWxlIHRvbyBsYXJnZTogJHtNYXRoLmZsb29yKFxyXG4gICAgICAgIGZpcnN0LnNpemUgLyAxMDQ4NTc2LFxyXG4gICAgICAgIDJcclxuICAgICAgKX1tYiB3aGVuIG1heCBzaXplIGlzIDVtYmApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVsbChcclxuICAgICAgZmlsZVJlYWRlcihmaXJzdCksXHJcbiAgICAgIHNib3QuYmxvYnMuYWRkKGZ1bmN0aW9uKGVyciwgaGFzaCkge1xyXG4gICAgICAgIC8vICdoYXNoJyBpcyB0aGUgaGFzaC1pZCBvZiB0aGUgYmxvYlxyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IHRydWUpO1xyXG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBcIkNvdWxkbid0IGF0dGFjaCBmaWxlOiBcIiArIGVycik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICQkaW52YWxpZGF0ZSgnY29udGVudCcsIGNvbnRlbnQgKz0gYCAhWyR7Zmlyc3QubmFtZX1dKCR7aGFzaH0pYCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQkaW52YWxpZGF0ZSgnZmlsZU9uVG9wJywgZmlsZU9uVG9wID0gZmFsc2UpO1xyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBwb3N0ID0gYXN5bmMgZXYgPT4ge1xyXG4gICAgZXYuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgIGlmICghcG9zdGluZykge1xyXG4gICAgICAkJGludmFsaWRhdGUoJ3Bvc3RpbmcnLCBwb3N0aW5nID0gdHJ1ZSk7XHJcblxyXG4gICAgICBpZiAoY2hhbm5lbC5zdGFydHNXaXRoKFwiI1wiKSkge1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgnY2hhbm5lbCcsIGNoYW5uZWwgPSBjaGFubmVsLnNsaWNlKDEpKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgdHJ5IHtcclxuICAgICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGF3YWl0IHNzYi5uZXdCbG9nUG9zdCh7XHJcbiAgICAgICAgICBjb250ZW50LFxyXG4gICAgICAgICAgc3VtbWFyeSxcclxuICAgICAgICAgIGNoYW5uZWwsXHJcbiAgICAgICAgICB0aXRsZSxcclxuICAgICAgICAgIHRodW1ibmFpbCxcclxuICAgICAgICAgIGNvbnRlbnRXYXJuaW5nOiBjb250ZW50V2FybmluZy5sZW5ndGggPiAwID8gY29udGVudFdhcm5pbmcgOiB1bmRlZmluZWRcclxuICAgICAgICB9KSk7XHJcbiAgICAgICAgJCRpbnZhbGlkYXRlKCdwb3N0aW5nJywgcG9zdGluZyA9IGZhbHNlKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcInBvc3RlZFwiLCBtc2cpO1xyXG4gICAgICAgIHdpbmRvdy5zY3JvbGxUbygwLCAwKTtcclxuICAgICAgfSBjYXRjaCAobikge1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IHRydWUpO1xyXG4gICAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnID0gYENvdWxkbid0IHBvc3QgeW91ciBtZXNzYWdlOiAke259YCk7XHJcbiAgICAgICAgd2luZG93LnNjcm9sbFRvKDAsIDApO1xyXG5cclxuICAgICAgICBpZiAobXNnLm1lc3NhZ2UgPT0gXCJzdHJlYW0gaXMgY2xvc2VkXCIpIHtcclxuICAgICAgICAgICQkaW52YWxpZGF0ZSgnbXNnJywgbXNnICs9IFwiLiBXZSBsb3N0IGNvbm5lY3Rpb24gdG8gc2JvdC4gV2UnbGwgdHJ5IHRvIHJlc3RhYmxpc2ggaXQuLi5cIik7XHJcblxyXG4gICAgICAgICAgcmVjb25uZWN0KClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICQkaW52YWxpZGF0ZSgnc2hvd1ByZXZpZXcnLCBzaG93UHJldmlldyA9IGZhbHNlKTtcclxuICAgICAgICAgICAgICAkJGludmFsaWRhdGUoJ3Bvc3RpbmcnLCBwb3N0aW5nID0gZmFsc2UpO1xyXG4gICAgICAgICAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IGZhbHNlKTtcclxuICAgICAgICAgICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IFwiQ29ubmVjdGlvbiB0byBzYm90IHJlZXN0YWJsaXNoZWQuIFRyeSBwb3N0aW5nIGFnYWluXCIpO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICBzYXZlVG9VUkwoKTtcclxuICAgICAgICAgICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGBTb3JyeSwgY291bGRuJ3QgcmVjb25uZWN0IHRvIHNib3Q6JHtlcnJ9LiBUcnkgcmVsb2FkaW5nIHRoZSBwYWdlLiBZb3VyIGNvbnRlbnQgaGFzIGJlZW4gc2F2ZWQgdG8gdGhlIFVSTGApO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9O1xyXG5cclxuICBjb25zdCBwcmV2aWV3ID0gZXYgPT4ge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdzaG93UHJldmlldycsIHNob3dQcmV2aWV3ID0gdHJ1ZSk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgc2F2ZVRvVVJMID0gZXYgPT4ge1xyXG4gICAgd2luZG93LmxvY2F0aW9uLnNlYXJjaCA9IGA/c3VtbWFyeT0ke2VuY29kZVVSSUNvbXBvbmVudChcclxuICAgICAgc3VtbWFyeVxyXG4gICAgKX0mdGl0bGU9JHtlbmNvZGVVUklDb21wb25lbnQodGl0bGUpfSZjb250ZW50PSR7ZW5jb2RlVVJJQ29tcG9uZW50KFxyXG4gICAgICBjb250ZW50XHJcbiAgICApfSZjaGFubmVsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KGNoYW5uZWwpfSZ0aHVtYm5haWw9JHtlbmNvZGVVUklDb21wb25lbnQoXHJcbiAgICAgIHRodW1ibmFpbFxyXG4gICAgKX1gO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGRyYWdPdmVyID0gZXYgPT4ge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdmaWxlT25Ub3AnLCBmaWxlT25Ub3AgPSB0cnVlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBkcmFnTGVhdmUgPSBldiA9PiB7XHJcbiAgICAkJGludmFsaWRhdGUoJ2ZpbGVPblRvcCcsIGZpbGVPblRvcCA9IGZhbHNlKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBhdHRhY2hGaWxlVHJpZ2dlciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZUlucHV0XCIpLmNsaWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoVGh1bWJuYWlsVHJpZ2dlciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGh1bWJuYWlsSW5wdXRcIikuY2xpY2soKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBhdHRhY2hGaWxlSVBGU1RyaWdnZXIgPSAoKSA9PiB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImZpbGVJbnB1dElQRlNcIikuY2xpY2soKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBhdHRhY2hGaWxlREFUVHJpZ2dlciA9ICgpID0+IHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZmlsZUlucHV0REFUXCIpLmNsaWNrKCk7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgYXR0YWNoRmlsZSA9IGV2ID0+IHtcclxuICAgIGNvbnN0IGZpbGVzID0gZXYudGFyZ2V0LmZpbGVzO1xyXG4gICAgcmVhZEZpbGVBbmRBdHRhY2goZmlsZXMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGF0dGFjaFRodW1ibmFpbCA9IGV2ID0+IHtcclxuICAgIGNvbnN0IGZpbGVzID0gZXYudGFyZ2V0LmZpbGVzO1xyXG4gICAgcmVhZEZpbGVBbmRBdHRhY2hUaHVtYm5haWwoZmlsZXMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHJlYWRGaWxlQW5kQXR0YWNoVGh1bWJuYWlsID0gZmlsZXMgPT4ge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdlcnJvcicsIGVycm9yID0gZmFsc2UpO1xyXG4gICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBcIlwiKTtcclxuXHJcbiAgICBpZiAoZmlsZXMubGVuZ3RoID09IDApIHtcclxuICAgICAgY29uc29sZS5sb2coXCJ0aGlzIGlzIG5vdCBhIGZpbGVcIik7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZmlyc3QgPSBmaWxlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKGZpcnN0KTtcclxuXHJcbiAgICBpZiAoIWZpcnN0LnR5cGUuc3RhcnRzV2l0aChcImltYWdlXCIpKSB7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IHRydWUpO1xyXG4gICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGBZb3UgY2FuIHVzZSBpbWFnZXMgYXMgdGh1bWJuYWlsLCB0aGlzIGZpbGUgaXMgYSAke2ZpcnN0LnR5cGV9YCk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZmlyc3Quc2l6ZSA+PSA1MDAwMDAwKSB7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IHRydWUpO1xyXG4gICAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IGBGaWxlIHRvbyBsYXJnZTogJHtNYXRoLmZsb29yKFxyXG4gICAgICAgIGZpcnN0LnNpemUgLyAxMDQ4NTc2LFxyXG4gICAgICAgIDJcclxuICAgICAgKX1tYiB3aGVuIG1heCBzaXplIGlzIDVtYmApO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgcHVsbChcclxuICAgICAgZmlsZVJlYWRlcihmaXJzdCksXHJcbiAgICAgIHNib3QuYmxvYnMuYWRkKGZ1bmN0aW9uKGVyciwgaGFzaCkge1xyXG4gICAgICAgIC8vICdoYXNoJyBpcyB0aGUgaGFzaC1pZCBvZiB0aGUgYmxvYlxyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgICQkaW52YWxpZGF0ZSgnZXJyb3InLCBlcnJvciA9IHRydWUpO1xyXG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCdtc2cnLCBtc2cgPSBcIkNvdWxkbid0IGFkZCBmaWxlOiBcIiArIGVyciArIFwiIGFzIHRodW1ibmFpbFwiKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgJCRpbnZhbGlkYXRlKCd0aHVtYm5haWwnLCB0aHVtYm5haWwgPSBoYXNoKTtcclxuICAgICAgICB9XHJcbiAgICAgIH0pXHJcbiAgICApO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGF0dGFjaEZpbGVJUEZTID0gZXYgPT4ge1xyXG4gICAgY29uc3QgZmlsZXMgPSBldi50YXJnZXQuZmlsZXM7XHJcbiAgICByZWFkRmlsZUFuZEF0dGFjaElQRlMoZmlsZXMpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IGF0dGFjaEZpbGVEQVQgPSBldiA9PiB7XHJcbiAgICBjb25zdCBmaWxlcyA9IGV2LnRhcmdldC5maWxlcztcclxuICAgIHJlYWRGaWxlQW5kQXR0YWNoREFUKGZpbGVzKTtcclxuICB9O1xyXG5cclxuICBjb25zdCByZWFkRmlsZUFuZEF0dGFjaElQRlMgPSBhc3luYyBmaWxlcyA9PiB7XHJcbiAgICAkJGludmFsaWRhdGUoJ2Vycm9yJywgZXJyb3IgPSBmYWxzZSk7XHJcbiAgICAkJGludmFsaWRhdGUoJ21zZycsIG1zZyA9IFwiXCIpO1xyXG5cclxuICAgIHZhciBpcGZzID0gd2luZG93LklwZnNIdHRwQ2xpZW50KFwiMTI3LjAuMC4xXCIsIFwiNTAwMVwiKTtcclxuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBpcGZzLmFkZChmaWxlc1swXSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coXCJhZGRlZCB2aWEgSVBGU1wiLCByZXN1bHRzKTtcclxuICAgICQkaW52YWxpZGF0ZSgnY29udGVudCcsIGNvbnRlbnQgKz0gYCBbJHtyZXN1bHRzWzBdLnBhdGh9XShpcGZzOi8vJHtyZXN1bHRzWzBdLmhhc2h9KWApO1xyXG4gIH07XHJcblxyXG4gIGxldCBzaG93Q29udGVudFdhcm5pbmdGaWVsZCA9IGZhbHNlO1xyXG5cclxuICBjb25zdCB0b2dnbGVDb250ZW50V2FybmluZyA9ICgpID0+XHJcbiAgICB7IGNvbnN0ICQkcmVzdWx0ID0gKHNob3dDb250ZW50V2FybmluZ0ZpZWxkID0gIXNob3dDb250ZW50V2FybmluZ0ZpZWxkKTsgJCRpbnZhbGlkYXRlKCdzaG93Q29udGVudFdhcm5pbmdGaWVsZCcsIHNob3dDb250ZW50V2FybmluZ0ZpZWxkKTsgcmV0dXJuICQkcmVzdWx0OyB9O1xyXG5cclxuICBsZXQgY29udGVudFdhcm5pbmcgPSBcIlwiO1xuXG5cdGZ1bmN0aW9uIGlucHV0MF9pbnB1dF9oYW5kbGVyKCkge1xuXHRcdGNoYW5uZWwgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnY2hhbm5lbCcsIGNoYW5uZWwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXQxX2lucHV0X2hhbmRsZXIoKSB7XG5cdFx0dGl0bGUgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgndGl0bGUnLCB0aXRsZSk7XG5cdH1cblxuXHRmdW5jdGlvbiB0ZXh0YXJlYTBfaW5wdXRfaGFuZGxlcigpIHtcblx0XHRzdW1tYXJ5ID0gdGhpcy52YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ3N1bW1hcnknLCBzdW1tYXJ5KTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRleHRhcmVhMV9pbnB1dF9oYW5kbGVyKCkge1xuXHRcdGNvbnRlbnQgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnY29udGVudCcsIGNvbnRlbnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXRfaW5wdXRfaGFuZGxlcigpIHtcblx0XHRjb250ZW50V2FybmluZyA9IHRoaXMudmFsdWU7XG5cdFx0JCRpbnZhbGlkYXRlKCdjb250ZW50V2FybmluZycsIGNvbnRlbnRXYXJuaW5nKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXIoKSB7XG5cdFx0Y29uc3QgJCRyZXN1bHQgPSAoc2hvd1ByZXZpZXcgPSBmYWxzZSk7XG5cdFx0JCRpbnZhbGlkYXRlKCdzaG93UHJldmlldycsIHNob3dQcmV2aWV3KTtcblx0XHRyZXR1cm4gJCRyZXN1bHQ7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHNsaWRlLFxuXHRcdHJvdXRlUGFyYW1zLFxuXHRcdFByZXZpZXcsXG5cdFx0c2hvd1ByZXZpZXcsXG5cdFx0bXNnLFxuXHRcdGVycm9yLFxuXHRcdHBvc3RpbmcsXG5cdFx0Y2hhbm5lbCxcblx0XHRjb250ZW50LFxuXHRcdHN1bW1hcnksXG5cdFx0dGl0bGUsXG5cdFx0dGh1bWJuYWlsLFxuXHRcdGZpbGVPblRvcCxcblx0XHRpcGZzRGFlbW9uUnVubmluZyxcblx0XHRkYXREYWVtb25SdW5uaW5nLFxuXHRcdHBvc3QsXG5cdFx0cHJldmlldyxcblx0XHRkcmFnT3Zlcixcblx0XHRkcmFnTGVhdmUsXG5cdFx0YXR0YWNoRmlsZVRyaWdnZXIsXG5cdFx0YXR0YWNoVGh1bWJuYWlsVHJpZ2dlcixcblx0XHRhdHRhY2hGaWxlSVBGU1RyaWdnZXIsXG5cdFx0YXR0YWNoRmlsZURBVFRyaWdnZXIsXG5cdFx0YXR0YWNoRmlsZSxcblx0XHRhdHRhY2hUaHVtYm5haWwsXG5cdFx0YXR0YWNoRmlsZUlQRlMsXG5cdFx0YXR0YWNoRmlsZURBVCxcblx0XHRzaG93Q29udGVudFdhcm5pbmdGaWVsZCxcblx0XHR0b2dnbGVDb250ZW50V2FybmluZyxcblx0XHRjb250ZW50V2FybmluZyxcblx0XHRlbmNvZGVVUklDb21wb25lbnQsXG5cdFx0aW5wdXQwX2lucHV0X2hhbmRsZXIsXG5cdFx0aW5wdXQxX2lucHV0X2hhbmRsZXIsXG5cdFx0dGV4dGFyZWEwX2lucHV0X2hhbmRsZXIsXG5cdFx0dGV4dGFyZWExX2lucHV0X2hhbmRsZXIsXG5cdFx0aW5wdXRfaW5wdXRfaGFuZGxlcixcblx0XHRjbGlja19oYW5kbGVyXG5cdH07XG59XG5cbmNsYXNzIENvbXBvc2VCbG9nIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGlmICghZG9jdW1lbnRfMS5nZXRFbGVtZW50QnlJZChcInN2ZWx0ZS0xaXJ2eXg3LXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gQ29tcG9zZUJsb2c7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdlkyOXRjRzl6WlM5aWJHOW5MME52YlhCdmMyVkNiRzluTG5OMlpXeDBaU0pkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2VzI1MWJHeGRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRVHM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3TzBGQmNYQkRRU3hwUWtGQmEwSWlmUT09IiwiLyogUHJldmlldy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdEh0bWxUYWcsXG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0XG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiUHJldmlldy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gYWRkX2NzcygpIHtcblx0dmFyIHN0eWxlID0gZWxlbWVudChcInN0eWxlXCIpO1xuXHRzdHlsZS5pZCA9ICdzdmVsdGUtdjFnd2U1LXN0eWxlJztcblx0c3R5bGUudGV4dENvbnRlbnQgPSBcIi50aHVtYm5haWwtcHJldmlldy5zdmVsdGUtdjFnd2U1e21heC1oZWlnaHQ6MjAwcHh9XFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lVSEpsZG1sbGR5NXpkbVZzZEdVaUxDSnpiM1Z5WTJWeklqcGJJbEJ5WlhacFpYY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJJanh6WTNKcGNIUStYSEpjYm1WNGNHOXlkQ0JzWlhRZ1kyaGhibTVsYkR0Y2NseHVaWGh3YjNKMElHeGxkQ0IwYVhSc1pUdGNjbHh1Wlhod2IzSjBJR3hsZENCamIyNTBaVzUwVjJGeWJtbHVaenRjY2x4dVpYaHdiM0owSUd4bGRDQmpiMjUwWlc1ME8xeHlYRzVsZUhCdmNuUWdiR1YwSUhOMWJXMWhjbms3WEhKY2JtVjRjRzl5ZENCc1pYUWdkR2gxYldKdVlXbHNPMXh5WEc0OEwzTmpjbWx3ZEQ1Y2NseHVYSEpjYmp4emRIbHNaVDVjY2x4dUlDQXVkR2gxYldKdVlXbHNMWEJ5WlhacFpYY2dlMXh5WEc0Z0lDQWdiV0Y0TFdobGFXZG9kRG9nTWpBd2NIZzdYSEpjYmlBZ2ZWeHlYRzQ4TDNOMGVXeGxQbHh5WEc1Y2NseHVQR2d5UGxCdmMzUWdjSEpsZG1sbGR6d3ZhREkrWEhKY2Juc2phV1lnWTJoaGJtNWxiQ0I4ZkNCamIyNTBaVzUwVjJGeWJtbHVaeTVzWlc1bmRHZ2dQaUF3SUh4OElIUnBkR3hsSUh4OElIUm9kVzFpYm1GcGJIMWNjbHh1SUNBOFlteHZZMnR4ZFc5MFpUNWNjbHh1SUNBZ0lIc2phV1lnWTJoaGJtNWxiSDFjY2x4dUlDQWdJQ0FnUEhBK1hISmNiaUFnSUNBZ0lDQWdQR0krUTJoaGJtNWxiRG84TDJJK1hISmNiaUFnSUNBZ0lDQWdlMk5vWVc1dVpXd3VjM1JoY25SelYybDBhQ2duSXljcElEOGdZMmhoYm01bGJDNXpiR2xqWlNneEtTQTZJR05vWVc1dVpXeDlYSEpjYmlBZ0lDQWdJRHd2Y0Q1Y2NseHVJQ0FnSUhzdmFXWjlYSEpjYmlBZ0lDQjdJMmxtSUdOdmJuUmxiblJYWVhKdWFXNW5MbXhsYm1kMGFDQStJREI5WEhKY2JpQWdJQ0FnSUR4d1BseHlYRzRnSUNBZ0lDQWdJRHhpUGtOdmJuUmxiblFnVjJGeWJtbHVaem84TDJJK1hISmNiaUFnSUNBZ0lDQWdlMk52Ym5SbGJuUlhZWEp1YVc1bmZWeHlYRzRnSUNBZ0lDQThMM0ErWEhKY2JpQWdJQ0I3TDJsbWZWeHlYRzRnSUNBZ2V5TnBaaUIwYVhSc1pYMWNjbHh1SUNBZ0lDQWdQSEErWEhKY2JpQWdJQ0FnSUNBZ1BHSStkR2wwYkdVNlBDOWlQbHh5WEc0Z0lDQWdJQ0FnSUh0MGFYUnNaWDFjY2x4dUlDQWdJQ0FnUEM5d1BseHlYRzRnSUNBZ2V5OXBabjFjY2x4dUlDQWdJSHNqYVdZZ2MzVnRiV0Z5ZVgxY2NseHVJQ0FnSUNBZ1BIQStYSEpjYmlBZ0lDQWdJQ0FnUEdJK1UzVnRiV0Z5ZVRvOEwySStYSEpjYmlBZ0lDQWdJQ0FnZTBCb2RHMXNJSE56WWk1dFlYSnJaRzkzYmloemRXMXRZWEo1S1gxY2NseHVJQ0FnSUNBZ1BDOXdQbHh5WEc0Z0lDQWdleTlwWm4xY2NseHVJQ0FnSUhzamFXWWdkR2gxYldKdVlXbHNmVnh5WEc0Z0lDQWdJQ0E4Y0Q1Y2NseHVJQ0FnSUNBZ0lDQThZajVVYUhWdFltNWhhV3c2UEM5aVBseHlYRzRnSUNBZ0lDQWdJRHhwYldkY2NseHVJQ0FnSUNBZ0lDQWdJR05zWVhOelBWd2lkR2gxYldKdVlXbHNMWEJ5WlhacFpYZGNJbHh5WEc0Z0lDQWdJQ0FnSUNBZ2MzSmpQVndpYUhSMGNEb3ZMMnh2WTJGc2FHOXpkRG80T1RnNUwySnNiMkp6TDJkbGRDOTdkR2gxYldKdVlXbHNmVndpWEhKY2JpQWdJQ0FnSUNBZ0lDQmhiSFE5WENKd2IzTjBJSFJvZFcxaWJtRnBiRndpSUM4K1hISmNiaUFnSUNBZ0lEd3ZjRDVjY2x4dUlDQWdJSHN2YVdaOVhISmNiaUFnUEM5aWJHOWphM0YxYjNSbFBseHlYRzU3TDJsbWZWeHlYRzU3UUdoMGJXd2djM05pTG0xaGNtdGtiM2R1S0dOdmJuUmxiblFwZlZ4eVhHNWNjbHh1WEhKY2JpSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRlZSU3hyUWtGQmEwSXNZMEZCUXl4RFFVRkRMRUZCUTJ4Q0xGVkJRVlVzUTBGQlJTeExRVUZMTEVGQlEyNUNMRU5CUVVNaWZRPT0gKi9cIjtcblx0YXBwZW5kKGRvY3VtZW50LmhlYWQsIHN0eWxlKTtcbn1cblxuLy8gKDE3OjApIHsjaWYgY2hhbm5lbCB8fCBjb250ZW50V2FybmluZy5sZW5ndGggPiAwIHx8IHRpdGxlIHx8IHRodW1ibmFpbH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpIHtcblx0dmFyIGJsb2NrcXVvdGUsIHQwLCB0MSwgdDIsIHQzO1xuXG5cdHZhciBpZl9ibG9jazAgPSAoY3R4LmNoYW5uZWwpICYmIGNyZWF0ZV9pZl9ibG9ja181KGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrMSA9IChjdHguY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2syID0gKGN0eC50aXRsZSkgJiYgY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2szID0gKGN0eC5zdW1tYXJ5KSAmJiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpO1xuXG5cdHZhciBpZl9ibG9jazQgPSAoY3R4LnRodW1ibmFpbCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGJsb2NrcXVvdGUgPSBlbGVtZW50KFwiYmxvY2txdW90ZVwiKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuYygpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmMoKTtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHR0MyA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2s0KSBpZl9ibG9jazQuYygpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJsb2NrcXVvdGUsIGZpbGUsIDE3LCAyLCAzMjEpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgYmxvY2txdW90ZSwgYW5jaG9yKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5tKGJsb2NrcXVvdGUsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGJsb2NrcXVvdGUsIHQwKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKGJsb2NrcXVvdGUsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGJsb2NrcXVvdGUsIHQxKTtcblx0XHRcdGlmIChpZl9ibG9jazIpIGlmX2Jsb2NrMi5tKGJsb2NrcXVvdGUsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGJsb2NrcXVvdGUsIHQyKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5tKGJsb2NrcXVvdGUsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGJsb2NrcXVvdGUsIHQzKTtcblx0XHRcdGlmIChpZl9ibG9jazQpIGlmX2Jsb2NrNC5tKGJsb2NrcXVvdGUsIG51bGwpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY3R4LmNoYW5uZWwpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2swID0gY3JlYXRlX2lmX2Jsb2NrXzUoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazAuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMC5tKGJsb2NrcXVvdGUsIHQwKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0aWZfYmxvY2swLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMCA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHguY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBjcmVhdGVfaWZfYmxvY2tfNChjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLm0oYmxvY2txdW90ZSwgdDEpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRpZl9ibG9jazEuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sxID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC50aXRsZSkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazIgPSBjcmVhdGVfaWZfYmxvY2tfMyhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2syLm0oYmxvY2txdW90ZSwgdDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMikge1xuXHRcdFx0XHRpZl9ibG9jazIuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2syID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5zdW1tYXJ5KSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazMpIHtcblx0XHRcdFx0XHRpZl9ibG9jazMucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMyA9IGNyZWF0ZV9pZl9ibG9ja18yKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2szLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazMubShibG9ja3F1b3RlLCB0Myk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2szKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMy5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazMgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LnRodW1ibmFpbCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2s0KSB7XG5cdFx0XHRcdFx0aWZfYmxvY2s0LnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazQgPSBjcmVhdGVfaWZfYmxvY2tfMShjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrNC5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2s0Lm0oYmxvY2txdW90ZSwgbnVsbCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2s0KSB7XG5cdFx0XHRcdGlmX2Jsb2NrNC5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazQgPSBudWxsO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goYmxvY2txdW90ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2s0KSBpZl9ibG9jazQuZCgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDE5OjQpIHsjaWYgY2hhbm5lbH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja181KGN0eCkge1xuXHR2YXIgcCwgYiwgdDEsIHQyX3ZhbHVlID0gY3R4LmNoYW5uZWwuc3RhcnRzV2l0aCgnIycpID8gY3R4LmNoYW5uZWwuc2xpY2UoMSkgOiBjdHguY2hhbm5lbCwgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRiID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiLnRleHRDb250ZW50ID0gXCJDaGFubmVsOlwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0dDIgPSB0ZXh0KHQyX3ZhbHVlKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiLCBmaWxlLCAyMCwgOCwgMzczKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAxOSwgNiwgMzYwKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLmNoYW5uZWwpICYmIHQyX3ZhbHVlICE9PSAodDJfdmFsdWUgPSBjdHguY2hhbm5lbC5zdGFydHNXaXRoKCcjJykgPyBjdHguY2hhbm5lbC5zbGljZSgxKSA6IGN0eC5jaGFubmVsKSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0MiwgdDJfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2gocCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoMjU6NCkgeyNpZiBjb250ZW50V2FybmluZy5sZW5ndGggPiAwfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzQoY3R4KSB7XG5cdHZhciBwLCBiLCB0MSwgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRiID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiLnRleHRDb250ZW50ID0gXCJDb250ZW50IFdhcm5pbmc6XCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHR0MiA9IHRleHQoY3R4LmNvbnRlbnRXYXJuaW5nKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiLCBmaWxlLCAyNiwgOCwgNTMzKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAyNSwgNiwgNTIwKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocCwgYik7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdFx0YXBwZW5kKHAsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuY29udGVudFdhcm5pbmcpIHtcblx0XHRcdFx0c2V0X2RhdGEodDIsIGN0eC5jb250ZW50V2FybmluZyk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgzMTo0KSB7I2lmIHRpdGxlfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KSB7XG5cdHZhciBwLCBiLCB0MSwgdDI7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRiID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiLnRleHRDb250ZW50ID0gXCJ0aXRsZTpcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdHQyID0gdGV4dChjdHgudGl0bGUpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGIsIGZpbGUsIDMyLCA4LCA2NDMpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDMxLCA2LCA2MzApO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChwLCBiKTtcblx0XHRcdGFwcGVuZChwLCB0MSk7XG5cdFx0XHRhcHBlbmQocCwgdDIpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC50aXRsZSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0MiwgY3R4LnRpdGxlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDM3OjQpIHsjaWYgc3VtbWFyeX1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18yKGN0eCkge1xuXHR2YXIgcCwgYiwgdF8xLCBodG1sX3RhZywgcmF3X3ZhbHVlID0gc3NiLm1hcmtkb3duKGN0eC5zdW1tYXJ5KTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdHAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdGIgPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdGIudGV4dENvbnRlbnQgPSBcIlN1bW1hcnk6XCI7XG5cdFx0XHR0XzEgPSBzcGFjZSgpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGIsIGZpbGUsIDM4LCA4LCA3MzYpO1xuXHRcdFx0aHRtbF90YWcgPSBuZXcgSHRtbFRhZyhyYXdfdmFsdWUsIG51bGwpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDM3LCA2LCA3MjMpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChwLCBiKTtcblx0XHRcdGFwcGVuZChwLCB0XzEpO1xuXHRcdFx0aHRtbF90YWcubShwKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLnN1bW1hcnkpICYmIHJhd192YWx1ZSAhPT0gKHJhd192YWx1ZSA9IHNzYi5tYXJrZG93bihjdHguc3VtbWFyeSkpKSB7XG5cdFx0XHRcdGh0bWxfdGFnLnAocmF3X3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKHApO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDQzOjQpIHsjaWYgdGh1bWJuYWlsfVxuZnVuY3Rpb24gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KSB7XG5cdHZhciBwLCBiLCB0XzEsIGltZywgaW1nX3NyY192YWx1ZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdHAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdGIgPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdGIudGV4dENvbnRlbnQgPSBcIlRodW1ibmFpbDpcIjtcblx0XHRcdHRfMSA9IHNwYWNlKCk7XG5cdFx0XHRpbWcgPSBlbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGIsIGZpbGUsIDQ0LCA4LCA4NTUpO1xuXHRcdFx0YXR0cihpbWcsIFwiY2xhc3NcIiwgXCJ0aHVtYm5haWwtcHJldmlldyBzdmVsdGUtdjFnd2U1XCIpO1xuXHRcdFx0YXR0cihpbWcsIFwic3JjXCIsIGltZ19zcmNfdmFsdWUgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODk4OS9ibG9icy9nZXQvXCIgKyBjdHgudGh1bWJuYWlsKTtcblx0XHRcdGF0dHIoaW1nLCBcImFsdFwiLCBcInBvc3QgdGh1bWJuYWlsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGltZywgZmlsZSwgNDUsIDgsIDg4Mik7XG5cdFx0XHRhZGRfbG9jYXRpb24ocCwgZmlsZSwgNDMsIDYsIDg0Mik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHAsIGIpO1xuXHRcdFx0YXBwZW5kKHAsIHRfMSk7XG5cdFx0XHRhcHBlbmQocCwgaW1nKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLnRodW1ibmFpbCkgJiYgaW1nX3NyY192YWx1ZSAhPT0gKGltZ19zcmNfdmFsdWUgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODk4OS9ibG9icy9nZXQvXCIgKyBjdHgudGh1bWJuYWlsKSkge1xuXHRcdFx0XHRhdHRyKGltZywgXCJzcmNcIiwgaW1nX3NyY192YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGgyLCB0MSwgdDIsIGh0bWxfdGFnLCByYXdfdmFsdWUgPSBzc2IubWFya2Rvd24oY3R4LmNvbnRlbnQpO1xuXG5cdHZhciBpZl9ibG9jayA9IChjdHguY2hhbm5lbCB8fCBjdHguY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCB8fCBjdHgudGl0bGUgfHwgY3R4LnRodW1ibmFpbCkgJiYgY3JlYXRlX2lmX2Jsb2NrKGN0eCk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRoMiA9IGVsZW1lbnQoXCJoMlwiKTtcblx0XHRcdGgyLnRleHRDb250ZW50ID0gXCJQb3N0IHByZXZpZXdcIjtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jaykgaWZfYmxvY2suYygpO1xuXHRcdFx0dDIgPSBzcGFjZSgpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGgyLCBmaWxlLCAxNSwgMCwgMjMwKTtcblx0XHRcdGh0bWxfdGFnID0gbmV3IEh0bWxUYWcocmF3X3ZhbHVlLCBudWxsKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBoMiwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQxLCBhbmNob3IpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrKSBpZl9ibG9jay5tKHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQyLCBhbmNob3IpO1xuXHRcdFx0aHRtbF90YWcubSh0YXJnZXQsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjdHguY2hhbm5lbCB8fCBjdHguY29udGVudFdhcm5pbmcubGVuZ3RoID4gMCB8fCBjdHgudGl0bGUgfHwgY3R4LnRodW1ibmFpbCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0XHRpZl9ibG9jay5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sgPSBjcmVhdGVfaWZfYmxvY2soY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jay5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2subSh0Mi5wYXJlbnROb2RlLCB0Mik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2spIHtcblx0XHRcdFx0aWZfYmxvY2suZCgxKTtcblx0XHRcdFx0aWZfYmxvY2sgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKGNoYW5nZWQuY29udGVudCkgJiYgcmF3X3ZhbHVlICE9PSAocmF3X3ZhbHVlID0gc3NiLm1hcmtkb3duKGN0eC5jb250ZW50KSkpIHtcblx0XHRcdFx0aHRtbF90YWcucChyYXdfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaDIpO1xuXHRcdFx0XHRkZXRhY2godDEpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2spIGlmX2Jsb2NrLmQoZGV0YWNoaW5nKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godDIpO1xuXHRcdFx0XHRodG1sX3RhZy5kKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgeyBjaGFubmVsLCB0aXRsZSwgY29udGVudFdhcm5pbmcsIGNvbnRlbnQsIHN1bW1hcnksIHRodW1ibmFpbCB9ID0gJCRwcm9wcztcblxuXHRjb25zdCB3cml0YWJsZV9wcm9wcyA9IFsnY2hhbm5lbCcsICd0aXRsZScsICdjb250ZW50V2FybmluZycsICdjb250ZW50JywgJ3N1bW1hcnknLCAndGh1bWJuYWlsJ107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlLndhcm4oYDxQcmV2aWV3PiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnY2hhbm5lbCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCdjaGFubmVsJywgY2hhbm5lbCA9ICQkcHJvcHMuY2hhbm5lbCk7XG5cdFx0aWYgKCd0aXRsZScgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCd0aXRsZScsIHRpdGxlID0gJCRwcm9wcy50aXRsZSk7XG5cdFx0aWYgKCdjb250ZW50V2FybmluZycgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCdjb250ZW50V2FybmluZycsIGNvbnRlbnRXYXJuaW5nID0gJCRwcm9wcy5jb250ZW50V2FybmluZyk7XG5cdFx0aWYgKCdjb250ZW50JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ2NvbnRlbnQnLCBjb250ZW50ID0gJCRwcm9wcy5jb250ZW50KTtcblx0XHRpZiAoJ3N1bW1hcnknIGluICQkcHJvcHMpICQkaW52YWxpZGF0ZSgnc3VtbWFyeScsIHN1bW1hcnkgPSAkJHByb3BzLnN1bW1hcnkpO1xuXHRcdGlmICgndGh1bWJuYWlsJyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ3RodW1ibmFpbCcsIHRodW1ibmFpbCA9ICQkcHJvcHMudGh1bWJuYWlsKTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdGNoYW5uZWwsXG5cdFx0dGl0bGUsXG5cdFx0Y29udGVudFdhcm5pbmcsXG5cdFx0Y29udGVudCxcblx0XHRzdW1tYXJ5LFxuXHRcdHRodW1ibmFpbFxuXHR9O1xufVxuXG5jbGFzcyBQcmV2aWV3IGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzdmVsdGUtdjFnd2U1LXN0eWxlXCIpKSBhZGRfY3NzKCk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW1wiY2hhbm5lbFwiLCBcInRpdGxlXCIsIFwiY29udGVudFdhcm5pbmdcIiwgXCJjb250ZW50XCIsIFwic3VtbWFyeVwiLCBcInRodW1ibmFpbFwiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5jaGFubmVsID09PSB1bmRlZmluZWQgJiYgISgnY2hhbm5lbCcgaW4gcHJvcHMpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCI8UHJldmlldz4gd2FzIGNyZWF0ZWQgd2l0aG91dCBleHBlY3RlZCBwcm9wICdjaGFubmVsJ1wiKTtcblx0XHR9XG5cdFx0aWYgKGN0eC50aXRsZSA9PT0gdW5kZWZpbmVkICYmICEoJ3RpdGxlJyBpbiBwcm9wcykpIHtcblx0XHRcdGNvbnNvbGUud2FybihcIjxQcmV2aWV3PiB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGVjdGVkIHByb3AgJ3RpdGxlJ1wiKTtcblx0XHR9XG5cdFx0aWYgKGN0eC5jb250ZW50V2FybmluZyA9PT0gdW5kZWZpbmVkICYmICEoJ2NvbnRlbnRXYXJuaW5nJyBpbiBwcm9wcykpIHtcblx0XHRcdGNvbnNvbGUud2FybihcIjxQcmV2aWV3PiB3YXMgY3JlYXRlZCB3aXRob3V0IGV4cGVjdGVkIHByb3AgJ2NvbnRlbnRXYXJuaW5nJ1wiKTtcblx0XHR9XG5cdFx0aWYgKGN0eC5jb250ZW50ID09PSB1bmRlZmluZWQgJiYgISgnY29udGVudCcgaW4gcHJvcHMpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCI8UHJldmlldz4gd2FzIGNyZWF0ZWQgd2l0aG91dCBleHBlY3RlZCBwcm9wICdjb250ZW50J1wiKTtcblx0XHR9XG5cdFx0aWYgKGN0eC5zdW1tYXJ5ID09PSB1bmRlZmluZWQgJiYgISgnc3VtbWFyeScgaW4gcHJvcHMpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCI8UHJldmlldz4gd2FzIGNyZWF0ZWQgd2l0aG91dCBleHBlY3RlZCBwcm9wICdzdW1tYXJ5J1wiKTtcblx0XHR9XG5cdFx0aWYgKGN0eC50aHVtYm5haWwgPT09IHVuZGVmaW5lZCAmJiAhKCd0aHVtYm5haWwnIGluIHByb3BzKSkge1xuXHRcdFx0Y29uc29sZS53YXJuKFwiPFByZXZpZXc+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAndGh1bWJuYWlsJ1wiKTtcblx0XHR9XG5cdH1cblxuXHRnZXQgY2hhbm5lbCgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UHJldmlldz46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgY2hhbm5lbCh2YWx1ZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxQcmV2aWV3PjogUHJvcHMgY2Fubm90IGJlIHNldCBkaXJlY3RseSBvbiB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdGdldCB0aXRsZSgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UHJldmlldz46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgdGl0bGUodmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UHJldmlldz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRnZXQgY29udGVudFdhcm5pbmcoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFByZXZpZXc+OiBQcm9wcyBjYW5ub3QgYmUgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG5cblx0c2V0IGNvbnRlbnRXYXJuaW5nKHZhbHVlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFByZXZpZXc+OiBQcm9wcyBjYW5ub3QgYmUgc2V0IGRpcmVjdGx5IG9uIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG5cblx0Z2V0IGNvbnRlbnQoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFByZXZpZXc+OiBQcm9wcyBjYW5ub3QgYmUgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG5cblx0c2V0IGNvbnRlbnQodmFsdWUpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UHJldmlldz46IFByb3BzIGNhbm5vdCBiZSBzZXQgZGlyZWN0bHkgb24gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRnZXQgc3VtbWFyeSgpIHtcblx0XHR0aHJvdyBuZXcgRXJyb3IoXCI8UHJldmlldz46IFByb3BzIGNhbm5vdCBiZSByZWFkIGRpcmVjdGx5IGZyb20gdGhlIGNvbXBvbmVudCBpbnN0YW5jZSB1bmxlc3MgY29tcGlsaW5nIHdpdGggJ2FjY2Vzc29yczogdHJ1ZScgb3IgJzxzdmVsdGU6b3B0aW9ucyBhY2Nlc3NvcnMvPidcIik7XG5cdH1cblxuXHRzZXQgc3VtbWFyeSh2YWx1ZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxQcmV2aWV3PjogUHJvcHMgY2Fubm90IGJlIHNldCBkaXJlY3RseSBvbiB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdGdldCB0aHVtYm5haWwoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFByZXZpZXc+OiBQcm9wcyBjYW5ub3QgYmUgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG5cblx0c2V0IHRodW1ibmFpbCh2YWx1ZSkge1xuXHRcdHRocm93IG5ldyBFcnJvcihcIjxQcmV2aWV3PjogUHJvcHMgY2Fubm90IGJlIHNldCBkaXJlY3RseSBvbiB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFByZXZpZXc7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdlkyOXRjRzl6WlM5aWJHOW5MMUJ5WlhacFpYY3VjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRVEJtUVN4cFFrRkJhMElpZlE9PSIsIi8qIEZvbGxvd2luZy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGVtcHR5LFxuXHRoYW5kbGVfcHJvbWlzZSxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRub29wLFxuXHRzYWZlX25vdF9lcXVhbFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIkZvbGxvd2luZy5zdmVsdGVcIjtcblxuLy8gKDE6MCkgPHNjcmlwdD4gIGNvbnNvbGUubG9nKFwic3RhcnQgZnJpZW5kc2hpcCByZXF1ZXN0XCIpICBjb25zb2xlLnRpbWUoXCJmcmllbmRzaGlwXCIpICBsZXQgcHJvbWlzZSA9IHNzYi5mcmllbmRzaGlwKHNzYi5pZCkgICAgICAudGhlbigoZGF0YSkgPT4geyAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKSAgICAgICAgICBjb25zb2xlLnRpbWVFbmQoXCJmcmllbmRzaGlwXCIpICAgICAgfVxuZnVuY3Rpb24gY3JlYXRlX2NhdGNoX2Jsb2NrKGN0eCkge1xuXHRyZXR1cm4ge1xuXHRcdGM6IG5vb3AsXG5cdFx0bTogbm9vcCxcblx0XHRkOiBub29wXG5cdH07XG59XG5cbi8vICgxNDowKSB7OnRoZW59XG5mdW5jdGlvbiBjcmVhdGVfdGhlbl9ibG9jayhjdHgpIHtcblx0dmFyIHA7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRwLnRleHRDb250ZW50ID0gXCJMb2FkZWQuLi5cIjtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAxNCwgNCwgMzM2KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIHAsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxMjoxNikgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdcIiAvPiAgezp0aGVufVxuZnVuY3Rpb24gY3JlYXRlX3BlbmRpbmdfYmxvY2soY3R4KSB7XG5cdHZhciBkaXY7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJsb2FkaW5nXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMTIsIDQsIDI5OCk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgYXdhaXRfYmxvY2tfYW5jaG9yLCBwcm9taXNlXzE7XG5cblx0bGV0IGluZm8gPSB7XG5cdFx0Y3R4LFxuXHRcdGN1cnJlbnQ6IG51bGwsXG5cdFx0dG9rZW46IG51bGwsXG5cdFx0cGVuZGluZzogY3JlYXRlX3BlbmRpbmdfYmxvY2ssXG5cdFx0dGhlbjogY3JlYXRlX3RoZW5fYmxvY2ssXG5cdFx0Y2F0Y2g6IGNyZWF0ZV9jYXRjaF9ibG9jayxcblx0XHR2YWx1ZTogJ251bGwnLFxuXHRcdGVycm9yOiAnbnVsbCdcblx0fTtcblxuXHRoYW5kbGVfcHJvbWlzZShwcm9taXNlXzEgPSBjdHgucHJvbWlzZSwgaW5mbyk7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRhd2FpdF9ibG9ja19hbmNob3IgPSBlbXB0eSgpO1xuXG5cdFx0XHRpbmZvLmJsb2NrLmMoKTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBhd2FpdF9ibG9ja19hbmNob3IsIGFuY2hvcik7XG5cblx0XHRcdGluZm8uYmxvY2subSh0YXJnZXQsIGluZm8uYW5jaG9yID0gYW5jaG9yKTtcblx0XHRcdGluZm8ubW91bnQgPSAoKSA9PiBhd2FpdF9ibG9ja19hbmNob3IucGFyZW50Tm9kZTtcblx0XHRcdGluZm8uYW5jaG9yID0gYXdhaXRfYmxvY2tfYW5jaG9yO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgbmV3X2N0eCkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGluZm8uY3R4ID0gY3R4O1xuXG5cdFx0XHRwcm9taXNlXzEgIT09IChwcm9taXNlXzEgPSBjdHgucHJvbWlzZSkgJiYgaGFuZGxlX3Byb21pc2UocHJvbWlzZV8xLCBpbmZvKVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goYXdhaXRfYmxvY2tfYW5jaG9yKTtcblx0XHRcdH1cblxuXHRcdFx0aW5mby5ibG9jay5kKGRldGFjaGluZyk7XG5cdFx0XHRpbmZvLnRva2VuID0gbnVsbDtcblx0XHRcdGluZm8gPSBudWxsO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmKSB7XG5cdGNvbnNvbGUubG9nKFwic3RhcnQgZnJpZW5kc2hpcCByZXF1ZXN0XCIpXHJcbmNvbnNvbGUudGltZShcImZyaWVuZHNoaXBcIilcclxubGV0IHByb21pc2UgPSBzc2IuZnJpZW5kc2hpcChzc2IuaWQpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpXHJcbiAgICAgICAgY29uc29sZS50aW1lRW5kKFwiZnJpZW5kc2hpcFwiKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaChuID0+IGNvbnNvbGUuZXJyb3IoXCJlcnIgZnJpZW5kXCIsIG4pKVxuXG5cdHJldHVybiB7IHByb21pc2UgfTtcbn1cblxuY2xhc3MgRm9sbG93aW5nIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtdKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IEZvbGxvd2luZztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012Y0hKdlptbHNaUzlHYjJ4c2IzZHBibWN1YzNabGJIUmxJbDBzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiYm5Wc2JGMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN08wRkJkVXBCTEdsQ1FVRnJRaUo5IiwiLyogUG9zdHMuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhc3NpZ24sXG5cdGF0dHIsXG5cdGNoZWNrX291dHJvcyxcblx0ZGVzdHJveV9jb21wb25lbnQsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0ZW1wdHksXG5cdGdyb3VwX291dHJvcyxcblx0aGFuZGxlX3Byb21pc2UsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRtb3VudF9jb21wb25lbnQsXG5cdG5vb3AsXG5cdG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrLFxuXHRwcmV2ZW50X2RlZmF1bHQsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzZXRfZGF0YSxcblx0c3BhY2UsXG5cdHN0b3BfcHJvcGFnYXRpb24sXG5cdHRleHQsXG5cdHRyYW5zaXRpb25faW4sXG5cdHRyYW5zaXRpb25fb3V0LFxuXHR1cGRhdGVfa2V5ZWRfZWFjaFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIlBvc3RzLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBnZXRfZWFjaF9jb250ZXh0KGN0eCwgbGlzdCwgaSkge1xuXHRjb25zdCBjaGlsZF9jdHggPSBPYmplY3QuY3JlYXRlKGN0eCk7XG5cdGNoaWxkX2N0eC5tc2cgPSBsaXN0W2ldO1xuXHRyZXR1cm4gY2hpbGRfY3R4O1xufVxuXG4vLyAoNjA6MikgezpjYXRjaCBufVxuZnVuY3Rpb24gY3JlYXRlX2NhdGNoX2Jsb2NrKGN0eCkge1xuXHR2YXIgcCwgdDAsIHQxX3ZhbHVlID0gY3R4Lm4ubWVzc2FnZSwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJFcnJvciBmZXRjaGluZyBtZXNzYWdlczogXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KHQxX3ZhbHVlKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCA2MCwgNCwgMTMyMyk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHAsIHQwKTtcblx0XHRcdGFwcGVuZChwLCB0MSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5tZXNzYWdlUHJvbWlzZSkgJiYgdDFfdmFsdWUgIT09ICh0MV92YWx1ZSA9IGN0eC5uLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCB0MV92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg0NDoyKSB7OnRoZW4gZGF0YX1cbmZ1bmN0aW9uIGNyZWF0ZV90aGVuX2Jsb2NrKGN0eCkge1xuXHR2YXIgZWFjaF9ibG9ja3MgPSBbXSwgZWFjaF8xX2xvb2t1cCA9IG5ldyBNYXAoKSwgdCwgdWwsIGxpLCBhLCBkaXYsIGN1cnJlbnQsIGRpc3Bvc2U7XG5cblx0dmFyIGVhY2hfdmFsdWUgPSBjdHgubGFzdE1zZ3M7XG5cblx0Y29uc3QgZ2V0X2tleSA9IGN0eCA9PiBjdHgubXNnLmtleTtcblxuXHRmb3IgKHZhciBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRsZXQgY2hpbGRfY3R4ID0gZ2V0X2VhY2hfY29udGV4dChjdHgsIGVhY2hfdmFsdWUsIGkpO1xuXHRcdGxldCBrZXkgPSBnZXRfa2V5KGNoaWxkX2N0eCk7XG5cdFx0ZWFjaF8xX2xvb2t1cC5zZXQoa2V5LCBlYWNoX2Jsb2Nrc1tpXSA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgZWFjaF9ibG9ja3NbaV0uYygpO1xuXG5cdFx0XHR0ID0gc3BhY2UoKTtcblx0XHRcdHVsID0gZWxlbWVudChcInVsXCIpO1xuXHRcdFx0bGkgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRkaXYgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2LnRleHRDb250ZW50ID0gXCJMb2FkIE1vcmVcIjtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwicGFnZS1pdGVtLXN1YnRpdGxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNTUsIDEwLCAxMjE4KTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIFwiIy9wdWJsaWNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgNTAsIDgsIDEwMjQpO1xuXHRcdFx0YXR0cihsaSwgXCJjbGFzc1wiLCBcInBhZ2UtaXRlbSBwYWdlLW5leHRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGksIGZpbGUsIDQ5LCA2LCA5ODIpO1xuXHRcdFx0YXR0cih1bCwgXCJjbGFzc1wiLCBcInBhZ2luYXRpb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24odWwsIGZpbGUsIDQ3LCA0LCA5NDkpO1xuXHRcdFx0ZGlzcG9zZSA9IGxpc3RlbihhLCBcImNsaWNrXCIsIHN0b3BfcHJvcGFnYXRpb24ocHJldmVudF9kZWZhdWx0KGN0eC5jbGlja19oYW5kbGVyKSkpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSBlYWNoX2Jsb2Nrc1tpXS5tKHRhcmdldCwgYW5jaG9yKTtcblxuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaSk7XG5cdFx0XHRhcHBlbmQobGksIGEpO1xuXHRcdFx0YXBwZW5kKGEsIGRpdik7XG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0Y29uc3QgZWFjaF92YWx1ZSA9IGN0eC5sYXN0TXNncztcblxuXHRcdFx0Z3JvdXBfb3V0cm9zKCk7XG5cdFx0XHRlYWNoX2Jsb2NrcyA9IHVwZGF0ZV9rZXllZF9lYWNoKGVhY2hfYmxvY2tzLCBjaGFuZ2VkLCBnZXRfa2V5LCAxLCBjdHgsIGVhY2hfdmFsdWUsIGVhY2hfMV9sb29rdXAsIHQucGFyZW50Tm9kZSwgb3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2ssIGNyZWF0ZV9lYWNoX2Jsb2NrLCB0LCBnZXRfZWFjaF9jb250ZXh0KTtcblx0XHRcdGNoZWNrX291dHJvcygpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF92YWx1ZS5sZW5ndGg7IGkgKz0gMSkgdHJhbnNpdGlvbl9pbihlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB0cmFuc2l0aW9uX291dChlYWNoX2Jsb2Nrc1tpXSk7XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGZvciAoaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkgZWFjaF9ibG9ja3NbaV0uZChkZXRhY2hpbmcpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0KTtcblx0XHRcdFx0ZGV0YWNoKHVsKTtcblx0XHRcdH1cblxuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuLy8gKDQ1OjQpIHsjZWFjaCBsYXN0TXNncyBhcyBtc2cgKG1zZy5rZXkpfVxuZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2soa2V5XzEsIGN0eCkge1xuXHR2YXIgZmlyc3QsIGN1cnJlbnQ7XG5cblx0dmFyIG1lc3NhZ2VyZW5kZXJlciA9IG5ldyBjdHguTWVzc2FnZVJlbmRlcmVyKHtcblx0XHRwcm9wczogeyBtc2c6IGN0eC5tc2cgfSxcblx0XHQkJGlubGluZTogdHJ1ZVxuXHR9KTtcblxuXHRyZXR1cm4ge1xuXHRcdGtleToga2V5XzEsXG5cblx0XHRmaXJzdDogbnVsbCxcblxuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGZpcnN0ID0gZW1wdHkoKTtcblx0XHRcdG1lc3NhZ2VyZW5kZXJlci4kJC5mcmFnbWVudC5jKCk7XG5cdFx0XHR0aGlzLmZpcnN0ID0gZmlyc3Q7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBmaXJzdCwgYW5jaG9yKTtcblx0XHRcdG1vdW50X2NvbXBvbmVudChtZXNzYWdlcmVuZGVyZXIsIHRhcmdldCwgYW5jaG9yKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHR2YXIgbWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMgPSB7fTtcblx0XHRcdGlmIChjaGFuZ2VkLmxhc3RNc2dzKSBtZXNzYWdlcmVuZGVyZXJfY2hhbmdlcy5tc2cgPSBjdHgubXNnO1xuXHRcdFx0bWVzc2FnZXJlbmRlcmVyLiRzZXQobWVzc2FnZXJlbmRlcmVyX2NoYW5nZXMpO1xuXHRcdH0sXG5cblx0XHRpOiBmdW5jdGlvbiBpbnRybyhsb2NhbCkge1xuXHRcdFx0aWYgKGN1cnJlbnQpIHJldHVybjtcblx0XHRcdHRyYW5zaXRpb25faW4obWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobWVzc2FnZXJlbmRlcmVyLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChmaXJzdCk7XG5cdFx0XHR9XG5cblx0XHRcdGRlc3Ryb3lfY29tcG9uZW50KG1lc3NhZ2VyZW5kZXJlciwgZGV0YWNoaW5nKTtcblx0XHR9XG5cdH07XG59XG5cbi8vICg0MjoyNSkgICAgICAgPGRpdiBjbGFzcz1cImxvYWRpbmdcIiAvPiAgICB7OnRoZW4gZGF0YX1cbmZ1bmN0aW9uIGNyZWF0ZV9wZW5kaW5nX2Jsb2NrKGN0eCkge1xuXHR2YXIgZGl2O1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGF0dHIoZGl2LCBcImNsYXNzXCIsIFwibG9hZGluZ1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDQyLCA0LCA4MTkpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRwOiBub29wLFxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgZGl2LCBwcm9taXNlLCBjdXJyZW50O1xuXG5cdGxldCBpbmZvID0ge1xuXHRcdGN0eCxcblx0XHRjdXJyZW50OiBudWxsLFxuXHRcdHRva2VuOiBudWxsLFxuXHRcdHBlbmRpbmc6IGNyZWF0ZV9wZW5kaW5nX2Jsb2NrLFxuXHRcdHRoZW46IGNyZWF0ZV90aGVuX2Jsb2NrLFxuXHRcdGNhdGNoOiBjcmVhdGVfY2F0Y2hfYmxvY2ssXG5cdFx0dmFsdWU6ICdkYXRhJyxcblx0XHRlcnJvcjogJ24nLFxuXHRcdGJsb2NrczogWywsLF1cblx0fTtcblxuXHRoYW5kbGVfcHJvbWlzZShwcm9taXNlID0gY3R4Lm1lc3NhZ2VQcm9taXNlLCBpbmZvKTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cblx0XHRcdGluZm8uYmxvY2suYygpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgNDAsIDAsIDc4MSk7XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXG5cdFx0XHRpbmZvLmJsb2NrLm0oZGl2LCBpbmZvLmFuY2hvciA9IG51bGwpO1xuXHRcdFx0aW5mby5tb3VudCA9ICgpID0+IGRpdjtcblx0XHRcdGluZm8uYW5jaG9yID0gbnVsbDtcblxuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBuZXdfY3R4KSB7XG5cdFx0XHRjdHggPSBuZXdfY3R4O1xuXHRcdFx0aW5mby5jdHggPSBjdHg7XG5cblx0XHRcdGlmICgoJ21lc3NhZ2VQcm9taXNlJyBpbiBjaGFuZ2VkKSAmJiBwcm9taXNlICE9PSAocHJvbWlzZSA9IGN0eC5tZXNzYWdlUHJvbWlzZSkgJiYgaGFuZGxlX3Byb21pc2UocHJvbWlzZSwgaW5mbykpIHtcblx0XHRcdFx0Ly8gbm90aGluZ1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aW5mby5ibG9jay5wKGNoYW5nZWQsIGFzc2lnbihhc3NpZ24oe30sIGN0eCksIGluZm8ucmVzb2x2ZWQpKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHR0cmFuc2l0aW9uX2luKGluZm8uYmxvY2spO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdG86IGZ1bmN0aW9uIG91dHJvKGxvY2FsKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkgKz0gMSkge1xuXHRcdFx0XHRjb25zdCBibG9jayA9IGluZm8uYmxvY2tzW2ldO1xuXHRcdFx0XHR0cmFuc2l0aW9uX291dChibG9jayk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSBmYWxzZTtcblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdik7XG5cdFx0XHR9XG5cblx0XHRcdGluZm8uYmxvY2suZCgpO1xuXHRcdFx0aW5mby50b2tlbiA9IG51bGw7XG5cdFx0XHRpbmZvID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGNvbnN0IE1lc3NhZ2VSZW5kZXJlciA9IHJlcXVpcmUoXCIuLi8uLi9tZXNzYWdlVHlwZXMvTWVzc2FnZVJlbmRlcmVyLnN2ZWx0ZVwiKTtcclxuXHJcbiAgbGV0IHsgZmVlZCB9ID0gJCRwcm9wcztcclxuXHJcbiAgbGV0IG1lc3NhZ2VQcm9taXNlO1xyXG4gIGxldCBsYXN0TXNncyA9IFtdO1xyXG5cclxuICAkJGludmFsaWRhdGUoJ21lc3NhZ2VQcm9taXNlJywgbWVzc2FnZVByb21pc2UgPSBzc2JcclxuICAgIC5xdWVyeShcclxuICAgICAge1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICBhdXRob3I6IGZlZWRcclxuICAgICAgICB9XHJcbiAgICAgIH0sXHJcbiAgICAgIDEwXHJcbiAgICApXHJcbiAgICAudGhlbihtc2dzID0+IHtcclxuICAgICAgJCRpbnZhbGlkYXRlKCdsYXN0TXNncycsIGxhc3RNc2dzID0gbXNncyk7XHJcblxyXG4gICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICB9KSk7XHJcblxyXG4gIC8vIHRvZG86IHJlZmFjdG9yIG5hdmlnYXRpb24gaGVyZS4gVGhpcyBpcyBhIGhhY2sgaXQgc2hvdWxkbid0IGhpZGUgYW5kIHNob3cgdmFsdWVzIHdoaWNoIGFyZVxyXG4gIC8vIG5vdCByZWxvYWRpbmcuXHJcbiAgY29uc3QgbG9hZE1vcmVNZXNzYWdlcyA9IGx0ID0+IHtcclxuICAgICQkaW52YWxpZGF0ZSgnbWVzc2FnZVByb21pc2UnLCBtZXNzYWdlUHJvbWlzZSA9IHNzYlxyXG4gICAgICAucXVlcnkoe1xyXG4gICAgICAgIHZhbHVlOiB7XHJcbiAgICAgICAgICBhdXRob3I6IGZlZWQsXHJcbiAgICAgICAgICB0aW1lc3RhbXA6IHsgJGx0OiBsdCB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9KVxyXG4gICAgICAudGhlbihtc2dzID0+IHtcclxuICAgICAgICAkJGludmFsaWRhdGUoJ2xhc3RNc2dzJywgbGFzdE1zZ3MgPSBtc2dzKTtcclxuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgICAgIH0pKTtcclxuICB9O1xuXG5cdGNvbnN0IHdyaXRhYmxlX3Byb3BzID0gWydmZWVkJ107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlLndhcm4oYDxQb3N0cz4gd2FzIGNyZWF0ZWQgd2l0aCB1bmtub3duIHByb3AgJyR7a2V5fSdgKTtcblx0fSk7XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcigpIHtcclxuXHQgICAgICAgICAgICBsb2FkTW9yZU1lc3NhZ2VzKGxhc3RNc2dzW2xhc3RNc2dzLmxlbmd0aCAtIDFdLnZhbHVlLnRpbWVzdGFtcCk7XHJcblx0ICAgICAgICAgIH1cblxuXHQkJHNlbGYuJHNldCA9ICQkcHJvcHMgPT4ge1xuXHRcdGlmICgnZmVlZCcgaW4gJCRwcm9wcykgJCRpbnZhbGlkYXRlKCdmZWVkJywgZmVlZCA9ICQkcHJvcHMuZmVlZCk7XG5cdH07XG5cblx0cmV0dXJuIHtcblx0XHRNZXNzYWdlUmVuZGVyZXIsXG5cdFx0ZmVlZCxcblx0XHRtZXNzYWdlUHJvbWlzZSxcblx0XHRsYXN0TXNncyxcblx0XHRsb2FkTW9yZU1lc3NhZ2VzLFxuXHRcdGNsaWNrX2hhbmRsZXJcblx0fTtcbn1cblxuY2xhc3MgUG9zdHMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW1wiZmVlZFwiXSk7XG5cblx0XHRjb25zdCB7IGN0eCB9ID0gdGhpcy4kJDtcblx0XHRjb25zdCBwcm9wcyA9IG9wdGlvbnMucHJvcHMgfHwge307XG5cdFx0aWYgKGN0eC5mZWVkID09PSB1bmRlZmluZWQgJiYgISgnZmVlZCcgaW4gcHJvcHMpKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oXCI8UG9zdHM+IHdhcyBjcmVhdGVkIHdpdGhvdXQgZXhwZWN0ZWQgcHJvcCAnZmVlZCdcIik7XG5cdFx0fVxuXHR9XG5cblx0Z2V0IGZlZWQoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFBvc3RzPjogUHJvcHMgY2Fubm90IGJlIHJlYWQgZGlyZWN0bHkgZnJvbSB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxuXG5cdHNldCBmZWVkKHZhbHVlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPFBvc3RzPjogUHJvcHMgY2Fubm90IGJlIHNldCBkaXJlY3RseSBvbiB0aGUgY29tcG9uZW50IGluc3RhbmNlIHVubGVzcyBjb21waWxpbmcgd2l0aCAnYWNjZXNzb3JzOiB0cnVlJyBvciAnPHN2ZWx0ZTpvcHRpb25zIGFjY2Vzc29ycy8+J1wiKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3RzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2ZG1sbGQzTXZjSEp2Wm1sc1pTOVFiM04wY3k1emRtVnNkR1VpWFN3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2x0dWRXeHNYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUU3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVFMldVRXNhVUpCUVd0Q0luMD0iLCIvKiBQcm9maWxlLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXNzaWduLFxuXHRhdHRyLFxuXHRjaGVja19vdXRyb3MsXG5cdGNvbXBvbmVudF9zdWJzY3JpYmUsXG5cdGRlc3Ryb3lfY29tcG9uZW50LFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGVtcHR5LFxuXHRncm91cF9vdXRyb3MsXG5cdGhhbmRsZV9wcm9taXNlLFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdGxpc3Rlbixcblx0bW91bnRfY29tcG9uZW50LFxuXHRub29wLFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0LFxuXHR0b2dnbGVfY2xhc3MsXG5cdHRyYW5zaXRpb25faW4sXG5cdHRyYW5zaXRpb25fb3V0LFxuXHR2YWxpZGF0ZV9zdG9yZVxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIlByb2ZpbGUuc3ZlbHRlXCI7XG5cbi8vICgxNTg6MikgezpjYXRjaCBufVxuZnVuY3Rpb24gY3JlYXRlX2NhdGNoX2Jsb2NrKGN0eCkge1xuXHR2YXIgcCwgdDAsIHQxX3ZhbHVlID0gY3R4Lm4ubWVzc2FnZSwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRwID0gZWxlbWVudChcInBcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJFcnJvcjogXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KHQxX3ZhbHVlKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAxNTgsIDQsIDQzNjcpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChwLCB0MCk7XG5cdFx0XHRhcHBlbmQocCwgdDEpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoKGNoYW5nZWQuYWJvdXRQcm9taXNlIHx8IGNoYW5nZWQuYXZhdGFyUHJvbWlzZSkgJiYgdDFfdmFsdWUgIT09ICh0MV92YWx1ZSA9IGN0eC5uLm1lc3NhZ2UpKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCB0MV92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IG5vb3AsXG5cdFx0bzogbm9vcCxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChwKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg3OToyKSB7OnRoZW59XG5mdW5jdGlvbiBjcmVhdGVfdGhlbl9ibG9jayhjdHgpIHtcblx0dmFyIGRpdjMsIGRpdjEsIGRpdjAsIGltZywgaW1nX3NyY192YWx1ZSwgdDAsIGRpdjIsIHQxLCBoMSwgdDIsIHQzLCBwcmUsIHQ0LCB0NSwgdDYsIHAsIHJhd192YWx1ZSA9IGN0eC5zc2IubWFya2Rvd24oY3R4LmRlc2NyaXB0aW9uKSwgdDcsIGJyMCwgdDgsIHVsLCBsaTAsIGEwLCB0OSwgYTBfaHJlZl92YWx1ZSwgdDEwLCBsaTEsIGExLCB0MTEsIGExX2hyZWZfdmFsdWUsIHQxMiwgbGkyLCBhMiwgdDEzLCBhMl9ocmVmX3ZhbHVlLCB0MTQsIGxpMywgYTMsIHQxNSwgYTNfaHJlZl92YWx1ZSwgdDE2LCBicjEsIHQxNywgc3dpdGNoX2luc3RhbmNlX2FuY2hvciwgY3VycmVudCwgZGlzcG9zZTtcblxuXHR2YXIgaWZfYmxvY2swID0gKGN0eC5mZWVkID09PSBjdHguc3NiLmZlZWQpICYmIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cblx0dmFyIGlmX2Jsb2NrMSA9IChjdHguZmVlZCAhPT0gY3R4LnNzYi5mZWVkKSAmJiBjcmVhdGVfaWZfYmxvY2soY3R4KTtcblxuXHR2YXIgc3dpdGNoX3ZhbHVlID0gY3R4LnN1YlZpZXdzW2N0eC5jdXJyZW50U3ViVmlld107XG5cblx0ZnVuY3Rpb24gc3dpdGNoX3Byb3BzKGN0eCkge1xuXHRcdHJldHVybiB7XG5cdFx0XHRwcm9wczogeyBmZWVkOiBjdHguZmVlZCB9LFxuXHRcdFx0JCRpbmxpbmU6IHRydWVcblx0XHR9O1xuXHR9XG5cblx0aWYgKHN3aXRjaF92YWx1ZSkge1xuXHRcdHZhciBzd2l0Y2hfaW5zdGFuY2UgPSBuZXcgc3dpdGNoX3ZhbHVlKHN3aXRjaF9wcm9wcyhjdHgpKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2MyA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjAgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aW1nID0gZWxlbWVudChcImltZ1wiKTtcblx0XHRcdHQwID0gc3BhY2UoKTtcblx0XHRcdGRpdjIgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLmMoKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGgxID0gZWxlbWVudChcImgxXCIpO1xuXHRcdFx0dDIgPSB0ZXh0KGN0eC5uYW1lKTtcblx0XHRcdHQzID0gc3BhY2UoKTtcblx0XHRcdHByZSA9IGVsZW1lbnQoXCJwcmVcIik7XG5cdFx0XHR0NCA9IHRleHQoY3R4LmZlZWQpO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmMoKTtcblx0XHRcdHQ2ID0gc3BhY2UoKTtcblx0XHRcdHAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdHQ3ID0gc3BhY2UoKTtcblx0XHRcdGJyMCA9IGVsZW1lbnQoXCJiclwiKTtcblx0XHRcdHQ4ID0gc3BhY2UoKTtcblx0XHRcdHVsID0gZWxlbWVudChcInVsXCIpO1xuXHRcdFx0bGkwID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTAgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQ5ID0gdGV4dChcIlBvc3RzXCIpO1xuXHRcdFx0dDEwID0gc3BhY2UoKTtcblx0XHRcdGxpMSA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGExID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0MTEgPSB0ZXh0KFwiRnJpZW5kc1wiKTtcblx0XHRcdHQxMiA9IHNwYWNlKCk7XG5cdFx0XHRsaTIgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMiA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dDEzID0gdGV4dChcIkZvbGxvd2luZ1wiKTtcblx0XHRcdHQxNCA9IHNwYWNlKCk7XG5cdFx0XHRsaTMgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMyA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dDE1ID0gdGV4dChcIkZvbGxvd2Vyc1wiKTtcblx0XHRcdHQxNiA9IHNwYWNlKCk7XG5cdFx0XHRicjEgPSBlbGVtZW50KFwiYnJcIik7XG5cdFx0XHR0MTcgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LmMoKTtcblx0XHRcdHN3aXRjaF9pbnN0YW5jZV9hbmNob3IgPSBlbXB0eSgpO1xuXHRcdFx0YXR0cihpbWcsIFwiY2xhc3NcIiwgXCJpbWctcmVzcG9uc2l2ZVwiKTtcblx0XHRcdGF0dHIoaW1nLCBcInNyY1wiLCBpbWdfc3JjX3ZhbHVlID0gXCJodHRwOi8vbG9jYWxob3N0Ojg5ODkvYmxvYnMvZ2V0L1wiICsgY3R4LmltYWdlKTtcblx0XHRcdGF0dHIoaW1nLCBcImFsdFwiLCBjdHguZmVlZCk7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW1nLCBmaWxlLCA4MywgMTAsIDE5ODIpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiY29udGFpbmVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDgyLCA4LCAxOTQ3KTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtNlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCA4MSwgNiwgMTkxMSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oaDEsIGZpbGUsIDkzLCA4LCAyMjgxKTtcblx0XHRcdGFkZF9sb2NhdGlvbihwcmUsIGZpbGUsIDk0LCA4LCAyMzA2KTtcblx0XHRcdGFkZF9sb2NhdGlvbihwLCBmaWxlLCAxMTksIDgsIDMxNjUpO1xuXHRcdFx0YXR0cihkaXYyLCBcImNsYXNzXCIsIFwiY29sdW1uIGNvbC02XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjIsIGZpbGUsIDg5LCA2LCAyMTQ2KTtcblx0XHRcdGF0dHIoZGl2MywgXCJjbGFzc1wiLCBcImNvbHVtbnNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MywgZmlsZSwgNzksIDQsIDE4ODApO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJyMCwgZmlsZSwgMTI0LCA0LCAzMjU5KTtcblx0XHRcdGF0dHIoYTAsIFwiaHJlZlwiLCBhMF9ocmVmX3ZhbHVlID0gXCIvaW5kZXguaHRtbD9mZWVkPVwiICsgY3R4LmZlZWQgKyBcIiMvcHJvZmlsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMCwgZmlsZSwgMTI3LCA4LCAzMzc2KTtcblx0XHRcdGF0dHIobGkwLCBcImNsYXNzXCIsIFwidGFiLWl0ZW1cIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MobGkwLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFN1YlZpZXcgPT09ICdwb3N0cycpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMCwgZmlsZSwgMTI2LCA2LCAzMzAzKTtcblx0XHRcdGF0dHIoYTEsIFwiaHJlZlwiLCBhMV9ocmVmX3ZhbHVlID0gXCIvaW5kZXguaHRtbD9mZWVkPVwiICsgY3R4LmZlZWQgKyBcIiMvcHJvZmlsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMSwgZmlsZSwgMTM0LCA4LCAzNjEyKTtcblx0XHRcdGF0dHIobGkxLCBcImNsYXNzXCIsIFwidGFiLWl0ZW1cIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MobGkxLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFN1YlZpZXcgPT09ICdmcmllbmRzJyk7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkxLCBmaWxlLCAxMzMsIDYsIDM1MzcpO1xuXHRcdFx0YXR0cihhMiwgXCJocmVmXCIsIGEyX2hyZWZfdmFsdWUgPSBcIi9pbmRleC5odG1sP2ZlZWQ9XCIgKyBjdHguZmVlZCArIFwiIy9wcm9maWxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEyLCBmaWxlLCAxNDEsIDgsIDM4NTQpO1xuXHRcdFx0YXR0cihsaTIsIFwiY2xhc3NcIiwgXCJ0YWItaXRlbVwiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhsaTIsIFwiYWN0aXZlXCIsIGN0eC5jdXJyZW50U3ViVmlldyA9PT0gJ2ZvbGxvd2luZycpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMiwgZmlsZSwgMTQwLCA2LCAzNzc3KTtcblx0XHRcdGF0dHIoYTMsIFwiaHJlZlwiLCBhM19ocmVmX3ZhbHVlID0gXCIvaW5kZXguaHRtbD9mZWVkPVwiICsgY3R4LmZlZWQgKyBcIiMvcHJvZmlsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMywgZmlsZSwgMTQ4LCA4LCA0MTAwKTtcblx0XHRcdGF0dHIobGkzLCBcImNsYXNzXCIsIFwidGFiLWl0ZW1cIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MobGkzLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFN1YlZpZXcgPT09ICdmb2xsb3dlcnMnKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTMsIGZpbGUsIDE0NywgNiwgNDAyMyk7XG5cdFx0XHRhdHRyKHVsLCBcImNsYXNzXCIsIFwidGFiIHRhYi1ibG9ja1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbih1bCwgZmlsZSwgMTI1LCA0LCAzMjY5KTtcblx0XHRcdGFkZF9sb2NhdGlvbihicjEsIGZpbGUsIDE1NSwgNCwgNDI3OCk7XG5cblx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdGxpc3RlbihhMCwgXCJjbGlja1wiLCBjdHguY2xpY2tfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihhMSwgXCJjbGlja1wiLCBjdHguY2xpY2tfaGFuZGxlcl8xKSxcblx0XHRcdFx0bGlzdGVuKGEyLCBcImNsaWNrXCIsIGN0eC5jbGlja19oYW5kbGVyXzIpLFxuXHRcdFx0XHRsaXN0ZW4oYTMsIFwiY2xpY2tcIiwgY3R4LmNsaWNrX2hhbmRsZXJfMylcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYzLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGRpdjEpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIGRpdjApO1xuXHRcdFx0YXBwZW5kKGRpdjAsIGltZyk7XG5cdFx0XHRhcHBlbmQoZGl2MywgdDApO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGRpdjIpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMCkgaWZfYmxvY2swLm0oZGl2MiwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgdDEpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIGgxKTtcblx0XHRcdGFwcGVuZChoMSwgdDIpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIHQzKTtcblx0XHRcdGFwcGVuZChkaXYyLCBwcmUpO1xuXHRcdFx0YXBwZW5kKHByZSwgdDQpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIHQ1KTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKGRpdjIsIG51bGwpO1xuXHRcdFx0YXBwZW5kKGRpdjIsIHQ2KTtcblx0XHRcdGFwcGVuZChkaXYyLCBwKTtcblx0XHRcdHAuaW5uZXJIVE1MID0gcmF3X3ZhbHVlO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDcsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBicjAsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0OCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHVsLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTApO1xuXHRcdFx0YXBwZW5kKGxpMCwgYTApO1xuXHRcdFx0YXBwZW5kKGEwLCB0OSk7XG5cdFx0XHRhcHBlbmQodWwsIHQxMCk7XG5cdFx0XHRhcHBlbmQodWwsIGxpMSk7XG5cdFx0XHRhcHBlbmQobGkxLCBhMSk7XG5cdFx0XHRhcHBlbmQoYTEsIHQxMSk7XG5cdFx0XHRhcHBlbmQodWwsIHQxMik7XG5cdFx0XHRhcHBlbmQodWwsIGxpMik7XG5cdFx0XHRhcHBlbmQobGkyLCBhMik7XG5cdFx0XHRhcHBlbmQoYTIsIHQxMyk7XG5cdFx0XHRhcHBlbmQodWwsIHQxNCk7XG5cdFx0XHRhcHBlbmQodWwsIGxpMyk7XG5cdFx0XHRhcHBlbmQobGkzLCBhMyk7XG5cdFx0XHRhcHBlbmQoYTMsIHQxNSk7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MTYsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBicjEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MTcsIGFuY2hvcik7XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHtcblx0XHRcdFx0bW91bnRfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgdGFyZ2V0LCBhbmNob3IpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yLCBhbmNob3IpO1xuXHRcdFx0Y3VycmVudCA9IHRydWU7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoIWN1cnJlbnQgfHwgY2hhbmdlZC5pbWFnZSkgJiYgaW1nX3NyY192YWx1ZSAhPT0gKGltZ19zcmNfdmFsdWUgPSBcImh0dHA6Ly9sb2NhbGhvc3Q6ODk4OS9ibG9icy9nZXQvXCIgKyBjdHguaW1hZ2UpKSB7XG5cdFx0XHRcdGF0dHIoaW1nLCBcInNyY1wiLCBpbWdfc3JjX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCFjdXJyZW50IHx8IGNoYW5nZWQuZmVlZCkge1xuXHRcdFx0XHRhdHRyKGltZywgXCJhbHRcIiwgY3R4LmZlZWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmZlZWQgPT09IGN0eC5zc2IuZmVlZCkge1xuXHRcdFx0XHRpZiAoIWlmX2Jsb2NrMCkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IGNyZWF0ZV9pZl9ibG9ja18xKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazAubShkaXYyLCB0MSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2swKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMC5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazAgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIWN1cnJlbnQgfHwgY2hhbmdlZC5uYW1lKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQyLCBjdHgubmFtZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICghY3VycmVudCB8fCBjaGFuZ2VkLmZlZWQpIHtcblx0XHRcdFx0c2V0X2RhdGEodDQsIGN0eC5mZWVkKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5mZWVkICE9PSBjdHguc3NiLmZlZWQpIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMSkge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxID0gY3JlYXRlX2lmX2Jsb2NrKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazEubShkaXYyLCB0Nik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMS5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazEgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKCFjdXJyZW50IHx8IGNoYW5nZWQuZGVzY3JpcHRpb24pICYmIHJhd192YWx1ZSAhPT0gKHJhd192YWx1ZSA9IGN0eC5zc2IubWFya2Rvd24oY3R4LmRlc2NyaXB0aW9uKSkpIHtcblx0XHRcdFx0cC5pbm5lckhUTUwgPSByYXdfdmFsdWU7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoIWN1cnJlbnQgfHwgY2hhbmdlZC5mZWVkKSAmJiBhMF9ocmVmX3ZhbHVlICE9PSAoYTBfaHJlZl92YWx1ZSA9IFwiL2luZGV4Lmh0bWw/ZmVlZD1cIiArIGN0eC5mZWVkICsgXCIjL3Byb2ZpbGVcIikpIHtcblx0XHRcdFx0YXR0cihhMCwgXCJocmVmXCIsIGEwX2hyZWZfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5jdXJyZW50U3ViVmlldykge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MobGkwLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFN1YlZpZXcgPT09ICdwb3N0cycpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKCFjdXJyZW50IHx8IGNoYW5nZWQuZmVlZCkgJiYgYTFfaHJlZl92YWx1ZSAhPT0gKGExX2hyZWZfdmFsdWUgPSBcIi9pbmRleC5odG1sP2ZlZWQ9XCIgKyBjdHguZmVlZCArIFwiIy9wcm9maWxlXCIpKSB7XG5cdFx0XHRcdGF0dHIoYTEsIFwiaHJlZlwiLCBhMV9ocmVmX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQuY3VycmVudFN1YlZpZXcpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGxpMSwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRTdWJWaWV3ID09PSAnZnJpZW5kcycpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKCFjdXJyZW50IHx8IGNoYW5nZWQuZmVlZCkgJiYgYTJfaHJlZl92YWx1ZSAhPT0gKGEyX2hyZWZfdmFsdWUgPSBcIi9pbmRleC5odG1sP2ZlZWQ9XCIgKyBjdHguZmVlZCArIFwiIy9wcm9maWxlXCIpKSB7XG5cdFx0XHRcdGF0dHIoYTIsIFwiaHJlZlwiLCBhMl9ocmVmX3ZhbHVlKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQuY3VycmVudFN1YlZpZXcpIHtcblx0XHRcdFx0dG9nZ2xlX2NsYXNzKGxpMiwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRTdWJWaWV3ID09PSAnZm9sbG93aW5nJyk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoIWN1cnJlbnQgfHwgY2hhbmdlZC5mZWVkKSAmJiBhM19ocmVmX3ZhbHVlICE9PSAoYTNfaHJlZl92YWx1ZSA9IFwiL2luZGV4Lmh0bWw/ZmVlZD1cIiArIGN0eC5mZWVkICsgXCIjL3Byb2ZpbGVcIikpIHtcblx0XHRcdFx0YXR0cihhMywgXCJocmVmXCIsIGEzX2hyZWZfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY2hhbmdlZC5jdXJyZW50U3ViVmlldykge1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MobGkzLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFN1YlZpZXcgPT09ICdmb2xsb3dlcnMnKTtcblx0XHRcdH1cblxuXHRcdFx0dmFyIHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5mZWVkKSBzd2l0Y2hfaW5zdGFuY2VfY2hhbmdlcy5mZWVkID0gY3R4LmZlZWQ7XG5cblx0XHRcdGlmIChzd2l0Y2hfdmFsdWUgIT09IChzd2l0Y2hfdmFsdWUgPSBjdHguc3ViVmlld3NbY3R4LmN1cnJlbnRTdWJWaWV3XSkpIHtcblx0XHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHRcdGNvbnN0IG9sZF9jb21wb25lbnQgPSBzd2l0Y2hfaW5zdGFuY2U7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9vdXQob2xkX2NvbXBvbmVudC4kJC5mcmFnbWVudCwgMSwgMCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0ZGVzdHJveV9jb21wb25lbnQob2xkX2NvbXBvbmVudCwgMSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCAxKTtcblx0XHRcdFx0XHRtb3VudF9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLCBzd2l0Y2hfaW5zdGFuY2VfYW5jaG9yLnBhcmVudE5vZGUsIHN3aXRjaF9pbnN0YW5jZV9hbmNob3IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHN3aXRjaF9pbnN0YW5jZSA9IG51bGw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0ZWxzZSBpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdHN3aXRjaF9pbnN0YW5jZS4kc2V0KHN3aXRjaF9pbnN0YW5jZV9jaGFuZ2VzKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0aTogZnVuY3Rpb24gaW50cm8obG9jYWwpIHtcblx0XHRcdGlmIChjdXJyZW50KSByZXR1cm47XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSB0cmFuc2l0aW9uX2luKHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0bzogZnVuY3Rpb24gb3V0cm8obG9jYWwpIHtcblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25fb3V0KHN3aXRjaF9pbnN0YW5jZS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0Y3VycmVudCA9IGZhbHNlO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2Myk7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuZCgpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0Nyk7XG5cdFx0XHRcdGRldGFjaChicjApO1xuXHRcdFx0XHRkZXRhY2godDgpO1xuXHRcdFx0XHRkZXRhY2godWwpO1xuXHRcdFx0XHRkZXRhY2godDE2KTtcblx0XHRcdFx0ZGV0YWNoKGJyMSk7XG5cdFx0XHRcdGRldGFjaCh0MTcpO1xuXHRcdFx0XHRkZXRhY2goc3dpdGNoX2luc3RhbmNlX2FuY2hvcik7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGRlc3Ryb3lfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgZGV0YWNoaW5nKTtcblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoOTE6OCkgeyNpZiBmZWVkID09PSBzc2IuZmVlZH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCkge1xuXHR2YXIgc3BhbjtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdHNwYW4gPSBlbGVtZW50KFwic3BhblwiKTtcblx0XHRcdHNwYW4udGV4dENvbnRlbnQgPSBcIuKdpCBUaGF0cyBZb3Ug4p2kXCI7XG5cdFx0XHRhdHRyKHNwYW4sIFwiY2xhc3NcIiwgXCJjaGlwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4sIGZpbGUsIDkxLCAxMCwgMjIxNyk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBzcGFuLCBhbmNob3IpO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goc3Bhbik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoOTY6OCkgeyNpZiBmZWVkICE9PSBzc2IuZmVlZH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9jayhjdHgpIHtcblx0dmFyIGRpdjMsIGRpdjAsIHQwLCBkaXYxLCBsYWJlbDAsIGlucHV0MCwgdDEsIGkwLCB0MiwgdDMsIGxhYmVsMSwgaW5wdXQxLCB0NCwgaTEsIHQ1LCB0NiwgZGl2MiwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdjMgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MCA9IHNwYWNlKCk7XG5cdFx0XHRkaXYxID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGxhYmVsMCA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0MCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQxID0gc3BhY2UoKTtcblx0XHRcdGkwID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0MiA9IHRleHQoXCJcXHJcXG4gICAgICAgICAgICAgICAgZm9sbG93aW5nXCIpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQxID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDQgPSBzcGFjZSgpO1xuXHRcdFx0aTEgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ1ID0gdGV4dChcIlxcclxcbiAgICAgICAgICAgICAgICBibG9ja2luZ1wiKTtcblx0XHRcdHQ2ID0gc3BhY2UoKTtcblx0XHRcdGRpdjIgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiZGl2aWRlclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYwLCBmaWxlLCA5NywgMTIsIDI0MDUpO1xuXHRcdFx0YXR0cihpbnB1dDAsIFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MCwgZmlsZSwgMTAwLCAxNiwgMjUzOSk7XG5cdFx0XHRhdHRyKGkwLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkwLCBmaWxlLCAxMDQsIDE2LCAyNjkzKTtcblx0XHRcdGF0dHIobGFiZWwwLCBcImNsYXNzXCIsIFwiZm9ybS1zd2l0Y2ggZm9ybS1pbmxpbmVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwwLCBmaWxlLCA5OSwgMTQsIDI0ODIpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MSwgZmlsZSwgMTA4LCAxNiwgMjg0MCk7XG5cdFx0XHRhdHRyKGkxLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkxLCBmaWxlLCAxMTIsIDE2LCAyOTkyKTtcblx0XHRcdGF0dHIobGFiZWwxLCBcImNsYXNzXCIsIFwiZm9ybS1zd2l0Y2ggZm9ybS1pbmxpbmVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwxLCBmaWxlLCAxMDcsIDE0LCAyNzgzKTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImZvcm0tZ3JvdXBcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgOTgsIDEyLCAyNDQyKTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImRpdmlkZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MiwgZmlsZSwgMTE2LCAxMiwgMzA5OSk7XG5cdFx0XHRhdHRyKGRpdjMsIFwiY2xhc3NcIiwgXCJjb250YWluZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MywgZmlsZSwgOTYsIDEwLCAyMzY4KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0MCwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MF9jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDAsIFwiY2hhbmdlXCIsIGN0eC5mb2xsb3dpbmdDaGFuZ2VkKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MSwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MV9jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDEsIFwiY2hhbmdlXCIsIGN0eC5ibG9ja2luZ0NoYW5nZWQpXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2MywgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYzLCBkaXYwKTtcblx0XHRcdGFwcGVuZChkaXYzLCB0MCk7XG5cdFx0XHRhcHBlbmQoZGl2MywgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgbGFiZWwwKTtcblx0XHRcdGFwcGVuZChsYWJlbDAsIGlucHV0MCk7XG5cblx0XHRcdGlucHV0MC5jaGVja2VkID0gY3R4LmZvbGxvd2luZztcblxuXHRcdFx0YXBwZW5kKGxhYmVsMCwgdDEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMCwgaTApO1xuXHRcdFx0YXBwZW5kKGxhYmVsMCwgdDIpO1xuXHRcdFx0YXBwZW5kKGRpdjEsIHQzKTtcblx0XHRcdGFwcGVuZChkaXYxLCBsYWJlbDEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMSwgaW5wdXQxKTtcblxuXHRcdFx0aW5wdXQxLmNoZWNrZWQgPSBjdHguYmxvY2tpbmc7XG5cblx0XHRcdGFwcGVuZChsYWJlbDEsIHQ0KTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIGkxKTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIHQ1KTtcblx0XHRcdGFwcGVuZChkaXYzLCB0Nik7XG5cdFx0XHRhcHBlbmQoZGl2MywgZGl2Mik7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLmZvbGxvd2luZykgaW5wdXQwLmNoZWNrZWQgPSBjdHguZm9sbG93aW5nO1xuXHRcdFx0aWYgKGNoYW5nZWQuYmxvY2tpbmcpIGlucHV0MS5jaGVja2VkID0gY3R4LmJsb2NraW5nO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2Myk7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoNzc6NDApICAgICAgIDxkaXYgY2xhc3M9XCJsb2FkaW5nIGxvYWRpbmctbGdcIiAvPiAgICB7OnRoZW59XG5mdW5jdGlvbiBjcmVhdGVfcGVuZGluZ19ibG9jayhjdHgpIHtcblx0dmFyIGRpdjtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImxvYWRpbmcgbG9hZGluZy1sZ1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDc3LCA0LCAxODI5KTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdiwgYW5jaG9yKTtcblx0XHR9LFxuXG5cdFx0cDogbm9vcCxcblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGRpdiwgcHJvbWlzZSwgY3VycmVudDtcblxuXHRsZXQgaW5mbyA9IHtcblx0XHRjdHgsXG5cdFx0Y3VycmVudDogbnVsbCxcblx0XHR0b2tlbjogbnVsbCxcblx0XHRwZW5kaW5nOiBjcmVhdGVfcGVuZGluZ19ibG9jayxcblx0XHR0aGVuOiBjcmVhdGVfdGhlbl9ibG9jayxcblx0XHRjYXRjaDogY3JlYXRlX2NhdGNoX2Jsb2NrLFxuXHRcdHZhbHVlOiAnbnVsbCcsXG5cdFx0ZXJyb3I6ICduJyxcblx0XHRibG9ja3M6IFssLCxdXG5cdH07XG5cblx0aGFuZGxlX3Byb21pc2UocHJvbWlzZSA9IGN0eC5hYm91dFByb21pc2UgJiYgY3R4LmF2YXRhclByb21pc2UsIGluZm8pO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblxuXHRcdFx0aW5mby5ibG9jay5jKCk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNvbnRhaW5lclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYsIGZpbGUsIDc1LCAwLCAxNzU4KTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBkaXYsIGFuY2hvcik7XG5cblx0XHRcdGluZm8uYmxvY2subShkaXYsIGluZm8uYW5jaG9yID0gbnVsbCk7XG5cdFx0XHRpbmZvLm1vdW50ID0gKCkgPT4gZGl2O1xuXHRcdFx0aW5mby5hbmNob3IgPSBudWxsO1xuXG5cdFx0XHRjdXJyZW50ID0gdHJ1ZTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIG5ld19jdHgpIHtcblx0XHRcdGN0eCA9IG5ld19jdHg7XG5cdFx0XHRpbmZvLmN0eCA9IGN0eDtcblxuXHRcdFx0aWYgKCgnYWJvdXRQcm9taXNlJyBpbiBjaGFuZ2VkIHx8ICdhdmF0YXJQcm9taXNlJyBpbiBjaGFuZ2VkKSAmJiBwcm9taXNlICE9PSAocHJvbWlzZSA9IGN0eC5hYm91dFByb21pc2UgJiYgY3R4LmF2YXRhclByb21pc2UpICYmIGhhbmRsZV9wcm9taXNlKHByb21pc2UsIGluZm8pKSB7XG5cdFx0XHRcdC8vIG5vdGhpbmdcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGluZm8uYmxvY2sucChjaGFuZ2VkLCBhc3NpZ24oYXNzaWduKHt9LCBjdHgpLCBpbmZvLnJlc29sdmVkKSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihpbmZvLmJsb2NrKTtcblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCAzOyBpICs9IDEpIHtcblx0XHRcdFx0Y29uc3QgYmxvY2sgPSBpbmZvLmJsb2Nrc1tpXTtcblx0XHRcdFx0dHJhbnNpdGlvbl9vdXQoYmxvY2spO1xuXHRcdFx0fVxuXG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYpO1xuXHRcdFx0fVxuXG5cdFx0XHRpbmZvLmJsb2NrLmQoKTtcblx0XHRcdGluZm8udG9rZW4gPSBudWxsO1xuXHRcdFx0aW5mbyA9IG51bGw7XG5cdFx0fVxuXHR9O1xufVxuXG5sZXQgcHJvZmlsZSA9IGZhbHNlO1xuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRsZXQgJHJvdXRlUGFyYW1zO1xuXG5cdGNvbnN0IHsgbmF2aWdhdGUsIHJvdXRlUGFyYW1zIH0gPSByZXF1aXJlKFwiLi4vLi4vdXRpbHMuanNcIik7IHZhbGlkYXRlX3N0b3JlKHJvdXRlUGFyYW1zLCAncm91dGVQYXJhbXMnKTsgY29tcG9uZW50X3N1YnNjcmliZSgkJHNlbGYsIHJvdXRlUGFyYW1zLCAkJHZhbHVlID0+IHsgJHJvdXRlUGFyYW1zID0gJCR2YWx1ZTsgJCRpbnZhbGlkYXRlKCckcm91dGVQYXJhbXMnLCAkcm91dGVQYXJhbXMpIH0pO1xyXG4gIGNvbnN0IFBvc3RzID0gcmVxdWlyZShcIi4vUG9zdHMuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IEZvbGxvd2luZyA9IHJlcXVpcmUoXCIuL0ZvbGxvd2luZy5zdmVsdGVcIik7XHJcblxyXG4gIGxldCBkZXNjcmlwdGlvbiA9IGZhbHNlO1xyXG4gIGxldCBmb2xsb3dpbmcgPSBmYWxzZTtcclxuICBsZXQgYmxvY2tpbmcgPSBmYWxzZTtcclxuICBsZXQgaW1hZ2U7XHJcbiAgbGV0IGZlZWQ7XHJcbiAgbGV0IGxhc3RBYm91dDtcclxuICBsZXQgYXZhdGFyUHJvbWlzZTtcclxuICBsZXQgYWJvdXRQcm9taXNlO1xyXG4gIGxldCBzdWJWaWV3cyA9IHtcclxuICAgIHBvc3RzOiBQb3N0cyxcclxuICAgIGZvbGxvd2luZzogRm9sbG93aW5nXHJcbiAgfTtcclxuICBsZXQgY3VycmVudFN1YlZpZXcgPSBcInBvc3RzXCI7XHJcblxyXG4gICQkaW52YWxpZGF0ZSgnZmVlZCcsIGZlZWQgPSAkcm91dGVQYXJhbXMuZmVlZCk7XHJcblxyXG4gIGlmICghZmVlZCkge1xyXG4gICAgJCRpbnZhbGlkYXRlKCdmZWVkJywgZmVlZCA9IHNzYi5mZWVkKTtcclxuICB9XHJcblxyXG4gIGxldCBuYW1lID0gZmVlZDtcclxuXHJcbiAgZG9jdW1lbnQudGl0bGUgPSBgUGF0Y2hmb3ggLSBGZWVkOiAke2ZlZWR9YDtcclxuXHJcbiAgY29uc29sZS5sb2coXCJmZXRjaGluZ1wiLCBmZWVkKTtcclxuXHJcbiAgJCRpbnZhbGlkYXRlKCdhdmF0YXJQcm9taXNlJywgYXZhdGFyUHJvbWlzZSA9IHNzYi5hdmF0YXIoZmVlZCkudGhlbihkYXRhID0+IHtcclxuICAgICQkaW52YWxpZGF0ZSgnbmFtZScsIG5hbWUgPSBkYXRhLm5hbWUpO1xyXG4gICAgJCRpbnZhbGlkYXRlKCdpbWFnZScsIGltYWdlID0gZGF0YS5pbWFnZSk7XHJcbiAgICBkb2N1bWVudC50aXRsZSA9IGBQYXRjaGZveCAtIEZlZWQ6ICR7bmFtZX1gO1xyXG4gIH0pKTtcclxuXHJcbiAgJCRpbnZhbGlkYXRlKCdhYm91dFByb21pc2UnLCBhYm91dFByb21pc2UgPSBzc2IucHJvZmlsZShmZWVkKS50aGVuKGRhdGEgPT4ge1xyXG4gICAgbGFzdEFib3V0ID0gZGF0YS5hYm91dC5yZXZlcnNlKCkuZmluZChtID0+IHtcclxuICAgICAgbGV0IGEgPSBtLnZhbHVlLmNvbnRlbnQ7XHJcbiAgICAgIHJldHVybiBhLmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIik7XHJcbiAgICB9KTtcclxuICAgIHRyeSB7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZGVzY3JpcHRpb24nLCBkZXNjcmlwdGlvbiA9IGxhc3RBYm91dC52YWx1ZS5jb250ZW50LmRlc2NyaXB0aW9uKTtcclxuICAgIH0gY2F0Y2ggKG4pIHtcclxuICAgICAgJCRpbnZhbGlkYXRlKCdkZXNjcmlwdGlvbicsIGRlc2NyaXB0aW9uID0gXCJcIik7XHJcbiAgICB9XHJcbiAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMCk7XHJcbiAgfSkpO1xyXG5cclxuICBpZiAoZmVlZCAhPT0gc3NiLmZlZWQpIHtcclxuICAgIHNzYi5mb2xsb3dpbmcoZmVlZCkudGhlbihmID0+IHsgY29uc3QgJCRyZXN1bHQgPSAoZm9sbG93aW5nID0gZik7ICQkaW52YWxpZGF0ZSgnZm9sbG93aW5nJywgZm9sbG93aW5nKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuICAgIHNzYi5ibG9ja2luZyhmZWVkKS50aGVuKGYgPT4geyBjb25zdCAkJHJlc3VsdCA9IChibG9ja2luZyA9IGYpOyAkJGludmFsaWRhdGUoJ2Jsb2NraW5nJywgYmxvY2tpbmcpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgYmxvY2tpbmdDaGFuZ2VkID0gZXYgPT4ge1xyXG4gICAgbGV0IHYgPSBldi50YXJnZXQuY2hlY2tlZDtcclxuICAgIGlmICh2KSB7XHJcbiAgICAgIHNzYi5ibG9jayhmZWVkKS5jYXRjaCgoKSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKGJsb2NraW5nID0gZmFsc2UpOyAkJGludmFsaWRhdGUoJ2Jsb2NraW5nJywgYmxvY2tpbmcpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3NiLnVuYmxvY2soZmVlZCkuY2F0Y2goKCkgPT4geyBjb25zdCAkJHJlc3VsdCA9IChibG9ja2luZyA9IHRydWUpOyAkJGludmFsaWRhdGUoJ2Jsb2NraW5nJywgYmxvY2tpbmcpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIGNvbnN0IGZvbGxvd2luZ0NoYW5nZWQgPSBldiA9PiB7XHJcbiAgICBsZXQgdiA9IGV2LnRhcmdldC5jaGVja2VkO1xyXG4gICAgaWYgKHYpIHtcclxuICAgICAgc3NiLmZvbGxvdyhmZWVkKS5jYXRjaCgoKSA9PiB7IGNvbnN0ICQkcmVzdWx0ID0gKGZvbGxvd2luZyA9IGZhbHNlKTsgJCRpbnZhbGlkYXRlKCdmb2xsb3dpbmcnLCBmb2xsb3dpbmcpOyByZXR1cm4gJCRyZXN1bHQ7IH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3NiLnVuZm9sbG93KGZlZWQpLmNhdGNoKCgpID0+IHsgY29uc3QgJCRyZXN1bHQgPSAoZm9sbG93aW5nID0gdHJ1ZSk7ICQkaW52YWxpZGF0ZSgnZm9sbG93aW5nJywgZm9sbG93aW5nKTsgcmV0dXJuICQkcmVzdWx0OyB9KTtcclxuICAgIH1cclxuICB9O1xuXG5cdGZ1bmN0aW9uIGlucHV0MF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRmb2xsb3dpbmcgPSB0aGlzLmNoZWNrZWQ7XG5cdFx0JCRpbnZhbGlkYXRlKCdmb2xsb3dpbmcnLCBmb2xsb3dpbmcpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXQxX2NoYW5nZV9oYW5kbGVyKCkge1xuXHRcdGJsb2NraW5nID0gdGhpcy5jaGVja2VkO1xuXHRcdCQkaW52YWxpZGF0ZSgnYmxvY2tpbmcnLCBibG9ja2luZyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRcdGNvbnN0ICQkcmVzdWx0ID0gKGN1cnJlbnRTdWJWaWV3ID0gJ3Bvc3RzJyk7XG5cdFx0JCRpbnZhbGlkYXRlKCdjdXJyZW50U3ViVmlldycsIGN1cnJlbnRTdWJWaWV3KTtcblx0XHRyZXR1cm4gJCRyZXN1bHQ7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyXzEoKSB7XG5cdFx0Y29uc3QgJCRyZXN1bHQgPSAoY3VycmVudFN1YlZpZXcgPSAnZnJpZW5kcycpO1xuXHRcdCQkaW52YWxpZGF0ZSgnY3VycmVudFN1YlZpZXcnLCBjdXJyZW50U3ViVmlldyk7XG5cdFx0cmV0dXJuICQkcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcl8yKCkge1xuXHRcdGNvbnN0ICQkcmVzdWx0ID0gKGN1cnJlbnRTdWJWaWV3ID0gJ2ZvbGxvd2luZycpO1xuXHRcdCQkaW52YWxpZGF0ZSgnY3VycmVudFN1YlZpZXcnLCBjdXJyZW50U3ViVmlldyk7XG5cdFx0cmV0dXJuICQkcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcl8zKCkge1xuXHRcdGNvbnN0ICQkcmVzdWx0ID0gKGN1cnJlbnRTdWJWaWV3ID0gJ2ZvbGxvd2VycycpO1xuXHRcdCQkaW52YWxpZGF0ZSgnY3VycmVudFN1YlZpZXcnLCBjdXJyZW50U3ViVmlldyk7XG5cdFx0cmV0dXJuICQkcmVzdWx0O1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRyb3V0ZVBhcmFtcyxcblx0XHRkZXNjcmlwdGlvbixcblx0XHRmb2xsb3dpbmcsXG5cdFx0YmxvY2tpbmcsXG5cdFx0aW1hZ2UsXG5cdFx0ZmVlZCxcblx0XHRhdmF0YXJQcm9taXNlLFxuXHRcdGFib3V0UHJvbWlzZSxcblx0XHRzdWJWaWV3cyxcblx0XHRjdXJyZW50U3ViVmlldyxcblx0XHRuYW1lLFxuXHRcdGJsb2NraW5nQ2hhbmdlZCxcblx0XHRmb2xsb3dpbmdDaGFuZ2VkLFxuXHRcdHNzYixcblx0XHRpbnB1dDBfY2hhbmdlX2hhbmRsZXIsXG5cdFx0aW5wdXQxX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNsaWNrX2hhbmRsZXIsXG5cdFx0Y2xpY2tfaGFuZGxlcl8xLFxuXHRcdGNsaWNrX2hhbmRsZXJfMixcblx0XHRjbGlja19oYW5kbGVyXzNcblx0fTtcbn1cblxuY2xhc3MgUHJvZmlsZSBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXSk7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQcm9maWxlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2ZG1sbGQzTXZjSEp2Wm1sc1pTOVFjbTltYVd4bExuTjJaV3gwWlNKZExDSnpiM1Z5WTJWelEyOXVkR1Z1ZENJNlcyNTFiR3hkTENKdVlXMWxjeUk2VzEwc0ltMWhjSEJwYm1keklqb2lRVUZCUVRzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3p0QlFXMTFRa0VzYVVKQlFXdENJbjA9IiwiLyogQ29udGVudFdhcm5pbmdzLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0ZGV0YWNoLFxuXHRlbGVtZW50LFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdGxpc3Rlbixcblx0bm9vcCxcblx0cnVuX2FsbCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNwYWNlLFxuXHR0ZXh0XG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiQ29udGVudFdhcm5pbmdzLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBoMSwgdDEsIGZvcm0sIGxhYmVsMCwgdDMsIGxhYmVsMSwgaW5wdXQwLCB0NCwgaTAsIHQ1LCB0NiwgbGFiZWwyLCBpbnB1dDEsIHQ3LCBpMSwgdDgsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRoMSA9IGVsZW1lbnQoXCJoMVwiKTtcblx0XHRcdGgxLnRleHRDb250ZW50ID0gXCJDb250ZW50IFdhcm5pbmdzXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRmb3JtID0gZWxlbWVudChcImZvcm1cIik7XG5cdFx0XHRsYWJlbDAgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRsYWJlbDAudGV4dENvbnRlbnQgPSBcIlNob3VsZCBDb250ZW50IFdhcm5pbmdzIGJ5IGNvbGxhcHNlZCBvciBleHBhbmRlZCBieSBkZWZhdWx0P1wiO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQwID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDQgPSBzcGFjZSgpO1xuXHRcdFx0aTAgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ1ID0gdGV4dChcIlxcclxcbiAgICBDb2xsYXBzZWRcIik7XG5cdFx0XHR0NiA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDIgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDEgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0NyA9IHNwYWNlKCk7XG5cdFx0XHRpMSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDggPSB0ZXh0KFwiXFxyXFxuICAgIEV4cGFuZGVkXCIpO1xuXHRcdFx0YXR0cihoMSwgXCJjbGFzc1wiLCBcInRpdGxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGgxLCBmaWxlLCA1LCAwLCAxNTYpO1xuXHRcdFx0YXR0cihsYWJlbDAsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMCwgZmlsZSwgNywgMiwgMjI2KTtcblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnB1c2goaW5wdXQwKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcInR5cGVcIiwgXCJyYWRpb1wiKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcIm5hbWVcIiwgXCJjb2x1bW4tc2l6ZVwiKTtcblx0XHRcdGlucHV0MC5fX3ZhbHVlID0gXCJjb2xsYXBzZWRcIjtcblx0XHRcdGlucHV0MC52YWx1ZSA9IGlucHV0MC5fX3ZhbHVlO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MCwgZmlsZSwgMTEsIDQsIDM2Nik7XG5cdFx0XHRhdHRyKGkwLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkwLCBmaWxlLCAxNywgNCwgNTY1KTtcblx0XHRcdGF0dHIobGFiZWwxLCBcImNsYXNzXCIsIFwiZm9ybS1yYWRpb1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDEsIGZpbGUsIDEwLCAyLCAzMzQpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0ucHVzaChpbnB1dDEpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwidHlwZVwiLCBcInJhZGlvXCIpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwibmFtZVwiLCBcImNvbHVtbi1zaXplXCIpO1xuXHRcdFx0aW5wdXQxLl9fdmFsdWUgPSBcImV4cGFuZGVkXCI7XG5cdFx0XHRpbnB1dDEudmFsdWUgPSBpbnB1dDEuX192YWx1ZTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDEsIGZpbGUsIDIxLCA0LCA2NTEpO1xuXHRcdFx0YXR0cihpMSwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMSwgZmlsZSwgMjcsIDQsIDg0OSk7XG5cdFx0XHRhdHRyKGxhYmVsMiwgXCJjbGFzc1wiLCBcImZvcm0tcmFkaW9cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwyLCBmaWxlLCAyMCwgMiwgNjE5KTtcblx0XHRcdGF0dHIoZm9ybSwgXCJjbGFzc1wiLCBcImZvcm0tZ3JvdXBcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZm9ybSwgZmlsZSwgNiwgMCwgMTk3KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0MCwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MF9jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDAsIFwiY2hhbmdlXCIsIGN0eC5jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDEsIFwiY2hhbmdlXCIsIGN0eC5pbnB1dDFfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxLCBcImNoYW5nZVwiLCBjdHguY2hhbmdlX2hhbmRsZXJfMSlcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaDEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGZvcm0sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwwKTtcblx0XHRcdGFwcGVuZChmb3JtLCB0Myk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwxKTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIGlucHV0MCk7XG5cblx0XHRcdGlucHV0MC5jaGVja2VkID0gaW5wdXQwLl9fdmFsdWUgPT09IGN0eC5leHBhbmRCeURlZmF1bHQ7XG5cblx0XHRcdGFwcGVuZChsYWJlbDEsIHQ0KTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIGkwKTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIHQ1KTtcblx0XHRcdGFwcGVuZChmb3JtLCB0Nik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwyKTtcblx0XHRcdGFwcGVuZChsYWJlbDIsIGlucHV0MSk7XG5cblx0XHRcdGlucHV0MS5jaGVja2VkID0gaW5wdXQxLl9fdmFsdWUgPT09IGN0eC5leHBhbmRCeURlZmF1bHQ7XG5cblx0XHRcdGFwcGVuZChsYWJlbDIsIHQ3KTtcblx0XHRcdGFwcGVuZChsYWJlbDIsIGkxKTtcblx0XHRcdGFwcGVuZChsYWJlbDIsIHQ4KTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuZXhwYW5kQnlEZWZhdWx0KSBpbnB1dDAuY2hlY2tlZCA9IGlucHV0MC5fX3ZhbHVlID09PSBjdHguZXhwYW5kQnlEZWZhdWx0O1xuXHRcdFx0aWYgKGNoYW5nZWQuZXhwYW5kQnlEZWZhdWx0KSBpbnB1dDEuY2hlY2tlZCA9IGlucHV0MS5fX3ZhbHVlID09PSBjdHguZXhwYW5kQnlEZWZhdWx0O1xuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaDEpO1xuXHRcdFx0XHRkZXRhY2godDEpO1xuXHRcdFx0XHRkZXRhY2goZm9ybSk7XG5cdFx0XHR9XG5cblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnNwbGljZShjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5pbmRleE9mKGlucHV0MCksIDEpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0uc3BsaWNlKGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLmluZGV4T2YoaW5wdXQxKSwgMSk7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgeyBnZXRQcmVmLCBzZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vLi4vcHJlZnMuanNcIik7XHJcbiAgbGV0IGV4cGFuZEJ5RGVmYXVsdCA9IGdldFByZWYoXCJjb250ZW50LXdhcm5pbmdzLWV4cGFuZFwiLCBcImNvbGxhcHNlZFwiKTtcblxuXHRjb25zdCAkJGJpbmRpbmdfZ3JvdXBzID0gW1tdXTtcblxuXHRmdW5jdGlvbiBpbnB1dDBfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0ZXhwYW5kQnlEZWZhdWx0ID0gdGhpcy5fX3ZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZXhwYW5kQnlEZWZhdWx0JywgZXhwYW5kQnlEZWZhdWx0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyKCkge1xuXHRcdHJldHVybiBzZXRQcmVmKCdjb250ZW50LXdhcm5pbmdzLWV4cGFuZCcsIGV4cGFuZEJ5RGVmYXVsdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dDFfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0ZXhwYW5kQnlEZWZhdWx0ID0gdGhpcy5fX3ZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZXhwYW5kQnlEZWZhdWx0JywgZXhwYW5kQnlEZWZhdWx0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyXzEoKSB7XG5cdFx0cmV0dXJuIHNldFByZWYoJ2NvbnRlbnQtd2FybmluZ3MtZXhwYW5kJywgZXhwYW5kQnlEZWZhdWx0KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0c2V0UHJlZixcblx0XHRleHBhbmRCeURlZmF1bHQsXG5cdFx0aW5wdXQwX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNoYW5nZV9oYW5kbGVyLFxuXHRcdGlucHV0MV9jaGFuZ2VfaGFuZGxlcixcblx0XHRjaGFuZ2VfaGFuZGxlcl8xLFxuXHRcdCQkYmluZGluZ19ncm91cHNcblx0fTtcbn1cblxuY2xhc3MgQ29udGVudFdhcm5pbmdzIGV4dGVuZHMgU3ZlbHRlQ29tcG9uZW50RGV2IHtcblx0Y29uc3RydWN0b3Iob3B0aW9ucykge1xuXHRcdHN1cGVyKG9wdGlvbnMpO1xuXHRcdGluaXQodGhpcywgb3B0aW9ucywgaW5zdGFuY2UsIGNyZWF0ZV9mcmFnbWVudCwgc2FmZV9ub3RfZXF1YWwsIFtdKTtcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnRlbnRXYXJuaW5ncztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012YzJWMGRHbHVaM012UTI5dWRHVnVkRmRoY201cGJtZHpMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdRVUUyUzBFc2FVSkJRV3RDSW4wPSIsIi8qIERpc3BsYXlQcmVmZXJlbmNlcy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRsaXN0ZW4sXG5cdG5vb3AsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzcGFjZSxcblx0dGV4dCxcblx0dG9fbnVtYmVyXG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiRGlzcGxheVByZWZlcmVuY2VzLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBjcmVhdGVfZnJhZ21lbnQoY3R4KSB7XG5cdHZhciBoMSwgdDEsIGZvcm0sIGxhYmVsMCwgdDMsIGxhYmVsMSwgaW5wdXQwLCB0NCwgaTAsIHQ1LCB0NiwgbGFiZWwyLCBpbnB1dDEsIHQ3LCBpMSwgdDgsIHQ5LCBsYWJlbDMsIHQxMSwgaW5wdXQyLCB0MTIsIGJyMCwgdDEzLCBzcGFuLCB0MTQsIGEsIHQxNSwgaTIsIHQxNywgbGFiZWw0LCBpbnB1dDMsIHQxOCwgaTMsIHQxOSwgYjAsIHQyMSwgdDIyLCBsYWJlbDUsIGlucHV0NCwgdDIzLCBpNCwgdDI0LCBiMSwgdDI2LCB0MjcsIGxhYmVsNiwgaW5wdXQ1LCB0MjgsIGk1LCB0MjksIGIyLCB0MzEsIHQzMiwgbGFiZWw3LCBpbnB1dDYsIHQzMywgaTYsIHQzNCwgYjMsIHQzNiwgdDM3LCBsYWJlbDgsIGlucHV0NywgdDM4LCBpNywgdDM5LCBiNCwgdDQxLCB0NDIsIGxhYmVsOSwgaW5wdXQ4LCB0NDMsIGk4LCB0NDQsIGI1LCB0NDYsIHQ0NywgbGFiZWwxMCwgaW5wdXQ5LCB0NDgsIGk5LCB0NDksIGI2LCB0NTEsIHQ1MiwgbGFiZWwxMSwgaW5wdXQxMCwgdDUzLCBpMTAsIHQ1NCwgYjcsIHQ1NiwgdDU3LCBkaXYsIHQ1OCwgbGFiZWwxMiwgaW5wdXQxMSwgdDU5LCBpMTEsIHQ2MCwgYjgsIHQ2MiwgdDYzLCBicjEsIGRpc3Bvc2U7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRoMSA9IGVsZW1lbnQoXCJoMVwiKTtcblx0XHRcdGgxLnRleHRDb250ZW50ID0gXCJEaXNwbGF5IFByZWZlcmVuY2VzXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRmb3JtID0gZWxlbWVudChcImZvcm1cIik7XG5cdFx0XHRsYWJlbDAgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRsYWJlbDAudGV4dENvbnRlbnQgPSBcIkZlZWQgY29sdW1uIHNpemUuIFRoZXJlIGlzIHJlc2VhcmNoIHRoYXQgc2F5cyB0aGF0IGEgc2hvcnQgY29sdW1uIHNpemUgbWFrZXNcXHJcXG4gICAgZm9yIGEgbW9yZSBwbGVhc2FudCByZWFkaW5nIGV4cGVyaWVuY2UsIHN0aWxsIHNvbWUgdXNlcnMgcHJlZmVyIHRvIHVzZSB0aGVcXHJcXG4gICAgZnVsbCBzY3JlZW4gc3BhY2UuIFlvdXIgY2hvaWNlIGlzIGJldHdlZW4gcmVhZGluZyB0aHJvdWdoIGxvbmcgdGV4dCBsaW5lcyBvclxcclxcbiAgICBzaG9ydCBvbmVzLlwiO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQwID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDQgPSBzcGFjZSgpO1xuXHRcdFx0aTAgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ1ID0gdGV4dChcIlxcclxcbiAgICBTaG9ydCBjb2x1bW5cIik7XG5cdFx0XHR0NiA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDIgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDEgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0NyA9IHNwYWNlKCk7XG5cdFx0XHRpMSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDggPSB0ZXh0KFwiXFxyXFxuICAgIExvbmcgY29sdW1uXCIpO1xuXHRcdFx0dDkgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwzID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0bGFiZWwzLnRleHRDb250ZW50ID0gXCJNZXNzYWdlcyBwZXIgcGFnZVwiO1xuXHRcdFx0dDExID0gc3BhY2UoKTtcblx0XHRcdGlucHV0MiA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQxMiA9IHNwYWNlKCk7XG5cdFx0XHRicjAgPSBlbGVtZW50KFwiYnJcIik7XG5cdFx0XHR0MTMgPSBzcGFjZSgpO1xuXHRcdFx0c3BhbiA9IGVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0dDE0ID0gdGV4dChcIldoaWNoIG1lc3NhZ2UgdHlwZXMgeW91IHdhbnQgdG8gc2VlP1xcclxcbiAgICBcIik7XG5cdFx0XHRhID0gZWxlbWVudChcImFcIik7XG5cdFx0XHR0MTUgPSB0ZXh0KFwiQ2xpY2sgaGVyZSBmb3IgbW9yZSBpbmZvcm1hdGlvbiBhYm91dFxcclxcbiAgICAgIFwiKTtcblx0XHRcdGkyID0gZWxlbWVudChcImlcIik7XG5cdFx0XHRpMi50ZXh0Q29udGVudCA9IFwiTWVzc2FnZSBUeXBlc1wiO1xuXHRcdFx0dDE3ID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsNCA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0MyA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQxOCA9IHNwYWNlKCk7XG5cdFx0XHRpMyA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDE5ID0gc3BhY2UoKTtcblx0XHRcdGIwID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiMC50ZXh0Q29udGVudCA9IFwiQWJvdXRcIjtcblx0XHRcdHQyMSA9IHRleHQoXCJcXHJcXG4gICAgKGFrYSBwZW9wbGUgc2V0dGluZyBhdmF0YXJzIGFuZCBkZXNjcmlwdGlvbnM7IGdhdGhlcmluZ3MpXCIpO1xuXHRcdFx0dDIyID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsNSA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0NCA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQyMyA9IHNwYWNlKCk7XG5cdFx0XHRpNCA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDI0ID0gc3BhY2UoKTtcblx0XHRcdGIxID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiMS50ZXh0Q29udGVudCA9IFwiQmxvZ1wiO1xuXHRcdFx0dDI2ID0gdGV4dChcIlxcclxcbiAgICAoTG9uZ2Zvcm0gdGV4dCBwb3N0cylcIik7XG5cdFx0XHR0MjcgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWw2ID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQ1ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDI4ID0gc3BhY2UoKTtcblx0XHRcdGk1ID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0MjkgPSBzcGFjZSgpO1xuXHRcdFx0YjIgPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdGIyLnRleHRDb250ZW50ID0gXCJDaGFubmVsXCI7XG5cdFx0XHR0MzEgPSB0ZXh0KFwiXFxyXFxuICAgIChQZW9wbGUgc3Vic2NyaWJpbmcgdG8gY2hhbm5lbHMpXCIpO1xuXHRcdFx0dDMyID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsNyA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0NiA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQzMyA9IHNwYWNlKCk7XG5cdFx0XHRpNiA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDM0ID0gc3BhY2UoKTtcblx0XHRcdGIzID0gZWxlbWVudChcImJcIik7XG5cdFx0XHRiMy50ZXh0Q29udGVudCA9IFwiQ29udGFjdFwiO1xuXHRcdFx0dDM2ID0gdGV4dChcIlxcclxcbiAgICAoUGVvcGxlIGZvbGxvd2luZyBlYWNoIG90aGVyKVwiKTtcblx0XHRcdHQzNyA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDggPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDcgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0MzggPSBzcGFjZSgpO1xuXHRcdFx0aTcgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQzOSA9IHNwYWNlKCk7XG5cdFx0XHRiNCA9IGVsZW1lbnQoXCJiXCIpO1xuXHRcdFx0YjQudGV4dENvbnRlbnQgPSBcIlBvc3RzXCI7XG5cdFx0XHR0NDEgPSB0ZXh0KFwiXFxyXFxuICAgIChDb21tb24gY29udGVudCBwb3N0LCBsZWF2ZSB0aGlzIG9uIG9yIGl0IGlzIG5vdCB0aGF0IGZ1bilcIik7XG5cdFx0XHR0NDIgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWw5ID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQ4ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDQzID0gc3BhY2UoKTtcblx0XHRcdGk4ID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0NDQgPSBzcGFjZSgpO1xuXHRcdFx0YjUgPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdGI1LnRleHRDb250ZW50ID0gXCJQdWJcIjtcblx0XHRcdHQ0NiA9IHRleHQoXCJcXHJcXG4gICAgKFB1YiBzZXJ2ZXJzIGFubm91bmNlbWVudHMpXCIpO1xuXHRcdFx0dDQ3ID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMTAgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDkgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0NDggPSBzcGFjZSgpO1xuXHRcdFx0aTkgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ0OSA9IHNwYWNlKCk7XG5cdFx0XHRiNiA9IGVsZW1lbnQoXCJiXCIpO1xuXHRcdFx0YjYudGV4dENvbnRlbnQgPSBcIlByaXZhdGVcIjtcblx0XHRcdHQ1MSA9IHRleHQoXCJcXHJcXG4gICAgKFByaXZhdGUgbWVzc2FnZXM7IFlvdSB3b24ndCBiZSBhYmxlIHRvIHJlYWQgdGhlbSwgYnV0IHlvdSdsbCBzZWUgdGhlaXJcXHJcXG4gICAgZW5jcnlwdGVkIGNvbnRlbnQgcGFzc2luZyBieSlcIik7XG5cdFx0XHR0NTIgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxMSA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0MTAgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0NTMgPSBzcGFjZSgpO1xuXHRcdFx0aTEwID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0NTQgPSBzcGFjZSgpO1xuXHRcdFx0YjcgPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdGI3LnRleHRDb250ZW50ID0gXCJWb3RlXCI7XG5cdFx0XHR0NTYgPSB0ZXh0KFwiXFxyXFxuICAgIChQZW9wbGUgbGlraW5nL2RpZ2dpbmcgc3R1ZmYpXCIpO1xuXHRcdFx0dDU3ID0gc3BhY2UoKTtcblx0XHRcdGRpdiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0NTggPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxMiA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGlucHV0MTEgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0NTkgPSBzcGFjZSgpO1xuXHRcdFx0aTExID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0NjAgPSBzcGFjZSgpO1xuXHRcdFx0YjggPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdGI4LnRleHRDb250ZW50ID0gXCJVbmtub3duXCI7XG5cdFx0XHR0NjIgPSB0ZXh0KFwiXFxyXFxuICAgIChTaG93IG1lc3NhZ2VzIFBhdGNoZm94IGRvZXNuJ3QgdW5kZXJzdGFuZCBhcyB0aGVpciByYXcgY29udGVudClcIik7XG5cdFx0XHR0NjMgPSBzcGFjZSgpO1xuXHRcdFx0YnIxID0gZWxlbWVudChcImJyXCIpO1xuXHRcdFx0YXR0cihoMSwgXCJjbGFzc1wiLCBcInRpdGxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGgxLCBmaWxlLCAxOSwgMCwgNzY5KTtcblx0XHRcdGF0dHIobGFiZWwwLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDAsIGZpbGUsIDIxLCAxLCA4NDEpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0ucHVzaChpbnB1dDApO1xuXHRcdFx0YXR0cihpbnB1dDAsIFwidHlwZVwiLCBcInJhZGlvXCIpO1xuXHRcdFx0YXR0cihpbnB1dDAsIFwibmFtZVwiLCBcImNvbHVtbi1zaXplXCIpO1xuXHRcdFx0aW5wdXQwLl9fdmFsdWUgPSBcInNob3J0XCI7XG5cdFx0XHRpbnB1dDAudmFsdWUgPSBpbnB1dDAuX192YWx1ZTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDAsIGZpbGUsIDI4LCA0LCAxMTc2KTtcblx0XHRcdGF0dHIoaTAsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTAsIGZpbGUsIDM0LCA0LCAxMzQ4KTtcblx0XHRcdGF0dHIobGFiZWwxLCBcImNsYXNzXCIsIFwiZm9ybS1yYWRpb1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDEsIGZpbGUsIDI3LCAyLCAxMTQ0KTtcblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnB1c2goaW5wdXQxKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcInR5cGVcIiwgXCJyYWRpb1wiKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcIm5hbWVcIiwgXCJjb2x1bW4tc2l6ZVwiKTtcblx0XHRcdGlucHV0MS5fX3ZhbHVlID0gXCJsb25nXCI7XG5cdFx0XHRpbnB1dDEudmFsdWUgPSBpbnB1dDEuX192YWx1ZTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDEsIGZpbGUsIDM4LCA0LCAxNDM3KTtcblx0XHRcdGF0dHIoaTEsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTEsIGZpbGUsIDQ0LCA0LCAxNjA4KTtcblx0XHRcdGF0dHIobGFiZWwyLCBcImNsYXNzXCIsIFwiZm9ybS1yYWRpb1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDIsIGZpbGUsIDM3LCAyLCAxNDA1KTtcblx0XHRcdGF0dHIobGFiZWwzLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWwzLCBcImZvclwiLCBcImxpbWl0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMywgZmlsZSwgNDcsIDIsIDE2NjQpO1xuXHRcdFx0YXR0cihpbnB1dDIsIFwiY2xhc3NcIiwgXCJmb3JtLWlucHV0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDIsIFwidHlwZVwiLCBcIm51bWJlclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDIsIGZpbGUsIDQ4LCAyLCAxNzMxKTtcblx0XHRcdGFkZF9sb2NhdGlvbihicjAsIGZpbGUsIDU0LCAyLCAxODYwKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMiwgZmlsZSwgNTksIDYsIDIwMzYpO1xuXHRcdFx0YXR0cihhLCBcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIFwiL2RvY3MvaW5kZXguaHRtbCMvbWVzc2FnZV90eXBlcy9cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgNTcsIDQsIDE5MjQpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHNwYW4sIGZpbGUsIDU1LCAyLCAxODcwKTtcblx0XHRcdGF0dHIoaW5wdXQzLCBcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDMsIGZpbGUsIDYzLCA0LCAyMTE0KTtcblx0XHRcdGF0dHIoaTMsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTMsIGZpbGUsIDY5LCA0LCAyMjc0KTtcblx0XHRcdGFkZF9sb2NhdGlvbihiMCwgZmlsZSwgNzAsIDQsIDIzMDMpO1xuXHRcdFx0YXR0cihsYWJlbDQsIFwiY2xhc3NcIiwgXCJmb3JtLXN3aXRjaFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDQsIGZpbGUsIDYyLCAyLCAyMDgxKTtcblx0XHRcdGF0dHIoaW5wdXQ0LCBcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDQsIGZpbGUsIDc0LCA0LCAyNDI3KTtcblx0XHRcdGF0dHIoaTQsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTQsIGZpbGUsIDgwLCA0LCAyNTg0KTtcblx0XHRcdGFkZF9sb2NhdGlvbihiMSwgZmlsZSwgODEsIDQsIDI2MTMpO1xuXHRcdFx0YXR0cihsYWJlbDUsIFwiY2xhc3NcIiwgXCJmb3JtLXN3aXRjaFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDUsIGZpbGUsIDczLCAyLCAyMzk0KTtcblx0XHRcdGF0dHIoaW5wdXQ1LCBcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDUsIGZpbGUsIDg1LCA0LCAyNzAwKTtcblx0XHRcdGF0dHIoaTUsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTUsIGZpbGUsIDkxLCA0LCAyODY2KTtcblx0XHRcdGFkZF9sb2NhdGlvbihiMiwgZmlsZSwgOTIsIDQsIDI4OTUpO1xuXHRcdFx0YXR0cihsYWJlbDYsIFwiY2xhc3NcIiwgXCJmb3JtLXN3aXRjaFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDYsIGZpbGUsIDg0LCAyLCAyNjY3KTtcblx0XHRcdGF0dHIoaW5wdXQ2LCBcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDYsIGZpbGUsIDk2LCA0LCAyOTk2KTtcblx0XHRcdGF0dHIoaTYsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTYsIGZpbGUsIDEwMiwgNCwgMzE2Mik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYjMsIGZpbGUsIDEwMywgNCwgMzE5MSk7XG5cdFx0XHRhdHRyKGxhYmVsNywgXCJjbGFzc1wiLCBcImZvcm0tc3dpdGNoXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsNywgZmlsZSwgOTUsIDIsIDI5NjMpO1xuXHRcdFx0YXR0cihpbnB1dDcsIFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0NywgZmlsZSwgMTA3LCA0LCAzMjg5KTtcblx0XHRcdGF0dHIoaTcsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTcsIGZpbGUsIDExMywgNCwgMzQ0Nik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYjQsIGZpbGUsIDExNCwgNCwgMzQ3NSk7XG5cdFx0XHRhdHRyKGxhYmVsOCwgXCJjbGFzc1wiLCBcImZvcm0tc3dpdGNoXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsOCwgZmlsZSwgMTA2LCAyLCAzMjU2KTtcblx0XHRcdGF0dHIoaW5wdXQ4LCBcInR5cGVcIiwgXCJjaGVja2JveFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDgsIGZpbGUsIDExOCwgNCwgMzYwMCk7XG5cdFx0XHRhdHRyKGk4LCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGk4LCBmaWxlLCAxMjQsIDQsIDM3NTQpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGI1LCBmaWxlLCAxMjUsIDQsIDM3ODMpO1xuXHRcdFx0YXR0cihsYWJlbDksIFwiY2xhc3NcIiwgXCJmb3JtLXN3aXRjaFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDksIGZpbGUsIDExNywgMiwgMzU2Nyk7XG5cdFx0XHRhdHRyKGlucHV0OSwgXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQ5LCBmaWxlLCAxMzAsIDQsIDM4NzcpO1xuXHRcdFx0YXR0cihpOSwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpOSwgZmlsZSwgMTM2LCA0LCA0MDQzKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiNiwgZmlsZSwgMTM3LCA0LCA0MDcyKTtcblx0XHRcdGF0dHIobGFiZWwxMCwgXCJjbGFzc1wiLCBcImZvcm0tc3dpdGNoXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMTAsIGZpbGUsIDEyOSwgMiwgMzg0NCk7XG5cdFx0XHRhdHRyKGlucHV0MTAsIFwidHlwZVwiLCBcImNoZWNrYm94XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MTAsIGZpbGUsIDE0MywgNCwgNDI0OSk7XG5cdFx0XHRhdHRyKGkxMCwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMTAsIGZpbGUsIDE0OSwgNCwgNDQwNik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYjcsIGZpbGUsIDE1MCwgNCwgNDQzNSk7XG5cdFx0XHRhdHRyKGxhYmVsMTEsIFwiY2xhc3NcIiwgXCJmb3JtLXN3aXRjaFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDExLCBmaWxlLCAxNDIsIDIsIDQyMTYpO1xuXHRcdFx0YXR0cihkaXYsIFwiY2xhc3NcIiwgXCJkaXZpZGVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdiwgZmlsZSwgMTUzLCAyLCA0NDk3KTtcblx0XHRcdGF0dHIoaW5wdXQxMSwgXCJ0eXBlXCIsIFwiY2hlY2tib3hcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQxMSwgZmlsZSwgMTU1LCA0LCA0NTU3KTtcblx0XHRcdGF0dHIoaTExLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkxMSwgZmlsZSwgMTYxLCA0LCA0NzIzKTtcblx0XHRcdGFkZF9sb2NhdGlvbihiOCwgZmlsZSwgMTYyLCA0LCA0NzUyKTtcblx0XHRcdGF0dHIobGFiZWwxMiwgXCJjbGFzc1wiLCBcImZvcm0tc3dpdGNoXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMTIsIGZpbGUsIDE1NCwgMiwgNDUyNCk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnIxLCBmaWxlLCAxNjUsIDIsIDQ4NTIpO1xuXHRcdFx0YXR0cihmb3JtLCBcImNsYXNzXCIsIFwiZm9ybS1ncm91cFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihmb3JtLCBmaWxlLCAyMCwgMCwgODEzKTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0MCwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MF9jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDAsIFwiY2hhbmdlXCIsIGN0eC5jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDEsIFwiY2hhbmdlXCIsIGN0eC5pbnB1dDFfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxLCBcImNoYW5nZVwiLCBjdHguY2hhbmdlX2hhbmRsZXJfMSksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDIsIFwiaW5wdXRcIiwgY3R4LmlucHV0Ml9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MiwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQzLCBcImNoYW5nZVwiLCBjdHguaW5wdXQzX2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MywgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzMpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ0LCBcImNoYW5nZVwiLCBjdHguaW5wdXQ0X2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0NCwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzQpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ1LCBcImNoYW5nZVwiLCBjdHguaW5wdXQ1X2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0NSwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzUpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ2LCBcImNoYW5nZVwiLCBjdHguaW5wdXQ2X2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0NiwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzYpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ3LCBcImNoYW5nZVwiLCBjdHguaW5wdXQ3X2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0NywgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzcpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ4LCBcImNoYW5nZVwiLCBjdHguaW5wdXQ4X2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0OCwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzgpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ5LCBcImNoYW5nZVwiLCBjdHguaW5wdXQ5X2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0OSwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzkpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxMCwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MTBfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxMCwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzEwKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MTEsIFwiY2hhbmdlXCIsIGN0eC5pbnB1dDExX2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MTEsIFwiY2hhbmdlXCIsIGN0eC5jaGFuZ2VfaGFuZGxlcl8xMSlcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaDEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGZvcm0sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwwKTtcblx0XHRcdGFwcGVuZChmb3JtLCB0Myk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwxKTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIGlucHV0MCk7XG5cblx0XHRcdGlucHV0MC5jaGVja2VkID0gaW5wdXQwLl9fdmFsdWUgPT09IGN0eC5jb2x1bW5TaXplO1xuXG5cdFx0XHRhcHBlbmQobGFiZWwxLCB0NCk7XG5cdFx0XHRhcHBlbmQobGFiZWwxLCBpMCk7XG5cdFx0XHRhcHBlbmQobGFiZWwxLCB0NSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDYpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsMik7XG5cdFx0XHRhcHBlbmQobGFiZWwyLCBpbnB1dDEpO1xuXG5cdFx0XHRpbnB1dDEuY2hlY2tlZCA9IGlucHV0MS5fX3ZhbHVlID09PSBjdHguY29sdW1uU2l6ZTtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMiwgdDcpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgaTEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgdDgpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQ5KTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDMpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQxMSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgaW5wdXQyKTtcblxuXHRcdFx0aW5wdXQyLnZhbHVlID0gY3R4LmxpbWl0O1xuXG5cdFx0XHRhcHBlbmQoZm9ybSwgdDEyKTtcblx0XHRcdGFwcGVuZChmb3JtLCBicjApO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQxMyk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgc3Bhbik7XG5cdFx0XHRhcHBlbmQoc3BhbiwgdDE0KTtcblx0XHRcdGFwcGVuZChzcGFuLCBhKTtcblx0XHRcdGFwcGVuZChhLCB0MTUpO1xuXHRcdFx0YXBwZW5kKGEsIGkyKTtcblx0XHRcdGFwcGVuZChmb3JtLCB0MTcpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsNCk7XG5cdFx0XHRhcHBlbmQobGFiZWw0LCBpbnB1dDMpO1xuXG5cdFx0XHRpbnB1dDMuY2hlY2tlZCA9IGN0eC5zaG93VHlwZUFib3V0O1xuXG5cdFx0XHRhcHBlbmQobGFiZWw0LCB0MTgpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNCwgaTMpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNCwgdDE5KTtcblx0XHRcdGFwcGVuZChsYWJlbDQsIGIwKTtcblx0XHRcdGFwcGVuZChsYWJlbDQsIHQyMSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDIyKTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDUpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNSwgaW5wdXQ0KTtcblxuXHRcdFx0aW5wdXQ0LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVCbG9nO1xuXG5cdFx0XHRhcHBlbmQobGFiZWw1LCB0MjMpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNSwgaTQpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNSwgdDI0KTtcblx0XHRcdGFwcGVuZChsYWJlbDUsIGIxKTtcblx0XHRcdGFwcGVuZChsYWJlbDUsIHQyNik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDI3KTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDYpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNiwgaW5wdXQ1KTtcblxuXHRcdFx0aW5wdXQ1LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVDaGFubmVsO1xuXG5cdFx0XHRhcHBlbmQobGFiZWw2LCB0MjgpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNiwgaTUpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNiwgdDI5KTtcblx0XHRcdGFwcGVuZChsYWJlbDYsIGIyKTtcblx0XHRcdGFwcGVuZChsYWJlbDYsIHQzMSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDMyKTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDcpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNywgaW5wdXQ2KTtcblxuXHRcdFx0aW5wdXQ2LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVDb250YWN0O1xuXG5cdFx0XHRhcHBlbmQobGFiZWw3LCB0MzMpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNywgaTYpO1xuXHRcdFx0YXBwZW5kKGxhYmVsNywgdDM0KTtcblx0XHRcdGFwcGVuZChsYWJlbDcsIGIzKTtcblx0XHRcdGFwcGVuZChsYWJlbDcsIHQzNik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDM3KTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDgpO1xuXHRcdFx0YXBwZW5kKGxhYmVsOCwgaW5wdXQ3KTtcblxuXHRcdFx0aW5wdXQ3LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVQb3N0O1xuXG5cdFx0XHRhcHBlbmQobGFiZWw4LCB0MzgpO1xuXHRcdFx0YXBwZW5kKGxhYmVsOCwgaTcpO1xuXHRcdFx0YXBwZW5kKGxhYmVsOCwgdDM5KTtcblx0XHRcdGFwcGVuZChsYWJlbDgsIGI0KTtcblx0XHRcdGFwcGVuZChsYWJlbDgsIHQ0MSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDQyKTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDkpO1xuXHRcdFx0YXBwZW5kKGxhYmVsOSwgaW5wdXQ4KTtcblxuXHRcdFx0aW5wdXQ4LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVQdWI7XG5cblx0XHRcdGFwcGVuZChsYWJlbDksIHQ0Myk7XG5cdFx0XHRhcHBlbmQobGFiZWw5LCBpOCk7XG5cdFx0XHRhcHBlbmQobGFiZWw5LCB0NDQpO1xuXHRcdFx0YXBwZW5kKGxhYmVsOSwgYjUpO1xuXHRcdFx0YXBwZW5kKGxhYmVsOSwgdDQ2KTtcblx0XHRcdGFwcGVuZChmb3JtLCB0NDcpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsMTApO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTAsIGlucHV0OSk7XG5cblx0XHRcdGlucHV0OS5jaGVja2VkID0gY3R4LnNob3dUeXBlUHJpdmF0ZTtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMTAsIHQ0OCk7XG5cdFx0XHRhcHBlbmQobGFiZWwxMCwgaTkpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTAsIHQ0OSk7XG5cdFx0XHRhcHBlbmQobGFiZWwxMCwgYjYpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTAsIHQ1MSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDUyKTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDExKTtcblx0XHRcdGFwcGVuZChsYWJlbDExLCBpbnB1dDEwKTtcblxuXHRcdFx0aW5wdXQxMC5jaGVja2VkID0gY3R4LnNob3dUeXBlVm90ZTtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMTEsIHQ1Myk7XG5cdFx0XHRhcHBlbmQobGFiZWwxMSwgaTEwKTtcblx0XHRcdGFwcGVuZChsYWJlbDExLCB0NTQpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTEsIGI3KTtcblx0XHRcdGFwcGVuZChsYWJlbDExLCB0NTYpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQ1Nyk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgZGl2KTtcblx0XHRcdGFwcGVuZChmb3JtLCB0NTgpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsMTIpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTIsIGlucHV0MTEpO1xuXG5cdFx0XHRpbnB1dDExLmNoZWNrZWQgPSBjdHguc2hvd1R5cGVVbmtub3duO1xuXG5cdFx0XHRhcHBlbmQobGFiZWwxMiwgdDU5KTtcblx0XHRcdGFwcGVuZChsYWJlbDEyLCBpMTEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTIsIHQ2MCk7XG5cdFx0XHRhcHBlbmQobGFiZWwxMiwgYjgpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMTIsIHQ2Mik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDYzKTtcblx0XHRcdGFwcGVuZChmb3JtLCBicjEpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoY2hhbmdlZC5jb2x1bW5TaXplKSBpbnB1dDAuY2hlY2tlZCA9IGlucHV0MC5fX3ZhbHVlID09PSBjdHguY29sdW1uU2l6ZTtcblx0XHRcdGlmIChjaGFuZ2VkLmNvbHVtblNpemUpIGlucHV0MS5jaGVja2VkID0gaW5wdXQxLl9fdmFsdWUgPT09IGN0eC5jb2x1bW5TaXplO1xuXHRcdFx0aWYgKGNoYW5nZWQubGltaXQpIGlucHV0Mi52YWx1ZSA9IGN0eC5saW1pdDtcblx0XHRcdGlmIChjaGFuZ2VkLnNob3dUeXBlQWJvdXQpIGlucHV0My5jaGVja2VkID0gY3R4LnNob3dUeXBlQWJvdXQ7XG5cdFx0XHRpZiAoY2hhbmdlZC5zaG93VHlwZUJsb2cpIGlucHV0NC5jaGVja2VkID0gY3R4LnNob3dUeXBlQmxvZztcblx0XHRcdGlmIChjaGFuZ2VkLnNob3dUeXBlQ2hhbm5lbCkgaW5wdXQ1LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVDaGFubmVsO1xuXHRcdFx0aWYgKGNoYW5nZWQuc2hvd1R5cGVDb250YWN0KSBpbnB1dDYuY2hlY2tlZCA9IGN0eC5zaG93VHlwZUNvbnRhY3Q7XG5cdFx0XHRpZiAoY2hhbmdlZC5zaG93VHlwZVBvc3QpIGlucHV0Ny5jaGVja2VkID0gY3R4LnNob3dUeXBlUG9zdDtcblx0XHRcdGlmIChjaGFuZ2VkLnNob3dUeXBlUHViKSBpbnB1dDguY2hlY2tlZCA9IGN0eC5zaG93VHlwZVB1Yjtcblx0XHRcdGlmIChjaGFuZ2VkLnNob3dUeXBlUHJpdmF0ZSkgaW5wdXQ5LmNoZWNrZWQgPSBjdHguc2hvd1R5cGVQcml2YXRlO1xuXHRcdFx0aWYgKGNoYW5nZWQuc2hvd1R5cGVWb3RlKSBpbnB1dDEwLmNoZWNrZWQgPSBjdHguc2hvd1R5cGVWb3RlO1xuXHRcdFx0aWYgKGNoYW5nZWQuc2hvd1R5cGVVbmtub3duKSBpbnB1dDExLmNoZWNrZWQgPSBjdHguc2hvd1R5cGVVbmtub3duO1xuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaDEpO1xuXHRcdFx0XHRkZXRhY2godDEpO1xuXHRcdFx0XHRkZXRhY2goZm9ybSk7XG5cdFx0XHR9XG5cblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnNwbGljZShjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5pbmRleE9mKGlucHV0MCksIDEpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0uc3BsaWNlKGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLmluZGV4T2YoaW5wdXQxKSwgMSk7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgeyBnZXRQcmVmLCBzZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vLi4vcHJlZnMuanNcIik7XHJcbiAgbGV0IGxpbWl0ID0gZ2V0UHJlZihcImxpbWl0XCIsIDEwKTtcclxuICBsZXQgY29sdW1uU2l6ZSA9IGdldFByZWYoXCJjb2x1bW5TaXplXCIsIFwic2hvcnRcIik7XHJcblxyXG4gIGRvY3VtZW50LnRpdGxlID0gXCJQYXRjaGZveCAtIFNldHRpbmdzIC0gRGlzcGxheSBQcmVmZXJlbmNlc1wiO1xyXG5cclxuICAvLyBtZXNzYWdlIHR5cGUgZmlsdGVyc1xyXG4gIGxldCBzaG93VHlwZVVua25vd24gPSBnZXRQcmVmKFwic2hvd1R5cGVVbmtub3duXCIsIGZhbHNlKTtcclxuICBsZXQgc2hvd1R5cGVBYm91dCA9IGdldFByZWYoXCJzaG93VHlwZUFib3V0XCIsIHRydWUpO1xyXG4gIGxldCBzaG93VHlwZUJsb2cgPSBnZXRQcmVmKFwic2hvd1R5cGVCbG9nXCIsIHRydWUpO1xyXG4gIGxldCBzaG93VHlwZUNoYW5uZWwgPSBnZXRQcmVmKFwic2hvd1R5cGVDaGFubmVsXCIsIHRydWUpO1xyXG4gIGxldCBzaG93VHlwZUNvbnRhY3QgPSBnZXRQcmVmKFwic2hvd1R5cGVDb250YWN0XCIsIHRydWUpO1xyXG4gIGxldCBzaG93VHlwZVBvc3QgPSBnZXRQcmVmKFwic2hvd1R5cGVQb3N0XCIsIHRydWUpO1xyXG4gIGxldCBzaG93VHlwZVByaXZhdGUgPSBnZXRQcmVmKFwic2hvd1R5cGVQcml2YXRlXCIsIHRydWUpO1xyXG4gIGxldCBzaG93VHlwZVB1YiA9IGdldFByZWYoXCJzaG93VHlwZVB1YlwiLCB0cnVlKTtcclxuICBsZXQgc2hvd1R5cGVWb3RlID0gZ2V0UHJlZihcInNob3dUeXBlVm90ZVwiLCB0cnVlKTtcblxuXHRjb25zdCAkJGJpbmRpbmdfZ3JvdXBzID0gW1tdXTtcblxuXHRmdW5jdGlvbiBpbnB1dDBfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0Y29sdW1uU2l6ZSA9IHRoaXMuX192YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2NvbHVtblNpemUnLCBjb2x1bW5TaXplKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyKCkge1xuXHRcdHJldHVybiBzZXRQcmVmKCdjb2x1bW5TaXplJywgY29sdW1uU2l6ZSk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dDFfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0Y29sdW1uU2l6ZSA9IHRoaXMuX192YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2NvbHVtblNpemUnLCBjb2x1bW5TaXplKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyXzEoKSB7XG5cdFx0cmV0dXJuIHNldFByZWYoJ2NvbHVtblNpemUnLCBjb2x1bW5TaXplKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0Ml9pbnB1dF9oYW5kbGVyKCkge1xuXHRcdGxpbWl0ID0gdG9fbnVtYmVyKHRoaXMudmFsdWUpO1xuXHRcdCQkaW52YWxpZGF0ZSgnbGltaXQnLCBsaW1pdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGFuZ2VfaGFuZGxlcl8yKCkge1xuXHRcdHJldHVybiBzZXRQcmVmKCdsaW1pdCcsIGxpbWl0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0M19jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzaG93VHlwZUFib3V0ID0gdGhpcy5jaGVja2VkO1xuXHRcdCQkaW52YWxpZGF0ZSgnc2hvd1R5cGVBYm91dCcsIHNob3dUeXBlQWJvdXQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlX2hhbmRsZXJfMyhldikge1xyXG5cdCAgICAgICAgc2V0UHJlZignc2hvd1R5cGVBYm91dCcsIHNob3dUeXBlQWJvdXQpO1xyXG5cdCAgICAgIH1cblxuXHRmdW5jdGlvbiBpbnB1dDRfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0c2hvd1R5cGVCbG9nID0gdGhpcy5jaGVja2VkO1xuXHRcdCQkaW52YWxpZGF0ZSgnc2hvd1R5cGVCbG9nJywgc2hvd1R5cGVCbG9nKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyXzQoZXYpIHtcclxuXHQgICAgICAgIHNldFByZWYoJ3Nob3dUeXBlQmxvZycsIHNob3dUeXBlQmxvZyk7XHJcblx0ICAgICAgfVxuXG5cdGZ1bmN0aW9uIGlucHV0NV9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzaG93VHlwZUNoYW5uZWwgPSB0aGlzLmNoZWNrZWQ7XG5cdFx0JCRpbnZhbGlkYXRlKCdzaG93VHlwZUNoYW5uZWwnLCBzaG93VHlwZUNoYW5uZWwpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlX2hhbmRsZXJfNShldikge1xyXG5cdCAgICAgICAgc2V0UHJlZignc2hvd1R5cGVDaGFubmVsJywgc2hvd1R5cGVDaGFubmVsKTtcclxuXHQgICAgICB9XG5cblx0ZnVuY3Rpb24gaW5wdXQ2X2NoYW5nZV9oYW5kbGVyKCkge1xuXHRcdHNob3dUeXBlQ29udGFjdCA9IHRoaXMuY2hlY2tlZDtcblx0XHQkJGludmFsaWRhdGUoJ3Nob3dUeXBlQ29udGFjdCcsIHNob3dUeXBlQ29udGFjdCk7XG5cdH1cblxuXHRmdW5jdGlvbiBjaGFuZ2VfaGFuZGxlcl82KGV2KSB7XHJcblx0ICAgICAgICBzZXRQcmVmKCdzaG93VHlwZUNvbnRhY3QnLCBzaG93VHlwZUNvbnRhY3QpO1xyXG5cdCAgICAgIH1cblxuXHRmdW5jdGlvbiBpbnB1dDdfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0c2hvd1R5cGVQb3N0ID0gdGhpcy5jaGVja2VkO1xuXHRcdCQkaW52YWxpZGF0ZSgnc2hvd1R5cGVQb3N0Jywgc2hvd1R5cGVQb3N0KTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyXzcoZXYpIHtcclxuXHQgICAgICAgIHNldFByZWYoJ3Nob3dUeXBlUG9zdCcsIHNob3dUeXBlUG9zdCk7XHJcblx0ICAgICAgfVxuXG5cdGZ1bmN0aW9uIGlucHV0OF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzaG93VHlwZVB1YiA9IHRoaXMuY2hlY2tlZDtcblx0XHQkJGludmFsaWRhdGUoJ3Nob3dUeXBlUHViJywgc2hvd1R5cGVQdWIpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlX2hhbmRsZXJfOChldikge1xyXG5cdCAgICAgICAgc2V0UHJlZignc2hvd1R5cGVQdWInLCBzaG93VHlwZVB1Yik7XHJcblx0ICAgICAgfVxuXG5cdGZ1bmN0aW9uIGlucHV0OV9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzaG93VHlwZVByaXZhdGUgPSB0aGlzLmNoZWNrZWQ7XG5cdFx0JCRpbnZhbGlkYXRlKCdzaG93VHlwZVByaXZhdGUnLCBzaG93VHlwZVByaXZhdGUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlX2hhbmRsZXJfOShldikge1xyXG5cdCAgICAgICAgc2V0UHJlZignc2hvd1R5cGVQcml2YXRlJywgc2hvd1R5cGVQcml2YXRlKTtcclxuXHQgICAgICB9XG5cblx0ZnVuY3Rpb24gaW5wdXQxMF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRzaG93VHlwZVZvdGUgPSB0aGlzLmNoZWNrZWQ7XG5cdFx0JCRpbnZhbGlkYXRlKCdzaG93VHlwZVZvdGUnLCBzaG93VHlwZVZvdGUpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlX2hhbmRsZXJfMTAoZXYpIHtcclxuXHQgICAgICAgIHNldFByZWYoJ3Nob3dUeXBlVm90ZScsIHNob3dUeXBlVm90ZSk7XHJcblx0ICAgICAgfVxuXG5cdGZ1bmN0aW9uIGlucHV0MTFfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0c2hvd1R5cGVVbmtub3duID0gdGhpcy5jaGVja2VkO1xuXHRcdCQkaW52YWxpZGF0ZSgnc2hvd1R5cGVVbmtub3duJywgc2hvd1R5cGVVbmtub3duKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyXzExKGV2KSB7XHJcblx0ICAgICAgICBzZXRQcmVmKCdzaG93VHlwZVVua25vd24nLCBzaG93VHlwZVVua25vd24pO1xyXG5cdCAgICAgIH1cblxuXHRyZXR1cm4ge1xuXHRcdHNldFByZWYsXG5cdFx0bGltaXQsXG5cdFx0Y29sdW1uU2l6ZSxcblx0XHRzaG93VHlwZVVua25vd24sXG5cdFx0c2hvd1R5cGVBYm91dCxcblx0XHRzaG93VHlwZUJsb2csXG5cdFx0c2hvd1R5cGVDaGFubmVsLFxuXHRcdHNob3dUeXBlQ29udGFjdCxcblx0XHRzaG93VHlwZVBvc3QsXG5cdFx0c2hvd1R5cGVQcml2YXRlLFxuXHRcdHNob3dUeXBlUHViLFxuXHRcdHNob3dUeXBlVm90ZSxcblx0XHRpbnB1dDBfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXIsXG5cdFx0aW5wdXQxX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNoYW5nZV9oYW5kbGVyXzEsXG5cdFx0aW5wdXQyX2lucHV0X2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfMixcblx0XHRpbnB1dDNfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfMyxcblx0XHRpbnB1dDRfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfNCxcblx0XHRpbnB1dDVfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfNSxcblx0XHRpbnB1dDZfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfNixcblx0XHRpbnB1dDdfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfNyxcblx0XHRpbnB1dDhfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfOCxcblx0XHRpbnB1dDlfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfOSxcblx0XHRpbnB1dDEwX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNoYW5nZV9oYW5kbGVyXzEwLFxuXHRcdGlucHV0MTFfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXJfMTEsXG5cdFx0JCRiaW5kaW5nX2dyb3Vwc1xuXHR9O1xufVxuXG5jbGFzcyBEaXNwbGF5UHJlZmVyZW5jZXMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRGlzcGxheVByZWZlcmVuY2VzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2ZG1sbGQzTXZjMlYwZEdsdVozTXZSR2x6Y0d4aGVWQnlaV1psY21WdVkyVnpMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCZVc1Q1FTeHBRa0ZCYTBJaWZRPT0iLCIvKiBGaWx0ZXJzLnN2ZWx0ZSBnZW5lcmF0ZWQgYnkgU3ZlbHRlIHYzLjcuMSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHtcblx0U3ZlbHRlQ29tcG9uZW50RGV2LFxuXHRhZGRfbG9jYXRpb24sXG5cdGFwcGVuZCxcblx0YXR0cixcblx0ZGVzdHJveV9lYWNoLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c2V0X2RhdGEsXG5cdHNwYWNlLFxuXHR0ZXh0XG59ID0gcmVxdWlyZShcInN2ZWx0ZS9pbnRlcm5hbFwiKTtcblxuY29uc3QgZmlsZSA9IFwiRmlsdGVycy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gZ2V0X2VhY2hfY29udGV4dChjdHgsIGxpc3QsIGkpIHtcblx0Y29uc3QgY2hpbGRfY3R4ID0gT2JqZWN0LmNyZWF0ZShjdHgpO1xuXHRjaGlsZF9jdHguZmlsdGVyID0gbGlzdFtpXTtcblx0cmV0dXJuIGNoaWxkX2N0eDtcbn1cblxuLy8gKDEyOTo0KSB7OmVsc2V9XG5mdW5jdGlvbiBjcmVhdGVfZWxzZV9ibG9jayhjdHgpIHtcblx0dmFyIGRpdiwgcCwgdF8xO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdHAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdHAudGV4dENvbnRlbnQgPSBcIllvdSBkb24ndCBoYXZlIGFueSBmaWx0ZXIgeWV0LlwiO1xuXHRcdFx0dF8xID0gc3BhY2UoKTtcblx0XHRcdGF0dHIocCwgXCJjbGFzc1wiLCBcImxhYmVsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAsIGZpbGUsIDEzMCwgOCwgNDA1MCk7XG5cdFx0XHRhdHRyKGRpdiwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtMTJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2LCBmaWxlLCAxMjksIDYsIDQwMTMpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2LCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGRpdiwgcCk7XG5cdFx0XHRhcHBlbmQoZGl2LCB0XzEpO1xuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goZGl2KTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg4NDoxNCkgeyNpZiBmaWx0ZXIuZmVlZH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18zKGN0eCkge1xuXHR2YXIgbGksIHQwLCBhLCB0MV92YWx1ZSA9IGN0eC5maWx0ZXIuZmVlZCwgdDEsIGFfaHJlZl92YWx1ZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGxpID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0dDAgPSB0ZXh0KFwiRnJvbVxcclxcbiAgICAgICAgICAgICAgICAgIFwiKTtcblx0XHRcdGEgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdHQxID0gdGV4dCh0MV92YWx1ZSk7XG5cdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUgPSBcIj9mZWVkPVwiICsgY3R4LmZpbHRlci5mZWVkICsgXCIjL3Byb2ZpbGVcIik7XG5cdFx0XHRhdHRyKGEsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YXR0cihhLCBcImNsYXNzXCIsIFwiZmVlZFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCA4NiwgMTgsIDI3MjcpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpLCBmaWxlLCA4NCwgMTYsIDI2NzkpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgbGksIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQobGksIHQwKTtcblx0XHRcdGFwcGVuZChsaSwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdDEpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoKGNoYW5nZWQuY3VycmVudEZpbHRlcnMpICYmIHQxX3ZhbHVlICE9PSAodDFfdmFsdWUgPSBjdHguZmlsdGVyLmZlZWQpKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCB0MV92YWx1ZSk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICgoY2hhbmdlZC5jdXJyZW50RmlsdGVycykgJiYgYV9ocmVmX3ZhbHVlICE9PSAoYV9ocmVmX3ZhbHVlID0gXCI/ZmVlZD1cIiArIGN0eC5maWx0ZXIuZmVlZCArIFwiIy9wcm9maWxlXCIpKSB7XG5cdFx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIGFfaHJlZl92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChsaSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG4vLyAoOTU6MTQpIHsjaWYgZmlsdGVyLmNoYW5uZWx9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2tfMihjdHgpIHtcblx0dmFyIGxpLCB0MCwgYSwgdDEsIHQyX3ZhbHVlID0gY3R4LmZpbHRlci5jaGFubmVsLCB0MiwgYV9ocmVmX3ZhbHVlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0bGkgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHR0MCA9IHRleHQoXCJPbiBjaGFubmVsXFxyXFxuICAgICAgICAgICAgICAgICAgXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KFwiI1wiKTtcblx0XHRcdHQyID0gdGV4dCh0Ml92YWx1ZSk7XG5cdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUgPSBcIj9jaGFubmVsPVwiICsgY3R4LmZpbHRlci5mZWVkICsgXCIjL2NoYW5uZWxcIik7XG5cdFx0XHRhdHRyKGEsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YXR0cihhLCBcImNsYXNzXCIsIFwiZmVlZFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCA5NywgMTgsIDMwNjkpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpLCBmaWxlLCA5NSwgMTYsIDMwMTUpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgbGksIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQobGksIHQwKTtcblx0XHRcdGFwcGVuZChsaSwgYSk7XG5cdFx0XHRhcHBlbmQoYSwgdDEpO1xuXHRcdFx0YXBwZW5kKGEsIHQyKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKChjaGFuZ2VkLmN1cnJlbnRGaWx0ZXJzKSAmJiB0Ml92YWx1ZSAhPT0gKHQyX3ZhbHVlID0gY3R4LmZpbHRlci5jaGFubmVsKSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0MiwgdDJfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoKGNoYW5nZWQuY3VycmVudEZpbHRlcnMpICYmIGFfaHJlZl92YWx1ZSAhPT0gKGFfaHJlZl92YWx1ZSA9IFwiP2NoYW5uZWw9XCIgKyBjdHguZmlsdGVyLmZlZWQgKyBcIiMvY2hhbm5lbFwiKSkge1xuXHRcdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBhX2hyZWZfdmFsdWUpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2gobGkpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuLy8gKDEwNjoxNCkgeyNpZiBmaWx0ZXIua2V5d29yZHMubGVuZ3RoID4gMH1cbmZ1bmN0aW9uIGNyZWF0ZV9pZl9ibG9ja18xKGN0eCkge1xuXHR2YXIgaSwgbGksIHQwLCB0MV92YWx1ZSA9IGN0eC5maWx0ZXIua2V5d29yZHMuam9pbignLCAnKSwgdDE7XG5cblx0cmV0dXJuIHtcblx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRpID0gZWxlbWVudChcImlcIik7XG5cdFx0XHRsaSA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdHQwID0gdGV4dChcIkNvbnRhaW5pbmc6IFwiKTtcblx0XHRcdHQxID0gdGV4dCh0MV92YWx1ZSk7XG5cdFx0XHRhZGRfbG9jYXRpb24obGksIGZpbGUsIDEwNywgMTgsIDMzOTkpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGksIGZpbGUsIDEwNiwgMTYsIDMzNzYpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChpLCBsaSk7XG5cdFx0XHRhcHBlbmQobGksIHQwKTtcblx0XHRcdGFwcGVuZChsaSwgdDEpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHRpZiAoKGNoYW5nZWQuY3VycmVudEZpbHRlcnMpICYmIHQxX3ZhbHVlICE9PSAodDFfdmFsdWUgPSBjdHguZmlsdGVyLmtleXdvcmRzLmpvaW4oJywgJykpKSB7XG5cdFx0XHRcdHNldF9kYXRhKHQxLCB0MV92YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChpKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICgxMTE6MTQpIHsjaWYgZmlsdGVyLmV4cGlyZXN9XG5mdW5jdGlvbiBjcmVhdGVfaWZfYmxvY2soY3R4KSB7XG5cdHZhciBsaSwgdDAsIHQxX3ZhbHVlID0gY3R4LmZpbHRlci5leHBpcmVzLCB0MTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGxpID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0dDAgPSB0ZXh0KFwiRXhwaXJpbmcgaW4gXCIpO1xuXHRcdFx0dDEgPSB0ZXh0KHQxX3ZhbHVlKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaSwgZmlsZSwgMTExLCAxNiwgMzU0NSk7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBsaSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChsaSwgdDApO1xuXHRcdFx0YXBwZW5kKGxpLCB0MSk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmICgoY2hhbmdlZC5jdXJyZW50RmlsdGVycykgJiYgdDFfdmFsdWUgIT09ICh0MV92YWx1ZSA9IGN0eC5maWx0ZXIuZXhwaXJlcykpIHtcblx0XHRcdFx0c2V0X2RhdGEodDEsIHQxX3ZhbHVlKTtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGxpKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8vICg3Njo0KSB7I2VhY2ggY3VycmVudEZpbHRlcnMgYXMgZmlsdGVyfVxuZnVuY3Rpb24gY3JlYXRlX2VhY2hfYmxvY2soY3R4KSB7XG5cdHZhciBkaXY1LCBkaXY0LCBkaXYxLCBkaXYwLCB0MF92YWx1ZSA9IGN0eC5maWx0ZXIuYWN0aW9uLCB0MCwgdDEsIGRpdjIsIHVsLCB0MiwgdDMsIHQ0LCB0NSwgZGl2MywgYnV0dG9uLCB0NywgZGlzcG9zZTtcblxuXHR2YXIgaWZfYmxvY2swID0gKGN0eC5maWx0ZXIuZmVlZCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzMoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2sxID0gKGN0eC5maWx0ZXIuY2hhbm5lbCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzIoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2syID0gKGN0eC5maWx0ZXIua2V5d29yZHMubGVuZ3RoID4gMCkgJiYgY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblxuXHR2YXIgaWZfYmxvY2szID0gKGN0eC5maWx0ZXIuZXhwaXJlcykgJiYgY3JlYXRlX2lmX2Jsb2NrKGN0eCk7XG5cblx0ZnVuY3Rpb24gY2xpY2tfaGFuZGxlcigpIHtcblx0XHRyZXR1cm4gY3R4LmNsaWNrX2hhbmRsZXIoY3R4KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0ZGl2NSA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRkaXY0ID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR0MCA9IHRleHQodDBfdmFsdWUpO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MiA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHR1bCA9IGVsZW1lbnQoXCJ1bFwiKTtcblx0XHRcdGlmIChpZl9ibG9jazApIGlmX2Jsb2NrMC5jKCk7XG5cdFx0XHR0MiA9IHNwYWNlKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2sxKSBpZl9ibG9jazEuYygpO1xuXHRcdFx0dDMgPSBzcGFjZSgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLmMoKTtcblx0XHRcdHQ0ID0gc3BhY2UoKTtcblx0XHRcdGlmIChpZl9ibG9jazMpIGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHR0NSA9IHNwYWNlKCk7XG5cdFx0XHRkaXYzID0gZWxlbWVudChcImRpdlwiKTtcblx0XHRcdGJ1dHRvbiA9IGVsZW1lbnQoXCJidXR0b25cIik7XG5cdFx0XHRidXR0b24udGV4dENvbnRlbnQgPSBcIkRlbGV0ZVwiO1xuXHRcdFx0dDcgPSBzcGFjZSgpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiY2FyZC10aXRsZSBoNVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYwLCBmaWxlLCA3OSwgMTIsIDI1MDkpO1xuXHRcdFx0YXR0cihkaXYxLCBcImNsYXNzXCIsIFwiY2FyZC1oZWFkZXJcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZGl2MSwgZmlsZSwgNzgsIDEwLCAyNDcwKTtcblx0XHRcdGFkZF9sb2NhdGlvbih1bCwgZmlsZSwgODIsIDEyLCAyNjI0KTtcblx0XHRcdGF0dHIoZGl2MiwgXCJjbGFzc1wiLCBcImNhcmQtYm9keVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYyLCBmaWxlLCA4MSwgMTAsIDI1ODcpO1xuXHRcdFx0YXR0cihidXR0b24sIFwiY2xhc3NcIiwgXCJidG5cIik7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJhcmlhLWxhYmVsXCIsIFwiRGVsZXRlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbiwgZmlsZSwgMTE2LCAxMiwgMzY5MSk7XG5cdFx0XHRhdHRyKGRpdjMsIFwiY2xhc3NcIiwgXCJjYXJkLWZvb3RlclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYzLCBmaWxlLCAxMTUsIDEwLCAzNjUyKTtcblx0XHRcdGF0dHIoZGl2NCwgXCJjbGFzc1wiLCBcImNhcmQgZmlsdGVyXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjQsIGZpbGUsIDc3LCA4LCAyNDMzKTtcblx0XHRcdGF0dHIoZGl2NSwgXCJjbGFzc1wiLCBcImNvbHVtbiBjb2wtNlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXY1LCBmaWxlLCA3NiwgNiwgMjM5Nyk7XG5cdFx0XHRkaXNwb3NlID0gbGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCBjbGlja19oYW5kbGVyKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjUsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2NSwgZGl2NCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgZGl2MSk7XG5cdFx0XHRhcHBlbmQoZGl2MSwgZGl2MCk7XG5cdFx0XHRhcHBlbmQoZGl2MCwgdDApO1xuXHRcdFx0YXBwZW5kKGRpdjQsIHQxKTtcblx0XHRcdGFwcGVuZChkaXY0LCBkaXYyKTtcblx0XHRcdGFwcGVuZChkaXYyLCB1bCk7XG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAubSh1bCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQodWwsIHQyKTtcblx0XHRcdGlmIChpZl9ibG9jazEpIGlmX2Jsb2NrMS5tKHVsLCBudWxsKTtcblx0XHRcdGFwcGVuZCh1bCwgdDMpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMikgaWZfYmxvY2syLm0odWwsIG51bGwpO1xuXHRcdFx0YXBwZW5kKHVsLCB0NCk7XG5cdFx0XHRpZiAoaWZfYmxvY2szKSBpZl9ibG9jazMubSh1bCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2NCwgdDUpO1xuXHRcdFx0YXBwZW5kKGRpdjQsIGRpdjMpO1xuXHRcdFx0YXBwZW5kKGRpdjMsIGJ1dHRvbik7XG5cdFx0XHRhcHBlbmQoZGl2NSwgdDcpO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgbmV3X2N0eCkge1xuXHRcdFx0Y3R4ID0gbmV3X2N0eDtcblx0XHRcdGlmICgoY2hhbmdlZC5jdXJyZW50RmlsdGVycykgJiYgdDBfdmFsdWUgIT09ICh0MF92YWx1ZSA9IGN0eC5maWx0ZXIuYWN0aW9uKSkge1xuXHRcdFx0XHRzZXRfZGF0YSh0MCwgdDBfdmFsdWUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmZpbHRlci5mZWVkKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazApIHtcblx0XHRcdFx0XHRpZl9ibG9jazAucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMCA9IGNyZWF0ZV9pZl9ibG9ja18zKGN0eCk7XG5cdFx0XHRcdFx0aWZfYmxvY2swLmMoKTtcblx0XHRcdFx0XHRpZl9ibG9jazAubSh1bCwgdDIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMCkge1xuXHRcdFx0XHRpZl9ibG9jazAuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2swID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGN0eC5maWx0ZXIuY2hhbm5lbCkge1xuXHRcdFx0XHRpZiAoaWZfYmxvY2sxKSB7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLnAoY2hhbmdlZCwgY3R4KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZl9ibG9jazEgPSBjcmVhdGVfaWZfYmxvY2tfMihjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMS5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2sxLm0odWwsIHQzKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChpZl9ibG9jazEpIHtcblx0XHRcdFx0aWZfYmxvY2sxLmQoMSk7XG5cdFx0XHRcdGlmX2Jsb2NrMSA9IG51bGw7XG5cdFx0XHR9XG5cblx0XHRcdGlmIChjdHguZmlsdGVyLmtleXdvcmRzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0aWYgKGlmX2Jsb2NrMikge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5wKGNoYW5nZWQsIGN0eCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWZfYmxvY2syID0gY3JlYXRlX2lmX2Jsb2NrXzEoY3R4KTtcblx0XHRcdFx0XHRpZl9ibG9jazIuYygpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMi5tKHVsLCB0NCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoaWZfYmxvY2syKSB7XG5cdFx0XHRcdGlmX2Jsb2NrMi5kKDEpO1xuXHRcdFx0XHRpZl9ibG9jazIgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoY3R4LmZpbHRlci5leHBpcmVzKSB7XG5cdFx0XHRcdGlmIChpZl9ibG9jazMpIHtcblx0XHRcdFx0XHRpZl9ibG9jazMucChjaGFuZ2VkLCBjdHgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmX2Jsb2NrMyA9IGNyZWF0ZV9pZl9ibG9jayhjdHgpO1xuXHRcdFx0XHRcdGlmX2Jsb2NrMy5jKCk7XG5cdFx0XHRcdFx0aWZfYmxvY2szLm0odWwsIG51bGwpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKGlmX2Jsb2NrMykge1xuXHRcdFx0XHRpZl9ibG9jazMuZCgxKTtcblx0XHRcdFx0aWZfYmxvY2szID0gbnVsbDtcblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGRpdjUpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWZfYmxvY2swKSBpZl9ibG9jazAuZCgpO1xuXHRcdFx0aWYgKGlmX2Jsb2NrMSkgaWZfYmxvY2sxLmQoKTtcblx0XHRcdGlmIChpZl9ibG9jazIpIGlmX2Jsb2NrMi5kKCk7XG5cdFx0XHRpZiAoaWZfYmxvY2szKSBpZl9ibG9jazMuZCgpO1xuXHRcdFx0ZGlzcG9zZSgpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgaDEsIHQxLCBwMCwgdDMsIGg1MCwgdDUsIHAxLCB0NiwgYSwgdDgsIHQ5LCBkaXYxLCBkaXYwLCB0MTAsIGg1MSwgdDEyLCBmb3JtX2dyb3VwLCBsYWJlbDAsIGlucHV0MCwgdDEzLCBpMCwgdDE0LCB0MTUsIGxhYmVsMSwgaW5wdXQxLCB0MTYsIGkxLCB0MTcsIHQxOCwgbGFiZWwyLCB0MjAsIGlucHV0MiwgdDIxLCBsYWJlbDMsIHQyMywgaW5wdXQzLCB0MjQsIGxhYmVsNCwgdDI2LCBpbnB1dDQsIHQyNywgbGFiZWw1LCB0MjksIGlucHV0NSwgdDMwLCBicjAsIHQzMSwgYnV0dG9uLCB0MzMsIGJyMSwgdDM0LCBicjIsIGRpc3Bvc2U7XG5cblx0dmFyIGVhY2hfdmFsdWUgPSBjdHguY3VycmVudEZpbHRlcnM7XG5cblx0dmFyIGVhY2hfYmxvY2tzID0gW107XG5cblx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX3ZhbHVlLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayhnZXRfZWFjaF9jb250ZXh0KGN0eCwgZWFjaF92YWx1ZSwgaSkpO1xuXHR9XG5cblx0dmFyIGVhY2hfMV9lbHNlID0gbnVsbDtcblxuXHRpZiAoIWVhY2hfdmFsdWUubGVuZ3RoKSB7XG5cdFx0ZWFjaF8xX2Vsc2UgPSBjcmVhdGVfZWxzZV9ibG9jayhjdHgpO1xuXHRcdGVhY2hfMV9lbHNlLmMoKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aDEgPSBlbGVtZW50KFwiaDFcIik7XG5cdFx0XHRoMS50ZXh0Q29udGVudCA9IFwiRmlsdGVyc1wiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0cDAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdHAwLnRleHRDb250ZW50ID0gXCJVc2UgdGhlIGZlYXR1cmVzIGZyb20gdGhpcyBzZWN0aW9uIHRvIHRhaWxvciB5b3VyIFBhdGNoZm94IGV4cGVyaWVuY2UgdG8gc3VpdFxcclxcbiAgeW91ciBuZWVkcy5cIjtcblx0XHRcdHQzID0gc3BhY2UoKTtcblx0XHRcdGg1MCA9IGVsZW1lbnQoXCJoNVwiKTtcblx0XHRcdGg1MC50ZXh0Q29udGVudCA9IFwiRmlsdGVyc1wiO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0cDEgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdHQ2ID0gdGV4dChcIlVzZSBmaWx0ZXJzIHRvIGhpZGUgbWVzc2FnZXMgYW5kIGJsdXIgaW1hZ2VzLiBVc2UgYW55IGNvbWJpbmF0aW9uIG9mIGNoYW5uZWwsXFxyXFxuICBmZWVkcyBhbmQga2V5d29yZHMgKHNlcGFyYXRlZCBieSBjb21tYXMpIHRvIGNyZWF0ZSB5b3VyIHRyaWdnZXJzIGFuZCBtYWtlIFNTQlxcclxcbiAgdGhlIHBsYXRmb3JtIHlvdSB3YW50LiBCZSBhd2FyZSB0aGF0IHRoZXNlIGZpbHRlcnMgYXJlIHNhdmVkIHRvIHlvdXIgYnJvd3NlcixcXHJcXG4gIHRoZXkgYXJlIG5vdCBzaGFyZWQgb24gdGhlIGZlZWQsIHRoZXkgZG9uJ3QgYWZmZWN0IGdvc3NpcGluZywgdGhleSBvbmx5IGFmZmVjdFxcclxcbiAgdGhlIGRpc3BsYXlpbmcgb2YgbWVzc2FnZXMgYW5kIGltYWdlcyBpbiBQYXRjaGZveCBpdHNlbGYuIElmIHlvdSBjcmVhdGUgYVxcclxcbiAgZmlsdGVyIGFuZCBvcGVuIGEgZGlmZmVyZW50IGNsaWVudCwgdGhleSB3b24ndCBiZSB3b3JraW5nIHRoZXJlLiBJZiB5b3Ugd2FudFxcclxcbiAgdG8gbGVhcm4gbW9yZSBhYm91dFxcclxcbiAgXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YS50ZXh0Q29udGVudCA9IFwiZmlsdGVycywgY2xpY2sgaGVyZSB0byBnbyB0byB0aGUgZG9jdW1lbnRhdGlvbi5cIjtcblx0XHRcdHQ4ID0gdGV4dChcIlxcclxcbiAgWW91IGNhbiBjcmVhdGUgYXMgbWFueSBmaWx0ZXJzIGFzIHlvdSB3YW50LlwiKTtcblx0XHRcdHQ5ID0gc3BhY2UoKTtcblx0XHRcdGRpdjEgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cblx0XHRcdGZvciAodmFyIGkgPSAwOyBpIDwgZWFjaF9ibG9ja3MubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0fVxuXG5cdFx0XHR0MTAgPSBzcGFjZSgpO1xuXHRcdFx0aDUxID0gZWxlbWVudChcImg1XCIpO1xuXHRcdFx0aDUxLnRleHRDb250ZW50ID0gXCJOZXcgRmlsdGVyXCI7XG5cdFx0XHR0MTIgPSBzcGFjZSgpO1xuXHRcdFx0Zm9ybV9ncm91cCA9IGVsZW1lbnQoXCJmb3JtLWdyb3VwXCIpO1xuXHRcdFx0bGFiZWwwID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQwID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDEzID0gc3BhY2UoKTtcblx0XHRcdGkwID0gZWxlbWVudChcImlcIik7XG5cdFx0XHR0MTQgPSB0ZXh0KFwiXFxyXFxuICAgIEhpZGUgTWVzc2FnZVwiKTtcblx0XHRcdHQxNSA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDEgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDEgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0MTYgPSBzcGFjZSgpO1xuXHRcdFx0aTEgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQxNyA9IHRleHQoXCJcXHJcXG4gICAgQmx1ciBJbWFnZXNcIik7XG5cdFx0XHR0MTggPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwyID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0bGFiZWwyLnRleHRDb250ZW50ID0gXCJDaGFubmVsXCI7XG5cdFx0XHR0MjAgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQyID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDIxID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMyA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsMy50ZXh0Q29udGVudCA9IFwiRmVlZFwiO1xuXHRcdFx0dDIzID0gc3BhY2UoKTtcblx0XHRcdGlucHV0MyA9IGVsZW1lbnQoXCJpbnB1dFwiKTtcblx0XHRcdHQyNCA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDQgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRsYWJlbDQudGV4dENvbnRlbnQgPSBcIktleXdvcmRzXCI7XG5cdFx0XHR0MjYgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQ0ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDI3ID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsNSA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsNS50ZXh0Q29udGVudCA9IFwiRXhwaXJhdGlvbiBEYXRlXCI7XG5cdFx0XHR0MjkgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQ1ID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDMwID0gc3BhY2UoKTtcblx0XHRcdGJyMCA9IGVsZW1lbnQoXCJiclwiKTtcblx0XHRcdHQzMSA9IHNwYWNlKCk7XG5cdFx0XHRidXR0b24gPSBlbGVtZW50KFwiYnV0dG9uXCIpO1xuXHRcdFx0YnV0dG9uLnRleHRDb250ZW50ID0gXCJBZGQgRmlsdGVyXCI7XG5cdFx0XHR0MzMgPSBzcGFjZSgpO1xuXHRcdFx0YnIxID0gZWxlbWVudChcImJyXCIpO1xuXHRcdFx0dDM0ID0gc3BhY2UoKTtcblx0XHRcdGJyMiA9IGVsZW1lbnQoXCJiclwiKTtcblx0XHRcdGF0dHIoaDEsIFwiY2xhc3NcIiwgXCJ0aXRsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihoMSwgZmlsZSwgNTQsIDAsIDE0NzMpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAwLCBmaWxlLCA1NSwgMCwgMTUwNSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oaDUwLCBmaWxlLCA1OSwgMCwgMTYxMik7XG5cdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBcIi9kb2NzL2luZGV4Lmh0bWwjL2ZlYXR1cmVzL2ZpbHRlcnNcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oYSwgZmlsZSwgNjgsIDIsIDIxNDIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAxLCBmaWxlLCA2MCwgMCwgMTYzMCk7XG5cdFx0XHRhdHRyKGRpdjAsIFwiY2xhc3NcIiwgXCJjb2x1bW5zXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDc0LCAyLCAyMzMwKTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbnRhaW5lclwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCA3MywgMCwgMjMwMyk7XG5cdFx0XHRhZGRfbG9jYXRpb24oaDUxLCBmaWxlLCAxMzUsIDAsIDQxNDgpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0ucHVzaChpbnB1dDApO1xuXHRcdFx0YXR0cihpbnB1dDAsIFwidHlwZVwiLCBcInJhZGlvXCIpO1xuXHRcdFx0YXR0cihpbnB1dDAsIFwibmFtZVwiLCBcImZpbHRlci1hY3Rpb25cIik7XG5cdFx0XHRpbnB1dDAuX192YWx1ZSA9IFwiaGlkZVwiO1xuXHRcdFx0aW5wdXQwLnZhbHVlID0gaW5wdXQwLl9fdmFsdWU7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQwLCBmaWxlLCAxMzgsIDQsIDQyMTcpO1xuXHRcdFx0YXR0cihpMCwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMCwgZmlsZSwgMTQzLCA0LCA0MzMzKTtcblx0XHRcdGF0dHIobGFiZWwwLCBcImNsYXNzXCIsIFwiZm9ybS1yYWRpb1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDAsIGZpbGUsIDEzNywgMiwgNDE4NSk7XG5cdFx0XHRjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5wdXNoKGlucHV0MSk7XG5cdFx0XHRhdHRyKGlucHV0MSwgXCJ0eXBlXCIsIFwicmFkaW9cIik7XG5cdFx0XHRhdHRyKGlucHV0MSwgXCJuYW1lXCIsIFwiZmlsdGVyLWFjdGlvblwiKTtcblx0XHRcdGlucHV0MS5fX3ZhbHVlID0gXCJibHVyXCI7XG5cdFx0XHRpbnB1dDEudmFsdWUgPSBpbnB1dDEuX192YWx1ZTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDEsIGZpbGUsIDE0NywgNCwgNDQyMik7XG5cdFx0XHRhdHRyKGkxLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkxLCBmaWxlLCAxNTIsIDQsIDQ1MzgpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiY2xhc3NcIiwgXCJmb3JtLXJhZGlvXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMSwgZmlsZSwgMTQ2LCAyLCA0MzkwKTtcblx0XHRcdGF0dHIobGFiZWwyLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWwyLCBcImZvclwiLCBcInJlbW90ZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDIsIGZpbGUsIDE1NSwgMiwgNDU5NCk7XG5cdFx0XHRhdHRyKGlucHV0MiwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0MiwgXCJ0eXBlXCIsIFwidGV4dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQyLCBcInBsYWNlaG9sZGVyXCIsIFwiQ2hhbm5lbFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDIsIGZpbGUsIDE1NiwgMiwgNDY1Mik7XG5cdFx0XHRhdHRyKGxhYmVsMywgXCJjbGFzc1wiLCBcImZvcm0tbGFiZWxcIik7XG5cdFx0XHRhdHRyKGxhYmVsMywgXCJmb3JcIiwgXCJyZW1vdGVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwzLCBmaWxlLCAxNjEsIDIsIDQ3NjUpO1xuXHRcdFx0YXR0cihpbnB1dDMsIFwiY2xhc3NcIiwgXCJmb3JtLWlucHV0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDMsIFwidHlwZVwiLCBcInRleHRcIik7XG5cdFx0XHRhdHRyKGlucHV0MywgXCJwbGFjZWhvbGRlclwiLCBcIkZlZWRcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQzLCBmaWxlLCAxNjIsIDIsIDQ4MjApO1xuXHRcdFx0YXR0cihsYWJlbDQsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YXR0cihsYWJlbDQsIFwiZm9yXCIsIFwicmVtb3RlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsNCwgZmlsZSwgMTY3LCAyLCA0OTI3KTtcblx0XHRcdGF0dHIoaW5wdXQ0LCBcImNsYXNzXCIsIFwiZm9ybS1pbnB1dFwiKTtcblx0XHRcdGF0dHIoaW5wdXQ0LCBcInR5cGVcIiwgXCJ0ZXh0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDQsIFwicGxhY2Vob2xkZXJcIiwgXCJLZXl3b3JkcyBzZXBhcmF0ZWQgYnkgY29tbWFzXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0NCwgZmlsZSwgMTY4LCAyLCA0OTg2KTtcblx0XHRcdGF0dHIobGFiZWw1LCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWw1LCBcImZvclwiLCBcInJlbW90ZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDUsIGZpbGUsIDE3MywgMiwgNTEyMSk7XG5cdFx0XHRhdHRyKGlucHV0NSwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0NSwgXCJ0eXBlXCIsIFwiZGF0ZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQ1LCBcInBsYWNlaG9sZGVyXCIsIFwiV2hlbiBzaG91bGQgdGhpcyBmaWx0ZXIgZXhwaXJ5XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0NSwgZmlsZSwgMTc0LCAyLCA1MTg3KTtcblx0XHRcdGFkZF9sb2NhdGlvbihmb3JtX2dyb3VwLCBmaWxlLCAxMzYsIDAsIDQxNjkpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJyMCwgZmlsZSwgMTgwLCAwLCA1MzM1KTtcblx0XHRcdGF0dHIoYnV0dG9uLCBcImNsYXNzXCIsIFwiYnRuIGJ0bi1wcmltYXJ5XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGJ1dHRvbiwgZmlsZSwgMTgxLCAwLCA1MzQzKTtcblx0XHRcdGFkZF9sb2NhdGlvbihicjEsIGZpbGUsIDE4MiwgMCwgNTQyMCk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnIyLCBmaWxlLCAxODMsIDAsIDU0MjgpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oaW5wdXQwLCBcImNoYW5nZVwiLCBjdHguaW5wdXQwX2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MSwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MV9jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDIsIFwiaW5wdXRcIiwgY3R4LmlucHV0Ml9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MywgXCJpbnB1dFwiLCBjdHguaW5wdXQzX2lucHV0X2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQ0LCBcImlucHV0XCIsIGN0eC5pbnB1dDRfaW5wdXRfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDUsIFwiaW5wdXRcIiwgY3R4LmlucHV0NV9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCBjdHguYWRkTmV3RmlsdGVyKVxuXHRcdFx0XTtcblx0XHR9LFxuXG5cdFx0bDogZnVuY3Rpb24gY2xhaW0obm9kZXMpIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMuaHlkcmF0ZSBvbmx5IHdvcmtzIGlmIHRoZSBjb21wb25lbnQgd2FzIGNvbXBpbGVkIHdpdGggdGhlIGBoeWRyYXRhYmxlOiB0cnVlYCBvcHRpb25cIik7XG5cdFx0fSxcblxuXHRcdG06IGZ1bmN0aW9uIG1vdW50KHRhcmdldCwgYW5jaG9yKSB7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBoMSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQxLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcDAsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MywgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGg1MCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQ1LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgcDEsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQocDEsIHQ2KTtcblx0XHRcdGFwcGVuZChwMSwgYSk7XG5cdFx0XHRhcHBlbmQocDEsIHQ4KTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQ5LCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZGl2MSwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChkaXYxLCBkaXYwKTtcblxuXHRcdFx0Zm9yICh2YXIgaSA9IDA7IGkgPCBlYWNoX2Jsb2Nrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0XHRlYWNoX2Jsb2Nrc1tpXS5tKGRpdjAsIG51bGwpO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoZWFjaF8xX2Vsc2UpIHtcblx0XHRcdFx0ZWFjaF8xX2Vsc2UubShkaXYwLCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDEwLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaDUxLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDEyLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgZm9ybV9ncm91cCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCBsYWJlbDApO1xuXHRcdFx0YXBwZW5kKGxhYmVsMCwgaW5wdXQwKTtcblxuXHRcdFx0aW5wdXQwLmNoZWNrZWQgPSBpbnB1dDAuX192YWx1ZSA9PT0gY3R4LmZpbHRlckFjdGlvbjtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMCwgdDEzKTtcblx0XHRcdGFwcGVuZChsYWJlbDAsIGkwKTtcblx0XHRcdGFwcGVuZChsYWJlbDAsIHQxNCk7XG5cdFx0XHRhcHBlbmQoZm9ybV9ncm91cCwgdDE1KTtcblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCBsYWJlbDEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMSwgaW5wdXQxKTtcblxuXHRcdFx0aW5wdXQxLmNoZWNrZWQgPSBpbnB1dDEuX192YWx1ZSA9PT0gY3R4LmZpbHRlckFjdGlvbjtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMSwgdDE2KTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIGkxKTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIHQxNyk7XG5cdFx0XHRhcHBlbmQoZm9ybV9ncm91cCwgdDE4KTtcblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCBsYWJlbDIpO1xuXHRcdFx0YXBwZW5kKGZvcm1fZ3JvdXAsIHQyMCk7XG5cdFx0XHRhcHBlbmQoZm9ybV9ncm91cCwgaW5wdXQyKTtcblxuXHRcdFx0aW5wdXQyLnZhbHVlID0gY3R4LmZpbHRlckNoYW5uZWw7XG5cblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCB0MjEpO1xuXHRcdFx0YXBwZW5kKGZvcm1fZ3JvdXAsIGxhYmVsMyk7XG5cdFx0XHRhcHBlbmQoZm9ybV9ncm91cCwgdDIzKTtcblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCBpbnB1dDMpO1xuXG5cdFx0XHRpbnB1dDMudmFsdWUgPSBjdHguZmlsdGVyRmVlZDtcblxuXHRcdFx0YXBwZW5kKGZvcm1fZ3JvdXAsIHQyNCk7XG5cdFx0XHRhcHBlbmQoZm9ybV9ncm91cCwgbGFiZWw0KTtcblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCB0MjYpO1xuXHRcdFx0YXBwZW5kKGZvcm1fZ3JvdXAsIGlucHV0NCk7XG5cblx0XHRcdGlucHV0NC52YWx1ZSA9IGN0eC5maWx0ZXJLZXl3b3JkcztcblxuXHRcdFx0YXBwZW5kKGZvcm1fZ3JvdXAsIHQyNyk7XG5cdFx0XHRhcHBlbmQoZm9ybV9ncm91cCwgbGFiZWw1KTtcblx0XHRcdGFwcGVuZChmb3JtX2dyb3VwLCB0MjkpO1xuXHRcdFx0YXBwZW5kKGZvcm1fZ3JvdXAsIGlucHV0NSk7XG5cblx0XHRcdGlucHV0NS52YWx1ZSA9IGN0eC5maWx0ZXJFeHBpcnk7XG5cblx0XHRcdGluc2VydCh0YXJnZXQsIHQzMCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJyMCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQzMSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJ1dHRvbiwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQzMywgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJyMSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIHQzNCwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGJyMiwgYW5jaG9yKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuY3VycmVudEZpbHRlcnMpIHtcblx0XHRcdFx0ZWFjaF92YWx1ZSA9IGN0eC5jdXJyZW50RmlsdGVycztcblxuXHRcdFx0XHRmb3IgKHZhciBpID0gMDsgaSA8IGVhY2hfdmFsdWUubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdFx0XHRjb25zdCBjaGlsZF9jdHggPSBnZXRfZWFjaF9jb250ZXh0KGN0eCwgZWFjaF92YWx1ZSwgaSk7XG5cblx0XHRcdFx0XHRpZiAoZWFjaF9ibG9ja3NbaV0pIHtcblx0XHRcdFx0XHRcdGVhY2hfYmxvY2tzW2ldLnAoY2hhbmdlZCwgY2hpbGRfY3R4KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0gPSBjcmVhdGVfZWFjaF9ibG9jayhjaGlsZF9jdHgpO1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uYygpO1xuXHRcdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0ubShkaXYwLCBudWxsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRmb3IgKDsgaSA8IGVhY2hfYmxvY2tzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRcdFx0ZWFjaF9ibG9ja3NbaV0uZCgxKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRlYWNoX2Jsb2Nrcy5sZW5ndGggPSBlYWNoX3ZhbHVlLmxlbmd0aDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGVhY2hfdmFsdWUubGVuZ3RoKSB7XG5cdFx0XHRcdGlmIChlYWNoXzFfZWxzZSkge1xuXHRcdFx0XHRcdGVhY2hfMV9lbHNlLmQoMSk7XG5cdFx0XHRcdFx0ZWFjaF8xX2Vsc2UgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2UgaWYgKCFlYWNoXzFfZWxzZSkge1xuXHRcdFx0XHRlYWNoXzFfZWxzZSA9IGNyZWF0ZV9lbHNlX2Jsb2NrKGN0eCk7XG5cdFx0XHRcdGVhY2hfMV9lbHNlLmMoKTtcblx0XHRcdFx0ZWFjaF8xX2Vsc2UubShkaXYwLCBudWxsKTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGNoYW5nZWQuZmlsdGVyQWN0aW9uKSBpbnB1dDAuY2hlY2tlZCA9IGlucHV0MC5fX3ZhbHVlID09PSBjdHguZmlsdGVyQWN0aW9uO1xuXHRcdFx0aWYgKGNoYW5nZWQuZmlsdGVyQWN0aW9uKSBpbnB1dDEuY2hlY2tlZCA9IGlucHV0MS5fX3ZhbHVlID09PSBjdHguZmlsdGVyQWN0aW9uO1xuXHRcdFx0aWYgKGNoYW5nZWQuZmlsdGVyQ2hhbm5lbCAmJiAoaW5wdXQyLnZhbHVlICE9PSBjdHguZmlsdGVyQ2hhbm5lbCkpIGlucHV0Mi52YWx1ZSA9IGN0eC5maWx0ZXJDaGFubmVsO1xuXHRcdFx0aWYgKGNoYW5nZWQuZmlsdGVyRmVlZCAmJiAoaW5wdXQzLnZhbHVlICE9PSBjdHguZmlsdGVyRmVlZCkpIGlucHV0My52YWx1ZSA9IGN0eC5maWx0ZXJGZWVkO1xuXHRcdFx0aWYgKGNoYW5nZWQuZmlsdGVyS2V5d29yZHMgJiYgKGlucHV0NC52YWx1ZSAhPT0gY3R4LmZpbHRlcktleXdvcmRzKSkgaW5wdXQ0LnZhbHVlID0gY3R4LmZpbHRlcktleXdvcmRzO1xuXHRcdFx0aWYgKGNoYW5nZWQuZmlsdGVyRXhwaXJ5KSBpbnB1dDUudmFsdWUgPSBjdHguZmlsdGVyRXhwaXJ5O1xuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaDEpO1xuXHRcdFx0XHRkZXRhY2godDEpO1xuXHRcdFx0XHRkZXRhY2gocDApO1xuXHRcdFx0XHRkZXRhY2godDMpO1xuXHRcdFx0XHRkZXRhY2goaDUwKTtcblx0XHRcdFx0ZGV0YWNoKHQ1KTtcblx0XHRcdFx0ZGV0YWNoKHAxKTtcblx0XHRcdFx0ZGV0YWNoKHQ5KTtcblx0XHRcdFx0ZGV0YWNoKGRpdjEpO1xuXHRcdFx0fVxuXG5cdFx0XHRkZXN0cm95X2VhY2goZWFjaF9ibG9ja3MsIGRldGFjaGluZyk7XG5cblx0XHRcdGlmIChlYWNoXzFfZWxzZSkgZWFjaF8xX2Vsc2UuZCgpO1xuXG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaCh0MTApO1xuXHRcdFx0XHRkZXRhY2goaDUxKTtcblx0XHRcdFx0ZGV0YWNoKHQxMik7XG5cdFx0XHRcdGRldGFjaChmb3JtX2dyb3VwKTtcblx0XHRcdH1cblxuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0uc3BsaWNlKGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLmluZGV4T2YoaW5wdXQwKSwgMSk7XG5cdFx0XHRjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5zcGxpY2UoY3R4LiQkYmluZGluZ19ncm91cHNbMF0uaW5kZXhPZihpbnB1dDEpLCAxKTtcblxuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godDMwKTtcblx0XHRcdFx0ZGV0YWNoKGJyMCk7XG5cdFx0XHRcdGRldGFjaCh0MzEpO1xuXHRcdFx0XHRkZXRhY2goYnV0dG9uKTtcblx0XHRcdFx0ZGV0YWNoKHQzMyk7XG5cdFx0XHRcdGRldGFjaChicjEpO1xuXHRcdFx0XHRkZXRhY2godDM0KTtcblx0XHRcdFx0ZGV0YWNoKGJyMik7XG5cdFx0XHR9XG5cblx0XHRcdHJ1bl9hbGwoZGlzcG9zZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRjb25zdCB7IGdldFByZWYsIHNldFByZWYgfSA9IHJlcXVpcmUoXCIuLi8uLi9wcmVmcy5qc1wiKTtcclxuICBjb25zdCB7XHJcbiAgICBnZXRGaWx0ZXJzLFxyXG4gICAgYWRkRmlsdGVyLFxyXG4gICAgZGVsZXRlRmlsdGVyXHJcbiAgfSA9IHJlcXVpcmUoXCIuLi8uLi9hYnVzZVByZXZlbnRpb24uanNcIik7XHJcblxyXG4gIC8vIEFidXNlIFByZXZlbnRpb24gLSBmaWx0ZXJzXHJcbiAgbGV0IGN1cnJlbnRGaWx0ZXJzID0gZ2V0RmlsdGVycygpO1xyXG4gIGxldCBmaWx0ZXJGZWVkID0gXCJcIjtcclxuICBsZXQgZmlsdGVyQ2hhbm5lbCA9IFwiXCI7XHJcbiAgbGV0IGZpbHRlcktleXdvcmRzID0gXCJcIjtcclxuICBsZXQgZmlsdGVyRXhwaXJ5ID0gXCJcIjtcclxuICBsZXQgZmlsdGVyQWN0aW9uID0gXCJcIjtcclxuXHJcbiAgY29uc3QgYWRkTmV3RmlsdGVyID0gKCkgPT4ge1xyXG4gICAgbGV0IGtleXdvcmRzID0gZmlsdGVyS2V5d29yZHNcclxuICAgICAgLnNwbGl0KFwiLFwiKVxyXG4gICAgICAubWFwKHYgPT4gdi50cmltKCkpXHJcbiAgICAgIC5maWx0ZXIodiA9PiB2Lmxlbmd0aCAhPT0gMCk7XHJcblxyXG4gICAgbGV0IGZpbHRlciA9IHt9O1xyXG4gICAgZmlsdGVyLmFjdGlvbiA9IGZpbHRlckFjdGlvbi5sZW5ndGggIT09IDAgPyBmaWx0ZXJBY3Rpb24gOiBmYWxzZTtcclxuICAgIGZpbHRlci5mZWVkID0gZmlsdGVyRmVlZC5sZW5ndGggIT09IDAgPyBmaWx0ZXJGZWVkIDogZmFsc2U7XHJcbiAgICBmaWx0ZXIuY2hhbm5lbCA9IGZpbHRlckNoYW5uZWwubGVuZ3RoICE9PSAwID8gZmlsdGVyQ2hhbm5lbCA6IGZhbHNlO1xyXG4gICAgZmlsdGVyLmtleXdvcmRzID0ga2V5d29yZHM7XHJcbiAgICBmaWx0ZXIuZXhwaXJlcyA9IGZpbHRlckV4cGlyeS5sZW5ndGggIT09IDAgPyBmaWx0ZXJFeHBpcnkgOiBmYWxzZTtcclxuXHJcbiAgICBpZiAoZmlsdGVyLmNoYW5uZWwgJiYgZmlsdGVyLmNoYW5uZWwuc3RhcnRzV2l0aChcIiNcIikpIHtcclxuICAgICAgZmlsdGVyLmNoYW5uZWwgPSBmaWx0ZXIuY2hhbm5lbC5zbGljZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoXHJcbiAgICAgIGZpbHRlci5hY3Rpb24gJiZcclxuICAgICAgKGZpbHRlci5mZWVkIHx8IGZpbHRlci5jaGFubmVsIHx8IGZpbHRlci5rZXl3b3Jkcy5sZW5ndGggPiAwKVxyXG4gICAgKSB7XHJcbiAgICAgIGFkZEZpbHRlcihmaWx0ZXIpO1xyXG5cclxuICAgICAgJCRpbnZhbGlkYXRlKCdjdXJyZW50RmlsdGVycycsIGN1cnJlbnRGaWx0ZXJzID0gZ2V0RmlsdGVycygpKTtcclxuXHJcbiAgICAgIGNvbnNvbGUuZGlyKFwiZmlsdGVyc1wiLCBjdXJyZW50RmlsdGVycyk7XHJcblxyXG4gICAgICAkJGludmFsaWRhdGUoJ2ZpbHRlckZlZWQnLCBmaWx0ZXJGZWVkID0gXCJcIik7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZmlsdGVyQ2hhbm5lbCcsIGZpbHRlckNoYW5uZWwgPSBcIlwiKTtcclxuICAgICAgJCRpbnZhbGlkYXRlKCdmaWx0ZXJLZXl3b3JkcycsIGZpbHRlcktleXdvcmRzID0gXCJcIik7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZmlsdGVyRXhwaXJ5JywgZmlsdGVyRXhwaXJ5ID0gXCJcIik7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgnZmlsdGVyQWN0aW9uJywgZmlsdGVyQWN0aW9uID0gXCJcIik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBhbGVydChcIkZpbGwgYXQgbGVhc3QgZmlsdGVyIGFjdGlvbiBhbmQgb25lIG9mIGZlZWQsIGNoYW5uZWwgb3Iga2V5d29yZHNcIik7XHJcbiAgICB9XHJcbiAgfTtcblxuXHRjb25zdCAkJGJpbmRpbmdfZ3JvdXBzID0gW1tdXTtcblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKHsgZmlsdGVyIH0pIHtcclxuXHQgICAgICAgICAgICAgICAgZGVsZXRlRmlsdGVyKGZpbHRlcik7XHJcblx0ICAgICAgICAgICAgICAgIGN1cnJlbnRGaWx0ZXJzID0gZ2V0RmlsdGVycygpOyAkJGludmFsaWRhdGUoJ2N1cnJlbnRGaWx0ZXJzJywgY3VycmVudEZpbHRlcnMpO1xyXG5cdCAgICAgICAgICAgICAgfVxuXG5cdGZ1bmN0aW9uIGlucHV0MF9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRmaWx0ZXJBY3Rpb24gPSB0aGlzLl9fdmFsdWU7XG5cdFx0JCRpbnZhbGlkYXRlKCdmaWx0ZXJBY3Rpb24nLCBmaWx0ZXJBY3Rpb24pO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXQxX2NoYW5nZV9oYW5kbGVyKCkge1xuXHRcdGZpbHRlckFjdGlvbiA9IHRoaXMuX192YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2ZpbHRlckFjdGlvbicsIGZpbHRlckFjdGlvbik7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dDJfaW5wdXRfaGFuZGxlcigpIHtcblx0XHRmaWx0ZXJDaGFubmVsID0gdGhpcy52YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2ZpbHRlckNoYW5uZWwnLCBmaWx0ZXJDaGFubmVsKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0M19pbnB1dF9oYW5kbGVyKCkge1xuXHRcdGZpbHRlckZlZWQgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZmlsdGVyRmVlZCcsIGZpbHRlckZlZWQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gaW5wdXQ0X2lucHV0X2hhbmRsZXIoKSB7XG5cdFx0ZmlsdGVyS2V5d29yZHMgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZmlsdGVyS2V5d29yZHMnLCBmaWx0ZXJLZXl3b3Jkcyk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dDVfaW5wdXRfaGFuZGxlcigpIHtcblx0XHRmaWx0ZXJFeHBpcnkgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZmlsdGVyRXhwaXJ5JywgZmlsdGVyRXhwaXJ5KTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0Z2V0RmlsdGVycyxcblx0XHRkZWxldGVGaWx0ZXIsXG5cdFx0Y3VycmVudEZpbHRlcnMsXG5cdFx0ZmlsdGVyRmVlZCxcblx0XHRmaWx0ZXJDaGFubmVsLFxuXHRcdGZpbHRlcktleXdvcmRzLFxuXHRcdGZpbHRlckV4cGlyeSxcblx0XHRmaWx0ZXJBY3Rpb24sXG5cdFx0YWRkTmV3RmlsdGVyLFxuXHRcdGNsaWNrX2hhbmRsZXIsXG5cdFx0aW5wdXQwX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGlucHV0MV9jaGFuZ2VfaGFuZGxlcixcblx0XHRpbnB1dDJfaW5wdXRfaGFuZGxlcixcblx0XHRpbnB1dDNfaW5wdXRfaGFuZGxlcixcblx0XHRpbnB1dDRfaW5wdXRfaGFuZGxlcixcblx0XHRpbnB1dDVfaW5wdXRfaGFuZGxlcixcblx0XHQkJGJpbmRpbmdfZ3JvdXBzXG5cdH07XG59XG5cbmNsYXNzIEZpbHRlcnMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRmlsdGVycztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012YzJWMGRHbHVaM012Um1sc2RHVnljeTV6ZG1Wc2RHVWlYU3dpYzI5MWNtTmxjME52Ym5SbGJuUWlPbHR1ZFd4c1hTd2libUZ0WlhNaU9sdGRMQ0p0WVhCd2FXNW5jeUk2SWtGQlFVRTdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMEZCY1hwQ1FTeHBRa0ZCYTBJaWZRPT0iLCIvKiBJZGVudGl0eUFuZENvbm5lY3Rpb24uc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c3BhY2UsXG5cdHRleHRcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJJZGVudGl0eUFuZENvbm5lY3Rpb24uc3ZlbHRlXCI7XG5cbmZ1bmN0aW9uIGNyZWF0ZV9mcmFnbWVudChjdHgpIHtcblx0dmFyIGgxLCB0MSwgcDAsIGIsIHQyLCBpMCwgdDQsIGkxLCB0NiwgaTIsIHQ4LCBjb2RlMCwgdDEwLCBjb2RlMSwgdDEyLCBjb2RlMiwgdDE0LCBhLCB0MTYsIHQxNywgZm9ybSwgbGFiZWwwLCB0MTgsIGNvZGUzLCB0MjAsIHQyMSwgaW5wdXQwLCB0MjIsIGxhYmVsMSwgdDI0LCBpbnB1dDEsIHQyNSwgbGFiZWwyLCB0MjcsIHRleHRhcmVhLCB0MjgsIGJyLCB0MjksIGJ1dHRvbiwgdDMxLCBwMSwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGgxID0gZWxlbWVudChcImgxXCIpO1xuXHRcdFx0aDEudGV4dENvbnRlbnQgPSBcIklkZW50aXR5ICYgQ29ubmVjdGlvblwiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0cDAgPSBlbGVtZW50KFwicFwiKTtcblx0XHRcdGIgPSBlbGVtZW50KFwiYlwiKTtcblx0XHRcdHQyID0gdGV4dChcIllvdSBjYW4ndCB1c2UgUGF0Y2hmb3ggdW50aWwgeW91IGZpbGwgeW91clxcclxcbiAgICBcIik7XG5cdFx0XHRpMCA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0aTAudGV4dENvbnRlbnQgPSBcIklkZW50aXR5ICYgQ29ubmVjdGlvblwiO1xuXHRcdFx0dDQgPSB0ZXh0KFwiXFxyXFxuICAgIGluZm9ybWF0aW9uLiBQYXRjaGZveCBjYW4gaW5mZXIgdGhlIHZhbHVlcyBmb3IgYm90aFxcclxcbiAgICBcIik7XG5cdFx0XHRpMSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0aTEudGV4dENvbnRlbnQgPSBcInJlbW90ZVwiO1xuXHRcdFx0dDYgPSB0ZXh0KFwiXFxyXFxuICAgIGFuZFxcclxcbiAgICBcIik7XG5cdFx0XHRpMiA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0aTIudGV4dENvbnRlbnQgPSBcInNlY3JldFwiO1xuXHRcdFx0dDggPSB0ZXh0KFwiXFxyXFxuICAgIGZyb20geW91clxcclxcbiAgICBcIik7XG5cdFx0XHRjb2RlMCA9IGVsZW1lbnQoXCJjb2RlXCIpO1xuXHRcdFx0Y29kZTAudGV4dENvbnRlbnQgPSBcIn4vLnNzYi9zZWNyZXRcIjtcblx0XHRcdHQxMCA9IHRleHQoXCJcXHJcXG4gICAgZmlsZS4gVGhlIG1haW4gcHJvYmxlbSBpcyB0aGF0IHRoZSBmb2xkZXJcXHJcXG4gICAgXCIpO1xuXHRcdFx0Y29kZTEgPSBlbGVtZW50KFwiY29kZVwiKTtcblx0XHRcdGNvZGUxLnRleHRDb250ZW50ID0gXCIuc3NiXCI7XG5cdFx0XHR0MTIgPSB0ZXh0KFwiXFxyXFxuICAgIGlzIGhpZGRlbiBpbiBtb3N0IHN5c3RlbXMgYW5kIGl0IG1pZ2h0IGJlIGhhcmQgdG8gZmluZCBvbiB5b3VyIG1hY2hpbmUuIElmXFxyXFxuICAgIHlvdSBoYXZlIHVzZWQgU2VjdXJlIFNjdXR0bGVidXR0IGJlZm9yZSBhbmQgYWxyZWFkeSBoYXZlIGFuIGlkZW50aXR5IGJ1dFxcclxcbiAgICBjYW4ndCBmaW5kIGEgZm9sZGVyIG5hbWVkXFxyXFxuICAgIFwiKTtcblx0XHRcdGNvZGUyID0gZWxlbWVudChcImNvZGVcIik7XG5cdFx0XHRjb2RlMi50ZXh0Q29udGVudCA9IFwiLnNzYlwiO1xuXHRcdFx0dDE0ID0gdGV4dChcIlxcclxcbiAgICBpbnNpZGUgeW91ciBob21lIGZvbGRlciwgZ28gdG9cXHJcXG4gICAgXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YS50ZXh0Q29udGVudCA9IFwidGhpcyBsaW5rIHRvIGxlYXJuIG1vcmUgYWJvdXQgaG93IHRvIGRpc3BsYXkgaGlkZGVuIGZvbGRlcnMgYW5kIHNldHVwXFxyXFxuICAgICAgUGF0Y2hmb3hcIjtcblx0XHRcdHQxNiA9IHRleHQoXCJcXHJcXG4gICAgLlwiKTtcblx0XHRcdHQxNyA9IHNwYWNlKCk7XG5cdFx0XHRmb3JtID0gZWxlbWVudChcImZvcm1cIik7XG5cdFx0XHRsYWJlbDAgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHR0MTggPSB0ZXh0KFwiVXNlIHRoZSBidXR0b24gYmVsb3cgdG8gc2VsZWN0IHlvdXIgc2VjcmV0IGZpbGUgKHVzdWFsbHkgbG9jYXRlZCBhdFxcclxcbiAgICBcIik7XG5cdFx0XHRjb2RlMyA9IGVsZW1lbnQoXCJjb2RlXCIpO1xuXHRcdFx0Y29kZTMudGV4dENvbnRlbnQgPSBcIn4vLnNzYi9zZWNyZXRcIjtcblx0XHRcdHQyMCA9IHRleHQoXCJcXHJcXG4gICAgKS5cIik7XG5cdFx0XHR0MjEgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQwID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDIyID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMSA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsMS50ZXh0Q29udGVudCA9IFwiUmVtb3RlXCI7XG5cdFx0XHR0MjQgPSBzcGFjZSgpO1xuXHRcdFx0aW5wdXQxID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDI1ID0gc3BhY2UoKTtcblx0XHRcdGxhYmVsMiA9IGVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGxhYmVsMi50ZXh0Q29udGVudCA9IFwiU2VjcmV0XCI7XG5cdFx0XHR0MjcgPSBzcGFjZSgpO1xuXHRcdFx0dGV4dGFyZWEgPSBlbGVtZW50KFwidGV4dGFyZWFcIik7XG5cdFx0XHR0MjggPSBzcGFjZSgpO1xuXHRcdFx0YnIgPSBlbGVtZW50KFwiYnJcIik7XG5cdFx0XHR0MjkgPSBzcGFjZSgpO1xuXHRcdFx0YnV0dG9uID0gZWxlbWVudChcImJ1dHRvblwiKTtcblx0XHRcdGJ1dHRvbi50ZXh0Q29udGVudCA9IFwiU2F2ZSBJZGVudGl0eSAmIFJlbW90ZVwiO1xuXHRcdFx0dDMxID0gc3BhY2UoKTtcblx0XHRcdHAxID0gZWxlbWVudChcInBcIik7XG5cdFx0XHRwMS50ZXh0Q29udGVudCA9IFwiU2F2aW5nIGlkZW50aXR5IGFuZCByZW1vdGUgd2lsbCBjYXVzZSBhIGZ1bGwgcGFnZSByZWZyZXNoLlwiO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGgxLCBmaWxlLCA1NSwgMCwgMTUxNik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTAsIGZpbGUsIDU5LCA0LCAxNjE2KTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMSwgZmlsZSwgNjEsIDQsIDE3MTEpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkyLCBmaWxlLCA2MywgNCwgMTczOSk7XG5cdFx0XHRhZGRfbG9jYXRpb24oY29kZTAsIGZpbGUsIDY1LCA0LCAxNzczKTtcblx0XHRcdGFkZF9sb2NhdGlvbihjb2RlMSwgZmlsZSwgNjcsIDQsIDE4NTIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGNvZGUyLCBmaWxlLCA3MSwgNCwgMjA2NCk7XG5cdFx0XHRhdHRyKGEsIFwiaHJlZlwiLCBcIi9kb2NzL2luZGV4Lmh0bWwjL3Ryb3VibGVzaG9vdGluZy9uby1jb25maWd1cmF0aW9uXCIpO1xuXHRcdFx0YXR0cihhLCBcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCA3MywgNCwgMjEyMyk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYiwgZmlsZSwgNTcsIDIsIDE1NTkpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKHAwLCBmaWxlLCA1NiwgMCwgMTU1Mik7XG5cdFx0XHRhZGRfbG9jYXRpb24oY29kZTMsIGZpbGUsIDg2LCA0LCAyNDk0KTtcblx0XHRcdGF0dHIobGFiZWwwLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGF0dHIobGFiZWwwLCBcImZvclwiLCBcInNlY3JldC1maWxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMCwgZmlsZSwgODQsIDIsIDIzNzEpO1xuXHRcdFx0YXR0cihpbnB1dDAsIFwidHlwZVwiLCBcImZpbGVcIik7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJjbGFzc1wiLCBcImZvcm0taW5wdXRcIik7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJpZFwiLCBcInNlY3JldC1maWxlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MCwgZmlsZSwgODksIDIsIDI1NDQpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YXR0cihsYWJlbDEsIFwiZm9yXCIsIFwicmVtb3RlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMSwgZmlsZSwgOTQsIDIsIDI2NTApO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwiY2xhc3NcIiwgXCJmb3JtLWlucHV0XCIpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwidHlwZVwiLCBcInRleHRcIik7XG5cdFx0XHRhdHRyKGlucHV0MSwgXCJpZFwiLCBcInJlbW90ZVwiKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcInBsYWNlaG9sZGVyXCIsIFwicmVtb3RlXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MSwgZmlsZSwgOTUsIDIsIDI3MDcpO1xuXHRcdFx0YXR0cihsYWJlbDIsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YXR0cihsYWJlbDIsIFwiZm9yXCIsIFwic2VjcmV0XCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMiwgZmlsZSwgMTAyLCAyLCAyODMxKTtcblx0XHRcdGF0dHIodGV4dGFyZWEsIFwiY2xhc3NcIiwgXCJmb3JtLWlucHV0XCIpO1xuXHRcdFx0YXR0cih0ZXh0YXJlYSwgXCJpZFwiLCBcInNlY3JldFwiKTtcblx0XHRcdGF0dHIodGV4dGFyZWEsIFwicGxhY2Vob2xkZXJcIiwgXCJZb3VyIHNlY3JldFwiKTtcblx0XHRcdGF0dHIodGV4dGFyZWEsIFwicm93c1wiLCBcIjhcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24odGV4dGFyZWEsIGZpbGUsIDEwMywgMiwgMjg4OCk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYnIsIGZpbGUsIDEwOSwgMiwgMzAxMyk7XG5cdFx0XHRhdHRyKGJ1dHRvbiwgXCJjbGFzc1wiLCBcImJ0biBidG4tcHJpbWFyeSBmbG9hdC1yaWdodFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihidXR0b24sIGZpbGUsIDExMCwgMiwgMzAyMyk7XG5cdFx0XHRhZGRfbG9jYXRpb24ocDEsIGZpbGUsIDExMywgMiwgMzE0MSk7XG5cdFx0XHRhdHRyKGZvcm0sIFwiY2xhc3NcIiwgXCJmb3JtLWdyb3VwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGZvcm0sIGZpbGUsIDgzLCAwLCAyMzQyKTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0MCwgXCJjaGFuZ2VcIiwgY3R4LnNlbGVjdGVkRmlsZSksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDEsIFwiaW5wdXRcIiwgY3R4LmlucHV0MV9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKHRleHRhcmVhLCBcImlucHV0XCIsIGN0eC50ZXh0YXJlYV9pbnB1dF9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGJ1dHRvbiwgXCJjbGlja1wiLCBjdHguc2F2ZUNvbmZpZ3VyYXRpb24pXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGgxLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBwMCwgYW5jaG9yKTtcblx0XHRcdGFwcGVuZChwMCwgYik7XG5cdFx0XHRhcHBlbmQoYiwgdDIpO1xuXHRcdFx0YXBwZW5kKGIsIGkwKTtcblx0XHRcdGFwcGVuZChiLCB0NCk7XG5cdFx0XHRhcHBlbmQoYiwgaTEpO1xuXHRcdFx0YXBwZW5kKGIsIHQ2KTtcblx0XHRcdGFwcGVuZChiLCBpMik7XG5cdFx0XHRhcHBlbmQoYiwgdDgpO1xuXHRcdFx0YXBwZW5kKGIsIGNvZGUwKTtcblx0XHRcdGFwcGVuZChiLCB0MTApO1xuXHRcdFx0YXBwZW5kKGIsIGNvZGUxKTtcblx0XHRcdGFwcGVuZChiLCB0MTIpO1xuXHRcdFx0YXBwZW5kKGIsIGNvZGUyKTtcblx0XHRcdGFwcGVuZChiLCB0MTQpO1xuXHRcdFx0YXBwZW5kKGIsIGEpO1xuXHRcdFx0YXBwZW5kKGIsIHQxNik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MTcsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBmb3JtLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsMCk7XG5cdFx0XHRhcHBlbmQobGFiZWwwLCB0MTgpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMCwgY29kZTMpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMCwgdDIwKTtcblx0XHRcdGFwcGVuZChmb3JtLCB0MjEpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGlucHV0MCk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDIyKTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDEpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQyNCk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgaW5wdXQxKTtcblxuXHRcdFx0aW5wdXQxLnZhbHVlID0gY3R4LnJlbW90ZTtcblxuXHRcdFx0YXBwZW5kKGZvcm0sIHQyNSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwyKTtcblx0XHRcdGFwcGVuZChmb3JtLCB0MjcpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHRleHRhcmVhKTtcblxuXHRcdFx0dGV4dGFyZWEudmFsdWUgPSBjdHgua2V5cztcblxuXHRcdFx0YXBwZW5kKGZvcm0sIHQyOCk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgYnIpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQyOSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgYnV0dG9uKTtcblx0XHRcdGFwcGVuZChmb3JtLCB0MzEpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHAxKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQucmVtb3RlICYmIChpbnB1dDEudmFsdWUgIT09IGN0eC5yZW1vdGUpKSBpbnB1dDEudmFsdWUgPSBjdHgucmVtb3RlO1xuXHRcdFx0aWYgKGNoYW5nZWQua2V5cykgdGV4dGFyZWEudmFsdWUgPSBjdHgua2V5cztcblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGgxKTtcblx0XHRcdFx0ZGV0YWNoKHQxKTtcblx0XHRcdFx0ZGV0YWNoKHAwKTtcblx0XHRcdFx0ZGV0YWNoKHQxNyk7XG5cdFx0XHRcdGRldGFjaChmb3JtKTtcblx0XHRcdH1cblxuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGNvbnN0IHtcclxuICAgIGdldFByZWYsXHJcbiAgICBzZXRQcmVmLFxyXG4gICAgc2V0Q29ubmVjdGlvbkNvbmZpZ3VyYXRpb25cclxuICB9ID0gcmVxdWlyZShcIi4uLy4uL3ByZWZzLmpzXCIpO1xyXG4gIGNvbnN0IHsgbmF2aWdhdGUgfSA9IHJlcXVpcmUoXCIuLi8uLi91dGlscy5qc1wiKTtcclxuICBsZXQga2V5cyA9IHt9O1xyXG4gIGxldCByZW1vdGUgPSBcIlwiO1xyXG4gIGRvY3VtZW50LnRpdGxlID0gXCJQYXRjaGZveCAtIFNldHRpbmdzIC0gSWRlbnRpdHkgQW5kIENvbm5lY3Rpb25cIjtcclxuXHJcbiAgY29uc3Qgc2F2ZUNvbmZpZ3VyYXRpb24gPSBldiA9PiB7XHJcbiAgICBzZXRDb25uZWN0aW9uQ29uZmlndXJhdGlvbih7IHJlbW90ZSwga2V5czogSlNPTi5wYXJzZShrZXlzKSwgbWFuaWZlc3QgfSk7XHJcbiAgICBuYXZpZ2F0ZShcIi9wdWJsaWNcIik7XHJcbiAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICB9O1xyXG5cclxuICBjb25zdCBzZWxlY3RlZEZpbGUgPSBldiA9PiB7XHJcbiAgICBjb25zdCBzZWNyZXRGaWxlID0gZXYudGFyZ2V0LmZpbGVzWzBdO1xyXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldnQpIHtcclxuICAgICAgY29uc29sZS5sb2coZXZ0LnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICBjb25zdCBjb250ZW50cyA9IGV2dC50YXJnZXQucmVzdWx0O1xyXG4gICAgICBsZXQgc2VjcmV0ID0gY29udGVudHMuc3BsaXQoXCJcXG5cIikuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHtcclxuICAgICAgICByZXR1cm4gbGluZS5pbmRleE9mKFwiI1wiKSAhPSAwO1xyXG4gICAgICB9KTtcclxuICAgICAgc2VjcmV0ID0gSlNPTi5wYXJzZShzZWNyZXQuam9pbihcIlxcblwiKSk7XHJcbiAgICAgICQkaW52YWxpZGF0ZSgncmVtb3RlJywgcmVtb3RlID0gYHdzOi8vbG9jYWxob3N0Ojg5ODl+c2hzOiR7c2VjcmV0LmlkLnNsaWNlKFxyXG4gICAgICAgIDAsXHJcbiAgICAgICAgc2VjcmV0LmlkLmluZGV4T2YoXCI9XCIpICsgMVxyXG4gICAgICApfWApO1xyXG4gICAgICB1cGRhdGVVSSh7IGtleXM6IHNlY3JldCwgcmVtb3RlIH0pO1xyXG4gICAgfTtcclxuICAgIHJlYWRlci5yZWFkQXNUZXh0KHNlY3JldEZpbGUpO1xyXG4gIH07XHJcblxyXG4gIGNvbnN0IHVwZGF0ZVVJID0gc2F2ZWREYXRhID0+IHtcclxuICAgIGNvbnNvbGUubG9nKFwic2F2ZWQgZGF0YSBmcm9tIHNldHRpbmdzXCIsIHNhdmVkRGF0YSk7XHJcbiAgICAkJGludmFsaWRhdGUoJ3JlbW90ZScsIHJlbW90ZSA9IHNhdmVkRGF0YS5yZW1vdGUgfHwgXCJcIik7XHJcbiAgICBpZiAoc2F2ZWREYXRhLmtleXMpIHtcclxuICAgICAgJCRpbnZhbGlkYXRlKCdrZXlzJywga2V5cyA9IEpTT04uc3RyaW5naWZ5KHNhdmVkRGF0YS5rZXlzLCBudWxsLCAyKSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAkJGludmFsaWRhdGUoJ2tleXMnLCBrZXlzID0gXCJcIik7XHJcbiAgICB9XHJcbiAgfTtcclxuXHJcbiAgY29uc3Qgb25FcnJvciA9IGVycm9yID0+IHtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBvbiBzZXR0aW5nc1wiLCBlcnJvcik7XHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZ2V0dGluZ1N0b3JlZFNldHRpbmdzID0gYnJvd3Nlci5zdG9yYWdlLmxvY2FsXHJcbiAgICAuZ2V0KClcclxuICAgIC50aGVuKHVwZGF0ZVVJLCBvbkVycm9yKTtcblxuXHRmdW5jdGlvbiBpbnB1dDFfaW5wdXRfaGFuZGxlcigpIHtcblx0XHRyZW1vdGUgPSB0aGlzLnZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgncmVtb3RlJywgcmVtb3RlKTtcblx0fVxuXG5cdGZ1bmN0aW9uIHRleHRhcmVhX2lucHV0X2hhbmRsZXIoKSB7XG5cdFx0a2V5cyA9IHRoaXMudmFsdWU7XG5cdFx0JCRpbnZhbGlkYXRlKCdrZXlzJywga2V5cyk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGtleXMsXG5cdFx0cmVtb3RlLFxuXHRcdHNhdmVDb25maWd1cmF0aW9uLFxuXHRcdHNlbGVjdGVkRmlsZSxcblx0XHRpbnB1dDFfaW5wdXRfaGFuZGxlcixcblx0XHR0ZXh0YXJlYV9pbnB1dF9oYW5kbGVyXG5cdH07XG59XG5cbmNsYXNzIElkZW50aXR5QW5kQ29ubmVjdGlvbiBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXSk7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBJZGVudGl0eUFuZENvbm5lY3Rpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdmMyVjBkR2x1WjNNdlNXUmxiblJwZEhsQmJtUkRiMjV1WldOMGFXOXVMbk4yWld4MFpTSmRMQ0p6YjNWeVkyVnpRMjl1ZEdWdWRDSTZXMjUxYkd4ZExDSnVZVzFsY3lJNlcxMHNJbTFoY0hCcGJtZHpJam9pUVVGQlFUczdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRV2xUUVN4cFFrRkJhMElpZlE9PSIsIi8qIE1lbnUuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c3BhY2UsXG5cdHRvZ2dsZV9jbGFzc1xufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5jb25zdCB7IGNyZWF0ZUV2ZW50RGlzcGF0Y2hlciB9ID0gcmVxdWlyZShcInN2ZWx0ZVwiKTtcblxuY29uc3QgZmlsZSA9IFwiTWVudS5zdmVsdGVcIjtcblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgdWwsIGxpMCwgdDAsIGxpMSwgYTAsIHQyLCBsaTIsIGExLCB0NCwgbGkzLCB0NSwgbGk0LCBhMiwgdDcsIGxpNSwgYTMsIHQ5LCBsaTYsIHQxMCwgbGk3LCBhNCwgZGlzcG9zZTtcblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdHVsID0gZWxlbWVudChcInVsXCIpO1xuXHRcdFx0bGkwID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0dDAgPSBzcGFjZSgpO1xuXHRcdFx0bGkxID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTAgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGEwLnRleHRDb250ZW50ID0gXCJJZGVudGl0eSAmIENvbm5lY3Rpb25cIjtcblx0XHRcdHQyID0gc3BhY2UoKTtcblx0XHRcdGxpMiA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdGExID0gZWxlbWVudChcImFcIik7XG5cdFx0XHRhMS50ZXh0Q29udGVudCA9IFwiRGlzcGxheSBQcmVmZXJlbmNlc1wiO1xuXHRcdFx0dDQgPSBzcGFjZSgpO1xuXHRcdFx0bGkzID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0bGk0ID0gZWxlbWVudChcImxpXCIpO1xuXHRcdFx0YTIgPSBlbGVtZW50KFwiYVwiKTtcblx0XHRcdGEyLnRleHRDb250ZW50ID0gXCJGaWx0ZXJzXCI7XG5cdFx0XHR0NyA9IHNwYWNlKCk7XG5cdFx0XHRsaTUgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhMyA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YTMudGV4dENvbnRlbnQgPSBcIkNvbnRlbnQgV2FybmluZ3NcIjtcblx0XHRcdHQ5ID0gc3BhY2UoKTtcblx0XHRcdGxpNiA9IGVsZW1lbnQoXCJsaVwiKTtcblx0XHRcdHQxMCA9IHNwYWNlKCk7XG5cdFx0XHRsaTcgPSBlbGVtZW50KFwibGlcIik7XG5cdFx0XHRhNCA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YTQudGV4dENvbnRlbnQgPSBcIklQRlNcIjtcblx0XHRcdGF0dHIobGkwLCBcImNsYXNzXCIsIFwiZGl2aWRlclwiKTtcblx0XHRcdGF0dHIobGkwLCBcImRhdGEtY29udGVudFwiLCBcIkdFTkVSQUxcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGkwLCBmaWxlLCAxNSwgMiwgMjc1KTtcblx0XHRcdGF0dHIoYTAsIFwiaHJlZlwiLCBcIiMvc2V0dGluZ3NcIik7XG5cdFx0XHR0b2dnbGVfY2xhc3MoYTAsIFwiYWN0aXZlXCIsIGN0eC5jdXJyZW50VmlldyA9PT0gJ2lkZW50aXR5QW5kQ29ubmVjdGlvbicpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEwLCBmaWxlLCAxNywgNCwgMzUyKTtcblx0XHRcdGF0dHIobGkxLCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpMSwgZmlsZSwgMTYsIDIsIDMyNCk7XG5cdFx0XHRhdHRyKGExLCBcImhyZWZcIiwgXCIjL3NldHRpbmdzXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGExLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFZpZXcgPT09ICdkaXNwbGF5UHJlZmVyZW5jZXMnKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMSwgZmlsZSwgMjUsIDQsIDU4Myk7XG5cdFx0XHRhdHRyKGxpMiwgXCJjbGFzc1wiLCBcIm1lbnUtaXRlbVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTIsIGZpbGUsIDI0LCAyLCA1NTUpO1xuXHRcdFx0YXR0cihsaTMsIFwiY2xhc3NcIiwgXCJkaXZpZGVyXCIpO1xuXHRcdFx0YXR0cihsaTMsIFwiZGF0YS1jb250ZW50XCIsIFwiQUJVU0UgUFJFVkVOVElPTlwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsaTMsIGZpbGUsIDMyLCAyLCA3NzQpO1xuXHRcdFx0YXR0cihhMiwgXCJocmVmXCIsIFwiIy9zZXR0aW5nc1wiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhhMiwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRWaWV3ID09PSAnZmlsdGVycycpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEyLCBmaWxlLCAzNCwgNCwgODYwKTtcblx0XHRcdGF0dHIobGk0LCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNCwgZmlsZSwgMzMsIDIsIDgzMik7XG5cdFx0XHRhdHRyKGEzLCBcImhyZWZcIiwgXCIjL3NldHRpbmdzXCIpO1xuXHRcdFx0dG9nZ2xlX2NsYXNzKGEzLCBcImFjdGl2ZVwiLCBjdHguY3VycmVudFZpZXcgPT09ICdjb250ZW50V2FybmluZ3MnKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhMywgZmlsZSwgNDIsIDQsIDEwNDUpO1xuXHRcdFx0YXR0cihsaTUsIFwiY2xhc3NcIiwgXCJtZW51LWl0ZW1cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGk1LCBmaWxlLCA0MSwgMiwgMTAxNyk7XG5cdFx0XHRhdHRyKGxpNiwgXCJjbGFzc1wiLCBcImRpdmlkZXJcIik7XG5cdFx0XHRhdHRyKGxpNiwgXCJkYXRhLWNvbnRlbnRcIiwgXCJBRElUSU9OQUwgUExBVEZPUk1TXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNiwgZmlsZSwgNDksIDIsIDEyMjcpO1xuXHRcdFx0YXR0cihhNCwgXCJocmVmXCIsIFwiIy9zZXR0aW5nc1wiKTtcblx0XHRcdHRvZ2dsZV9jbGFzcyhhNCwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRWaWV3ID09PSAncGxhdGZvcm1JUEZTJyk7XG5cdFx0XHRhZGRfbG9jYXRpb24oYTQsIGZpbGUsIDU5LCA0LCAxNTE0KTtcblx0XHRcdGF0dHIobGk3LCBcImNsYXNzXCIsIFwibWVudS1pdGVtXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxpNywgZmlsZSwgNTgsIDIsIDE0ODYpO1xuXHRcdFx0YXR0cih1bCwgXCJjbGFzc1wiLCBcIm1lbnVcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24odWwsIGZpbGUsIDE0LCAwLCAyNTQpO1xuXG5cdFx0XHRkaXNwb3NlID0gW1xuXHRcdFx0XHRsaXN0ZW4oYTAsIFwiY2xpY2tcIiwgY3R4LmNsaWNrX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oYTEsIFwiY2xpY2tcIiwgY3R4LmNsaWNrX2hhbmRsZXJfMSksXG5cdFx0XHRcdGxpc3RlbihhMiwgXCJjbGlja1wiLCBjdHguY2xpY2tfaGFuZGxlcl8yKSxcblx0XHRcdFx0bGlzdGVuKGEzLCBcImNsaWNrXCIsIGN0eC5jbGlja19oYW5kbGVyXzMpLFxuXHRcdFx0XHRsaXN0ZW4oYTQsIFwiY2xpY2tcIiwgY3R4LmNsaWNrX2hhbmRsZXJfNClcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdWwsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQodWwsIGxpMCk7XG5cdFx0XHRhcHBlbmQodWwsIHQwKTtcblx0XHRcdGFwcGVuZCh1bCwgbGkxKTtcblx0XHRcdGFwcGVuZChsaTEsIGEwKTtcblx0XHRcdGFwcGVuZCh1bCwgdDIpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTIpO1xuXHRcdFx0YXBwZW5kKGxpMiwgYTEpO1xuXHRcdFx0YXBwZW5kKHVsLCB0NCk7XG5cdFx0XHRhcHBlbmQodWwsIGxpMyk7XG5cdFx0XHRhcHBlbmQodWwsIHQ1KTtcblx0XHRcdGFwcGVuZCh1bCwgbGk0KTtcblx0XHRcdGFwcGVuZChsaTQsIGEyKTtcblx0XHRcdGFwcGVuZCh1bCwgdDcpO1xuXHRcdFx0YXBwZW5kKHVsLCBsaTUpO1xuXHRcdFx0YXBwZW5kKGxpNSwgYTMpO1xuXHRcdFx0YXBwZW5kKHVsLCB0OSk7XG5cdFx0XHRhcHBlbmQodWwsIGxpNik7XG5cdFx0XHRhcHBlbmQodWwsIHQxMCk7XG5cdFx0XHRhcHBlbmQodWwsIGxpNyk7XG5cdFx0XHRhcHBlbmQobGk3LCBhNCk7XG5cdFx0fSxcblxuXHRcdHA6IGZ1bmN0aW9uIHVwZGF0ZShjaGFuZ2VkLCBjdHgpIHtcblx0XHRcdGlmIChjaGFuZ2VkLmN1cnJlbnRWaWV3KSB7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhhMCwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRWaWV3ID09PSAnaWRlbnRpdHlBbmRDb25uZWN0aW9uJyk7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhhMSwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRWaWV3ID09PSAnZGlzcGxheVByZWZlcmVuY2VzJyk7XG5cdFx0XHRcdHRvZ2dsZV9jbGFzcyhhMiwgXCJhY3RpdmVcIiwgY3R4LmN1cnJlbnRWaWV3ID09PSAnZmlsdGVycycpO1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MoYTMsIFwiYWN0aXZlXCIsIGN0eC5jdXJyZW50VmlldyA9PT0gJ2NvbnRlbnRXYXJuaW5ncycpO1xuXHRcdFx0XHR0b2dnbGVfY2xhc3MoYTQsIFwiYWN0aXZlXCIsIGN0eC5jdXJyZW50VmlldyA9PT0gJ3BsYXRmb3JtSVBGUycpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2godWwpO1xuXHRcdFx0fVxuXG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgZGlzcGF0Y2ggPSBjcmVhdGVFdmVudERpc3BhdGNoZXIoKTtcclxuXHJcbiAgbGV0IHsgY3VycmVudFZpZXcgPSBcIlwiIH0gPSAkJHByb3BzO1xyXG5cclxuICBjb25zdCBzZXRWaWV3ID0gY3VycmVudFZpZXcgPT4ge1xyXG4gICAgZGlzcGF0Y2goXCJtZXNzYWdlXCIsIHtcclxuICAgICAgY3VycmVudFZpZXdcclxuICAgIH0pO1xyXG4gIH07XG5cblx0Y29uc3Qgd3JpdGFibGVfcHJvcHMgPSBbJ2N1cnJlbnRWaWV3J107XG5cdE9iamVjdC5rZXlzKCQkcHJvcHMpLmZvckVhY2goa2V5ID0+IHtcblx0XHRpZiAoIXdyaXRhYmxlX3Byb3BzLmluY2x1ZGVzKGtleSkgJiYgIWtleS5zdGFydHNXaXRoKCckJCcpKSBjb25zb2xlLndhcm4oYDxNZW51PiB3YXMgY3JlYXRlZCB3aXRoIHVua25vd24gcHJvcCAnJHtrZXl9J2ApO1xuXHR9KTtcblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyKCkge1xuXHRcdHJldHVybiBzZXRWaWV3KCdpZGVudGl0eUFuZENvbm5lY3Rpb24nKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXJfMSgpIHtcblx0XHRyZXR1cm4gc2V0VmlldygnZGlzcGxheVByZWZlcmVuY2VzJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyXzIoKSB7XG5cdFx0cmV0dXJuIHNldFZpZXcoJ2ZpbHRlcnMnKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNsaWNrX2hhbmRsZXJfMygpIHtcblx0XHRyZXR1cm4gc2V0VmlldygnY29udGVudFdhcm5pbmdzJyk7XG5cdH1cblxuXHRmdW5jdGlvbiBjbGlja19oYW5kbGVyXzQoKSB7XG5cdFx0cmV0dXJuIHNldFZpZXcoJ3BsYXRmb3JtSVBGUycpO1xuXHR9XG5cblx0JCRzZWxmLiRzZXQgPSAkJHByb3BzID0+IHtcblx0XHRpZiAoJ2N1cnJlbnRWaWV3JyBpbiAkJHByb3BzKSAkJGludmFsaWRhdGUoJ2N1cnJlbnRWaWV3JywgY3VycmVudFZpZXcgPSAkJHByb3BzLmN1cnJlbnRWaWV3KTtcblx0fTtcblxuXHRyZXR1cm4ge1xuXHRcdGN1cnJlbnRWaWV3LFxuXHRcdHNldFZpZXcsXG5cdFx0Y2xpY2tfaGFuZGxlcixcblx0XHRjbGlja19oYW5kbGVyXzEsXG5cdFx0Y2xpY2tfaGFuZGxlcl8yLFxuXHRcdGNsaWNrX2hhbmRsZXJfMyxcblx0XHRjbGlja19oYW5kbGVyXzRcblx0fTtcbn1cblxuY2xhc3MgTWVudSBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXCJjdXJyZW50Vmlld1wiXSk7XG5cdH1cblxuXHRnZXQgY3VycmVudFZpZXcoKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPE1lbnU+OiBQcm9wcyBjYW5ub3QgYmUgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG5cblx0c2V0IGN1cnJlbnRWaWV3KHZhbHVlKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiPE1lbnU+OiBQcm9wcyBjYW5ub3QgYmUgc2V0IGRpcmVjdGx5IG9uIHRoZSBjb21wb25lbnQgaW5zdGFuY2UgdW5sZXNzIGNvbXBpbGluZyB3aXRoICdhY2Nlc3NvcnM6IHRydWUnIG9yICc8c3ZlbHRlOm9wdGlvbnMgYWNjZXNzb3JzLz4nXCIpO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTWVudTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012YzJWMGRHbHVaM012VFdWdWRTNXpkbVZzZEdVaVhTd2ljMjkxY21ObGMwTnZiblJsYm5RaU9sdHVkV3hzWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN1FVRjVUa0VzYVVKQlFXdENJbjA9IiwiLyogUGxhdGZvcm1EQVQuc3ZlbHRlIGdlbmVyYXRlZCBieSBTdmVsdGUgdjMuNy4xICovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3Qge1xuXHRTdmVsdGVDb21wb25lbnREZXYsXG5cdGFkZF9sb2NhdGlvbixcblx0YXBwZW5kLFxuXHRhdHRyLFxuXHRkZXRhY2gsXG5cdGVsZW1lbnQsXG5cdGluaXQsXG5cdGluc2VydCxcblx0bGlzdGVuLFxuXHRub29wLFxuXHRydW5fYWxsLFxuXHRzYWZlX25vdF9lcXVhbCxcblx0c3BhY2UsXG5cdHRleHRcbn0gPSByZXF1aXJlKFwic3ZlbHRlL2ludGVybmFsXCIpO1xuXG5jb25zdCBmaWxlID0gXCJQbGF0Zm9ybURBVC5zdmVsdGVcIjtcblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgaDEsIHQxLCBmb3JtLCBsYWJlbDAsIHQyLCBhLCB0NCwgdDUsIGxhYmVsMSwgaW5wdXQwLCB0NiwgaTAsIHQ3LCB0OCwgbGFiZWwyLCBpbnB1dDEsIHQ5LCBpMSwgdDEwLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aDEgPSBlbGVtZW50KFwiaDFcIik7XG5cdFx0XHRoMS50ZXh0Q29udGVudCA9IFwiREFUXCI7XG5cdFx0XHR0MSA9IHNwYWNlKCk7XG5cdFx0XHRmb3JtID0gZWxlbWVudChcImZvcm1cIik7XG5cdFx0XHRsYWJlbDAgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHR0MiA9IHRleHQoXCJFbmFibGUgc3VwcG9ydCBmb3IgXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YS50ZXh0Q29udGVudCA9IFwiREFUXCI7XG5cdFx0XHR0NCA9IHRleHQoXCI/XCIpO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQwID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDYgPSBzcGFjZSgpO1xuXHRcdFx0aTAgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ3ID0gdGV4dChcIlxcclxcbiAgICBZZXNcIik7XG5cdFx0XHR0OCA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDIgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDEgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0OSA9IHNwYWNlKCk7XG5cdFx0XHRpMSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDEwID0gdGV4dChcIlxcclxcbiAgICBOb1wiKTtcblx0XHRcdGF0dHIoaDEsIFwiY2xhc3NcIiwgXCJ0aXRsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihoMSwgZmlsZSwgNSwgMCwgMTQxKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIFwiaHR0cHM6Ly9kYXQuZm91bmRhdGlvbi9cIik7XG5cdFx0XHRhdHRyKGEsIFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGEsIGZpbGUsIDgsIDIzLCAyNDkpO1xuXHRcdFx0YXR0cihsYWJlbDAsIFwiY2xhc3NcIiwgXCJmb3JtLWxhYmVsXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMCwgZmlsZSwgNywgMiwgMTk4KTtcblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnB1c2goaW5wdXQwKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcInR5cGVcIiwgXCJyYWRpb1wiKTtcblx0XHRcdGF0dHIoaW5wdXQwLCBcIm5hbWVcIiwgXCJjb2x1bW4tc2l6ZVwiKTtcblx0XHRcdGlucHV0MC5fX3ZhbHVlID0gXCJ5ZXNcIjtcblx0XHRcdGlucHV0MC52YWx1ZSA9IGlucHV0MC5fX3ZhbHVlO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGlucHV0MCwgZmlsZSwgMTEsIDQsIDM1NSk7XG5cdFx0XHRhdHRyKGkwLCBcImNsYXNzXCIsIFwiZm9ybS1pY29uXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGkwLCBmaWxlLCAxNywgNCwgNTMzKTtcblx0XHRcdGF0dHIobGFiZWwxLCBcImNsYXNzXCIsIFwiZm9ybS1yYWRpb1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDEsIGZpbGUsIDEwLCAyLCAzMjMpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0ucHVzaChpbnB1dDEpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwidHlwZVwiLCBcInJhZGlvXCIpO1xuXHRcdFx0YXR0cihpbnB1dDEsIFwibmFtZVwiLCBcImNvbHVtbi1zaXplXCIpO1xuXHRcdFx0aW5wdXQxLl9fdmFsdWUgPSBcIm5vXCI7XG5cdFx0XHRpbnB1dDEudmFsdWUgPSBpbnB1dDEuX192YWx1ZTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDEsIGZpbGUsIDIxLCA0LCA2MTMpO1xuXHRcdFx0YXR0cihpMSwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMSwgZmlsZSwgMjcsIDQsIDc5MCk7XG5cdFx0XHRhdHRyKGxhYmVsMiwgXCJjbGFzc1wiLCBcImZvcm0tcmFkaW9cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwyLCBmaWxlLCAyMCwgMiwgNTgxKTtcblx0XHRcdGF0dHIoZm9ybSwgXCJjbGFzc1wiLCBcImZvcm0tZ3JvdXBcIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oZm9ybSwgZmlsZSwgNiwgMCwgMTY5KTtcblxuXHRcdFx0ZGlzcG9zZSA9IFtcblx0XHRcdFx0bGlzdGVuKGlucHV0MCwgXCJjaGFuZ2VcIiwgY3R4LmlucHV0MF9jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDAsIFwiY2hhbmdlXCIsIGN0eC5jaGFuZ2VfaGFuZGxlciksXG5cdFx0XHRcdGxpc3RlbihpbnB1dDEsIFwiY2hhbmdlXCIsIGN0eC5pbnB1dDFfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxLCBcImNoYW5nZVwiLCBjdHguY2hhbmdlX2hhbmRsZXJfMSlcblx0XHRcdF07XG5cdFx0fSxcblxuXHRcdGw6IGZ1bmN0aW9uIGNsYWltKG5vZGVzKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJvcHRpb25zLmh5ZHJhdGUgb25seSB3b3JrcyBpZiB0aGUgY29tcG9uZW50IHdhcyBjb21waWxlZCB3aXRoIHRoZSBgaHlkcmF0YWJsZTogdHJ1ZWAgb3B0aW9uXCIpO1xuXHRcdH0sXG5cblx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgaDEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCB0MSwgYW5jaG9yKTtcblx0XHRcdGluc2VydCh0YXJnZXQsIGZvcm0sIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwwKTtcblx0XHRcdGFwcGVuZChsYWJlbDAsIHQyKTtcblx0XHRcdGFwcGVuZChsYWJlbDAsIGEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMCwgdDQpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQ1KTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMSwgaW5wdXQwKTtcblxuXHRcdFx0aW5wdXQwLmNoZWNrZWQgPSBpbnB1dDAuX192YWx1ZSA9PT0gY3R4LmVuYWJsZURBVDtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMSwgdDYpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMSwgaTApO1xuXHRcdFx0YXBwZW5kKGxhYmVsMSwgdDcpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIHQ4KTtcblx0XHRcdGFwcGVuZChmb3JtLCBsYWJlbDIpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgaW5wdXQxKTtcblxuXHRcdFx0aW5wdXQxLmNoZWNrZWQgPSBpbnB1dDEuX192YWx1ZSA9PT0gY3R4LmVuYWJsZURBVDtcblxuXHRcdFx0YXBwZW5kKGxhYmVsMiwgdDkpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgaTEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgdDEwKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuZW5hYmxlREFUKSBpbnB1dDAuY2hlY2tlZCA9IGlucHV0MC5fX3ZhbHVlID09PSBjdHguZW5hYmxlREFUO1xuXHRcdFx0aWYgKGNoYW5nZWQuZW5hYmxlREFUKSBpbnB1dDEuY2hlY2tlZCA9IGlucHV0MS5fX3ZhbHVlID09PSBjdHguZW5hYmxlREFUO1xuXHRcdH0sXG5cblx0XHRpOiBub29wLFxuXHRcdG86IG5vb3AsXG5cblx0XHRkOiBmdW5jdGlvbiBkZXN0cm95KGRldGFjaGluZykge1xuXHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRkZXRhY2goaDEpO1xuXHRcdFx0XHRkZXRhY2godDEpO1xuXHRcdFx0XHRkZXRhY2goZm9ybSk7XG5cdFx0XHR9XG5cblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnNwbGljZShjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5pbmRleE9mKGlucHV0MCksIDEpO1xuXHRcdFx0Y3R4LiQkYmluZGluZ19ncm91cHNbMF0uc3BsaWNlKGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLmluZGV4T2YoaW5wdXQxKSwgMSk7XG5cdFx0XHRydW5fYWxsKGRpc3Bvc2UpO1xuXHRcdH1cblx0fTtcbn1cblxuZnVuY3Rpb24gaW5zdGFuY2UoJCRzZWxmLCAkJHByb3BzLCAkJGludmFsaWRhdGUpIHtcblx0Y29uc3QgeyBnZXRQcmVmLCBzZXRQcmVmIH0gPSByZXF1aXJlKFwiLi4vLi4vcHJlZnMuanNcIik7XHJcbiAgbGV0IGVuYWJsZURBVCA9IGdldFByZWYoXCJwbGF0Zm9ybS1kYXQtZW5hYmxlZFwiLCBcInllc1wiKTtcblxuXHRjb25zdCAkJGJpbmRpbmdfZ3JvdXBzID0gW1tdXTtcblxuXHRmdW5jdGlvbiBpbnB1dDBfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0ZW5hYmxlREFUID0gdGhpcy5fX3ZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZW5hYmxlREFUJywgZW5hYmxlREFUKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyKCkge1xuXHRcdHJldHVybiBzZXRQcmVmKCdwbGF0Zm9ybS1kYXQtZW5hYmxlZCcsIGVuYWJsZURBVCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbnB1dDFfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0ZW5hYmxlREFUID0gdGhpcy5fX3ZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZW5hYmxlREFUJywgZW5hYmxlREFUKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyXzEoKSB7XG5cdFx0cmV0dXJuIHNldFByZWYoJ3BsYXRmb3JtLWRhdC1lbmFibGVkJywgZW5hYmxlREFUKTtcblx0fVxuXG5cdHJldHVybiB7XG5cdFx0c2V0UHJlZixcblx0XHRlbmFibGVEQVQsXG5cdFx0aW5wdXQwX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNoYW5nZV9oYW5kbGVyLFxuXHRcdGlucHV0MV9jaGFuZ2VfaGFuZGxlcixcblx0XHRjaGFuZ2VfaGFuZGxlcl8xLFxuXHRcdCQkYmluZGluZ19ncm91cHNcblx0fTtcbn1cblxuY2xhc3MgUGxhdGZvcm1EQVQgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGxhdGZvcm1EQVQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsZXlKMlpYSnphVzl1SWpvekxDSm1hV3hsSWpwdWRXeHNMQ0p6YjNWeVkyVnpJanBiSWtNNkwxVnpaWEp6TDJGdVpISmxMM0J5YjJjdmMzTmlZeTl3WVhSamFHWnZlQzl6Y21NdmRXa3ZkbWxsZDNNdmMyVjBkR2x1WjNNdlVHeGhkR1p2Y20xRVFWUXVjM1psYkhSbElsMHNJbk52ZFhKalpYTkRiMjUwWlc1MElqcGJiblZzYkYwc0ltNWhiV1Z6SWpwYlhTd2liV0Z3Y0dsdVozTWlPaUpCUVVGQk96czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096dEJRWE5NUVN4cFFrRkJhMElpZlE9PSIsIi8qIFBsYXRmb3JtSVBGUy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0aW5pdCxcblx0aW5zZXJ0LFxuXHRsaXN0ZW4sXG5cdG5vb3AsXG5cdHJ1bl9hbGwsXG5cdHNhZmVfbm90X2VxdWFsLFxuXHRzcGFjZSxcblx0dGV4dFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIlBsYXRmb3JtSVBGUy5zdmVsdGVcIjtcblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgaDEsIHQxLCBmb3JtLCBsYWJlbDAsIHQyLCBhLCB0NCwgdDUsIGxhYmVsMSwgaW5wdXQwLCB0NiwgaTAsIHQ3LCB0OCwgbGFiZWwyLCBpbnB1dDEsIHQ5LCBpMSwgdDEwLCBkaXNwb3NlO1xuXG5cdHJldHVybiB7XG5cdFx0YzogZnVuY3Rpb24gY3JlYXRlKCkge1xuXHRcdFx0aDEgPSBlbGVtZW50KFwiaDFcIik7XG5cdFx0XHRoMS50ZXh0Q29udGVudCA9IFwiSVBGU1wiO1xuXHRcdFx0dDEgPSBzcGFjZSgpO1xuXHRcdFx0Zm9ybSA9IGVsZW1lbnQoXCJmb3JtXCIpO1xuXHRcdFx0bGFiZWwwID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0dDIgPSB0ZXh0KFwiRW5hYmxlIGludGVncmF0aW9uIHdpdGggXCIpO1xuXHRcdFx0YSA9IGVsZW1lbnQoXCJhXCIpO1xuXHRcdFx0YS50ZXh0Q29udGVudCA9IFwiSVBGUyAtIFRoZSBJbnRlcnBsYW5ldGFyeSBGaWxlc3lzdGVtXCI7XG5cdFx0XHR0NCA9IHRleHQoXCI/XCIpO1xuXHRcdFx0dDUgPSBzcGFjZSgpO1xuXHRcdFx0bGFiZWwxID0gZWxlbWVudChcImxhYmVsXCIpO1xuXHRcdFx0aW5wdXQwID0gZWxlbWVudChcImlucHV0XCIpO1xuXHRcdFx0dDYgPSBzcGFjZSgpO1xuXHRcdFx0aTAgPSBlbGVtZW50KFwiaVwiKTtcblx0XHRcdHQ3ID0gdGV4dChcIlxcclxcbiAgICBZZXNcIik7XG5cdFx0XHR0OCA9IHNwYWNlKCk7XG5cdFx0XHRsYWJlbDIgPSBlbGVtZW50KFwibGFiZWxcIik7XG5cdFx0XHRpbnB1dDEgPSBlbGVtZW50KFwiaW5wdXRcIik7XG5cdFx0XHR0OSA9IHNwYWNlKCk7XG5cdFx0XHRpMSA9IGVsZW1lbnQoXCJpXCIpO1xuXHRcdFx0dDEwID0gdGV4dChcIlxcclxcbiAgICBOb1wiKTtcblx0XHRcdGF0dHIoaDEsIFwiY2xhc3NcIiwgXCJ0aXRsZVwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihoMSwgZmlsZSwgNSwgMCwgMTQzKTtcblx0XHRcdGF0dHIoYSwgXCJocmVmXCIsIFwiaHR0cHM6Ly9pcGZzLmlvXCIpO1xuXHRcdFx0YXR0cihhLCBcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihhLCBmaWxlLCA4LCAyOCwgMjU3KTtcblx0XHRcdGF0dHIobGFiZWwwLCBcImNsYXNzXCIsIFwiZm9ybS1sYWJlbFwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihsYWJlbDAsIGZpbGUsIDcsIDIsIDIwMSk7XG5cdFx0XHRjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5wdXNoKGlucHV0MCk7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJ0eXBlXCIsIFwicmFkaW9cIik7XG5cdFx0XHRhdHRyKGlucHV0MCwgXCJuYW1lXCIsIFwiY29sdW1uLXNpemVcIik7XG5cdFx0XHRpbnB1dDAuX192YWx1ZSA9IFwieWVzXCI7XG5cdFx0XHRpbnB1dDAudmFsdWUgPSBpbnB1dDAuX192YWx1ZTtcblx0XHRcdGFkZF9sb2NhdGlvbihpbnB1dDAsIGZpbGUsIDExLCA0LCAzODgpO1xuXHRcdFx0YXR0cihpMCwgXCJjbGFzc1wiLCBcImZvcm0taWNvblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihpMCwgZmlsZSwgMTcsIDQsIDU2OSk7XG5cdFx0XHRhdHRyKGxhYmVsMSwgXCJjbGFzc1wiLCBcImZvcm0tcmFkaW9cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24obGFiZWwxLCBmaWxlLCAxMCwgMiwgMzU2KTtcblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnB1c2goaW5wdXQxKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcInR5cGVcIiwgXCJyYWRpb1wiKTtcblx0XHRcdGF0dHIoaW5wdXQxLCBcIm5hbWVcIiwgXCJjb2x1bW4tc2l6ZVwiKTtcblx0XHRcdGlucHV0MS5fX3ZhbHVlID0gXCJub1wiO1xuXHRcdFx0aW5wdXQxLnZhbHVlID0gaW5wdXQxLl9fdmFsdWU7XG5cdFx0XHRhZGRfbG9jYXRpb24oaW5wdXQxLCBmaWxlLCAyMSwgNCwgNjQ5KTtcblx0XHRcdGF0dHIoaTEsIFwiY2xhc3NcIiwgXCJmb3JtLWljb25cIik7XG5cdFx0XHRhZGRfbG9jYXRpb24oaTEsIGZpbGUsIDI3LCA0LCA4MjkpO1xuXHRcdFx0YXR0cihsYWJlbDIsIFwiY2xhc3NcIiwgXCJmb3JtLXJhZGlvXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGxhYmVsMiwgZmlsZSwgMjAsIDIsIDYxNyk7XG5cdFx0XHRhdHRyKGZvcm0sIFwiY2xhc3NcIiwgXCJmb3JtLWdyb3VwXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGZvcm0sIGZpbGUsIDYsIDAsIDE3Mik7XG5cblx0XHRcdGRpc3Bvc2UgPSBbXG5cdFx0XHRcdGxpc3RlbihpbnB1dDAsIFwiY2hhbmdlXCIsIGN0eC5pbnB1dDBfY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQwLCBcImNoYW5nZVwiLCBjdHguY2hhbmdlX2hhbmRsZXIpLFxuXHRcdFx0XHRsaXN0ZW4oaW5wdXQxLCBcImNoYW5nZVwiLCBjdHguaW5wdXQxX2NoYW5nZV9oYW5kbGVyKSxcblx0XHRcdFx0bGlzdGVuKGlucHV0MSwgXCJjaGFuZ2VcIiwgY3R4LmNoYW5nZV9oYW5kbGVyXzEpXG5cdFx0XHRdO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGgxLCBhbmNob3IpO1xuXHRcdFx0aW5zZXJ0KHRhcmdldCwgdDEsIGFuY2hvcik7XG5cdFx0XHRpbnNlcnQodGFyZ2V0LCBmb3JtLCBhbmNob3IpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsMCk7XG5cdFx0XHRhcHBlbmQobGFiZWwwLCB0Mik7XG5cdFx0XHRhcHBlbmQobGFiZWwwLCBhKTtcblx0XHRcdGFwcGVuZChsYWJlbDAsIHQ0KTtcblx0XHRcdGFwcGVuZChmb3JtLCB0NSk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgbGFiZWwxKTtcblx0XHRcdGFwcGVuZChsYWJlbDEsIGlucHV0MCk7XG5cblx0XHRcdGlucHV0MC5jaGVja2VkID0gaW5wdXQwLl9fdmFsdWUgPT09IGN0eC5lbmFibGVJUEZTO1xuXG5cdFx0XHRhcHBlbmQobGFiZWwxLCB0Nik7XG5cdFx0XHRhcHBlbmQobGFiZWwxLCBpMCk7XG5cdFx0XHRhcHBlbmQobGFiZWwxLCB0Nyk7XG5cdFx0XHRhcHBlbmQoZm9ybSwgdDgpO1xuXHRcdFx0YXBwZW5kKGZvcm0sIGxhYmVsMik7XG5cdFx0XHRhcHBlbmQobGFiZWwyLCBpbnB1dDEpO1xuXG5cdFx0XHRpbnB1dDEuY2hlY2tlZCA9IGlucHV0MS5fX3ZhbHVlID09PSBjdHguZW5hYmxlSVBGUztcblxuXHRcdFx0YXBwZW5kKGxhYmVsMiwgdDkpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgaTEpO1xuXHRcdFx0YXBwZW5kKGxhYmVsMiwgdDEwKTtcblx0XHR9LFxuXG5cdFx0cDogZnVuY3Rpb24gdXBkYXRlKGNoYW5nZWQsIGN0eCkge1xuXHRcdFx0aWYgKGNoYW5nZWQuZW5hYmxlSVBGUykgaW5wdXQwLmNoZWNrZWQgPSBpbnB1dDAuX192YWx1ZSA9PT0gY3R4LmVuYWJsZUlQRlM7XG5cdFx0XHRpZiAoY2hhbmdlZC5lbmFibGVJUEZTKSBpbnB1dDEuY2hlY2tlZCA9IGlucHV0MS5fX3ZhbHVlID09PSBjdHguZW5hYmxlSVBGUztcblx0XHR9LFxuXG5cdFx0aTogbm9vcCxcblx0XHRvOiBub29wLFxuXG5cdFx0ZDogZnVuY3Rpb24gZGVzdHJveShkZXRhY2hpbmcpIHtcblx0XHRcdGlmIChkZXRhY2hpbmcpIHtcblx0XHRcdFx0ZGV0YWNoKGgxKTtcblx0XHRcdFx0ZGV0YWNoKHQxKTtcblx0XHRcdFx0ZGV0YWNoKGZvcm0pO1xuXHRcdFx0fVxuXG5cdFx0XHRjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5zcGxpY2UoY3R4LiQkYmluZGluZ19ncm91cHNbMF0uaW5kZXhPZihpbnB1dDApLCAxKTtcblx0XHRcdGN0eC4kJGJpbmRpbmdfZ3JvdXBzWzBdLnNwbGljZShjdHguJCRiaW5kaW5nX2dyb3Vwc1swXS5pbmRleE9mKGlucHV0MSksIDEpO1xuXHRcdFx0cnVuX2FsbChkaXNwb3NlKTtcblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGluc3RhbmNlKCQkc2VsZiwgJCRwcm9wcywgJCRpbnZhbGlkYXRlKSB7XG5cdGNvbnN0IHsgZ2V0UHJlZiwgc2V0UHJlZiB9ID0gcmVxdWlyZShcIi4uLy4uL3ByZWZzLmpzXCIpO1xyXG4gIGxldCBlbmFibGVJUEZTID0gZ2V0UHJlZihcInBsYXRmb3JtLWlwZnMtZW5hYmxlZFwiLCBcInllc1wiKTtcblxuXHRjb25zdCAkJGJpbmRpbmdfZ3JvdXBzID0gW1tdXTtcblxuXHRmdW5jdGlvbiBpbnB1dDBfY2hhbmdlX2hhbmRsZXIoKSB7XG5cdFx0ZW5hYmxlSVBGUyA9IHRoaXMuX192YWx1ZTtcblx0XHQkJGludmFsaWRhdGUoJ2VuYWJsZUlQRlMnLCBlbmFibGVJUEZTKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGNoYW5nZV9oYW5kbGVyKCkge1xuXHRcdHJldHVybiBzZXRQcmVmKCdwbGF0Zm9ybS1pcGZzLWVuYWJsZWQnLCBlbmFibGVJUEZTKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGlucHV0MV9jaGFuZ2VfaGFuZGxlcigpIHtcblx0XHRlbmFibGVJUEZTID0gdGhpcy5fX3ZhbHVlO1xuXHRcdCQkaW52YWxpZGF0ZSgnZW5hYmxlSVBGUycsIGVuYWJsZUlQRlMpO1xuXHR9XG5cblx0ZnVuY3Rpb24gY2hhbmdlX2hhbmRsZXJfMSgpIHtcblx0XHRyZXR1cm4gc2V0UHJlZigncGxhdGZvcm0taXBmcy1lbmFibGVkJywgZW5hYmxlSVBGUyk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdHNldFByZWYsXG5cdFx0ZW5hYmxlSVBGUyxcblx0XHRpbnB1dDBfY2hhbmdlX2hhbmRsZXIsXG5cdFx0Y2hhbmdlX2hhbmRsZXIsXG5cdFx0aW5wdXQxX2NoYW5nZV9oYW5kbGVyLFxuXHRcdGNoYW5nZV9oYW5kbGVyXzEsXG5cdFx0JCRiaW5kaW5nX2dyb3Vwc1xuXHR9O1xufVxuXG5jbGFzcyBQbGF0Zm9ybUlQRlMgZXh0ZW5kcyBTdmVsdGVDb21wb25lbnREZXYge1xuXHRjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG5cdFx0c3VwZXIob3B0aW9ucyk7XG5cdFx0aW5pdCh0aGlzLCBvcHRpb25zLCBpbnN0YW5jZSwgY3JlYXRlX2ZyYWdtZW50LCBzYWZlX25vdF9lcXVhbCwgW10pO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUGxhdGZvcm1JUEZTO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqcHVkV3hzTENKemIzVnlZMlZ6SWpwYklrTTZMMVZ6WlhKekwyRnVaSEpsTDNCeWIyY3ZjM05pWXk5d1lYUmphR1p2ZUM5emNtTXZkV2t2ZG1sbGQzTXZjMlYwZEdsdVozTXZVR3hoZEdadmNtMUpVRVpUTG5OMlpXeDBaU0pkTENKemIzVnlZMlZ6UTI5dWRHVnVkQ0k2VzI1MWJHeGRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaVFVRkJRVHM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3UVVGelRFRXNhVUpCUVd0Q0luMD0iLCIvKiBTZXR0aW5ncy5zdmVsdGUgZ2VuZXJhdGVkIGJ5IFN2ZWx0ZSB2My43LjEgKi9cblwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB7XG5cdFN2ZWx0ZUNvbXBvbmVudERldixcblx0YWRkX2xvY2F0aW9uLFxuXHRhcHBlbmQsXG5cdGF0dHIsXG5cdGNoZWNrX291dHJvcyxcblx0ZGVzdHJveV9jb21wb25lbnQsXG5cdGRldGFjaCxcblx0ZWxlbWVudCxcblx0Z3JvdXBfb3V0cm9zLFxuXHRpbml0LFxuXHRpbnNlcnQsXG5cdG1vdW50X2NvbXBvbmVudCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdHNwYWNlLFxuXHR0cmFuc2l0aW9uX2luLFxuXHR0cmFuc2l0aW9uX291dFxufSA9IHJlcXVpcmUoXCJzdmVsdGUvaW50ZXJuYWxcIik7XG5cbmNvbnN0IGZpbGUgPSBcIlNldHRpbmdzLnN2ZWx0ZVwiO1xuXG5mdW5jdGlvbiBhZGRfY3NzKCkge1xuXHR2YXIgc3R5bGUgPSBlbGVtZW50KFwic3R5bGVcIik7XG5cdHN0eWxlLmlkID0gJ3N2ZWx0ZS0xZTBqa2RpLXN0eWxlJztcblx0c3R5bGUudGV4dENvbnRlbnQgPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pVTJWMGRHbHVaM011YzNabGJIUmxJaXdpYzI5MWNtTmxjeUk2V3lKVFpYUjBhVzVuY3k1emRtVnNkR1VpWFN3aWMyOTFjbU5sYzBOdmJuUmxiblFpT2xzaVBITmpjbWx3ZEQ1Y2NseHVJQ0JqYjI1emRDQk5aVzUxSUQwZ2NtVnhkV2x5WlNoY0lpNHZUV1Z1ZFM1emRtVnNkR1ZjSWlrN1hISmNiaUFnWTI5dWMzUWdTV1JsYm5ScGRIbEJibVJEYjI1dVpXTjBhVzl1SUQwZ2NtVnhkV2x5WlNoY0lpNHZTV1JsYm5ScGRIbEJibVJEYjI1dVpXTjBhVzl1TG5OMlpXeDBaVndpS1R0Y2NseHVJQ0JqYjI1emRDQkVhWE53YkdGNVVISmxabVZ5Wlc1alpYTWdQU0J5WlhGMWFYSmxLRndpTGk5RWFYTndiR0Y1VUhKbFptVnlaVzVqWlhNdWMzWmxiSFJsWENJcE8xeHlYRzRnSUdOdmJuTjBJRVpwYkhSbGNuTWdQU0J5WlhGMWFYSmxLRndpTGk5R2FXeDBaWEp6TG5OMlpXeDBaVndpS1R0Y2NseHVJQ0JqYjI1emRDQkRiMjUwWlc1MFYyRnlibWx1WjNNZ1BTQnlaWEYxYVhKbEtGd2lMaTlEYjI1MFpXNTBWMkZ5Ym1sdVozTXVjM1psYkhSbFhDSXBPMXh5WEc0Z0lHTnZibk4wSUZCc1lYUm1iM0p0UkVGVUlEMGdjbVZ4ZFdseVpTaGNJaTR2VUd4aGRHWnZjbTFFUVZRdWMzWmxiSFJsWENJcE8xeHlYRzRnSUdOdmJuTjBJRkJzWVhSbWIzSnRTVkJHVXlBOUlISmxjWFZwY21Vb1hDSXVMMUJzWVhSbWIzSnRTVkJHVXk1emRtVnNkR1ZjSWlrN1hISmNibHh5WEc0Z0lHTnZibk4wSUhacFpYZHpJRDBnZTF4eVhHNGdJQ0FnYVdSbGJuUnBkSGxCYm1SRGIyNXVaV04wYVc5dU9pQkpaR1Z1ZEdsMGVVRnVaRU52Ym01bFkzUnBiMjRzWEhKY2JpQWdJQ0JrYVhOd2JHRjVVSEpsWm1WeVpXNWpaWE02SUVScGMzQnNZWGxRY21WbVpYSmxibU5sY3l4Y2NseHVJQ0FnSUdacGJIUmxjbk02SUVacGJIUmxjbk1zWEhKY2JpQWdJQ0JqYjI1MFpXNTBWMkZ5Ym1sdVozTTZJRU52Ym5SbGJuUlhZWEp1YVc1bmN5eGNjbHh1SUNBZ0lIQnNZWFJtYjNKdFJFRlVPaUJRYkdGMFptOXliVVJCVkN4Y2NseHVJQ0FnSUhCc1lYUm1iM0p0U1ZCR1V6b2dVR3hoZEdadmNtMUpVRVpUWEhKY2JpQWdmVHRjY2x4dVhISmNiaUFnYkdWMElHTjFjbkpsYm5SV2FXVjNJRDBnWENKcFpHVnVkR2wwZVVGdVpFTnZibTVsWTNScGIyNWNJanRjY2x4dVhISmNiaUFnWTI5dWMzUWdhR0Z1Wkd4bFRXVnVkVU5vWVc1blpTQTlJR1YySUQwK0lIdGNjbHh1SUNBZ0lHTjFjbkpsYm5SV2FXVjNJRDBnWlhZdVpHVjBZV2xzTG1OMWNuSmxiblJXYVdWM08xeHlYRzRnSUgwN1hISmNiand2YzJOeWFYQjBQbHh5WEc1Y2NseHVQSE4wZVd4bFBseHlYRzRnSUM1bWFXeDBaWElnZTF4eVhHNGdJQ0FnYUdWcFoyaDBPaUF6TURCd2VEdGNjbHh1SUNBZ0lHMWhjbWRwYmkxaWIzUjBiMjA2SURBdU5ISmxiVHRjY2x4dUlDQWdJRzkyWlhKbWJHOTNPaUJvYVdSa1pXNDdYSEpjYmlBZ2ZWeHlYRzVjY2x4dUlDQXVabVZsWkNCN1hISmNiaUFnSUNCdFlYZ3RkMmxrZEdnNklERXdNQ1U3WEhKY2JpQWdJQ0J2ZG1WeVpteHZkem9nYUdsa1pHVnVPMXh5WEc0Z0lIMWNjbHh1UEM5emRIbHNaVDVjY2x4dVhISmNianhrYVhZZ1kyeGhjM005WENKamIyeDFiVzV6WENJK1hISmNiaUFnUEdScGRpQmpiR0Z6Y3oxY0ltTnZiSFZ0YmlCamIyd3RZWFYwYjF3aVBseHlYRzRnSUNBZ1BFMWxiblVnZTJOMWNuSmxiblJXYVdWM2ZTQnZianB0WlhOellXZGxQWHRvWVc1a2JHVk5aVzUxUTJoaGJtZGxmU0F2UGx4eVhHNGdJRHd2WkdsMlBseHlYRzRnSUR4a2FYWWdZMnhoYzNNOVhDSmpiMngxYlc1Y0lqNWNjbHh1SUNBZ0lEeHpkbVZzZEdVNlkyOXRjRzl1Wlc1MElIUm9hWE05ZTNacFpYZHpXMk4xY25KbGJuUldhV1YzWFgwZ0x6NWNjbHh1SUNBOEwyUnBkajVjY2x4dVBDOWthWFkrWEhKY2JpSmRMQ0p1WVcxbGN5STZXMTBzSW0xaGNIQnBibWR6SWpvaUluMD0gKi9cIjtcblx0YXBwZW5kKGRvY3VtZW50LmhlYWQsIHN0eWxlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlX2ZyYWdtZW50KGN0eCkge1xuXHR2YXIgZGl2MiwgZGl2MCwgdCwgZGl2MSwgY3VycmVudDtcblxuXHR2YXIgbWVudSA9IG5ldyBjdHguTWVudSh7XG5cdFx0cHJvcHM6IHsgY3VycmVudFZpZXc6IGN0eC5jdXJyZW50VmlldyB9LFxuXHRcdCQkaW5saW5lOiB0cnVlXG5cdH0pO1xuXHRtZW51LiRvbihcIm1lc3NhZ2VcIiwgY3R4LmhhbmRsZU1lbnVDaGFuZ2UpO1xuXG5cdHZhciBzd2l0Y2hfdmFsdWUgPSBjdHgudmlld3NbY3R4LmN1cnJlbnRWaWV3XTtcblxuXHRmdW5jdGlvbiBzd2l0Y2hfcHJvcHMoY3R4KSB7XG5cdFx0cmV0dXJuIHsgJCRpbmxpbmU6IHRydWUgfTtcblx0fVxuXG5cdGlmIChzd2l0Y2hfdmFsdWUpIHtcblx0XHR2YXIgc3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cdH1cblxuXHRyZXR1cm4ge1xuXHRcdGM6IGZ1bmN0aW9uIGNyZWF0ZSgpIHtcblx0XHRcdGRpdjIgPSBlbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0ZGl2MCA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRtZW51LiQkLmZyYWdtZW50LmMoKTtcblx0XHRcdHQgPSBzcGFjZSgpO1xuXHRcdFx0ZGl2MSA9IGVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRpZiAoc3dpdGNoX2luc3RhbmNlKSBzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0YXR0cihkaXYwLCBcImNsYXNzXCIsIFwiY29sdW1uIGNvbC1hdXRvXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjAsIGZpbGUsIDM5LCAyLCAxMDE3KTtcblx0XHRcdGF0dHIoZGl2MSwgXCJjbGFzc1wiLCBcImNvbHVtblwiKTtcblx0XHRcdGFkZF9sb2NhdGlvbihkaXYxLCBmaWxlLCA0MiwgMiwgMTExOCk7XG5cdFx0XHRhdHRyKGRpdjIsIFwiY2xhc3NcIiwgXCJjb2x1bW5zXCIpO1xuXHRcdFx0YWRkX2xvY2F0aW9uKGRpdjIsIGZpbGUsIDM4LCAwLCA5OTIpO1xuXHRcdH0sXG5cblx0XHRsOiBmdW5jdGlvbiBjbGFpbShub2Rlcykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwib3B0aW9ucy5oeWRyYXRlIG9ubHkgd29ya3MgaWYgdGhlIGNvbXBvbmVudCB3YXMgY29tcGlsZWQgd2l0aCB0aGUgYGh5ZHJhdGFibGU6IHRydWVgIG9wdGlvblwiKTtcblx0XHR9LFxuXG5cdFx0bTogZnVuY3Rpb24gbW91bnQodGFyZ2V0LCBhbmNob3IpIHtcblx0XHRcdGluc2VydCh0YXJnZXQsIGRpdjIsIGFuY2hvcik7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MCk7XG5cdFx0XHRtb3VudF9jb21wb25lbnQobWVudSwgZGl2MCwgbnVsbCk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgdCk7XG5cdFx0XHRhcHBlbmQoZGl2MiwgZGl2MSk7XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHtcblx0XHRcdFx0bW91bnRfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSwgZGl2MSwgbnVsbCk7XG5cdFx0XHR9XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRwOiBmdW5jdGlvbiB1cGRhdGUoY2hhbmdlZCwgY3R4KSB7XG5cdFx0XHR2YXIgbWVudV9jaGFuZ2VzID0ge307XG5cdFx0XHRpZiAoY2hhbmdlZC5jdXJyZW50VmlldykgbWVudV9jaGFuZ2VzLmN1cnJlbnRWaWV3ID0gY3R4LmN1cnJlbnRWaWV3O1xuXHRcdFx0bWVudS4kc2V0KG1lbnVfY2hhbmdlcyk7XG5cblx0XHRcdGlmIChzd2l0Y2hfdmFsdWUgIT09IChzd2l0Y2hfdmFsdWUgPSBjdHgudmlld3NbY3R4LmN1cnJlbnRWaWV3XSkpIHtcblx0XHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkge1xuXHRcdFx0XHRcdGdyb3VwX291dHJvcygpO1xuXHRcdFx0XHRcdGNvbnN0IG9sZF9jb21wb25lbnQgPSBzd2l0Y2hfaW5zdGFuY2U7XG5cdFx0XHRcdFx0dHJhbnNpdGlvbl9vdXQob2xkX2NvbXBvbmVudC4kJC5mcmFnbWVudCwgMSwgMCwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0ZGVzdHJveV9jb21wb25lbnQob2xkX2NvbXBvbmVudCwgMSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0Y2hlY2tfb3V0cm9zKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoc3dpdGNoX3ZhbHVlKSB7XG5cdFx0XHRcdFx0c3dpdGNoX2luc3RhbmNlID0gbmV3IHN3aXRjaF92YWx1ZShzd2l0Y2hfcHJvcHMoY3R4KSk7XG5cblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UuJCQuZnJhZ21lbnQuYygpO1xuXHRcdFx0XHRcdHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCAxKTtcblx0XHRcdFx0XHRtb3VudF9jb21wb25lbnQoc3dpdGNoX2luc3RhbmNlLCBkaXYxLCBudWxsKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRzd2l0Y2hfaW5zdGFuY2UgPSBudWxsO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGk6IGZ1bmN0aW9uIGludHJvKGxvY2FsKSB7XG5cdFx0XHRpZiAoY3VycmVudCkgcmV0dXJuO1xuXHRcdFx0dHJhbnNpdGlvbl9pbihtZW51LiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIHRyYW5zaXRpb25faW4oc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cblx0XHRcdGN1cnJlbnQgPSB0cnVlO1xuXHRcdH0sXG5cblx0XHRvOiBmdW5jdGlvbiBvdXRybyhsb2NhbCkge1xuXHRcdFx0dHJhbnNpdGlvbl9vdXQobWVudS4kJC5mcmFnbWVudCwgbG9jYWwpO1xuXHRcdFx0aWYgKHN3aXRjaF9pbnN0YW5jZSkgdHJhbnNpdGlvbl9vdXQoc3dpdGNoX2luc3RhbmNlLiQkLmZyYWdtZW50LCBsb2NhbCk7XG5cdFx0XHRjdXJyZW50ID0gZmFsc2U7XG5cdFx0fSxcblxuXHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRpZiAoZGV0YWNoaW5nKSB7XG5cdFx0XHRcdGRldGFjaChkaXYyKTtcblx0XHRcdH1cblxuXHRcdFx0ZGVzdHJveV9jb21wb25lbnQobWVudSk7XG5cblx0XHRcdGlmIChzd2l0Y2hfaW5zdGFuY2UpIGRlc3Ryb3lfY29tcG9uZW50KHN3aXRjaF9pbnN0YW5jZSk7XG5cdFx0fVxuXHR9O1xufVxuXG5mdW5jdGlvbiBpbnN0YW5jZSgkJHNlbGYsICQkcHJvcHMsICQkaW52YWxpZGF0ZSkge1xuXHRjb25zdCBNZW51ID0gcmVxdWlyZShcIi4vTWVudS5zdmVsdGVcIik7XHJcbiAgY29uc3QgSWRlbnRpdHlBbmRDb25uZWN0aW9uID0gcmVxdWlyZShcIi4vSWRlbnRpdHlBbmRDb25uZWN0aW9uLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBEaXNwbGF5UHJlZmVyZW5jZXMgPSByZXF1aXJlKFwiLi9EaXNwbGF5UHJlZmVyZW5jZXMuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IEZpbHRlcnMgPSByZXF1aXJlKFwiLi9GaWx0ZXJzLnN2ZWx0ZVwiKTtcclxuICBjb25zdCBDb250ZW50V2FybmluZ3MgPSByZXF1aXJlKFwiLi9Db250ZW50V2FybmluZ3Muc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IFBsYXRmb3JtREFUID0gcmVxdWlyZShcIi4vUGxhdGZvcm1EQVQuc3ZlbHRlXCIpO1xyXG4gIGNvbnN0IFBsYXRmb3JtSVBGUyA9IHJlcXVpcmUoXCIuL1BsYXRmb3JtSVBGUy5zdmVsdGVcIik7XHJcblxyXG4gIGNvbnN0IHZpZXdzID0ge1xyXG4gICAgaWRlbnRpdHlBbmRDb25uZWN0aW9uOiBJZGVudGl0eUFuZENvbm5lY3Rpb24sXHJcbiAgICBkaXNwbGF5UHJlZmVyZW5jZXM6IERpc3BsYXlQcmVmZXJlbmNlcyxcclxuICAgIGZpbHRlcnM6IEZpbHRlcnMsXHJcbiAgICBjb250ZW50V2FybmluZ3M6IENvbnRlbnRXYXJuaW5ncyxcclxuICAgIHBsYXRmb3JtREFUOiBQbGF0Zm9ybURBVCxcclxuICAgIHBsYXRmb3JtSVBGUzogUGxhdGZvcm1JUEZTXHJcbiAgfTtcclxuXHJcbiAgbGV0IGN1cnJlbnRWaWV3ID0gXCJpZGVudGl0eUFuZENvbm5lY3Rpb25cIjtcclxuXHJcbiAgY29uc3QgaGFuZGxlTWVudUNoYW5nZSA9IGV2ID0+IHtcclxuICAgICQkaW52YWxpZGF0ZSgnY3VycmVudFZpZXcnLCBjdXJyZW50VmlldyA9IGV2LmRldGFpbC5jdXJyZW50Vmlldyk7XHJcbiAgfTtcblxuXHRyZXR1cm4ge1xuXHRcdE1lbnUsXG5cdFx0dmlld3MsXG5cdFx0Y3VycmVudFZpZXcsXG5cdFx0aGFuZGxlTWVudUNoYW5nZVxuXHR9O1xufVxuXG5jbGFzcyBTZXR0aW5ncyBleHRlbmRzIFN2ZWx0ZUNvbXBvbmVudERldiB7XG5cdGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcblx0XHRzdXBlcihvcHRpb25zKTtcblx0XHRpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic3ZlbHRlLTFlMGprZGktc3R5bGVcIikpIGFkZF9jc3MoKTtcblx0XHRpbml0KHRoaXMsIG9wdGlvbnMsIGluc3RhbmNlLCBjcmVhdGVfZnJhZ21lbnQsIHNhZmVfbm90X2VxdWFsLCBbXSk7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBTZXR0aW5ncztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJanB1ZFd4c0xDSnpiM1Z5WTJWeklqcGJJa002TDFWelpYSnpMMkZ1WkhKbEwzQnliMmN2YzNOaVl5OXdZWFJqYUdadmVDOXpjbU12ZFdrdmRtbGxkM012YzJWMGRHbHVaM012VTJWMGRHbHVaM011YzNabGJIUmxJbDBzSW5OdmRYSmpaWE5EYjI1MFpXNTBJanBiYm5Wc2JGMHNJbTVoYldWeklqcGJYU3dpYldGd2NHbHVaM01pT2lKQlFVRkJPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPenM3T3pzN08wRkJhMHhCTEdsQ1FVRnJRaUo5Il19
